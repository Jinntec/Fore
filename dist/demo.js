/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const e=!(window.ShadyDOM&&window.ShadyDOM.inUse);let t,n;function r(n){t=(!n||!n.shimcssproperties)&&(e||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(n=window.ShadyCSS.cssBuild);const i=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?t=window.ShadyCSS.nativeCss:window.ShadyCSS?(r(window.ShadyCSS),window.ShadyCSS=void 0):r(window.WebComponents&&window.WebComponents.flags);const a=t;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class o{constructor(){this.start=0,this.end=0,this.previous=null,this.parent=null,this.rules=null,this.parsedCssText="",this.cssText="",this.atRule=!1,this.type=0,this.keyframesName="",this.selector="",this.parsedSelector=""}}function s(e){return l(function(e){let t=new o;t.start=0,t.end=e.length;let n=t;for(let r=0,i=e.length;r<i;r++)if(e[r]===p){n.rules||(n.rules=[]);let e=n,t=e.rules[e.rules.length-1]||null;n=new o,n.start=r+1,n.parent=e,n.previous=t,e.rules.push(n)}else e[r]===h&&(n.end=r+1,n=n.parent||t);return t}(e=e.replace(d.comments,"").replace(d.port,"")),e)}function l(e,t){let n=t.substring(e.start,e.end-1);if(e.parsedCssText=e.cssText=n.trim(),e.parent){let r=e.previous?e.previous.end:e.parent.start;n=t.substring(r,e.start-1),n=function(e){return e.replace(/\\([0-9a-f]{1,6})\s/gi,(function(){let e=arguments[1],t=6-e.length;for(;t--;)e="0"+e;return"\\"+e}))}(n),n=n.replace(d.multipleSpaces," "),n=n.substring(n.lastIndexOf(";")+1);let i=e.parsedSelector=e.selector=n.trim();e.atRule=0===i.indexOf(g),e.atRule?0===i.indexOf(m)?e.type=c.MEDIA_RULE:i.match(d.keyframesRule)&&(e.type=c.KEYFRAMES_RULE,e.keyframesName=e.selector.split(d.multipleSpaces).pop()):0===i.indexOf(f)?e.type=c.MIXIN_RULE:e.type=c.STYLE_RULE}let r=e.rules;if(r)for(let e,n=0,i=r.length;n<i&&(e=r[n]);n++)l(e,t);return e}function u(e,t,n=""){let r="";if(e.cssText||e.rules){let n=e.rules;if(n&&!function(e){let t=e[0];return Boolean(t)&&Boolean(t.selector)&&0===t.selector.indexOf(f)}(n))for(let e,i=0,a=n.length;i<a&&(e=n[i]);i++)r=u(e,t,r);else r=t?e.cssText:function(e){return function(e){return e.replace(d.mixinApply,"").replace(d.varApply,"")}(e=function(e){return e.replace(d.customProp,"").replace(d.mixinProp,"")}(e))}(e.cssText),r=r.trim(),r&&(r="  "+r+"\n")}return r&&(e.selector&&(n+=e.selector+" "+p+"\n"),n+=r,e.selector&&(n+=h+"\n\n")),n}const c={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},p="{",h="}",d={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},f="--",m="@media",g="@",y=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,v=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,w=/@media\s(.*)/,b=new Set;function x(e){const t=e.textContent;if(!b.has(t)){b.add(t);const e=document.createElement("style");e.setAttribute("shady-unscoped",""),e.textContent=t,document.head.appendChild(e)}}function _(e){return e.hasAttribute("shady-unscoped")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function A(e,t){return e?("string"==typeof e&&(e=s(e)),t&&C(e,t),u(e,a)):""}function E(e){return!e.__cssRules&&e.textContent&&(e.__cssRules=s(e.textContent)),e.__cssRules||null}function C(e,t,n,r){if(!e)return;let i=!1,a=e.type;if(r&&a===c.MEDIA_RULE){let t=e.selector.match(w);t&&(window.matchMedia(t[1]).matches||(i=!0))}a===c.STYLE_RULE?t(e):n&&a===c.KEYFRAMES_RULE?n(e):a===c.MIXIN_RULE&&(i=!0);let o=e.rules;if(o&&!i)for(let e,i=0,a=o.length;i<a&&(e=o[i]);i++)C(e,t,n,r)}function N(e,t){let n=e.indexOf("var(");if(-1===n)return t(e,"","","");let r=function(e,t){let n=0;for(let r=t,i=e.length;r<i;r++)if("("===e[r])n++;else if(")"===e[r]&&0==--n)return r;return-1}(e,n+3),i=e.substring(n+4,r),a=e.substring(0,n),o=N(e.substring(r+1),t),s=i.indexOf(",");return-1===s?t(a,i.trim(),"",o):t(a,i.substring(0,s).trim(),i.substring(s+1).trim(),o)}window.ShadyDOM&&window.ShadyDOM.wrap;function T(e){if(void 0!==n)return n;if(void 0===e.__cssBuild){const t=e.getAttribute("css-build");if(t)e.__cssBuild=t;else{const t=function(e){const t="template"===e.localName?e.content.firstChild:e.firstChild;if(t instanceof Comment){const e=t.textContent.trim().split(":");if("css-build"===e[0])return e[1]}return""}(e);""!==t&&function(e){const t="template"===e.localName?e.content.firstChild:e.firstChild;t.parentNode.removeChild(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/(e),e.__cssBuild=t}}return e.__cssBuild||""}function S(e){return""!==T(e)}function B(e,t){for(let n in t)null===n?e.style.removeProperty(n):e.style.setProperty(n,t[n])}function k(e,t){const n=window.getComputedStyle(e).getPropertyValue(t);return n?n.trim():""}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const I=/;\s*/m,P=/^\s*(initial)|(inherit)\s*$/,O=/\s*!important/;class R{constructor(){this._map={}}set(e,t){e=e.trim(),this._map[e]={properties:t,dependants:{}}}get(e){return e=e.trim(),this._map[e]||null}}let D=null;class M{constructor(){this._currentElement=null,this._measureElement=null,this._map=new R}detectMixin(e){return function(e){const t=v.test(e)||y.test(e);return v.lastIndex=0,y.lastIndex=0,t}(e)}gatherStyles(t){const n=function(t){const n=[],r=t.querySelectorAll("style");for(let t=0;t<r.length;t++){const i=r[t];_(i)?e||(x(i),i.parentNode.removeChild(i)):(n.push(i.textContent),i.parentNode.removeChild(i))}return n.join("").trim()}(t.content);if(n){const e=document.createElement("style");return e.textContent=n,t.content.insertBefore(e,t.content.firstChild),e}return null}transformTemplate(e,t){void 0===e._gatheredStyle&&(e._gatheredStyle=this.gatherStyles(e));const n=e._gatheredStyle;return n?this.transformStyle(n,t):null}transformStyle(e,t=""){let n=E(e);return this.transformRules(n,t),e.textContent=A(n),n}transformCustomStyle(e){let t=E(e);return C(t,(e=>{":root"===e.selector&&(e.selector="html"),this.transformRule(e)})),e.textContent=A(t),t}transformRules(e,t){this._currentElement=t,C(e,(e=>{this.transformRule(e)})),this._currentElement=null}transformRule(e){e.cssText=this.transformCssText(e.parsedCssText,e),":root"===e.selector&&(e.selector=":host > *")}transformCssText(e,t){return e=e.replace(y,((e,n,r,i)=>this._produceCssProperties(e,n,r,i,t))),this._consumeCssProperties(e,t)}_getInitialValueForProperty(e){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.setAttribute("apply-shim-measure",""),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(e)}_fallbacksFromPreviousRules(e){let t=e;for(;t.parent;)t=t.parent;const n={};let r=!1;return C(t,(t=>{r=r||t===e,r||t.selector===e.selector&&Object.assign(n,this._cssTextToMap(t.parsedCssText))})),n}_consumeCssProperties(e,t){let n=null;for(;n=v.exec(e);){let r=n[0],i=n[1],a=n.index,o=a+r.indexOf("@apply"),s=a+r.length,l=e.slice(0,o),u=e.slice(s),c=t?this._fallbacksFromPreviousRules(t):{};Object.assign(c,this._cssTextToMap(l));let p=this._atApplyToCssProperties(i,c);e=`${l}${p}${u}`,v.lastIndex=a+p.length}return e}_atApplyToCssProperties(e,t){e=e.replace(I,"");let n=[],r=this._map.get(e);if(r||(this._map.set(e,{}),r=this._map.get(e)),r){let i,a,o;this._currentElement&&(r.dependants[this._currentElement]=!0);const s=r.properties;for(i in s)o=t&&t[i],a=[i,": var(",e,"_-_",i],o&&a.push(",",o.replace(O,"")),a.push(")"),O.test(s[i])&&a.push(" !important"),n.push(a.join(""))}return n.join("; ")}_replaceInitialOrInherit(e,t){let n=P.exec(t);return n&&(t=n[1]?this._getInitialValueForProperty(e):"apply-shim-inherit"),t}_cssTextToMap(e,t=!1){let n,r,i=e.split(";"),a={};for(let e,o,s=0;s<i.length;s++)e=i[s],e&&(o=e.split(":"),o.length>1&&(n=o[0].trim(),r=o.slice(1).join(":"),t&&(r=this._replaceInitialOrInherit(n,r)),a[n]=r));return a}_invalidateMixinEntry(e){if(D)for(let t in e.dependants)t!==this._currentElement&&D(t)}_produceCssProperties(e,t,n,r,i){if(n&&N(n,((e,t)=>{t&&this._map.get(t)&&(r=`@apply ${t};`)})),!r)return e;let a=this._consumeCssProperties(""+r,i),o=e.slice(0,e.indexOf("--")),s=this._cssTextToMap(a,!0),l=s,u=this._map.get(t),c=u&&u.properties;c?l=Object.assign(Object.create(c),s):this._map.set(t,l);let p,h,d=[],f=!1;for(p in l)h=s[p],void 0===h&&(h="initial"),c&&!(p in c)&&(f=!0),d.push(`${t}_-_${p}: ${h}`);return f&&this._invalidateMixinEntry(u),u&&(u.properties=l),n&&(o=`${e};${o}`),`${o}${d.join("; ")};`}}M.prototype.detectMixin=M.prototype.detectMixin,M.prototype.transformStyle=M.prototype.transformStyle,M.prototype.transformCustomStyle=M.prototype.transformCustomStyle,M.prototype.transformRules=M.prototype.transformRules,M.prototype.transformRule=M.prototype.transformRule,M.prototype.transformTemplate=M.prototype.transformTemplate,M.prototype._separator="_-_",Object.defineProperty(M.prototype,"invalidCallback",{get:()=>D,set(e){D=e}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const F={},U="_applyShimCurrentVersion",H="_applyShimNextVersion",L="_applyShimValidatingVersion",G=Promise.resolve();
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function j(e){let t=F[e];t&&function(e){e[U]=e[U]||0,e[L]=e[L]||0,e[H]=(e[H]||0)+1}(t)}function $(e){return e[U]===e[H]}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let X,z=null,q=window.HTMLImports&&window.HTMLImports.whenReady||null;function V(e){requestAnimationFrame((function(){q?q(e):(z||(z=new Promise((e=>{X=e})),"complete"===document.readyState?X():document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&X()}))),z.then((function(){e&&e()})))}))}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Y="__shadyCSSCachedStyle";let K=null,J=null;class Q{constructor(){this.customStyles=[],this.enqueued=!1,V((()=>{window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()}))}enqueueDocumentValidation(){!this.enqueued&&J&&(this.enqueued=!0,V(J))}addCustomStyle(e){e.__seenByShadyCSS||(e.__seenByShadyCSS=!0,this.customStyles.push(e),this.enqueueDocumentValidation())}getStyleForCustomStyle(e){if(e[Y])return e[Y];let t;return t=e.getStyle?e.getStyle():e,t}processStyles(){const e=this.customStyles;for(let t=0;t<e.length;t++){const n=e[t];if(n[Y])continue;const r=this.getStyleForCustomStyle(n);if(r){const e=r.__appliedElement||r;K&&K(e),n[Y]=e}}return e}}Q.prototype.addCustomStyle=Q.prototype.addCustomStyle,Q.prototype.getStyleForCustomStyle=Q.prototype.getStyleForCustomStyle,Q.prototype.processStyles=Q.prototype.processStyles,Object.defineProperties(Q.prototype,{transformCallback:{get:()=>K,set(e){K=e}},validateCallback:{get:()=>J,set(e){let t=!1;J||(t=!0),J=e,t&&this.enqueueDocumentValidation()}}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const W=new M;class Z{constructor(){this.customStyleInterface=null,W.invalidCallback=j}ensure(){this.customStyleInterface||window.ShadyCSS.CustomStyleInterface&&(this.customStyleInterface=window.ShadyCSS.CustomStyleInterface,this.customStyleInterface.transformCallback=e=>{W.transformCustomStyle(e)},this.customStyleInterface.validateCallback=()=>{requestAnimationFrame((()=>{this.customStyleInterface.enqueued&&this.flushCustomStyles()}))})}prepareTemplate(e,t){if(this.ensure(),S(e))return;F[t]=e;let n=W.transformTemplate(e,t);e._styleAst=n}flushCustomStyles(){if(this.ensure(),!this.customStyleInterface)return;let e=this.customStyleInterface.processStyles();if(this.customStyleInterface.enqueued){for(let t=0;t<e.length;t++){let n=e[t],r=this.customStyleInterface.getStyleForCustomStyle(n);r&&W.transformCustomStyle(r)}this.customStyleInterface.enqueued=!1}}styleSubtree(e,t){if(this.ensure(),t&&B(e,t),e.shadowRoot){this.styleElement(e);let t=e.shadowRoot.children||e.shadowRoot.childNodes;for(let e=0;e<t.length;e++)this.styleSubtree(t[e])}else{let t=e.children||e.childNodes;for(let e=0;e<t.length;e++)this.styleSubtree(t[e])}}styleElement(e){this.ensure();let{is:t}=function(e){let t=e.localName,n="",r="";return t?t.indexOf("-")>-1?n=t:(r=t,n=e.getAttribute&&e.getAttribute("is")||""):(n=e.is,r=e.extends),{is:n,typeExtension:r}}(e),n=F[t];if((!n||!S(n))&&n&&!$(n)){(function(e){return!$(e)&&e[L]===e[H]})(n)||(this.prepareTemplate(n,t),function(e){e[L]=e[H],e._validating||(e._validating=!0,G.then((function(){e[U]=e[H],e._validating=!1})))}(n));let r=e.shadowRoot;if(r){let e=r.querySelector("style");e&&(e.__cssRules=n._styleAst,e.textContent=A(n._styleAst))}}}styleDocument(e){this.ensure(),this.styleSubtree(document.body,e)}}if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){const t=new Z;let r=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate(e,n,r){t.flushCustomStyles(),t.prepareTemplate(e,n)},prepareTemplateStyles(e,t,n){window.ShadyCSS.prepareTemplate(e,t,n)},prepareTemplateDom(e,t){},styleSubtree(e,n){t.flushCustomStyles(),t.styleSubtree(e,n)},styleElement(e){t.flushCustomStyles(),t.styleElement(e)},styleDocument(e){t.flushCustomStyles(),t.styleDocument(e)},getComputedStyleValue:(e,t)=>k(e,t),flushCustomStyles(){t.flushCustomStyles()},nativeCss:a,nativeShadow:e,cssBuild:n,disableRuntime:i},r&&(window.ShadyCSS.CustomStyleInterface=r)}window.ShadyCSS.ApplyShim=W,
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
window.JSCompiler_renameProperty=function(e,t){return e};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ee,te,ne=/(url\()([^)]*)(\))/g,re=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function ie(e,t){if(e&&re.test(e))return e;if("//"===e)return e;if(void 0===ee){ee=!1;try{const e=new URL("b","http://a");e.pathname="c%20d",ee="http://a/c%20d"===e.href}catch(e){}}if(t||(t=document.baseURI||window.location.href),ee)try{return new URL(e,t).href}catch(t){return e}return te||(te=document.implementation.createHTMLDocument("temp"),te.base=te.createElement("base"),te.head.appendChild(te.base),te.anchor=te.createElement("a"),te.body.appendChild(te.anchor)),te.base.href=t,te.anchor.href=e,te.anchor.href||e}function ae(e,t){return e.replace(ne,(function(e,n,r,i){return n+"'"+ie(r.replace(/["']/g,""),t)+"'"+i}))}function oe(e){return e.substring(0,e.lastIndexOf("/")+1)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const se=!window.ShadyDOM||!window.ShadyDOM.inUse;Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss);const le=se&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const e=new CSSStyleSheet;e.replaceSync("");const t=document.createElement("div");return t.attachShadow({mode:"open"}),t.shadowRoot.adoptedStyleSheets=[e],t.shadowRoot.adoptedStyleSheets[0]===e}catch(e){return!1}})();let ue=window.Polymer&&window.Polymer.rootPath||oe(document.baseURI||window.location.href),ce=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0,pe=window.Polymer&&window.Polymer.setPassiveTouchGestures||!1,he=window.Polymer&&window.Polymer.strictTemplatePolicy||!1,de=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1,fe=window.Polymer&&window.Polymer.legacyOptimizations||!1,me=window.Polymer&&window.Polymer.legacyWarnings||!1,ge=window.Polymer&&window.Polymer.syncInitialRender||!1,ye=window.Polymer&&window.Polymer.legacyUndefined||!1,ve=window.Polymer&&window.Polymer.orderedComputed||!1,we=window.Polymer&&window.Polymer.removeNestedTemplates||!1,be=window.Polymer&&window.Polymer.fastDomIf||!1,xe=window.Polymer&&window.Polymer.suppressTemplateNotifications||!1,_e=window.Polymer&&window.Polymer.legacyNoObservedAttributes||!1,Ae=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1,Ee=0;const Ce=function(e){let t=e.__mixinApplications;t||(t=new WeakMap,e.__mixinApplications=t);let n=Ee++;return function(r){let i=r.__mixinSet;if(i&&i[n])return r;let a=t,o=a.get(r);if(!o){o=e(r),a.set(r,o);let t=Object.create(o.__mixinSet||i||null);t[n]=!0,o.__mixinSet=t}return o}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Ne={},Te={};function Se(e,t){Ne[e]=Te[e.toLowerCase()]=t}function Be(e){return Ne[e]||Te[e.toLowerCase()]}class ke extends HTMLElement{static get observedAttributes(){return["id"]}static import(e,t){if(e){let n=Be(e);return n&&t?n.querySelector(t):n}return null}attributeChangedCallback(e,t,n,r){t!==n&&this.register()}get assetpath(){if(!this.__assetpath){const e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,t=ie(this.getAttribute("assetpath")||"",e.baseURI);this.__assetpath=oe(t)}return this.__assetpath}register(e){if(e=e||this.id){if(he&&void 0!==Be(e))throw Se(e,null),new Error(`strictTemplatePolicy: dom-module ${e} re-registered`);this.id=e,Se(e,this),this.querySelector("style")}}}ke.prototype.modules=Ne,customElements.define("dom-module",ke);function Ie(e){return ke.import(e)}function Pe(e){const t=ae((e.body?e.body:e).textContent,e.baseURI),n=document.createElement("style");return n.textContent=t,n}function Oe(e){const t=e.trim().split(/\s+/),n=[];for(let e=0;e<t.length;e++)n.push(...Re(t[e]));return n}function Re(e){const t=Ie(e);if(!t)return[];if(void 0===t._styles){const e=[];e.push(...Me(t));const n=t.querySelector("template");n&&e.push(...De(n,t.assetpath)),t._styles=e}return t._styles}function De(e,t){if(!e._styles){const n=[],r=e.content.querySelectorAll("style");for(let e=0;e<r.length;e++){let i=r[e],a=i.getAttribute("include");a&&n.push(...Oe(a).filter((function(e,t,n){return n.indexOf(e)===t}))),t&&(i.textContent=ae(i.textContent,t)),n.push(i)}e._styles=n}return e._styles}function Me(e){const t=[],n=e.querySelectorAll("link[rel=import][type~=css]");for(let e=0;e<n.length;e++){let r=n[e];if(r.import){const e=r.import,n=r.hasAttribute("shady-unscoped");if(n&&!e._unscopedStyle){const t=Pe(e);t.setAttribute("shady-unscoped",""),e._unscopedStyle=t}else e._style||(e._style=Pe(e));t.push(n?e._unscopedStyle:e._style)}}return t}function Fe(e){let t=Ie(e);if(t&&void 0===t._cssText){let e=function(e){let t="",n=Me(e);for(let e=0;e<n.length;e++)t+=n[e].textContent;return t}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/(t),n=t.querySelector("template");n&&(e+=function(e,t){let n="";const r=De(e,t);for(let e=0;e<r.length;e++){let t=r[e];t.parentNode&&t.parentNode.removeChild(t),n+=t.textContent}return n}(n,t.assetpath)),t._cssText=e||null}return t&&t._cssText||""}const Ue=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?e=>ShadyDOM.patch(e):e=>e
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/;function He(e){return e.indexOf(".")>=0}function Le(e){let t=e.indexOf(".");return-1===t?e:e.slice(0,t)}function Ge(e,t){return 0===e.indexOf(t+".")}function je(e,t){return 0===t.indexOf(e+".")}function $e(e,t,n){return t+n.slice(e.length)}function Xe(e){if(Array.isArray(e)){let t=[];for(let n=0;n<e.length;n++){let r=e[n].toString().split(".");for(let e=0;e<r.length;e++)t.push(r[e])}return t.join(".")}return e}function ze(e){return Array.isArray(e)?Xe(e).split("."):e.toString().split(".")}function qe(e,t,n){let r=e,i=ze(t);for(let e=0;e<i.length;e++){if(!r)return;r=r[i[e]]}return n&&(n.path=i.join(".")),r}function Ve(e,t,n){let r=e,i=ze(t),a=i[i.length-1];if(i.length>1){for(let e=0;e<i.length-1;e++){if(r=r[i[e]],!r)return}r[a]=n}else r[t]=n;return i.join(".")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Ye={},Ke=/-[a-z]/g,Je=/([A-Z])/g;function Qe(e){return Ye[e]||(Ye[e]=e.indexOf("-")<0?e:e.replace(Ke,(e=>e[1].toUpperCase())))}function We(e){return Ye[e]||(Ye[e]=e.replace(Je,"-$1").toLowerCase())}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Ze=0,et=0,tt=[],nt=0,rt=!1,it=document.createTextNode("");new window.MutationObserver((function(){rt=!1;const e=tt.length;for(let t=0;t<e;t++){let e=tt[t];if(e)try{e()}catch(e){setTimeout((()=>{throw e}))}}tt.splice(0,e),et+=e})).observe(it,{characterData:!0});const at={after:e=>({run:t=>window.setTimeout(t,e),cancel(e){window.clearTimeout(e)}}),run:(e,t)=>window.setTimeout(e,t),cancel(e){window.clearTimeout(e)}},ot={run:e=>(rt||(rt=!0,it.textContent=nt++),tt.push(e),Ze++),cancel(e){const t=e-et;if(t>=0){if(!tt[t])throw new Error("invalid async handle: "+e);tt[t]=null}}},st=ot,lt=Ce((e=>class extends e{static createProperties(e){const t=this.prototype;for(let n in e)n in t||t._createPropertyAccessor(n)}static attributeNameForProperty(e){return e.toLowerCase()}static typeForProperty(e){}_createPropertyAccessor(e,t){this._addPropertyToAttributeMap(e),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[e]||(this.__dataHasAccessor[e]=!0,this._definePropertyAccessor(e,t))}_addPropertyToAttributeMap(e){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let t=this.__dataAttributes[e];return t||(t=this.constructor.attributeNameForProperty(e),this.__dataAttributes[t]=e),t}_definePropertyAccessor(e,t){Object.defineProperty(this,e,{get(){return this.__data[e]},set:t?function(){}:function(t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let e in this.__dataHasAccessor)this.hasOwnProperty(e)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[e]=this[e],delete this[e])}_initializeInstanceProperties(e){Object.assign(this,e)}_setProperty(e,t){this._setPendingProperty(e,t)&&this._invalidateProperties()}_getProperty(e){return this.__data[e]}_setPendingProperty(e,t,n){let r=this.__data[e],i=this._shouldPropertyChange(e,t,r);return i&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(e in this.__dataOld)&&(this.__dataOld[e]=r),this.__data[e]=t,this.__dataPending[e]=t),i}_isPropertyPending(e){return!(!this.__dataPending||!this.__dataPending.hasOwnProperty(e))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,st.run((()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())})))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const e=this.__data,t=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(e,t,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(e,t,n)),this.__dataCounter--}_shouldPropertiesChange(e,t,n){return Boolean(t)}_propertiesChanged(e,t,n){}_shouldPropertyChange(e,t,n){return n!==t&&(n==n||t==t)}attributeChangedCallback(e,t,n,r){t!==n&&this._attributeToProperty(e,n),super.attributeChangedCallback&&super.attributeChangedCallback(e,t,n,r)}_attributeToProperty(e,t,n){if(!this.__serializing){const r=this.__dataAttributes,i=r&&r[e]||e;this[i]=this._deserializeValue(t,n||this.constructor.typeForProperty(i))}}_propertyToAttribute(e,t,n){this.__serializing=!0,n=arguments.length<3?this[e]:n,this._valueToNodeAttribute(this,n,t||this.constructor.attributeNameForProperty(e)),this.__serializing=!1}_valueToNodeAttribute(e,t,n){const r=this._serializeValue(t);"class"!==n&&"name"!==n&&"slot"!==n||(e=Ue(e)),void 0===r?e.removeAttribute(n):e.setAttribute(n,r)}_serializeValue(e){return"boolean"==typeof e?e?"":void 0:null!=e?e.toString():void 0}_deserializeValue(e,t){switch(t){case Boolean:return null!==e;case Number:return Number(e);default:return e}}})),ut={};let ct=HTMLElement.prototype;for(;ct;){let e=Object.getOwnPropertyNames(ct);for(let t=0;t<e.length;t++)ut[e[t]]=!0;ct=Object.getPrototypeOf(ct)}const pt=Ce((e=>{const t=lt(e);return class extends t{static createPropertiesForAttributes(){let e=this.observedAttributes;for(let t=0;t<e.length;t++)this.prototype._createPropertyAccessor(Qe(e[t]))}static attributeNameForProperty(e){return We(e)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(e){for(let t in e)this._setProperty(t,e[t])}_ensureAttribute(e,t){const n=this;n.hasAttribute(e)||this._valueToNodeAttribute(n,t,e)}_serializeValue(e){if("object"==typeof e){if(e instanceof Date)return e.toString();if(e)try{return JSON.stringify(e)}catch(e){return""}}return super._serializeValue(e)}_deserializeValue(e,t){let n;switch(t){case Object:try{n=JSON.parse(e)}catch(t){n=e}break;case Array:try{n=JSON.parse(e)}catch(e){n=null}break;case Date:n=isNaN(e)?String(e):Number(e),n=new Date(n);break;default:n=super._deserializeValue(e,t)}return n}_definePropertyAccessor(e,t){!function(e,t){if(!ut[t]){let n=e[t];void 0!==n&&(e.__data?e._setPendingProperty(t,n):(e.__dataProto?e.hasOwnProperty(JSCompiler_renameProperty("__dataProto",e))||(e.__dataProto=Object.create(e.__dataProto)):e.__dataProto={},e.__dataProto[t]=n))}}(this,e),super._definePropertyAccessor(e,t)}_hasAccessor(e){return this.__dataHasAccessor&&this.__dataHasAccessor[e]}_isPropertyPending(e){return Boolean(this.__dataPending&&e in this.__dataPending)}}})),ht={"dom-if":!0,"dom-repeat":!0};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let dt=!1,ft=!1;function mt(e){(function(){if(!dt){dt=!0;const e=document.createElement("textarea");e.placeholder="a",ft=e.placeholder===e.textContent}return ft})()&&"textarea"===e.localName&&e.placeholder&&e.placeholder===e.textContent&&(e.textContent=null)}function gt(e){let t=e.getAttribute("is");if(t&&ht[t]){let n=e;for(n.removeAttribute("is"),e=n.ownerDocument.createElement(t),n.parentNode.replaceChild(e,n),e.appendChild(n);n.attributes.length;)e.setAttribute(n.attributes[0].name,n.attributes[0].value),n.removeAttribute(n.attributes[0].name)}return e}function yt(e,t){let n=t.parentInfo&&yt(e,t.parentInfo);if(!n)return e;for(let e=n.firstChild,r=0;e;e=e.nextSibling)if(t.parentIndex===r++)return e}function vt(e,t,n,r){r.id&&(t[r.id]=n)}function wt(e,t,n){if(n.events&&n.events.length)for(let r,i=0,a=n.events;i<a.length&&(r=a[i]);i++)e._addMethodEventListenerToNode(t,r.name,r.value,e)}function bt(e,t,n,r){n.templateInfo&&(t._templateInfo=n.templateInfo,t._parentTemplateInfo=r)}const xt=Ce((e=>class extends e{static _parseTemplate(e,t){if(!e._templateInfo){let n=e._templateInfo={};n.nodeInfoList=[],n.nestedTemplate=Boolean(t),n.stripWhiteSpace=t&&t.stripWhiteSpace||e.hasAttribute("strip-whitespace"),this._parseTemplateContent(e,n,{parent:null})}return e._templateInfo}static _parseTemplateContent(e,t,n){return this._parseTemplateNode(e.content,t,n)}static _parseTemplateNode(e,t,n){let r=!1,i=e;return"template"!=i.localName||i.hasAttribute("preserve-content")?"slot"===i.localName&&(t.hasInsertionPoint=!0):r=this._parseTemplateNestedTemplate(i,t,n)||r,mt(i),i.firstChild&&this._parseTemplateChildNodes(i,t,n),i.hasAttributes&&i.hasAttributes()&&(r=this._parseTemplateNodeAttributes(i,t,n)||r),r||n.noted}static _parseTemplateChildNodes(e,t,n){if("script"!==e.localName&&"style"!==e.localName)for(let r,i=e.firstChild,a=0;i;i=r){if("template"==i.localName&&(i=gt(i)),r=i.nextSibling,i.nodeType===Node.TEXT_NODE){let n=r;for(;n&&n.nodeType===Node.TEXT_NODE;)i.textContent+=n.textContent,r=n.nextSibling,e.removeChild(n),n=r;if(t.stripWhiteSpace&&!i.textContent.trim()){e.removeChild(i);continue}}let o={parentIndex:a,parentInfo:n};this._parseTemplateNode(i,t,o)&&(o.infoIndex=t.nodeInfoList.push(o)-1),i.parentNode&&a++}}static _parseTemplateNestedTemplate(e,t,n){let r=e,i=this._parseTemplate(r,t);return(i.content=r.content.ownerDocument.createDocumentFragment()).appendChild(r.content),n.templateInfo=i,!0}static _parseTemplateNodeAttributes(e,t,n){let r=!1,i=Array.from(e.attributes);for(let a,o=i.length-1;a=i[o];o--)r=this._parseTemplateNodeAttribute(e,t,n,a.name,a.value)||r;return r}static _parseTemplateNodeAttribute(e,t,n,r,i){return"on-"===r.slice(0,3)?(e.removeAttribute(r),n.events=n.events||[],n.events.push({name:r.slice(3),value:i}),!0):"id"===r&&(n.id=i,!0)}static _contentForTemplate(e){let t=e._templateInfo;return t&&t.content||e.content}_stampTemplate(e,t){e&&!e.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e);let n=(t=t||this.constructor._parseTemplate(e)).nodeInfoList,r=t.content||e.content,i=document.importNode(r,!0);i.__noInsertionPoint=!t.hasInsertionPoint;let a=i.nodeList=new Array(n.length);i.$={};for(let e,r=0,o=n.length;r<o&&(e=n[r]);r++){let n=a[r]=yt(i,e);vt(0,i.$,n,e),bt(0,n,e,t),wt(this,n,e)}return i}_addMethodEventListenerToNode(e,t,n,r){let i=function(e,t,n){return e=e._methodHost||e,function(t){e[n]&&e[n](t,t.detail)}}(r=r||e,0,n);return this._addEventListenerToNode(e,t,i),i}_addEventListenerToNode(e,t,n){e.addEventListener(t,n)}_removeEventListenerFromNode(e,t,n){e.removeEventListener(t,n)}}));
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let _t=0;const At=[],Et={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},Ct=/[A-Z]/;function Nt(e,t,n){let r=e[t];if(r){if(!e.hasOwnProperty(t)&&(r=e[t]=Object.create(e[t]),n))for(let e in r){let t=r[e],n=r[e]=Array(t.length);for(let e=0;e<t.length;e++)n[e]=t[e]}}else r=e[t]={};return r}function Tt(e,t,n,r,i,a){if(t){let o=!1;const s=_t++;for(let l in n){let u=t[i?Le(l):l];if(u)for(let t,c=0,p=u.length;c<p&&(t=u[c]);c++)t.info&&t.info.lastRun===s||i&&!Bt(l,t.trigger)||(t.info&&(t.info.lastRun=s),t.fn(e,l,n,r,t.info,i,a),o=!0)}return o}return!1}function St(e,t,n,r,i,a,o,s){let l=!1,u=t[o?Le(r):r];if(u)for(let t,c=0,p=u.length;c<p&&(t=u[c]);c++)t.info&&t.info.lastRun===n||o&&!Bt(r,t.trigger)||(t.info&&(t.info.lastRun=n),t.fn(e,r,i,a,t.info,o,s),l=!0);return l}function Bt(e,t){if(t){let n=t.name;return n==e||!(!t.structured||!Ge(n,e))||!(!t.wildcard||!je(n,e))}return!0}function kt(e,t,n,r,i){let a="string"==typeof i.method?e[i.method]:i.method,o=i.property;a?a.call(e,e.__data[o],r[o]):i.dynamicFn}function It(e,t,n){let r=Le(t);if(r!==t){return Pt(e,We(r)+"-changed",n[t],t),!0}return!1}function Pt(e,t,n,r){let i={value:n,queueProperty:!0};r&&(i.path=r),Ue(e).dispatchEvent(new CustomEvent(t,{detail:i}))}function Ot(e,t,n,r,i,a){let o=(a?Le(t):t)!=t?t:null,s=o?qe(e,o):e.__data[t];o&&void 0===s&&(s=n[t]),Pt(e,i.eventName,s,o)}function Rt(e,t,n,r,i){let a=e.__data[t];ce&&(a=ce(a,i.attrName,"attribute",e)),e._propertyToAttribute(t,i.attrName,a)}function Dt(e,t,n,r){let i=e[Et.COMPUTE];if(i)if(ve){_t++;const a=function(e){let t=e.constructor.__orderedComputedDeps;if(!t){t=new Map;const n=e[Et.COMPUTE];let r,{counts:i,ready:a,total:o}=function(e){const t=e.__computeInfo,n={},r=e[Et.COMPUTE],i=[];let a=0;for(let e in t){const r=t[e];a+=n[e]=r.args.filter((e=>!e.literal)).length+(r.dynamicFn?1:0)}for(let e in r)t[e]||i.push(e);return{counts:n,ready:i,total:a}}(e);for(;r=a.shift();){t.set(r,t.size);const e=n[r];e&&e.forEach((e=>{const t=e.info.methodInfo;--o,0==--i[t]&&a.push(t)}))}e.constructor.__orderedComputedDeps=t}return t}(e),o=[];for(let e in t)Ft(e,i,o,a,r);let s;for(;s=o.shift();)Ut(e,"",t,n,s)&&Ft(s.methodInfo,i,o,a,r);Object.assign(n,e.__dataOld),Object.assign(t,e.__dataPending),e.__dataPending=null}else{let a=t;for(;Tt(e,i,a,n,r);)Object.assign(n,e.__dataOld),Object.assign(t,e.__dataPending),a=e.__dataPending,e.__dataPending=null}}const Mt=(e,t,n)=>{let r=0,i=t.length-1,a=-1;for(;r<=i;){const o=r+i>>1,s=n.get(t[o].methodInfo)-n.get(e.methodInfo);if(s<0)r=o+1;else{if(!(s>0)){a=o;break}i=o-1}}a<0&&(a=i+1),t.splice(a,0,e)},Ft=(e,t,n,r,i)=>{const a=t[i?Le(e):e];if(a)for(let t=0;t<a.length;t++){const o=a[t];o.info.lastRun===_t||i&&!Bt(e,o.trigger)||(o.info.lastRun=_t,Mt(o.info,n,r))}};function Ut(e,t,n,r,i){let a=zt(e,t,n,r,i);if(a===At)return!1;let o=i.methodInfo;return e.__dataHasAccessor&&e.__dataHasAccessor[o]?e._setPendingProperty(o,a,!0):(e[o]=a,!1)}function Ht(e,t,n,r,i,a,o){n.bindings=n.bindings||[];let s={kind:r,target:i,parts:a,literal:o,isCompound:1!==a.length};if(n.bindings.push(s),function(e){return Boolean(e.target)&&"attribute"!=e.kind&&"text"!=e.kind&&!e.isCompound&&"{"===e.parts[0].mode}(s)){let{event:e,negate:t}=s.parts[0];s.listenerEvent=e||We(i)+"-changed",s.listenerNegate=t}let l=t.nodeInfoList.length;for(let n=0;n<s.parts.length;n++){let r=s.parts[n];r.compoundIndex=n,Lt(e,t,s,r,l)}}function Lt(e,t,n,r,i){if(!r.literal)if("attribute"===n.kind&&"-"===n.target[0]);else{let a=r.dependencies,o={index:i,binding:n,part:r,evaluator:e};for(let n=0;n<a.length;n++){let r=a[n];"string"==typeof r&&(r=Jt(r),r.wildcard=!0),e._addTemplatePropertyEffect(t,r.rootProperty,{fn:Gt,info:o,trigger:r})}}}function Gt(e,t,n,r,i,a,o){let s=o[i.index],l=i.binding,u=i.part;if(a&&u.source&&t.length>u.source.length&&"property"==l.kind&&!l.isCompound&&s.__isPropertyEffectsClient&&s.__dataHasAccessor&&s.__dataHasAccessor[l.target]){let r=n[t];t=$e(u.source,l.target,t),s._setPendingPropertyOrPath(t,r,!1,!0)&&e._enqueueClient(s)}else{let o=i.evaluator._evaluateBinding(e,u,t,n,r,a);o!==At&&function(e,t,n,r,i){i=function(e,t,n,r){if(n.isCompound){let i=e.__dataCompoundStorage[n.target];i[r.compoundIndex]=t,t=i.join("")}"attribute"!==n.kind&&("textContent"!==n.target&&("value"!==n.target||"input"!==e.localName&&"textarea"!==e.localName)||(t=null==t?"":t));return t}(t,i,n,r),ce&&(i=ce(i,n.target,n.kind,t));if("attribute"==n.kind)e._valueToNodeAttribute(t,i,n.target);else{let r=n.target;t.__isPropertyEffectsClient&&t.__dataHasAccessor&&t.__dataHasAccessor[r]?t[Et.READ_ONLY]&&t[Et.READ_ONLY][r]||t._setPendingProperty(r,i)&&e._enqueueClient(t):e._setUnmanagedPropertyToNode(t,r,i)}}(e,s,l,u,o)}}function jt(e,t){if(t.isCompound){let n=e.__dataCompoundStorage||(e.__dataCompoundStorage={}),r=t.parts,i=new Array(r.length);for(let e=0;e<r.length;e++)i[e]=r[e].literal;let a=t.target;n[a]=i,t.literal&&"property"==t.kind&&("className"===a&&(e=Ue(e)),e[a]=t.literal)}}function $t(e,t,n){if(n.listenerEvent){let r=n.parts[0];e.addEventListener(n.listenerEvent,(function(e){!function(e,t,n,r,i){let a,o=e.detail,s=o&&o.path;s?(r=$e(n,r,s),a=o&&o.value):a=e.currentTarget[n],a=i?!a:a,t[Et.READ_ONLY]&&t[Et.READ_ONLY][r]||!t._setPendingPropertyOrPath(r,a,!0,Boolean(s))||o&&o.queueProperty||t._invalidateProperties()}(e,t,n.target,r.source,r.negate)}))}}function Xt(e,t,n,r,i,a){a=t.static||a&&("object"!=typeof a||a[t.methodName]);let o={methodName:t.methodName,args:t.args,methodInfo:i,dynamicFn:a};for(let i,a=0;a<t.args.length&&(i=t.args[a]);a++)i.literal||e._addPropertyEffect(i.rootProperty,n,{fn:r,info:o,trigger:i});return a&&e._addPropertyEffect(t.methodName,n,{fn:r,info:o}),o}function zt(e,t,n,r,i){let a=e._methodHost||e,o=a[i.methodName];if(o){let r=e._marshalArgs(i.args,t,n);return r===At?At:o.apply(a,r)}i.dynamicFn}const qt=[],Vt=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function Yt(e){let t="";for(let n=0;n<e.length;n++){t+=e[n].literal||""}return t}function Kt(e){let t=e.match(/([^\s]+?)\(([\s\S]*)\)/);if(t){let e={methodName:t[1],static:!0,args:qt};if(t[2].trim()){return function(e,t){return t.args=e.map((function(e){let n=Jt(e);return n.literal||(t.static=!1),n}),this),t}(t[2].replace(/\\,/g,"&comma;").split(","),e)}return e}return null}function Jt(e){let t=e.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),n={name:t,value:"",literal:!1},r=t[0];switch("-"===r&&(r=t[1]),r>="0"&&r<="9"&&(r="#"),r){case"'":case'"':n.value=t.slice(1,-1),n.literal=!0;break;case"#":n.value=Number(t),n.literal=!0}return n.literal||(n.rootProperty=Le(t),n.structured=He(t),n.structured&&(n.wildcard=".*"==t.slice(-2),n.wildcard&&(n.name=t.slice(0,-2)))),n}function Qt(e,t,n){let r=qe(e,n);return void 0===r&&(r=t[n]),r}function Wt(e,t,n,r){const i={indexSplices:r};ye&&!e._overrideLegacyUndefined&&(t.splices=i),e.notifyPath(n+".splices",i),e.notifyPath(n+".length",t.length),ye&&!e._overrideLegacyUndefined&&(i.indexSplices=[])}function Zt(e,t,n,r,i,a){Wt(e,t,n,[{index:r,addedCount:i,removed:a,object:t,type:"splice"}])}const en=Ce((e=>{const t=xt(pt(e));return class extends t{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__computeInfo,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo,this._overrideLegacyUndefined}get PROPERTY_EFFECT_TYPES(){return Et}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(tn.length){let e=tn[tn.length-1];e._enqueueClient(this),this.__dataHost=e}}_initializeProtoProperties(e){this.__data=Object.create(e),this.__dataPending=Object.create(e),this.__dataOld={}}_initializeInstanceProperties(e){let t=this[Et.READ_ONLY];for(let n in e)t&&t[n]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[n]=this.__dataPending[n]=e[n])}_addPropertyEffect(e,t,n){this._createPropertyAccessor(e,t==Et.READ_ONLY);let r=Nt(this,t,!0)[e];r||(r=this[t][e]=[]),r.push(n)}_removePropertyEffect(e,t,n){let r=Nt(this,t,!0)[e],i=r.indexOf(n);i>=0&&r.splice(i,1)}_hasPropertyEffect(e,t){let n=this[t];return Boolean(n&&n[e])}_hasReadOnlyEffect(e){return this._hasPropertyEffect(e,Et.READ_ONLY)}_hasNotifyEffect(e){return this._hasPropertyEffect(e,Et.NOTIFY)}_hasReflectEffect(e){return this._hasPropertyEffect(e,Et.REFLECT)}_hasComputedEffect(e){return this._hasPropertyEffect(e,Et.COMPUTE)}_setPendingPropertyOrPath(e,t,n,r){if(r||Le(Array.isArray(e)?e[0]:e)!==e){if(!r){let n=qe(this,e);if(!(e=Ve(this,e,t))||!super._shouldPropertyChange(e,t,n))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(e,t,n))return function(e,t,n){let r=e.__dataLinkedPaths;if(r){let i;for(let a in r){let o=r[a];je(a,t)?(i=$e(a,o,t),e._setPendingPropertyOrPath(i,n,!0,!0)):je(o,t)&&(i=$e(o,a,t),e._setPendingPropertyOrPath(i,n,!0,!0))}}}(this,e,t),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[e])return this._setPendingProperty(e,t,n);this[e]=t}return!1}_setUnmanagedPropertyToNode(e,t,n){n===e[t]&&"object"!=typeof n||("className"===t&&(e=Ue(e)),e[t]=n)}_setPendingProperty(e,t,n){let r=this.__dataHasPaths&&He(e),i=r?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(e,t,i[e])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),e in this.__dataOld||(this.__dataOld[e]=this.__data[e]),r?this.__dataTemp[e]=t:this.__data[e]=t,this.__dataPending[e]=t,(r||this[Et.NOTIFY]&&this[Et.NOTIFY][e])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[e]=n),!0)}_setProperty(e,t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(e){this.__dataPendingClients=this.__dataPendingClients||[],e!==this&&this.__dataPendingClients.push(e)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let e=this.__dataPendingClients;if(e){this.__dataPendingClients=null;for(let t=0;t<e.length;t++){let n=e[t];n.__dataEnabled?n.__dataPending&&n._flushProperties():n._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(e,t){for(let n in e)!t&&this[Et.READ_ONLY]&&this[Et.READ_ONLY][n]||this._setPendingPropertyOrPath(n,e[n],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(e,t,n){let r,i=this.__dataHasPaths;this.__dataHasPaths=!1,Dt(this,t,n,i),r=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(t,n,i),this._flushClients(),Tt(this,this[Et.REFLECT],t,n,i),Tt(this,this[Et.OBSERVE],t,n,i),r&&function(e,t,n,r,i){let a,o,s=e[Et.NOTIFY],l=_t++;for(let o in t)t[o]&&(s&&St(e,s,l,o,n,r,i)||i&&It(e,o,n))&&(a=!0);a&&(o=e.__dataHost)&&o._invalidateProperties&&o._invalidateProperties()}(this,r,t,n,i),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(e,t,n){this[Et.PROPAGATE]&&Tt(this,this[Et.PROPAGATE],e,t,n),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,e,t,n)}_runEffectsForTemplate(e,t,n,r){const i=(t,r)=>{Tt(this,e.propertyEffects,t,n,r,e.nodeList);for(let i=e.firstChild;i;i=i.nextSibling)this._runEffectsForTemplate(i,t,n,r)};e.runEffects?e.runEffects(i,t,r):i(t,r)}linkPaths(e,t){e=Xe(e),t=Xe(t),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[e]=t}unlinkPaths(e){e=Xe(e),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[e]}notifySplices(e,t){let n={path:""};Wt(this,qe(this,e,n),n.path,t)}get(e,t){return qe(t||this,e)}set(e,t,n){n?Ve(n,e,t):this[Et.READ_ONLY]&&this[Et.READ_ONLY][e]||this._setPendingPropertyOrPath(e,t,!0)&&this._invalidateProperties()}push(e,...t){let n={path:""},r=qe(this,e,n),i=r.length,a=r.push(...t);return t.length&&Zt(this,r,n.path,i,t.length,[]),a}pop(e){let t={path:""},n=qe(this,e,t),r=Boolean(n.length),i=n.pop();return r&&Zt(this,n,t.path,n.length,0,[i]),i}splice(e,t,n,...r){let i,a={path:""},o=qe(this,e,a);return t<0?t=o.length-Math.floor(-t):t&&(t=Math.floor(t)),i=2===arguments.length?o.splice(t):o.splice(t,n,...r),(r.length||i.length)&&Zt(this,o,a.path,t,r.length,i),i}shift(e){let t={path:""},n=qe(this,e,t),r=Boolean(n.length),i=n.shift();return r&&Zt(this,n,t.path,0,0,[i]),i}unshift(e,...t){let n={path:""},r=qe(this,e,n),i=r.unshift(...t);return t.length&&Zt(this,r,n.path,0,t.length,[]),i}notifyPath(e,t){let n;if(1==arguments.length){let r={path:""};t=qe(this,e,r),n=r.path}else n=Array.isArray(e)?Xe(e):e;this._setPendingPropertyOrPath(n,t,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(e,t){var n;this._addPropertyEffect(e,Et.READ_ONLY),t&&(this["_set"+(n=e,n[0].toUpperCase()+n.substring(1))]=function(t){this._setProperty(e,t)})}_createPropertyObserver(e,t,n){let r={property:e,method:t,dynamicFn:Boolean(n)};this._addPropertyEffect(e,Et.OBSERVE,{fn:kt,info:r,trigger:{name:e}}),n&&this._addPropertyEffect(t,Et.OBSERVE,{fn:kt,info:r,trigger:{name:t}})}_createMethodObserver(e,t){let n=Kt(e);if(!n)throw new Error("Malformed observer expression '"+e+"'");Xt(this,n,Et.OBSERVE,zt,null,t)}_createNotifyingProperty(e){this._addPropertyEffect(e,Et.NOTIFY,{fn:Ot,info:{eventName:We(e)+"-changed",property:e}})}_createReflectedProperty(e){let t=this.constructor.attributeNameForProperty(e);"-"===t[0]||this._addPropertyEffect(e,Et.REFLECT,{fn:Rt,info:{attrName:t}})}_createComputedProperty(e,t,n){let r=Kt(t);if(!r)throw new Error("Malformed computed expression '"+t+"'");const i=Xt(this,r,Et.COMPUTE,Ut,e,n);Nt(this,"__computeInfo")[e]=i}_marshalArgs(e,t,n){const r=this.__data,i=[];for(let a=0,o=e.length;a<o;a++){let{name:o,structured:s,wildcard:l,value:u,literal:c}=e[a];if(!c)if(l){const e=je(o,t),i=Qt(r,n,e?t:o);u={path:e?t:o,value:i,base:e?qe(r,o):i}}else u=s?Qt(r,n,o):r[o];if(ye&&!this._overrideLegacyUndefined&&void 0===u&&e.length>1)return At;i[a]=u}return i}static addPropertyEffect(e,t,n){this.prototype._addPropertyEffect(e,t,n)}static createPropertyObserver(e,t,n){this.prototype._createPropertyObserver(e,t,n)}static createMethodObserver(e,t){this.prototype._createMethodObserver(e,t)}static createNotifyingProperty(e){this.prototype._createNotifyingProperty(e)}static createReadOnlyProperty(e,t){this.prototype._createReadOnlyProperty(e,t)}static createReflectedProperty(e){this.prototype._createReflectedProperty(e)}static createComputedProperty(e,t,n){this.prototype._createComputedProperty(e,t,n)}static bindTemplate(e){return this.prototype._bindTemplate(e)}_bindTemplate(e,t){let n=this.constructor._parseTemplate(e),r=this.__preBoundTemplateInfo==n;if(!r)for(let e in n.propertyEffects)this._createPropertyAccessor(e);if(t)if(n=Object.create(n),n.wasPreBound=r,this.__templateInfo){const t=e._parentTemplateInfo||this.__templateInfo,r=t.lastChild;n.parent=t,t.lastChild=n,n.previousSibling=r,r?r.nextSibling=n:t.firstChild=n}else this.__templateInfo=n;else this.__preBoundTemplateInfo=n;return n}static _addTemplatePropertyEffect(e,t,n){(e.hostProps=e.hostProps||{})[t]=!0;let r=e.propertyEffects=e.propertyEffects||{};(r[t]=r[t]||[]).push(n)}_stampTemplate(e,t){t=t||this._bindTemplate(e,!0),tn.push(this);let n=super._stampTemplate(e,t);if(tn.pop(),t.nodeList=n.nodeList,!t.wasPreBound){let e=t.childNodes=[];for(let t=n.firstChild;t;t=t.nextSibling)e.push(t)}return n.templateInfo=t,function(e,t){let{nodeList:n,nodeInfoList:r}=t;if(r.length)for(let t=0;t<r.length;t++){let i=r[t],a=n[t],o=i.bindings;if(o)for(let t=0;t<o.length;t++){let n=o[t];jt(a,n),$t(a,e,n)}a.__dataHost=e}}(this,t),this.__dataClientsReady&&(this._runEffectsForTemplate(t,this.__data,null,!1),this._flushClients()),n}_removeBoundDom(e){const t=e.templateInfo,{previousSibling:n,nextSibling:r,parent:i}=t;n?n.nextSibling=r:i&&(i.firstChild=r),r?r.previousSibling=n:i&&(i.lastChild=n),t.nextSibling=t.previousSibling=null;let a=t.childNodes;for(let e=0;e<a.length;e++){let t=a[e];Ue(Ue(t).parentNode).removeChild(t)}}static _parseTemplateNode(e,n,r){let i=t._parseTemplateNode.call(this,e,n,r);if(e.nodeType===Node.TEXT_NODE){let t=this._parseBindings(e.textContent,n);t&&(e.textContent=Yt(t)||" ",Ht(this,n,r,"text","textContent",t),i=!0)}return i}static _parseTemplateNodeAttribute(e,n,r,i,a){let o=this._parseBindings(a,n);if(o){let t=i,a="property";Ct.test(i)?a="attribute":"$"==i[i.length-1]&&(i=i.slice(0,-1),a="attribute");let s=Yt(o);return s&&"attribute"==a&&("class"==i&&e.hasAttribute("class")&&(s+=" "+e.getAttribute(i)),e.setAttribute(i,s)),"attribute"==a&&"disable-upgrade$"==t&&e.setAttribute(i,""),"input"===e.localName&&"value"===t&&e.setAttribute(t,""),e.removeAttribute(t),"property"===a&&(i=Qe(i)),Ht(this,n,r,a,i,o,s),!0}return t._parseTemplateNodeAttribute.call(this,e,n,r,i,a)}static _parseTemplateNestedTemplate(e,n,r){let i=t._parseTemplateNestedTemplate.call(this,e,n,r);const a=e.parentNode,o=r.templateInfo,s="dom-if"===a.localName,l="dom-repeat"===a.localName;we&&(s||l)&&(a.removeChild(e),(r=r.parentInfo).templateInfo=o,r.noted=!0,i=!1);let u=o.hostProps;if(be&&s)u&&(n.hostProps=Object.assign(n.hostProps||{},u),we||(r.parentInfo.noted=!0));else{let e="{";for(let t in u){Ht(this,n,r,"property","_host_"+t,[{mode:e,source:t,dependencies:[t],hostProp:!0}])}}return i}static _parseBindings(e,t){let n,r=[],i=0;for(;null!==(n=Vt.exec(e));){n.index>i&&r.push({literal:e.slice(i,n.index)});let a=n[1][0],o=Boolean(n[2]),s=n[3].trim(),l=!1,u="",c=-1;"{"==a&&(c=s.indexOf("::"))>0&&(u=s.substring(c+2),s=s.substring(0,c),l=!0);let p=Kt(s),h=[];if(p){let{args:e,methodName:n}=p;for(let t=0;t<e.length;t++){let n=e[t];n.literal||h.push(n)}let r=t.dynamicFns;(r&&r[n]||p.static)&&(h.push(n),p.dynamicFn=!0)}else h.push(s);r.push({source:s,mode:a,negate:o,customEvent:l,signature:p,dependencies:h,event:u}),i=Vt.lastIndex}if(i&&i<e.length){let t=e.substring(i);t&&r.push({literal:t})}return r.length?r:null}static _evaluateBinding(e,t,n,r,i,a){let o;return o=t.signature?zt(e,n,r,0,t.signature):n!=t.source?qe(e,t.source):a&&He(n)?qe(e,n):e.__data[n],t.negate&&(o=!o),o}}})),tn=[];const nn=Ce((e=>{const t=lt(e);function n(e){const t=Object.getPrototypeOf(e);return t.prototype instanceof i?t:null}function r(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",e))){let t=null;if(e.hasOwnProperty(JSCompiler_renameProperty("properties",e))){const n=e.properties;n&&(t=
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function(e){const t={};for(let n in e){const r=e[n];t[n]="function"==typeof r?{type:r}:r}return t}(n))}e.__ownProperties=t}return e.__ownProperties}class i extends t{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){this.prototype;const e=this._properties;this.__observedAttributes=e?Object.keys(e).map((e=>this.prototype._addPropertyToAttributeMap(e))):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const e=n(this);e&&e.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const e=r(this);e&&this.createProperties(e)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const e=n(this);this.__properties=Object.assign({},e&&e._properties,r(this))}return this.__properties}static typeForProperty(e){const t=this._properties[e];return t&&t.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return i})),rn=window.ShadyCSS&&window.ShadyCSS.cssBuild,an=Ce((e=>{const t=nn(en(e));function n(e,t,n,r){n.computed&&(n.readOnly=!0),n.computed&&(e._hasReadOnlyEffect(t)||e._createComputedProperty(t,n.computed,r)),n.readOnly&&!e._hasReadOnlyEffect(t)?e._createReadOnlyProperty(t,!n.computed):!1===n.readOnly&&e._hasReadOnlyEffect(t),n.reflectToAttribute&&!e._hasReflectEffect(t)?e._createReflectedProperty(t):!1===n.reflectToAttribute&&e._hasReflectEffect(t),n.notify&&!e._hasNotifyEffect(t)?e._createNotifyingProperty(t):!1===n.notify&&e._hasNotifyEffect(t),n.observer&&e._createPropertyObserver(t,n.observer,r[n.observer]),e._addPropertyToAttributeMap(t)}function r(e,t,n,r){if(!rn){const i=t.content.querySelectorAll("style"),a=De(t),o=function(e){let t=Ie(e);return t?Me(t):[]}(n),s=t.content.firstElementChild;for(let n=0;n<o.length;n++){let i=o[n];i.textContent=e._processStyleText(i.textContent,r),t.content.insertBefore(i,s)}let l=0;for(let t=0;t<a.length;t++){let n=a[t],o=i[l];o!==n?(n=n.cloneNode(!0),o.parentNode.insertBefore(n,o)):l++,n.textContent=e._processStyleText(n.textContent,r)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(t,n),Ae&&rn&&le){const n=t.content.querySelectorAll("style");if(n){let t="";Array.from(n).forEach((e=>{t+=e.textContent,e.parentNode.removeChild(e)})),e._styleSheet=new CSSStyleSheet,e._styleSheet.replaceSync(t)}}}return class extends t{static get polymerElementVersion(){return"3.4.1"}static _finalizeClass(){t._finalizeClass.call(this);const e=((n=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",n))||(n.__ownObservers=n.hasOwnProperty(JSCompiler_renameProperty("observers",n))?n.observers:null),n.__ownObservers);var n;e&&this.createObservers(e,this._properties),this._prepareTemplate()}static _prepareTemplate(){let e=this.template;e&&("string"==typeof e?e=null:fe||(e=e.cloneNode(!0))),this.prototype._template=e}static createProperties(e){for(let t in e)n(this.prototype,t,e[t],e)}static createObservers(e,t){const n=this.prototype;for(let r=0;r<e.length;r++)n._createMethodObserver(e[r],t)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){const e=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;this._template=void 0!==e?e:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&function(e){let t=null;if(e&&(!he||de)&&(t=ke.import(e,"template"),he&&!t))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${e}`);return t}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(e){this._template=e}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const e=this.importMeta;if(e)this._importPath=oe(e.url);else{const e=ke.import(this.is);this._importPath=e&&e.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=ue,this.importPath=this.constructor.importPath;let e=function(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",e))){e.__propertyDefaults=null;let t=e._properties;for(let n in t){let r=t[n];"value"in r&&(e.__propertyDefaults=e.__propertyDefaults||{},e.__propertyDefaults[n]=r)}}return e.__propertyDefaults}(this.constructor);if(e)for(let t in e){let n=e[t];if(this._canApplyPropertyDefault(t)){let e="function"==typeof n.value?n.value.call(this):n.value;this._hasAccessor(t)?this._setPendingProperty(t,e,!0):this[t]=e}}}_canApplyPropertyDefault(e){return!this.hasOwnProperty(e)}static _processStyleText(e,t){return ae(e,t)}static _finalizeTemplate(e){const t=this.prototype._template;if(t&&!t.__polymerFinalized){t.__polymerFinalized=!0;const n=this.importPath;r(this,t,e,n?ie(n):""),this.prototype._bindTemplate(t)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(e){const t=Ue(this);if(t.attachShadow)return e?(t.shadowRoot||(t.attachShadow({mode:"open",shadyUpgradeFragment:e}),t.shadowRoot.appendChild(e),this.constructor._styleSheet&&(t.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),ge&&window.ShadyDOM&&window.ShadyDOM.flushInitial(t.shadowRoot),t.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(e){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,e)}resolveUrl(e,t){return!t&&this.importPath&&(t=ie(this.importPath)),ie(e,t)}static _parseTemplateContent(e,n,r){return n.dynamicFns=n.dynamicFns||this._properties,t._parseTemplateContent.call(this,e,n,r)}static _addTemplatePropertyEffect(e,n,r){return me&&!(n in this._properties)&&(!r.info.part.signature||!r.info.part.signature.static)&&!r.info.part.hostProp&&e.nestedTemplate,t._addTemplatePropertyEffect.call(this,e,n,r)}}}));
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class on{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(e,t){this._asyncModule=e,this._callback=t,this._timer=this._asyncModule.run((()=>{this._timer=null,sn.delete(this),this._callback()}))}cancel(){this.isActive()&&(this._cancelAsync(),sn.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(e,t,n){return e instanceof on?e._cancelAsync():e=new on,e.setConfig(t,n),e}}let sn=new Set;const ln=function(e){sn.add(e)},un=function(){const e=Boolean(sn.size);return sn.forEach((e=>{try{e.flush()}catch(e){setTimeout((()=>{throw e}))}})),e};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let cn="string"==typeof document.head.style.touchAction,pn="__polymerGestures",hn="__polymerGesturesHandled",dn="__polymerGesturesTouchAction",fn=["mousedown","mousemove","mouseup","click"],mn=[0,1,4,2],gn=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return!1}}();function yn(e){return fn.indexOf(e)>-1}let vn=!1;function wn(e){if(!yn(e)&&"touchend"!==e)return cn&&vn&&pe?{passive:!0}:void 0}!function(){try{let e=Object.defineProperty({},"passive",{get(){vn=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}}();let bn=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const xn=[],_n={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},An={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function En(e){let t=Array.prototype.slice.call(e.labels||[]);if(!t.length){t=[];let n=e.getRootNode();if(e.id){let r=n.querySelectorAll(`label[for = ${e.id}]`);for(let e=0;e<r.length;e++)t.push(r[e])}}return t}let Cn=function(e){let t=e.sourceCapabilities;var n;if((!t||t.firesTouchEvents)&&(e[hn]={skip:!0},"click"===e.type)){let t=!1,r=In(e);for(let e=0;e<r.length;e++){if(r[e].nodeType===Node.ELEMENT_NODE)if("label"===r[e].localName)xn.push(r[e]);else if(n=r[e],_n[n.localName]){let n=En(r[e]);for(let e=0;e<n.length;e++)t=t||xn.indexOf(n[e])>-1}if(r[e]===Sn.mouse.target)return}if(t)return;e.preventDefault(),e.stopPropagation()}};function Nn(e){let t=bn?["click"]:fn;for(let n,r=0;r<t.length;r++)n=t[r],e?(xn.length=0,document.addEventListener(n,Cn,!0)):document.removeEventListener(n,Cn,!0)}function Tn(e){let t=e.type;if(!yn(t))return!1;if("mousemove"===t){let t=void 0===e.buttons?1:e.buttons;return e instanceof window.MouseEvent&&!gn&&(t=mn[e.which]||0),Boolean(1&t)}return 0===(void 0===e.button?0:e.button)}let Sn={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function Bn(e,t,n){e.movefn=t,e.upfn=n,document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}function kn(e){document.removeEventListener("mousemove",e.movefn),document.removeEventListener("mouseup",e.upfn),e.movefn=null,e.upfn=null}document.addEventListener("touchend",(function(e){Sn.mouse.mouseIgnoreJob||Nn(!0),Sn.mouse.target=In(e)[0],Sn.mouse.mouseIgnoreJob=on.debounce(Sn.mouse.mouseIgnoreJob,at.after(2500),(function(){Nn(),Sn.mouse.target=null,Sn.mouse.mouseIgnoreJob=null}))}),!!vn&&{passive:!0});const In=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:e=>e.composedPath&&e.composedPath()||[],Pn={},On=[];function Rn(e){const t=In(e);return t.length>0?t[0]:e.target}function Dn(e){let t,n=e.type,r=e.currentTarget.__polymerGestures;if(!r)return;let i=r[n];if(i){if(!e[hn]&&(e[hn]={},"touch"===n.slice(0,5))){let t=e.changedTouches[0];if("touchstart"===n&&1===e.touches.length&&(Sn.touch.id=t.identifier),Sn.touch.id!==t.identifier)return;cn||"touchstart"!==n&&"touchmove"!==n||function(e){let t=e.changedTouches[0],n=e.type;if("touchstart"===n)Sn.touch.x=t.clientX,Sn.touch.y=t.clientY,Sn.touch.scrollDecided=!1;else if("touchmove"===n){if(Sn.touch.scrollDecided)return;Sn.touch.scrollDecided=!0;let n=function(e){let t="auto",n=In(e);for(let e,r=0;r<n.length;r++)if(e=n[r],e[dn]){t=e[dn];break}return t}(e),r=!1,i=Math.abs(Sn.touch.x-t.clientX),a=Math.abs(Sn.touch.y-t.clientY);e.cancelable&&("none"===n?r=!0:"pan-x"===n?r=a>i:"pan-y"===n&&(r=i>a)),r?e.preventDefault():Gn("track")}}(e)}if(t=e[hn],!t.skip){for(let n,r=0;r<On.length;r++)n=On[r],i[n.name]&&!t[n.name]&&n.flow&&n.flow.start.indexOf(e.type)>-1&&n.reset&&n.reset();for(let r,a=0;a<On.length;a++)r=On[a],i[r.name]&&!t[r.name]&&(t[r.name]=!0,r[n](e))}}}function Mn(e,t,n){return!!Pn[t]&&(function(e,t,n){let r=Pn[t],i=r.deps,a=r.name,o=e[pn];o||(e[pn]=o={});for(let t,n,r=0;r<i.length;r++)t=i[r],bn&&yn(t)&&"click"!==t||(n=o[t],n||(o[t]=n={_count:0}),0===n._count&&e.addEventListener(t,Dn,wn(t)),n[a]=(n[a]||0)+1,n._count=(n._count||0)+1);e.addEventListener(t,n),r.touchAction&&Hn(e,r.touchAction)}(e,t,n),!0)}function Fn(e,t,n){return!!Pn[t]&&(function(e,t,n){let r=Pn[t],i=r.deps,a=r.name,o=e[pn];if(o)for(let t,n,r=0;r<i.length;r++)t=i[r],n=o[t],n&&n[a]&&(n[a]=(n[a]||1)-1,n._count=(n._count||1)-1,0===n._count&&e.removeEventListener(t,Dn,wn(t)));e.removeEventListener(t,n)}(e,t,n),!0)}function Un(e){On.push(e);for(let t=0;t<e.emits.length;t++)Pn[e.emits[t]]=e}function Hn(e,t){cn&&e instanceof HTMLElement&&ot.run((()=>{e.style.touchAction=t})),e[dn]=t}function Ln(e,t,n){let r=new Event(t,{bubbles:!0,cancelable:!0,composed:!0});if(r.detail=n,Ue(e).dispatchEvent(r),r.defaultPrevented){let e=n.preventer||n.sourceEvent;e&&e.preventDefault&&e.preventDefault()}}function Gn(e){let t=function(e){for(let t,n=0;n<On.length;n++){t=On[n];for(let n,r=0;r<t.emits.length;r++)if(n=t.emits[r],n===e)return t}return null}(e);t.info&&(t.info.prevent=!0)}function jn(e,t,n,r){t&&Ln(t,e,{x:n.clientX,y:n.clientY,sourceEvent:n,preventer:r,prevent:function(e){return Gn(e)}})}function $n(e,t,n){if(e.prevent)return!1;if(e.started)return!0;let r=Math.abs(e.x-t),i=Math.abs(e.y-n);return r>=5||i>=5}function Xn(e,t,n){if(!t)return;let r,i=e.moves[e.moves.length-2],a=e.moves[e.moves.length-1],o=a.x-e.x,s=a.y-e.y,l=0;i&&(r=a.x-i.x,l=a.y-i.y),Ln(t,"track",{state:e.state,x:n.clientX,y:n.clientY,dx:o,dy:s,ddx:r,ddy:l,sourceEvent:n,hover:function(){return function(e,t){let n=document.elementFromPoint(e,t),r=n;for(;r&&r.shadowRoot&&!window.ShadyDOM;){let i=r;if(r=r.shadowRoot.elementFromPoint(e,t),i===r)break;r&&(n=r)}return n}(n.clientX,n.clientY)}})}function zn(e,t,n){let r=Math.abs(t.clientX-e.x),i=Math.abs(t.clientY-e.y),a=Rn(n||t);!a||An[a.localName]&&a.hasAttribute("disabled")||(isNaN(r)||isNaN(i)||r<=25&&i<=25||function(e){if("click"===e.type){if(0===e.detail)return!0;let t=Rn(e);if(!t.nodeType||t.nodeType!==Node.ELEMENT_NODE)return!0;let n=t.getBoundingClientRect(),r=e.pageX,i=e.pageY;return!(r>=n.left&&r<=n.right&&i>=n.top&&i<=n.bottom)}return!1}(t))&&(e.prevent||Ln(a,"tap",{x:t.clientX,y:t.clientY,sourceEvent:t,preventer:n}))}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/Un({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){kn(this.info)},mousedown:function(e){if(!Tn(e))return;let t=Rn(e),n=this;Bn(this.info,(function(e){Tn(e)||(jn("up",t,e),kn(n.info))}),(function(e){Tn(e)&&jn("up",t,e),kn(n.info)})),jn("down",t,e)},touchstart:function(e){jn("down",Rn(e),e.changedTouches[0],e)},touchend:function(e){jn("up",Rn(e),e.changedTouches[0],e)}}),Un({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(e){this.moves.length>2&&this.moves.shift(),this.moves.push(e)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,kn(this.info)},mousedown:function(e){if(!Tn(e))return;let t=Rn(e),n=this,r=function(e){let r=e.clientX,i=e.clientY;$n(n.info,r,i)&&(n.info.state=n.info.started?"mouseup"===e.type?"end":"track":"start","start"===n.info.state&&Gn("tap"),n.info.addMove({x:r,y:i}),Tn(e)||(n.info.state="end",kn(n.info)),t&&Xn(n.info,t,e),n.info.started=!0)};Bn(this.info,r,(function(e){n.info.started&&r(e),kn(n.info)})),this.info.x=e.clientX,this.info.y=e.clientY},touchstart:function(e){let t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchmove:function(e){let t=Rn(e),n=e.changedTouches[0],r=n.clientX,i=n.clientY;$n(this.info,r,i)&&("start"===this.info.state&&Gn("tap"),this.info.addMove({x:r,y:i}),Xn(this.info,t,n),this.info.state="track",this.info.started=!0)},touchend:function(e){let t=Rn(e),n=e.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:n.clientX,y:n.clientY}),Xn(this.info,t,n))}}),Un({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(e){Tn(e)&&(this.info.x=e.clientX,this.info.y=e.clientY)},click:function(e){Tn(e)&&zn(this.info,e)},touchstart:function(e){const t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchend:function(e){zn(this.info,e.changedTouches[0],e)}});const qn=Ce((e=>class extends e{_addEventListenerToNode(e,t,n){Mn(e,t,n)||super._addEventListenerToNode(e,t,n)}_removeEventListenerFromNode(e,t,n){Fn(e,t,n)||super._removeEventListenerFromNode(e,t,n)}})),Vn=/:host\(:dir\((ltr|rtl)\)\)/g,Yn=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,Kn=/:dir\((?:ltr|rtl)\)/,Jn=Boolean(window.ShadyDOM&&window.ShadyDOM.inUse),Qn=[];
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let Wn=null,Zn="";function er(){Zn=document.documentElement.getAttribute("dir")}function tr(e){if(!e.__autoDirOptOut){e.setAttribute("dir",Zn)}}function nr(){er(),Zn=document.documentElement.getAttribute("dir");for(let e=0;e<Qn.length;e++)tr(Qn[e])}const rr=Ce((e=>{Jn||Wn||(er(),Wn=new MutationObserver(nr),Wn.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const t=pt(e);class n extends t{static _processStyleText(e,n){return e=t._processStyleText.call(this,e,n),!Jn&&Kn.test(e)&&(e=this._replaceDirInCssText(e),this.__activateDir=!0),e}static _replaceDirInCssText(e){let t=e;return t=t.replace(Vn,':host([dir="$1"])'),t=t.replace(Yn,':host([dir="$2"]) $1'),t}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){t.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(Wn&&Wn.takeRecords().length&&nr(),Qn.push(this),tr(this))}disconnectedCallback(){if(t.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const e=Qn.indexOf(this);e>-1&&Qn.splice(e,1)}}}return n.__activateDir=!1,n}));
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let ir=!1,ar=[],or=[];function sr(){ir=!0,requestAnimationFrame((function(){ir=!1,function(e){for(;e.length;)lr(e.shift())}(ar),setTimeout((function(){!function(e){for(let t=0,n=e.length;t<n;t++)lr(e.shift())}(or)}))}))}function lr(e){const t=e[0],n=e[1],r=e[2];try{n.apply(t,r)}catch(e){setTimeout((()=>{throw e}))}}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function ur(){document.body.removeAttribute("unresolved")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function cr(e,t,n){return{index:e,removed:t,addedCount:n}}"interactive"===document.readyState||"complete"===document.readyState?ur():window.addEventListener("DOMContentLoaded",ur);function pr(e,t,n,r,i,a){let o,s=0,l=0,u=Math.min(n-t,a-i);if(0==t&&0==i&&(s=function(e,t,n){for(let r=0;r<n;r++)if(!dr(e[r],t[r]))return r;return n}(e,r,u)),n==e.length&&a==r.length&&(l=function(e,t,n){let r=e.length,i=t.length,a=0;for(;a<n&&dr(e[--r],t[--i]);)a++;return a}(e,r,u-s)),i+=s,a-=l,(n-=l)-(t+=s)==0&&a-i==0)return[];if(t==n){for(o=cr(t,[],0);i<a;)o.removed.push(r[i++]);return[o]}if(i==a)return[cr(t,[],n-t)];let c=function(e){let t=e.length-1,n=e[0].length-1,r=e[t][n],i=[];for(;t>0||n>0;){if(0==t){i.push(2),n--;continue}if(0==n){i.push(3),t--;continue}let a,o=e[t-1][n-1],s=e[t-1][n],l=e[t][n-1];a=s<l?s<o?s:o:l<o?l:o,a==o?(o==r?i.push(0):(i.push(1),r=o),t--,n--):a==s?(i.push(3),t--,r=s):(i.push(2),n--,r=l)}return i.reverse(),i}(function(e,t,n,r,i,a){let o=a-i+1,s=n-t+1,l=new Array(o);for(let e=0;e<o;e++)l[e]=new Array(s),l[e][0]=e;for(let e=0;e<s;e++)l[0][e]=e;for(let n=1;n<o;n++)for(let a=1;a<s;a++)if(dr(e[t+a-1],r[i+n-1]))l[n][a]=l[n-1][a-1];else{let e=l[n-1][a]+1,t=l[n][a-1]+1;l[n][a]=e<t?e:t}return l}(e,t,n,r,i,a));o=void 0;let p=[],h=t,d=i;for(let e=0;e<c.length;e++)switch(c[e]){case 0:o&&(p.push(o),o=void 0),h++,d++;break;case 1:o||(o=cr(h,[],0)),o.addedCount++,h++,o.removed.push(r[d]),d++;break;case 2:o||(o=cr(h,[],0)),o.addedCount++,h++;break;case 3:o||(o=cr(h,[],0)),o.removed.push(r[d]),d++}return o&&p.push(o),p}function hr(e,t){return pr(e,0,e.length,t,0,t.length)}function dr(e,t){return e===t}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function fr(e){return"slot"===e.localName}let mr=class{static getFlattenedNodes(e){const t=Ue(e);return fr(e)?t.assignedNodes({flatten:!0}):Array.from(t.childNodes).map((e=>fr(e)?Ue(e).assignedNodes({flatten:!0}):[e])).reduce(((e,t)=>e.concat(t)),[])}constructor(e,t){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=e,this.callback=t,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){fr(this._target)?this._listenSlots([this._target]):Ue(this._target).children&&(this._listenSlots(Ue(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=window.ShadyDOM.observeChildren(this._target,(e=>{this._processMutations(e)})):(this._nativeChildrenObserver=new MutationObserver((e=>{this._processMutations(e)})),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){fr(this._target)?this._unlistenSlots([this._target]):Ue(this._target).children&&(this._unlistenSlots(Ue(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(window.ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,ot.run((()=>this.flush())))}_processMutations(e){this._processSlotMutations(e),this.flush()}_processSlotMutations(e){if(e)for(let t=0;t<e.length;t++){let n=e[t];n.addedNodes&&this._listenSlots(n.addedNodes),n.removedNodes&&this._unlistenSlots(n.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let e={target:this._target,addedNodes:[],removedNodes:[]},t=this.constructor.getFlattenedNodes(this._target),n=hr(t,this._effectiveNodes);for(let t,r=0;r<n.length&&(t=n[r]);r++)for(let n,r=0;r<t.removed.length&&(n=t.removed[r]);r++)e.removedNodes.push(n);for(let r,i=0;i<n.length&&(r=n[i]);i++)for(let n=r.index;n<r.index+r.addedCount;n++)e.addedNodes.push(t[n]);this._effectiveNodes=t;let r=!1;return(e.addedNodes.length||e.removedNodes.length)&&(r=!0,this.callback.call(this._target,e)),r}_listenSlots(e){for(let t=0;t<e.length;t++){let n=e[t];fr(n)&&n.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(e){for(let t=0;t<e.length;t++){let n=e[t];fr(n)&&n.removeEventListener("slotchange",this._boundSchedule)}}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const gr=function(){let e,t;do{e=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),t=un()}while(e||t)},yr=Element.prototype,vr=yr.matches||yr.matchesSelector||yr.mozMatchesSelector||yr.msMatchesSelector||yr.oMatchesSelector||yr.webkitMatchesSelector,wr=function(e,t){return vr.call(e,t)};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class br{constructor(e){window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.patch(e),this.node=e}observeNodes(e){return new mr(this.node,e)}unobserveNodes(e){e.disconnect()}notifyObserver(){}deepContains(e){if(Ue(this.node).contains(e))return!0;let t=e,n=e.ownerDocument;for(;t&&t!==n&&t!==this.node;)t=Ue(t).parentNode||Ue(t).host;return t===this.node}getOwnerRoot(){return Ue(this.node).getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?Ue(this.node).assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let e=[],t=Ue(this.node).assignedSlot;for(;t;)e.push(t),t=Ue(t).assignedSlot;return e}importNode(e,t){let n=this.node instanceof Document?this.node:this.node.ownerDocument;return Ue(n).importNode(e,t)}getEffectiveChildNodes(){return mr.getFlattenedNodes(this.node)}queryDistributedElements(e){let t=this.getEffectiveChildNodes(),n=[];for(let r,i=0,a=t.length;i<a&&(r=t[i]);i++)r.nodeType===Node.ELEMENT_NODE&&wr(r,e)&&n.push(r);return n}get activeElement(){let e=this.node;return void 0!==e._activeElement?e._activeElement:e.activeElement}}function xr(e,t){for(let n=0;n<t.length;n++){let r=t[n];Object.defineProperty(e,r,{get:function(){return this.node[r]},configurable:!0})}}class _r{constructor(e){this.event=e}get rootTarget(){return this.path[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}br.prototype.cloneNode,br.prototype.appendChild,br.prototype.insertBefore,br.prototype.removeChild,br.prototype.replaceChild,br.prototype.setAttribute,br.prototype.removeAttribute,br.prototype.querySelector,br.prototype.querySelectorAll,br.prototype.parentNode,br.prototype.firstChild,br.prototype.lastChild,br.prototype.nextSibling,br.prototype.previousSibling,br.prototype.firstElementChild,br.prototype.lastElementChild,br.prototype.nextElementSibling,br.prototype.previousElementSibling,br.prototype.childNodes,br.prototype.children,br.prototype.classList,br.prototype.textContent,br.prototype.innerHTML;let Ar=br;if(window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch&&window.ShadyDOM.Wrapper){class e extends window.ShadyDOM.Wrapper{}Object.getOwnPropertyNames(br.prototype).forEach((t=>{"activeElement"!=t&&(e.prototype[t]=br.prototype[t])})),xr(e.prototype,["classList"]),Ar=e,Object.defineProperties(_r.prototype,{localTarget:{get(){const e=this.event.currentTarget,t=e&&Er(e).getOwnerRoot(),n=this.path;for(let e=0;e<n.length;e++){const r=n[e];if(Er(r).getOwnerRoot()===t)return r}},configurable:!0},path:{get(){return window.ShadyDOM.composedPath(this.event)},configurable:!0}})}else!function(e,t){for(let n=0;n<t.length;n++){let r=t[n];e[r]=function(){return this.node[r].apply(this.node,arguments)}}}(br.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]),xr(br.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]),function(e,t){for(let n=0;n<t.length;n++){let r=t[n];Object.defineProperty(e,r,{get:function(){return this.node[r]},set:function(e){this.node[r]=e},configurable:!0})}}(br.prototype,["textContent","innerHTML","className"]);const Er=function(e){if((e=e||document)instanceof Ar)return e;if(e instanceof _r)return e;let t=e.__domApi;return t||(t=e instanceof Event?new _r(e):new Ar(e),e.__domApi=t),t},Cr=window.ShadyDOM,Nr=window.ShadyCSS;
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Tr(e,t){return Ue(e).getRootNode()===t}
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
const Sr=e=>{for(;e;){const t=Object.getOwnPropertyDescriptor(e,"observedAttributes");if(t)return t.get;e=Object.getPrototypeOf(e.prototype).constructor}return()=>[]};Ce((e=>{const t=an(e);let n=Sr(t);return class extends t{constructor(){super(),this.__isUpgradeDisabled}static get observedAttributes(){return n.call(this).concat("disable-upgrade")}_initializeProperties(){this.hasAttribute("disable-upgrade")?this.__isUpgradeDisabled=!0:super._initializeProperties()}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(e){return super._canApplyPropertyDefault(e)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(e))}attributeChangedCallback(e,t,n,r){"disable-upgrade"==e?this.__isUpgradeDisabled&&null==n&&(super._initializeProperties(),this.__isUpgradeDisabled=!1,Ue(this).isConnected&&super.connectedCallback()):super.attributeChangedCallback(e,t,n,r)}connectedCallback(){this.__isUpgradeDisabled||super.connectedCallback()}disconnectedCallback(){this.__isUpgradeDisabled||super.disconnectedCallback()}}}));let Br=window.ShadyCSS;const kr=Ce((e=>{const t=qn(an(e)),n=rn?t:rr(t),r=Sr(n),i={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class a extends n{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers,this.__isUpgradeDisabled,this.__needsAttributesAtConnected,this._legacyForceObservedAttributes}static get importMeta(){return this.prototype.importMeta}created(){}__attributeReaction(e,t,n){(this.__dataAttributes&&this.__dataAttributes[e]||"disable-upgrade"===e)&&this.attributeChangedCallback(e,t,n,null)}setAttribute(e,t){if(_e&&!this._legacyForceObservedAttributes){const n=this.getAttribute(e);super.setAttribute(e,t),this.__attributeReaction(e,n,String(t))}else super.setAttribute(e,t)}removeAttribute(e){if(_e&&!this._legacyForceObservedAttributes){const t=this.getAttribute(e);super.removeAttribute(e),this.__attributeReaction(e,t,null)}else super.removeAttribute(e)}static get observedAttributes(){return _e&&!this.prototype._legacyForceObservedAttributes?(this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))||(this.__observedAttributes=[],this.prototype),this.__observedAttributes):r.call(this).concat("disable-upgrade")}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(e){return super._canApplyPropertyDefault(e)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(e))}connectedCallback(){this.__needsAttributesAtConnected&&this._takeAttributes(),this.__isUpgradeDisabled||(super.connectedCallback(),this.isAttached=!0,this.attached())}attached(){}disconnectedCallback(){this.__isUpgradeDisabled||(super.disconnectedCallback(),this.isAttached=!1,this.detached())}detached(){}attributeChangedCallback(e,t,n,r){t!==n&&("disable-upgrade"==e?this.__isUpgradeDisabled&&null==n&&(this._initializeProperties(),this.__isUpgradeDisabled=!1,Ue(this).isConnected&&this.connectedCallback()):(super.attributeChangedCallback(e,t,n,r),this.attributeChanged(e,t,n)))}attributeChanged(e,t,n){}_initializeProperties(){if(fe&&this.hasAttribute("disable-upgrade"))this.__isUpgradeDisabled=!0;else{let e=Object.getPrototypeOf(this);e.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",e))||(this._registered(),e.__hasRegisterFinished=!0),super._initializeProperties(),this.root=this,this.created(),_e&&!this._legacyForceObservedAttributes&&(this.hasAttributes()?this._takeAttributes():this.parentNode||(this.__needsAttributesAtConnected=!0)),this._applyListeners()}}_takeAttributes(){const e=this.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];this.__attributeReaction(n.name,null,n.value)}}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(e){return this._serializeValue(e)}deserialize(e,t){return this._deserializeValue(e,t)}reflectPropertyToAttribute(e,t,n){this._propertyToAttribute(e,t,n)}serializeValueToAttribute(e,t,n){this._valueToNodeAttribute(n||this,e,t)}extend(e,t){if(!e||!t)return e||t;let n=Object.getOwnPropertyNames(t);for(let r,i=0;i<n.length&&(r=n[i]);i++){let n=Object.getOwnPropertyDescriptor(t,r);n&&Object.defineProperty(e,r,n)}return e}mixin(e,t){for(let n in t)e[n]=t[n];return e}chainObject(e,t){return e&&t&&e!==t&&(e.__proto__=t),e}instanceTemplate(e){let t=this.constructor._contentForTemplate(e);return document.importNode(t,!0)}fire(e,t,n){n=n||{},t=null==t?{}:t;let r=new Event(e,{bubbles:void 0===n.bubbles||n.bubbles,cancelable:Boolean(n.cancelable),composed:void 0===n.composed||n.composed});r.detail=t;let i=n.node||this;return Ue(i).dispatchEvent(r),r}listen(e,t,n){e=e||this;let r=this.__boundListeners||(this.__boundListeners=new WeakMap),i=r.get(e);i||(i={},r.set(e,i));let a=t+n;i[a]||(i[a]=this._addMethodEventListenerToNode(e,t,n,this))}unlisten(e,t,n){e=e||this;let r=this.__boundListeners&&this.__boundListeners.get(e),i=t+n,a=r&&r[i];a&&(this._removeEventListenerFromNode(e,t,a),r[i]=null)}setScrollDirection(e,t){Hn(t||this,i[e]||"auto")}$$(e){return this.root.querySelector(e)}get domHost(){let e=Ue(this).getRootNode();return e instanceof DocumentFragment?e.host:e}distributeContent(){const e=Er(this);window.ShadyDOM&&e.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return Er(this).getEffectiveChildNodes()}queryDistributedElements(e){return Er(this).queryDistributedElements(e)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))}getEffectiveTextContent(){let e=this.getEffectiveChildNodes(),t=[];for(let n,r=0;n=e[r];r++)n.nodeType!==Node.COMMENT_NODE&&t.push(n.textContent);return t.join("")}queryEffectiveChildren(e){let t=this.queryDistributedElements(e);return t&&t[0]}queryAllEffectiveChildren(e){return this.queryDistributedElements(e)}getContentChildNodes(e){let t=this.root.querySelector(e||"slot");return t?Er(t).getDistributedNodes():[]}getContentChildren(e){let t=this.getContentChildNodes(e).filter((function(e){return e.nodeType===Node.ELEMENT_NODE}));return t}isLightDescendant(e){const t=this;return t!==e&&Ue(t).contains(e)&&Ue(t).getRootNode()===Ue(e).getRootNode()}isLocalDescendant(e){return this.root===Ue(e).getRootNode()}scopeSubtree(e,t=!1){return function(e,t=!1){if(!Cr||!Nr)return null;if(!Cr.handlesDynamicScoping)return null;const n=Nr.ScopingShim;if(!n)return null;const r=n.scopeForNode(e),i=Ue(e).getRootNode(),a=e=>{if(!Tr(e,i))return;const t=Array.from(Cr.nativeMethods.querySelectorAll.call(e,"*"));t.push(e);for(let e=0;e<t.length;e++){const a=t[e];if(!Tr(a,i))continue;const o=n.currentScopeForNode(a);o!==r&&(""!==o&&n.unscopeNode(a,o),n.scopeNode(a,r))}};if(a(e),t){const t=new MutationObserver((e=>{for(let t=0;t<e.length;t++){const n=e[t];for(let e=0;e<n.addedNodes.length;e++){const t=n.addedNodes[e];t.nodeType===Node.ELEMENT_NODE&&a(t)}}}));return t.observe(e,{childList:!0,subtree:!0}),t}return null}(e,t)}getComputedStyleValue(e){return Br.getComputedStyleValue(this,e)}debounce(e,t,n){return this._debouncers=this._debouncers||{},this._debouncers[e]=on.debounce(this._debouncers[e],n>0?at.after(n):ot,t.bind(this))}isDebouncerActive(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];return!(!t||!t.isActive())}flushDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.flush()}cancelDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.cancel()}async(e,t){return t>0?at.run(e.bind(this),t):~ot.run(e.bind(this))}cancelAsync(e){e<0?ot.cancel(~e):at.cancel(e)}create(e,t){let n=document.createElement(e);if(t)if(n.setProperties)n.setProperties(t);else for(let e in t)n[e]=t[e];return n}elementMatches(e,t){return wr(t||this,e)}toggleAttribute(e,t){let n=this;return 3===arguments.length&&(n=arguments[2]),1==arguments.length&&(t=!n.hasAttribute(e)),t?(Ue(n).setAttribute(e,""),!0):(Ue(n).removeAttribute(e),!1)}toggleClass(e,t,n){n=n||this,1==arguments.length&&(t=!n.classList.contains(e)),t?n.classList.add(e):n.classList.remove(e)}transform(e,t){(t=t||this).style.webkitTransform=e,t.style.transform=e}translate3d(e,t,n,r){r=r||this,this.transform("translate3d("+e+","+t+","+n+")",r)}arrayDelete(e,t){let n;if(Array.isArray(e)){if(n=e.indexOf(t),n>=0)return e.splice(n,1)}else{if(n=qe(this,e).indexOf(t),n>=0)return this.splice(e,n,1)}return null}_logger(e,t){switch(Array.isArray(t)&&1===t.length&&Array.isArray(t[0])&&(t=t[0]),e){case"log":case"warn":case"error":console[e](...t)}}_log(...e){this._logger("log",e)}_warn(...e){this._logger("warn",e)}_error(...e){this._logger("error",e)}_logf(e,...t){return["[%s::%s]",this.is,e,...t]}}return a.prototype.is="",a})),Ir={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},Pr={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},Or=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},Pr);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Rr(e,t,n,r){!function(e,t,n){const r=e._noAccessors,i=Object.getOwnPropertyNames(e);for(let a=0;a<i.length;a++){let o=i[a];if(!(o in n))if(r)t[o]=e[o];else{let n=Object.getOwnPropertyDescriptor(e,o);n&&(n.configurable=!0,Object.defineProperty(t,o,n))}}}(t,e,r);for(let e in Ir)t[e]&&(n[e]=n[e]||[],n[e].push(t[e]))}function Dr(e,t,n){t=t||[];for(let r=e.length-1;r>=0;r--){let i=e[r];i&&(Array.isArray(i)?Dr(i,t):t.indexOf(i)<0&&(!n||n.indexOf(i)<0)&&t.unshift(i))}return t}function Mr(e,t){for(const n in t){const r=e[n],i=t[n];e[n]=!("value"in i)&&r&&"value"in r?Object.assign({value:r.value},i):i}}const Fr=kr(HTMLElement);function Ur(e,t,n){let r;const i={};class a extends t{static _finalizeClass(){if(this.hasOwnProperty(JSCompiler_renameProperty("generatedFrom",this))){if(r)for(let e,t=0;t<r.length;t++)e=r[t],e.properties&&this.createProperties(e.properties),e.observers&&this.createObservers(e.observers,e.properties);e.properties&&this.createProperties(e.properties),e.observers&&this.createObservers(e.observers,e.properties),this._prepareTemplate()}else t._finalizeClass.call(this)}static get properties(){const t={};if(r)for(let e=0;e<r.length;e++)Mr(t,r[e].properties);return Mr(t,e.properties),t}static get observers(){let t=[];if(r)for(let e,n=0;n<r.length;n++)e=r[n],e.observers&&(t=t.concat(e.observers));return e.observers&&(t=t.concat(e.observers)),t}created(){super.created();const e=i.created;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}_registered(){const e=a.prototype;if(!e.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",e))){e.__hasRegisterFinished=!0,super._registered(),fe&&o(e);const t=Object.getPrototypeOf(this);let n=i.beforeRegister;if(n)for(let e=0;e<n.length;e++)n[e].call(t);if(n=i.registered,n)for(let e=0;e<n.length;e++)n[e].call(t)}}_applyListeners(){super._applyListeners();const e=i.listeners;if(e)for(let t=0;t<e.length;t++){const n=e[t];if(n)for(let e in n)this._addMethodEventListenerToNode(this,e,n[e])}}_ensureAttributes(){const e=i.hostAttributes;if(e)for(let t=e.length-1;t>=0;t--){const n=e[t];for(let e in n)this._ensureAttribute(e,n[e])}super._ensureAttributes()}ready(){super.ready();let e=i.ready;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}attached(){super.attached();let e=i.attached;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}detached(){super.detached();let e=i.detached;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}attributeChanged(e,t,n){super.attributeChanged();let r=i.attributeChanged;if(r)for(let i=0;i<r.length;i++)r[i].call(this,e,t,n)}}if(n){Array.isArray(n)||(n=[n]);let e=t.prototype.behaviors;r=Dr(n,null,e),a.prototype.behaviors=e?e.concat(n):r}const o=t=>{r&&function(e,t,n){for(let r=0;r<t.length;r++)Rr(e,t[r],n,Or)}(t,r,i),Rr(t,e,i,Pr)};return fe||o(a.prototype),a.generatedFrom=e,a}const Hr=function(e){let t;return t="function"==typeof e?e:Hr.Class(e),e._legacyForceObservedAttributes&&(t.prototype._legacyForceObservedAttributes=e._legacyForceObservedAttributes),customElements.define(t.is,t),t};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function Lr(e,t,n,r,i){let a;i&&(a="object"==typeof n&&null!==n,a&&(r=e.__dataTemp[t]));let o=r!==n&&(r==r||n==n);return a&&o&&(e.__dataTemp[t]=n),o}Hr.Class=function(e,t){let n=t?t(Fr):Fr;return n=Ur(e,n,e.behaviors),n.is=n.prototype.is=e.is,n};const Gr=Ce((e=>class extends e{_shouldPropertyChange(e,t,n){return Lr(this,e,t,n,!0)}})),jr=Ce((e=>class extends e{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(e,t,n){return Lr(this,e,t,n,this.mutableData)}}));Gr._mutablePropertyChange=Lr;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let $r=null;function Xr(){return $r}Xr.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:Xr,writable:!0}});const zr=en(Xr),qr=Gr(zr);const Vr=en(class{});function Yr(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(Boolean(e)!=Boolean(r.__hideTemplateChildren__))if(r.nodeType===Node.TEXT_NODE)e?(r.__polymerTextContent__=r.textContent,r.textContent=""):r.textContent=r.__polymerTextContent__;else if("slot"===r.localName)if(e)r.__polymerReplaced__=document.createComment("hidden-slot"),Ue(Ue(r).parentNode).replaceChild(r.__polymerReplaced__,r);else{const e=r.__polymerReplaced__;e&&Ue(Ue(e).parentNode).replaceChild(r,e)}else r.style&&(e?(r.__polymerDisplay__=r.style.display,r.style.display="none"):r.style.display=r.__polymerDisplay__);r.__hideTemplateChildren__=e,r._showHideChildren&&r._showHideChildren(e)}}class Kr extends Vr{constructor(e){super(),this._configureProperties(e),this.root=this._stampTemplate(this.__dataHost);let t=[];this.children=t;for(let e=this.root.firstChild;e;e=e.nextSibling)t.push(e),e.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let n=this.__templatizeOptions;(e&&n.instanceProps||!n.instanceProps)&&this._enableProperties()}_configureProperties(e){if(this.__templatizeOptions.forwardHostProp)for(let e in this.__hostProps)this._setPendingProperty(e,this.__dataHost["_host_"+e]);for(let t in e)this._setPendingProperty(t,e[t])}forwardHostProp(e,t){this._setPendingPropertyOrPath(e,t,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(e,t,n){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(e,t,(e=>{e.model=this,n(e)}));else{let r=this.__dataHost.__dataHost;r&&r._addEventListenerToNode(e,t,n)}}_showHideChildren(e){Yr(e,this.children)}_setUnmanagedPropertyToNode(e,t,n){e.__hideTemplateChildren__&&e.nodeType==Node.TEXT_NODE&&"textContent"==t?e.__polymerTextContent__=n:super._setUnmanagedPropertyToNode(e,t,n)}get parentModel(){let e=this.__parentModel;if(!e){let t;e=this;do{e=e.__dataHost.__dataHost}while((t=e.__templatizeOptions)&&!t.parentModel);this.__parentModel=e}return e}dispatchEvent(e){return!0}}Kr.prototype.__dataHost,Kr.prototype.__templatizeOptions,Kr.prototype._methodHost,Kr.prototype.__templatizeOwner,Kr.prototype.__hostProps;const Jr=Gr(Kr);function Qr(e){let t=e.__dataHost;return t&&t._methodHost||t}function Wr(e,t,n){let r=n.mutableData?Jr:Kr;ni.mixin&&(r=ni.mixin(r));let i=class extends r{};return i.prototype.__templatizeOptions=n,i.prototype._bindTemplate(e),function(e,t,n,r){let i=n.hostProps||{};for(let t in r.instanceProps){delete i[t];let n=r.notifyInstanceProp;n&&e.prototype._addPropertyEffect(t,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:ti(t,n)})}if(r.forwardHostProp&&t.__dataHost)for(let t in i)n.hasHostProps||(n.hasHostProps=!0),e.prototype._addPropertyEffect(t,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(e,t,n){e.__dataHost._setPendingPropertyOrPath("_host_"+t,n[t],!0,!0)}})}(i,e,t,n),i}function Zr(e,t,n,r){let i=n.forwardHostProp;if(i&&t.hasHostProps){const a="template"==e.localName;let o=t.templatizeTemplateClass;if(!o){if(a){let e=n.mutableData?qr:zr;class r extends e{}o=t.templatizeTemplateClass=r}else{const n=e.constructor;class r extends n{}o=t.templatizeTemplateClass=r}let s=t.hostProps;for(let e in s)o.prototype._addPropertyEffect("_host_"+e,o.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:ei(e,i)}),o.prototype._createNotifyingProperty("_host_"+e);me&&r&&function(e,t,n){const r=n.constructor._properties,{propertyEffects:i}=e,{instanceProps:a}=t;for(let e in i)if(!(r[e]||a&&a[e])){const t=i[e];for(let e=0;e<t.length;e++){const{part:n}=t[e].info;if(!n.signature||!n.signature.static)break}}}(t,n,r)}if(e.__dataProto&&Object.assign(e.__data,e.__dataProto),a)!function(e,t){$r=e,Object.setPrototypeOf(e,t.prototype),new t,$r=null}(e,o),e.__dataTemp={},e.__dataPending=null,e.__dataOld=null,e._enableProperties();else{Object.setPrototypeOf(e,o.prototype);const n=t.hostProps;for(let t in n)if(t="_host_"+t,t in e){const n=e[t];delete e[t],e.__data[t]=n}}}}function ei(e,t){return function(e,n,r){t.call(e.__templatizeOwner,n.substring("_host_".length),r[n])}}function ti(e,t){return function(e,n,r){t.call(e.__templatizeOwner,e,n,r[n])}}function ni(e,t,n){if(he&&!Qr(e))throw new Error("strictTemplatePolicy: template owner not trusted");if(n=n||{},e.__templatizeOwner)throw new Error("A <template> can only be templatized once");e.__templatizeOwner=t;let r=(t?t.constructor:Kr)._parseTemplate(e),i=r.templatizeInstanceClass;i||(i=Wr(e,r,n),r.templatizeInstanceClass=i);const a=Qr(e);Zr(e,r,n,a);let o=class extends i{};return o.prototype._methodHost=a,o.prototype.__dataHost=e,o.prototype.__templatizeOwner=t,o.prototype.__hostProps=r.hostProps,o}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ri=!1;function ii(){if(fe&&!se){if(!ri){ri=!0;const e=document.createElement("style");e.textContent="dom-bind,dom-if,dom-repeat{display:none;}",document.head.appendChild(e)}return!0}return!1}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const ai=qn(jr(en(HTMLElement)));customElements.define("dom-bind",class extends ai{static get observedAttributes(){return["mutable-data"]}constructor(){if(super(),he)throw new Error("strictTemplatePolicy: dom-bind not allowed");this.root=null,this.$=null,this.__children=null}attributeChangedCallback(e,t,n,r){this.mutableData=!0}connectedCallback(){ii()||(this.style.display="none"),this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){Ue(Ue(this).parentNode).insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let e=0;e<this.__children.length;e++)this.root.appendChild(this.__children[e])}render(){let e;if(!this.__children){if(e=e||this.querySelector("template"),!e){let t=new MutationObserver((()=>{if(e=this.querySelector("template"),!e)throw new Error("dom-bind requires a <template> child");t.disconnect(),this.render()}));return void t.observe(this,{childList:!0})}this.root=this._stampTemplate(e),this.$=this.root.$,this.__children=[];for(let e=this.root.firstChild;e;e=e.nextSibling)this.__children[this.__children.length]=e;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class oi{constructor(e){this.value=e.toString()}toString(){return this.value}}function si(e){if(e instanceof HTMLTemplateElement)return e.innerHTML;if(e instanceof oi)return function(e){if(e instanceof oi)return e.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${e}`)}(e);throw new Error(`non-template value passed to Polymer's html function: ${e}`)}const li=function(e,...t){const n=document.createElement("template");return n.innerHTML=t.reduce(((t,n,r)=>t+si(n)+e[r+1]),e[0]),n},ui=an(HTMLElement),ci=jr(ui);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class pi extends ci{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!xe,readOnly:!0},initialCount:{type:Number},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"},notifyDomChange:{type:Boolean},reuseChunkedInstances:{type:Boolean}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__renderStartTime=null,this.__itemsArrayChanged=!1,this.__shouldMeasureChunk=!1,this.__shouldContinueChunking=!1,this.__chunkingId=0,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null,this._templateInfo}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let e=0;e<this.__instances.length;e++)this.__detachInstance(e)}connectedCallback(){if(super.connectedCallback(),ii()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let e=Ue(Ue(this).parentNode);for(let t=0;t<this.__instances.length;t++)this.__attachInstance(t,e)}}__ensureTemplatized(){if(!this.__ctor){const e=this;let t=this.template=e._templateInfo?e:this.querySelector("template");if(!t){let e=new MutationObserver((()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");e.disconnect(),this.__render()}));return e.observe(this,{childList:!0}),!1}let n={};n[this.as]=!0,n[this.indexAs]=!0,n[this.itemsIndexAs]=!0,this.__ctor=ni(t,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:n,forwardHostProp:function(e,t){let n=this.__instances;for(let r,i=0;i<n.length&&(r=n[i]);i++)r.forwardHostProp(e,t)},notifyInstanceProp:function(e,t,n){if((r=this.as)===(i=t)||Ge(r,i)||je(r,i)){let r=e[this.itemsIndexAs];t==this.as&&(this.items[r]=n);let i=$e(this.as,`${JSCompiler_renameProperty("items",this)}.${r}`,t);this.notifyPath(i,n)}var r,i}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(e){if("string"==typeof e){let t=e,n=this.__getMethodHost();return function(){return n[t].apply(n,arguments)}}return e}__sortChanged(e){this.__sortFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__filterChanged(e){this.__filterFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(e){return Math.ceil(1e3/e)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__handleObservedPaths(e){if(this.__sortFn||this.__filterFn)if(e){if(this.__observePaths){let t=this.__observePaths;for(let n=0;n<t.length;n++)0===e.indexOf(t[n])&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__itemsChanged(e){this.items&&Array.isArray(this.items),this.__handleItemPath(e.path,e.value)||("items"===e.path&&(this.__itemsArrayChanged=!0),this.__debounceRender(this.__render))}__debounceRender(e,t=0){this.__renderDebouncer=on.debounce(this.__renderDebouncer,t>0?at.after(t):ot,e.bind(this)),ln(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),gr()}__render(){if(!this.__ensureTemplatized())return;let e=this.items||[];const t=this.__sortAndFilterItems(e),n=this.__calculateLimit(t.length);this.__updateInstances(e,n,t),this.initialCount&&(this.__shouldMeasureChunk||this.__shouldContinueChunking)&&(cancelAnimationFrame(this.__chunkingId),this.__chunkingId=requestAnimationFrame((()=>this.__continueChunking()))),this._setRenderedItemCount(this.__instances.length),xe&&!this.notifyDomChange||this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}__sortAndFilterItems(e){let t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=n;return this.__filterFn&&(t=t.filter(((t,n,r)=>this.__filterFn(e[t],n,r)))),this.__sortFn&&t.sort(((t,n)=>this.__sortFn(e[t],e[n]))),t}__calculateLimit(e){let t=e;const n=this.__instances.length;if(this.initialCount){let r;!this.__chunkCount||this.__itemsArrayChanged&&!this.reuseChunkedInstances?(t=Math.min(e,this.initialCount),r=Math.max(t-n,0),this.__chunkCount=r||1):(r=Math.min(Math.max(e-n,0),this.__chunkCount),t=Math.min(n+r,e)),this.__shouldMeasureChunk=r===this.__chunkCount,this.__shouldContinueChunking=t<e,this.__renderStartTime=performance.now()}return this.__itemsArrayChanged=!1,t}__continueChunking(){if(this.__shouldMeasureChunk){const e=performance.now()-this.__renderStartTime,t=this._targetFrameTime/e;this.__chunkCount=Math.round(this.__chunkCount*t)||1}this.__shouldContinueChunking&&this.__debounceRender(this.__render)}__updateInstances(e,t,n){const r=this.__itemsIdxToInstIdx={};let i;for(i=0;i<t;i++){let t=this.__instances[i],a=n[i],o=e[a];r[a]=i,t?(t._setPendingProperty(this.as,o),t._setPendingProperty(this.indexAs,i),t._setPendingProperty(this.itemsIndexAs,a),t._flushProperties()):this.__insertInstance(o,i,a)}for(let e=this.__instances.length-1;e>=i;e--)this.__detachAndRemoveInstance(e)}__detachInstance(e){let t=this.__instances[e];const n=Ue(t.root);for(let e=0;e<t.children.length;e++){let r=t.children[e];n.appendChild(r)}return t}__attachInstance(e,t){let n=this.__instances[e];t.insertBefore(n.root,this)}__detachAndRemoveInstance(e){this.__detachInstance(e),this.__instances.splice(e,1)}__stampInstance(e,t,n){let r={};return r[this.as]=e,r[this.indexAs]=t,r[this.itemsIndexAs]=n,new this.__ctor(r)}__insertInstance(e,t,n){const r=this.__stampInstance(e,t,n);let i=this.__instances[t+1],a=i?i.children[0]:this;return Ue(Ue(this).parentNode).insertBefore(r.root,a),this.__instances[t]=r,r}_showHideChildren(e){for(let t=0;t<this.__instances.length;t++)this.__instances[t]._showHideChildren(e)}__handleItemPath(e,t){let n=e.slice(6),r=n.indexOf("."),i=r<0?n:n.substring(0,r);if(i==parseInt(i,10)){let e=r<0?"":n.substring(r+1);this.__handleObservedPaths(e);let a=this.__itemsIdxToInstIdx[i],o=this.__instances[a];if(o){let n=this.as+(e?"."+e:"");o._setPendingPropertyOrPath(n,t,!1,!0),o._flushProperties()}return!0}}itemForElement(e){let t=this.modelForElement(e);return t&&t[this.as]}indexForElement(e){let t=this.modelForElement(e);return t&&t[this.indexAs]}modelForElement(e){return function(e,t){let n;for(;t;)if(n=t.__dataHost?t:t.__templatizeInstance){if(n.__dataHost==e)return n;t=n.__dataHost}else t=Ue(t).parentNode;return null}(this.template,e)}}customElements.define(pi.is,pi);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class hi extends ui{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"},notifyDomChange:{type:Boolean}}}constructor(){super(),this.__renderDebouncer=null,this._lastIf=!1,this.__hideTemplateChildren__=!1,this.__template,this._templateInfo}__debounceRender(){this.__renderDebouncer=on.debounce(this.__renderDebouncer,ot,(()=>this.__render())),ln(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();const e=Ue(this).parentNode;e&&(e.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||Ue(e).host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),ii()||(this.style.display="none"),this.if&&this.__debounceRender()}__ensureTemplate(){if(!this.__template){const e=this;let t=e._templateInfo?e:Ue(e).querySelector("template");if(!t){let e=new MutationObserver((()=>{if(!Ue(this).querySelector("template"))throw new Error("dom-if requires a <template> child");e.disconnect(),this.__render()}));return e.observe(this,{childList:!0}),!1}this.__template=t}return!0}__ensureInstance(){let e=Ue(this).parentNode;if(this.__hasInstance()){let t=this.__getInstanceNodes();if(t&&t.length){if(Ue(this).previousSibling!==t[t.length-1])for(let n,r=0;r<t.length&&(n=t[r]);r++)Ue(e).insertBefore(n,this)}}else{if(!e)return!1;if(!this.__ensureTemplate())return!1;this.__createAndInsertInstance(e)}return!0}render(){gr()}__render(){if(this.if){if(!this.__ensureInstance())return}else this.restamp&&this.__teardownInstance();this._showHideChildren(),xe&&!this.notifyDomChange||this.if==this._lastIf||(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}__hasInstance(){}__getInstanceNodes(){}__createAndInsertInstance(e){}__teardownInstance(){}_showHideChildren(){}}const di=be?class extends hi{constructor(){super(),this.__instance=null,this.__syncInfo=null}__hasInstance(){return Boolean(this.__instance)}__getInstanceNodes(){return this.__instance.templateInfo.childNodes}__createAndInsertInstance(e){const t=this.__dataHost||this;if(he&&!this.__dataHost)throw new Error("strictTemplatePolicy: template owner not trusted");const n=t._bindTemplate(this.__template,!0);n.runEffects=(e,t,n)=>{let r=this.__syncInfo;if(this.if)r&&(this.__syncInfo=null,this._showHideChildren(),t=Object.assign(r.changedProps,t)),e(t,n);else if(this.__instance)if(r||(r=this.__syncInfo={runEffects:e,changedProps:{}}),n)for(const e in t){const t=Le(e);r.changedProps[t]=this.__dataHost[t]}else Object.assign(r.changedProps,t)},this.__instance=t._stampTemplate(this.__template,n),Ue(e).insertBefore(this.__instance,this)}__syncHostProperties(){const e=this.__syncInfo;e&&(this.__syncInfo=null,e.runEffects(e.changedProps,!1))}__teardownInstance(){const e=this.__dataHost||this;this.__instance&&(e._removeBoundDom(this.__instance),this.__instance=null,this.__syncInfo=null)}_showHideChildren(){const e=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==e&&(this.__instance.__hidden=e,Yr(e,this.__instance.templateInfo.childNodes)),e||this.__syncHostProperties()}}:class extends hi{constructor(){super(),this.__ctor=null,this.__instance=null,this.__invalidProps=null}__hasInstance(){return Boolean(this.__instance)}__getInstanceNodes(){return this.__instance.children}__createAndInsertInstance(e){this.__ctor||(this.__ctor=ni(this.__template,this,{mutableData:!0,forwardHostProp:function(e,t){this.__instance&&(this.if?this.__instance.forwardHostProp(e,t):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[Le(e)]=!0))}})),this.__instance=new this.__ctor,Ue(e).insertBefore(this.__instance.root,this)}__teardownInstance(){if(this.__instance){let e=this.__instance.children;if(e&&e.length){let t=Ue(e[0]).parentNode;if(t){t=Ue(t);for(let n,r=0;r<e.length&&(n=e[r]);r++)t.removeChild(n)}}this.__invalidProps=null,this.__instance=null}}__syncHostProperties(){let e=this.__invalidProps;if(e){this.__invalidProps=null;for(let t in e)this.__instance._setPendingProperty(t,this.__dataHost[t]);this.__instance._flushProperties()}}_showHideChildren(){const e=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==e&&(this.__instance.__hidden=e,this.__instance._showHideChildren(e)),e||this.__syncHostProperties()}};customElements.define(di.is,di);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let fi=Ce((e=>{let t=an(e);return class extends t{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(e,t){let n=t.path;if(n==JSCompiler_renameProperty("items",this)){let n=t.base||[],r=this.__lastItems;if(e!==this.__lastMulti&&this.clearSelection(),r){let e=hr(n,r);this.__applySplices(e)}this.__lastItems=n,this.__lastMulti=e}else if(t.path==`${JSCompiler_renameProperty("items",this)}.splices`)this.__applySplices(t.value.indexSplices);else{let e=n.slice(`${JSCompiler_renameProperty("items",this)}.`.length),t=parseInt(e,10);e.indexOf(".")<0&&e==t&&this.__deselectChangedIdx(t)}}__applySplices(e){let t=this.__selectedMap;for(let n=0;n<e.length;n++){let r=e[n];t.forEach(((e,n)=>{e<r.index||(e>=r.index+r.removed.length?t.set(n,e+r.addedCount-r.removed.length):t.set(n,-1))}));for(let e=0;e<r.addedCount;e++){let n=r.index+e;t.has(this.items[n])&&t.set(this.items[n],n)}}this.__updateLinks();let n=0;t.forEach(((e,r)=>{e<0?(this.multi?this.splice(JSCompiler_renameProperty("selected",this),n,1):this.selected=this.selectedItem=null,t.delete(r)):n++}))}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let e=0;this.__selectedMap.forEach((t=>{t>=0&&this.linkPaths(`${JSCompiler_renameProperty("items",this)}.${t}`,`${JSCompiler_renameProperty("selected",this)}.${e++}`)}))}else this.__selectedMap.forEach((e=>{this.linkPaths(JSCompiler_renameProperty("selected",this),`${JSCompiler_renameProperty("items",this)}.${e}`),this.linkPaths(JSCompiler_renameProperty("selectedItem",this),`${JSCompiler_renameProperty("items",this)}.${e}`)}))}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(e){return this.__selectedMap.has(e)}isIndexSelected(e){return this.isSelected(this.items[e])}__deselectChangedIdx(e){let t=this.__selectedIndexForItemIndex(e);if(t>=0){let e=0;this.__selectedMap.forEach(((n,r)=>{t==e++&&this.deselect(r)}))}}__selectedIndexForItemIndex(e){let t=this.__dataLinkedPaths[`${JSCompiler_renameProperty("items",this)}.${e}`];if(t)return parseInt(t.slice(`${JSCompiler_renameProperty("selected",this)}.`.length),10)}deselect(e){let t=this.__selectedMap.get(e);if(t>=0){let n;this.__selectedMap.delete(e),this.multi&&(n=this.__selectedIndexForItemIndex(t)),this.__updateLinks(),this.multi?this.splice(JSCompiler_renameProperty("selected",this),n,1):this.selected=this.selectedItem=null}}deselectIndex(e){this.deselect(this.items[e])}select(e){this.selectIndex(this.items.indexOf(e))}selectIndex(e){let t=this.items[e];this.isSelected(t)?this.toggle&&this.deselectIndex(e):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(t,e),this.__updateLinks(),this.multi?this.push(JSCompiler_renameProperty("selected",this),t):this.selected=this.selectedItem=t)}}})),mi=fi(ui);class gi extends mi{static get is(){return"array-selector"}static get template(){return null}}customElements.define(gi.is,gi);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const yi=new Q;window.ShadyCSS||(window.ShadyCSS={prepareTemplate(e,t,n){},prepareTemplateDom(e,t){},prepareTemplateStyles(e,t,n){},styleSubtree(e,t){yi.processStyles(),B(e,t)},styleElement(e){yi.processStyles()},styleDocument(e){yi.processStyles(),B(document.body,e)},getComputedStyleValue:(e,t)=>k(e,t),flushCustomStyles(){},nativeCss:a,nativeShadow:e,cssBuild:n,disableRuntime:i}),window.ShadyCSS.CustomStyleInterface=yi;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const vi=window.ShadyCSS.CustomStyleInterface;class wi extends HTMLElement{constructor(){super(),this._style=null,vi.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const e=this.querySelector("style");if(!e)return null;this._style=e;const t=e.getAttribute("include");return t&&(e.removeAttribute("include"),e.textContent=function(e){let t=e.trim().split(/\s+/),n="";for(let e=0;e<t.length;e++)n+=Fe(t[e]);return n}(t)+e.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}window.customElements.define("custom-style",wi);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const bi=kr(HTMLElement).prototype,xi=Hr({_template:li`<style>:host{display:inline-block;position:fixed;clip:rect(0,0,0,0)}</style><div aria-live$="[[mode]]">[[_text]]</div>`,is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},timeout:{type:Number,value:150},_text:{type:String,value:""}},created:function(){xi.instance||(xi.instance=this),document.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(e){this._text="",this.async((function(){this._text=e}),this.timeout)},_onIronAnnounce:function(e){e.detail&&e.detail.text&&this.announce(e.detail.text)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/xi.instance=null,xi.requestAvailability=function(){xi.instance||(xi.instance=document.createElement("iron-a11y-announcer")),document.body?document.body.appendChild(xi.instance):document.addEventListener("load",(function(){document.body.appendChild(xi.instance)}))};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
class _i{constructor(e){_i[" "](e),this.type=e&&e.type||"default",this.key=e&&e.key,e&&"value"in e&&(this.value=e.value)}get value(){var e=this.type,t=this.key;if(e&&t)return _i.types[e]&&_i.types[e][t]}set value(e){var t=this.type,n=this.key;t&&n&&(t=_i.types[t]=_i.types[t]||{},null==e?delete t[n]:t[n]=e)}get list(){if(this.type){var e=_i.types[this.type];return e?Object.keys(e).map((function(e){return Ai[this.type][e]}),this):[]}}byKey(e){return this.key=e,this.value}}_i[" "]=function(){},_i.types={};var Ai=_i.types;Hr({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(e,t,n){var r=new _i({type:e,key:t});return void 0!==n&&n!==r.value?r.value=n:this.value!==r.value&&(this.value=r.value),r},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(e){e&&(this.value=this)},byKey:function(e){return new _i({type:this.type,key:e}).value}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
let Ei=null;const Ci={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:"_invalidChanged"}},registered:function(){Ei=new _i({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},get _validator(){return Ei&&Ei.byKey(this.validator)},hasValidator:function(){return null!=this._validator},validate:function(e){return void 0===e&&void 0!==this.value?this.invalid=!this._getValidity(this.value):this.invalid=!this._getValidity(e),!this.invalid},_getValidity:function(e){return!this.hasValidator()||this._validator.validate(e)}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
if(Hr({_template:li`<style>:host{display:inline-block}</style><slot id="content"></slot>`,is:"iron-input",behaviors:[Ci],properties:{bindValue:{type:String,value:""},value:{type:String,computed:"_computeValue(bindValue)"},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChanged(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},created:function(){xi.requestAvailability(),this._previousValidInput="",this._patternAlreadyChecked=!1},attached:function(){this._observer=Er(this).observeNodes(function(e){this._initSlottedInput()}.bind(this))},detached:function(){this._observer&&(Er(this).unobserveNodes(this._observer),this._observer=null)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0],this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value),this.fire("iron-input-ready")},get _patternRegExp(){var e;if(this.allowedPattern)e=new RegExp(this.allowedPattern);else if("number"===this.inputElement.type)e=/[0-9.,e-]/;return e},_bindValueChanged:function(e,t){t&&(void 0===e?t.value=null:e!==t.value&&(this.inputElement.value=e),this.autoValidate&&this.validate(),this.fire("bind-value-changed",{value:e}))},_onInput:function(){this.allowedPattern&&!this._patternAlreadyChecked&&(this._checkPatternValidity()||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.inputElement.value=this._previousValidInput));this.bindValue=this._previousValidInput=this.inputElement.value,this._patternAlreadyChecked=!1},_isPrintable:function(e){var t=8==e.keyCode||9==e.keyCode||13==e.keyCode||27==e.keyCode,n=19==e.keyCode||20==e.keyCode||45==e.keyCode||46==e.keyCode||144==e.keyCode||145==e.keyCode||e.keyCode>32&&e.keyCode<41||e.keyCode>111&&e.keyCode<124;return!(t||0==e.charCode&&n)},_onKeypress:function(e){if(this.allowedPattern||"number"===this.inputElement.type){var t=this._patternRegExp;if(t&&!(e.metaKey||e.ctrlKey||e.altKey)){this._patternAlreadyChecked=!0;var n=String.fromCharCode(e.charCode);this._isPrintable(e)&&!t.test(n)&&(e.preventDefault(),this._announceInvalidCharacter("Invalid character "+n+" not entered."))}}},_checkPatternValidity:function(){var e=this._patternRegExp;if(!e)return!0;for(var t=0;t<this.inputElement.value.length;t++)if(!e.test(this.inputElement.value[t]))return!1;return!0},validate:function(){if(!this.inputElement)return this.invalid=!1,!0;var e=this.inputElement.checkValidity();return e&&(this.required&&""===this.bindValue?e=!1:this.hasValidator()&&(e=Ci.validate.call(this,this.bindValue))),this.invalid=!e,this.fire("iron-input-validate"),e},_announceInvalidCharacter:function(e){this.fire("iron-announce",{text:e})},_computeValue:function(e){return e}}),!window.polymerSkipLoadingFontRoboto){const e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.crossOrigin="anonymous",e.href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,300,300italic,400italic,500,500italic,700,700italic",document.head.appendChild(e)}
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const Ni=li`<custom-style><style is="custom-style">html{--paper-font-common-base:{font-family:Roboto,Noto,sans-serif;-webkit-font-smoothing:antialiased};--paper-font-common-code:{font-family:'Roboto Mono',Consolas,Menlo,monospace;-webkit-font-smoothing:antialiased};--paper-font-common-expensive-kerning:{text-rendering:optimizeLegibility};--paper-font-common-nowrap:{white-space:nowrap;overflow:hidden;text-overflow:ellipsis};--paper-font-display4:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:112px;font-weight:300;letter-spacing:-.044em;line-height:120px};--paper-font-display3:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:56px;font-weight:400;letter-spacing:-.026em;line-height:60px};--paper-font-display2:{@apply --paper-font-common-base;font-size:45px;font-weight:400;letter-spacing:-.018em;line-height:48px};--paper-font-display1:{@apply --paper-font-common-base;font-size:34px;font-weight:400;letter-spacing:-.01em;line-height:40px};--paper-font-headline:{@apply --paper-font-common-base;font-size:24px;font-weight:400;letter-spacing:-.012em;line-height:32px};--paper-font-title:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:20px;font-weight:500;line-height:28px};--paper-font-subhead:{@apply --paper-font-common-base;font-size:16px;font-weight:400;line-height:24px};--paper-font-body2:{@apply --paper-font-common-base;font-size:14px;font-weight:500;line-height:24px};--paper-font-body1:{@apply --paper-font-common-base;font-size:14px;font-weight:400;line-height:20px};--paper-font-caption:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:12px;font-weight:400;letter-spacing:.011em;line-height:20px};--paper-font-menu:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:13px;font-weight:500;line-height:24px};--paper-font-button:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:14px;font-weight:500;letter-spacing:.018em;line-height:24px;text-transform:uppercase};--paper-font-code2:{@apply --paper-font-common-code;font-size:14px;font-weight:700;line-height:20px};--paper-font-code1:{@apply --paper-font-common-code;font-size:14px;font-weight:500;line-height:20px};}</style></custom-style>`;Ni.setAttribute("style","display: none;"),document.head.appendChild(Ni.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Ti={attached:function(){this.fire("addon-attached")},update:function(e){}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/Hr({_template:li`<style>:host{display:inline-block;float:right;@apply --paper-font-caption;@apply --paper-input-char-counter;}:host([hidden]){display:none!important}:host(:dir(rtl)){float:left}</style><span>[[_charCounterStr]]</span>`,is:"paper-input-char-counter",behaviors:[Ti],properties:{_charCounterStr:{type:String,value:"0"}},update:function(e){if(e.inputElement){e.value=e.value||"";var t=e.value.toString().length.toString();e.inputElement.hasAttribute("maxlength")&&(t+="/"+e.inputElement.getAttribute("maxlength")),this._charCounterStr=t}}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Si=li`<custom-style><style is="custom-style">[hidden]{display:none!important}</style></custom-style><custom-style><style is="custom-style">html{--layout:{display:-ms-flexbox;display:-webkit-flex;display:flex};--layout-inline:{display:-ms-inline-flexbox;display:-webkit-inline-flex;display:inline-flex};--layout-horizontal:{@apply --layout;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row};--layout-horizontal-reverse:{@apply --layout;-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse};--layout-vertical:{@apply --layout;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column};--layout-vertical-reverse:{@apply --layout;-ms-flex-direction:column-reverse;-webkit-flex-direction:column-reverse;flex-direction:column-reverse};--layout-wrap:{-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap};--layout-wrap-reverse:{-ms-flex-wrap:wrap-reverse;-webkit-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse};--layout-flex-auto:{-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto};--layout-flex-none:{-ms-flex:none;-webkit-flex:none;flex:none};--layout-flex:{-ms-flex:1 1 .000000001px;-webkit-flex:1;flex:1;-webkit-flex-basis:.000000001px;flex-basis:.000000001px};--layout-flex-2:{-ms-flex:2;-webkit-flex:2;flex:2};--layout-flex-3:{-ms-flex:3;-webkit-flex:3;flex:3};--layout-flex-4:{-ms-flex:4;-webkit-flex:4;flex:4};--layout-flex-5:{-ms-flex:5;-webkit-flex:5;flex:5};--layout-flex-6:{-ms-flex:6;-webkit-flex:6;flex:6};--layout-flex-7:{-ms-flex:7;-webkit-flex:7;flex:7};--layout-flex-8:{-ms-flex:8;-webkit-flex:8;flex:8};--layout-flex-9:{-ms-flex:9;-webkit-flex:9;flex:9};--layout-flex-10:{-ms-flex:10;-webkit-flex:10;flex:10};--layout-flex-11:{-ms-flex:11;-webkit-flex:11;flex:11};--layout-flex-12:{-ms-flex:12;-webkit-flex:12;flex:12};--layout-start:{-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start};--layout-center:{-ms-flex-align:center;-webkit-align-items:center;align-items:center};--layout-end:{-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end};--layout-baseline:{-ms-flex-align:baseline;-webkit-align-items:baseline;align-items:baseline};--layout-start-justified:{-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start};--layout-center-justified:{-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center};--layout-end-justified:{-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end};--layout-around-justified:{-ms-flex-pack:distribute;-webkit-justify-content:space-around;justify-content:space-around};--layout-justified:{-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between};--layout-center-center:{@apply --layout-center;@apply --layout-center-justified;};--layout-self-start:{-ms-align-self:flex-start;-webkit-align-self:flex-start;align-self:flex-start};--layout-self-center:{-ms-align-self:center;-webkit-align-self:center;align-self:center};--layout-self-end:{-ms-align-self:flex-end;-webkit-align-self:flex-end;align-self:flex-end};--layout-self-stretch:{-ms-align-self:stretch;-webkit-align-self:stretch;align-self:stretch};--layout-self-baseline:{-ms-align-self:baseline;-webkit-align-self:baseline;align-self:baseline};--layout-start-aligned:{-ms-flex-line-pack:start;-ms-align-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start};--layout-end-aligned:{-ms-flex-line-pack:end;-ms-align-content:flex-end;-webkit-align-content:flex-end;align-content:flex-end};--layout-center-aligned:{-ms-flex-line-pack:center;-ms-align-content:center;-webkit-align-content:center;align-content:center};--layout-between-aligned:{-ms-flex-line-pack:justify;-ms-align-content:space-between;-webkit-align-content:space-between;align-content:space-between};--layout-around-aligned:{-ms-flex-line-pack:distribute;-ms-align-content:space-around;-webkit-align-content:space-around;align-content:space-around};--layout-block:{display:block};--layout-invisible:{visibility:hidden!important};--layout-relative:{position:relative};--layout-fit:{position:absolute;top:0;right:0;bottom:0;left:0};--layout-scroll:{-webkit-overflow-scrolling:touch;overflow:auto};--layout-fullbleed:{margin:0;height:100vh};--layout-fixed-top:{position:fixed;top:0;left:0;right:0};--layout-fixed-right:{position:fixed;top:0;right:0;bottom:0};--layout-fixed-bottom:{position:fixed;right:0;bottom:0;left:0};--layout-fixed-left:{position:fixed;top:0;bottom:0;left:0};}</style></custom-style>`;Si.setAttribute("style","display: none;"),document.head.appendChild(Si.content);var Bi=document.createElement("style");Bi.textContent="[hidden] { display: none !important; }",document.head.appendChild(Bi);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const ki=li`<custom-style><style is="custom-style">html{--google-red-100:#f4c7c3;--google-red-300:#e67c73;--google-red-500:#db4437;--google-red-700:#c53929;--google-blue-100:#c6dafc;--google-blue-300:#7baaf7;--google-blue-500:#4285f4;--google-blue-700:#3367d6;--google-green-100:#b7e1cd;--google-green-300:#57bb8a;--google-green-500:#0f9d58;--google-green-700:#0b8043;--google-yellow-100:#fce8b2;--google-yellow-300:#f7cb4d;--google-yellow-500:#f4b400;--google-yellow-700:#f09300;--google-grey-100:#f5f5f5;--google-grey-300:#e0e0e0;--google-grey-500:#9e9e9e;--google-grey-700:#616161;--paper-red-50:#ffebee;--paper-red-100:#ffcdd2;--paper-red-200:#ef9a9a;--paper-red-300:#e57373;--paper-red-400:#ef5350;--paper-red-500:#f44336;--paper-red-600:#e53935;--paper-red-700:#d32f2f;--paper-red-800:#c62828;--paper-red-900:#b71c1c;--paper-red-a100:#ff8a80;--paper-red-a200:#ff5252;--paper-red-a400:#ff1744;--paper-red-a700:#d50000;--paper-pink-50:#fce4ec;--paper-pink-100:#f8bbd0;--paper-pink-200:#f48fb1;--paper-pink-300:#f06292;--paper-pink-400:#ec407a;--paper-pink-500:#e91e63;--paper-pink-600:#d81b60;--paper-pink-700:#c2185b;--paper-pink-800:#ad1457;--paper-pink-900:#880e4f;--paper-pink-a100:#ff80ab;--paper-pink-a200:#ff4081;--paper-pink-a400:#f50057;--paper-pink-a700:#c51162;--paper-purple-50:#f3e5f5;--paper-purple-100:#e1bee7;--paper-purple-200:#ce93d8;--paper-purple-300:#ba68c8;--paper-purple-400:#ab47bc;--paper-purple-500:#9c27b0;--paper-purple-600:#8e24aa;--paper-purple-700:#7b1fa2;--paper-purple-800:#6a1b9a;--paper-purple-900:#4a148c;--paper-purple-a100:#ea80fc;--paper-purple-a200:#e040fb;--paper-purple-a400:#d500f9;--paper-purple-a700:#aa00ff;--paper-deep-purple-50:#ede7f6;--paper-deep-purple-100:#d1c4e9;--paper-deep-purple-200:#b39ddb;--paper-deep-purple-300:#9575cd;--paper-deep-purple-400:#7e57c2;--paper-deep-purple-500:#673ab7;--paper-deep-purple-600:#5e35b1;--paper-deep-purple-700:#512da8;--paper-deep-purple-800:#4527a0;--paper-deep-purple-900:#311b92;--paper-deep-purple-a100:#b388ff;--paper-deep-purple-a200:#7c4dff;--paper-deep-purple-a400:#651fff;--paper-deep-purple-a700:#6200ea;--paper-indigo-50:#e8eaf6;--paper-indigo-100:#c5cae9;--paper-indigo-200:#9fa8da;--paper-indigo-300:#7986cb;--paper-indigo-400:#5c6bc0;--paper-indigo-500:#3f51b5;--paper-indigo-600:#3949ab;--paper-indigo-700:#303f9f;--paper-indigo-800:#283593;--paper-indigo-900:#1a237e;--paper-indigo-a100:#8c9eff;--paper-indigo-a200:#536dfe;--paper-indigo-a400:#3d5afe;--paper-indigo-a700:#304ffe;--paper-blue-50:#e3f2fd;--paper-blue-100:#bbdefb;--paper-blue-200:#90caf9;--paper-blue-300:#64b5f6;--paper-blue-400:#42a5f5;--paper-blue-500:#2196f3;--paper-blue-600:#1e88e5;--paper-blue-700:#1976d2;--paper-blue-800:#1565c0;--paper-blue-900:#0d47a1;--paper-blue-a100:#82b1ff;--paper-blue-a200:#448aff;--paper-blue-a400:#2979ff;--paper-blue-a700:#2962ff;--paper-light-blue-50:#e1f5fe;--paper-light-blue-100:#b3e5fc;--paper-light-blue-200:#81d4fa;--paper-light-blue-300:#4fc3f7;--paper-light-blue-400:#29b6f6;--paper-light-blue-500:#03a9f4;--paper-light-blue-600:#039be5;--paper-light-blue-700:#0288d1;--paper-light-blue-800:#0277bd;--paper-light-blue-900:#01579b;--paper-light-blue-a100:#80d8ff;--paper-light-blue-a200:#40c4ff;--paper-light-blue-a400:#00b0ff;--paper-light-blue-a700:#0091ea;--paper-cyan-50:#e0f7fa;--paper-cyan-100:#b2ebf2;--paper-cyan-200:#80deea;--paper-cyan-300:#4dd0e1;--paper-cyan-400:#26c6da;--paper-cyan-500:#00bcd4;--paper-cyan-600:#00acc1;--paper-cyan-700:#0097a7;--paper-cyan-800:#00838f;--paper-cyan-900:#006064;--paper-cyan-a100:#84ffff;--paper-cyan-a200:#18ffff;--paper-cyan-a400:#00e5ff;--paper-cyan-a700:#00b8d4;--paper-teal-50:#e0f2f1;--paper-teal-100:#b2dfdb;--paper-teal-200:#80cbc4;--paper-teal-300:#4db6ac;--paper-teal-400:#26a69a;--paper-teal-500:#009688;--paper-teal-600:#00897b;--paper-teal-700:#00796b;--paper-teal-800:#00695c;--paper-teal-900:#004d40;--paper-teal-a100:#a7ffeb;--paper-teal-a200:#64ffda;--paper-teal-a400:#1de9b6;--paper-teal-a700:#00bfa5;--paper-green-50:#e8f5e9;--paper-green-100:#c8e6c9;--paper-green-200:#a5d6a7;--paper-green-300:#81c784;--paper-green-400:#66bb6a;--paper-green-500:#4caf50;--paper-green-600:#43a047;--paper-green-700:#388e3c;--paper-green-800:#2e7d32;--paper-green-900:#1b5e20;--paper-green-a100:#b9f6ca;--paper-green-a200:#69f0ae;--paper-green-a400:#00e676;--paper-green-a700:#00c853;--paper-light-green-50:#f1f8e9;--paper-light-green-100:#dcedc8;--paper-light-green-200:#c5e1a5;--paper-light-green-300:#aed581;--paper-light-green-400:#9ccc65;--paper-light-green-500:#8bc34a;--paper-light-green-600:#7cb342;--paper-light-green-700:#689f38;--paper-light-green-800:#558b2f;--paper-light-green-900:#33691e;--paper-light-green-a100:#ccff90;--paper-light-green-a200:#b2ff59;--paper-light-green-a400:#76ff03;--paper-light-green-a700:#64dd17;--paper-lime-50:#f9fbe7;--paper-lime-100:#f0f4c3;--paper-lime-200:#e6ee9c;--paper-lime-300:#dce775;--paper-lime-400:#d4e157;--paper-lime-500:#cddc39;--paper-lime-600:#c0ca33;--paper-lime-700:#afb42b;--paper-lime-800:#9e9d24;--paper-lime-900:#827717;--paper-lime-a100:#f4ff81;--paper-lime-a200:#eeff41;--paper-lime-a400:#c6ff00;--paper-lime-a700:#aeea00;--paper-yellow-50:#fffde7;--paper-yellow-100:#fff9c4;--paper-yellow-200:#fff59d;--paper-yellow-300:#fff176;--paper-yellow-400:#ffee58;--paper-yellow-500:#ffeb3b;--paper-yellow-600:#fdd835;--paper-yellow-700:#fbc02d;--paper-yellow-800:#f9a825;--paper-yellow-900:#f57f17;--paper-yellow-a100:#ffff8d;--paper-yellow-a200:#ffff00;--paper-yellow-a400:#ffea00;--paper-yellow-a700:#ffd600;--paper-amber-50:#fff8e1;--paper-amber-100:#ffecb3;--paper-amber-200:#ffe082;--paper-amber-300:#ffd54f;--paper-amber-400:#ffca28;--paper-amber-500:#ffc107;--paper-amber-600:#ffb300;--paper-amber-700:#ffa000;--paper-amber-800:#ff8f00;--paper-amber-900:#ff6f00;--paper-amber-a100:#ffe57f;--paper-amber-a200:#ffd740;--paper-amber-a400:#ffc400;--paper-amber-a700:#ffab00;--paper-orange-50:#fff3e0;--paper-orange-100:#ffe0b2;--paper-orange-200:#ffcc80;--paper-orange-300:#ffb74d;--paper-orange-400:#ffa726;--paper-orange-500:#ff9800;--paper-orange-600:#fb8c00;--paper-orange-700:#f57c00;--paper-orange-800:#ef6c00;--paper-orange-900:#e65100;--paper-orange-a100:#ffd180;--paper-orange-a200:#ffab40;--paper-orange-a400:#ff9100;--paper-orange-a700:#ff6500;--paper-deep-orange-50:#fbe9e7;--paper-deep-orange-100:#ffccbc;--paper-deep-orange-200:#ffab91;--paper-deep-orange-300:#ff8a65;--paper-deep-orange-400:#ff7043;--paper-deep-orange-500:#ff5722;--paper-deep-orange-600:#f4511e;--paper-deep-orange-700:#e64a19;--paper-deep-orange-800:#d84315;--paper-deep-orange-900:#bf360c;--paper-deep-orange-a100:#ff9e80;--paper-deep-orange-a200:#ff6e40;--paper-deep-orange-a400:#ff3d00;--paper-deep-orange-a700:#dd2c00;--paper-brown-50:#efebe9;--paper-brown-100:#d7ccc8;--paper-brown-200:#bcaaa4;--paper-brown-300:#a1887f;--paper-brown-400:#8d6e63;--paper-brown-500:#795548;--paper-brown-600:#6d4c41;--paper-brown-700:#5d4037;--paper-brown-800:#4e342e;--paper-brown-900:#3e2723;--paper-grey-50:#fafafa;--paper-grey-100:#f5f5f5;--paper-grey-200:#eeeeee;--paper-grey-300:#e0e0e0;--paper-grey-400:#bdbdbd;--paper-grey-500:#9e9e9e;--paper-grey-600:#757575;--paper-grey-700:#616161;--paper-grey-800:#424242;--paper-grey-900:#212121;--paper-blue-grey-50:#eceff1;--paper-blue-grey-100:#cfd8dc;--paper-blue-grey-200:#b0bec5;--paper-blue-grey-300:#90a4ae;--paper-blue-grey-400:#78909c;--paper-blue-grey-500:#607d8b;--paper-blue-grey-600:#546e7a;--paper-blue-grey-700:#455a64;--paper-blue-grey-800:#37474f;--paper-blue-grey-900:#263238;--dark-divider-opacity:0.12;--dark-disabled-opacity:0.38;--dark-secondary-opacity:0.54;--dark-primary-opacity:0.87;--light-divider-opacity:0.12;--light-disabled-opacity:0.3;--light-secondary-opacity:0.7;--light-primary-opacity:1.0}</style></custom-style>`;ki.setAttribute("style","display: none;"),document.head.appendChild(ki.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Ii=li`<custom-style><style is="custom-style">html{--primary-text-color:var(--light-theme-text-color);--primary-background-color:var(--light-theme-background-color);--secondary-text-color:var(--light-theme-secondary-color);--disabled-text-color:var(--light-theme-disabled-color);--divider-color:var(--light-theme-divider-color);--error-color:var(--paper-deep-orange-a700);--primary-color:var(--paper-indigo-500);--light-primary-color:var(--paper-indigo-100);--dark-primary-color:var(--paper-indigo-700);--accent-color:var(--paper-pink-a200);--light-accent-color:var(--paper-pink-a100);--dark-accent-color:var(--paper-pink-a400);--light-theme-background-color:#ffffff;--light-theme-base-color:#000000;--light-theme-text-color:var(--paper-grey-900);--light-theme-secondary-color:#737373;--light-theme-disabled-color:#9b9b9b;--light-theme-divider-color:#dbdbdb;--dark-theme-background-color:var(--paper-grey-900);--dark-theme-base-color:#ffffff;--dark-theme-text-color:#ffffff;--dark-theme-secondary-color:#bcbcbc;--dark-theme-disabled-color:#646464;--dark-theme-divider-color:#3c3c3c;--text-primary-color:var(--dark-theme-text-color);--default-primary-color:var(--primary-color)}</style></custom-style>`;Ii.setAttribute("style","display: none;"),document.head.appendChild(Ii.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Pi=li`<custom-style><style is="custom-style">html{--paper-input-container-shared-input-style:{position:relative;outline:0;box-shadow:none;padding:0;margin:0;width:100%;max-width:100%;background:0 0;border:none;color:var(--paper-input-container-input-color,var(--primary-text-color));-webkit-appearance:none;text-align:inherit;vertical-align:var(--paper-input-container-input-align,bottom);@apply --paper-font-subhead;};}</style></custom-style>`;Pi.setAttribute("style","display: none;"),document.head.appendChild(Pi.content),Hr({_template:li`<style>:host{display:block;padding:8px 0;@apply --paper-input-container;}:host([inline]){display:inline-block}:host([disabled]){pointer-events:none;opacity:.33;@apply --paper-input-container-disabled;}:host([hidden]){display:none!important}[hidden]{display:none!important}.floated-label-placeholder{@apply --paper-font-caption;}.underline{height:2px;position:relative}.focused-line{@apply --layout-fit;border-bottom:2px solid var(--paper-input-container-focus-color,var(--primary-color));-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:scale3d(0,1,1);transform:scale3d(0,1,1);@apply --paper-input-container-underline-focus;}.underline.is-highlighted .focused-line{-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform .25s;transition:transform .25s;@apply --paper-transition-easing;}.underline.is-invalid .focused-line{border-color:var(--paper-input-container-invalid-color,var(--error-color));-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform .25s;transition:transform .25s;@apply --paper-transition-easing;}.unfocused-line{@apply --layout-fit;border-bottom:1px solid var(--paper-input-container-color,var(--secondary-text-color));@apply --paper-input-container-underline;}:host([disabled]) .unfocused-line{border-bottom:1px dashed;border-color:var(--paper-input-container-color,var(--secondary-text-color));@apply --paper-input-container-underline-disabled;}.input-wrapper{@apply --layout-horizontal;@apply --layout-center;position:relative}.input-content{@apply --layout-flex-auto;@apply --layout-relative;max-width:100%}.input-content ::slotted(.paper-input-label),.input-content ::slotted(label){position:absolute;top:0;left:0;width:100%;font:inherit;color:var(--paper-input-container-color,var(--secondary-text-color));-webkit-transition:-webkit-transform .25s,width .25s;transition:transform .25s,width .25s;-webkit-transform-origin:left top;transform-origin:left top;min-height:1px;@apply --paper-font-common-nowrap;@apply --paper-font-subhead;@apply --paper-input-container-label;@apply --paper-transition-easing;}.input-content ::slotted(.paper-input-label):before,.input-content ::slotted(label):before{@apply --paper-input-container-label-before;}.input-content ::slotted(.paper-input-label):after,.input-content ::slotted(label):after{@apply --paper-input-container-label-after;}.input-content.label-is-floating ::slotted(.paper-input-label),.input-content.label-is-floating ::slotted(label){-webkit-transform:translateY(-75%) scale(.75);transform:translateY(-75%) scale(.75);width:133%;@apply --paper-input-container-label-floating;}:host(:dir(rtl)) .input-content.label-is-floating ::slotted(.paper-input-label),:host(:dir(rtl)) .input-content.label-is-floating ::slotted(label){right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top}.input-content.label-is-highlighted ::slotted(.paper-input-label),.input-content.label-is-highlighted ::slotted(label){color:var(--paper-input-container-focus-color,var(--primary-color));@apply --paper-input-container-label-focus;}.input-content.is-invalid ::slotted(.paper-input-label),.input-content.is-invalid ::slotted(label){color:var(--paper-input-container-invalid-color,var(--error-color))}.input-content.label-is-hidden ::slotted(.paper-input-label),.input-content.label-is-hidden ::slotted(label){visibility:hidden}.input-content ::slotted(.paper-input-input),.input-content ::slotted(input),.input-content ::slotted(iron-autogrow-textarea),.input-content ::slotted(iron-input),.input-content ::slotted(textarea){@apply --paper-input-container-shared-input-style;color:var(--paper-input-container-input-color,var(--primary-text-color));@apply --paper-input-container-input;}.input-content ::slotted(input)::-webkit-inner-spin-button,.input-content ::slotted(input)::-webkit-outer-spin-button{@apply --paper-input-container-input-webkit-spinner;}.input-content.focused ::slotted(.paper-input-input),.input-content.focused ::slotted(input),.input-content.focused ::slotted(iron-autogrow-textarea),.input-content.focused ::slotted(iron-input),.input-content.focused ::slotted(textarea){@apply --paper-input-container-input-focus;}.input-content.is-invalid ::slotted(.paper-input-input),.input-content.is-invalid ::slotted(input),.input-content.is-invalid ::slotted(iron-autogrow-textarea),.input-content.is-invalid ::slotted(iron-input),.input-content.is-invalid ::slotted(textarea){@apply --paper-input-container-input-invalid;}.prefix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-prefix;}.suffix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-suffix;}.input-content ::slotted(input){min-width:0}.input-content ::slotted(textarea){resize:none}.add-on-content{position:relative}.add-on-content.is-invalid ::slotted(*){color:var(--paper-input-container-invalid-color,var(--error-color))}.add-on-content.is-highlighted ::slotted(*){color:var(--paper-input-container-focus-color,var(--primary-color))}</style><div class="floated-label-placeholder" aria-hidden="true" hidden="[[noLabelFloat]]"> </div><div class="input-wrapper"><span class="prefix"><slot name="prefix"></slot></span><div class$="[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]" id="labelAndInputContainer"><slot name="label"></slot><slot name="input"></slot></div><span class="suffix"><slot name="suffix"></slot></span></div><div class$="[[_computeUnderlineClass(focused,invalid)]]"><div class="unfocused-line"></div><div class="focused-line"></div></div><div class$="[[_computeAddOnContentClass(focused,invalid)]]"><slot name="add-on"></slot></div>`,is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,iron-input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Qe(this.attrForValue)},get _inputElement(){return Er(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this.__isFirstValueUpdate=!0,this._addons||(this._addons=[]),this.addEventListener("focus",this._boundOnFocus,!0),this.addEventListener("blur",this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput),this._inputElementValue&&""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):this._handleValue(this._inputElement)},_onAddonAttached:function(e){this._addons||(this._addons=[]);var t=e.target;-1===this._addons.indexOf(t)&&(this._addons.push(t),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1),this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(e){this._handleValueAndAutoValidate(e.target)},_onValueChanged:function(e){var t=e.target;this.__isFirstValueUpdate&&(this.__isFirstValueUpdate=!1,void 0===t.value||""===t.value)||this._handleValueAndAutoValidate(e.target)},_handleValue:function(e){var t=this._inputElementValue;t||0===t||"number"===e.type&&!e.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1,this.updateAddons({inputElement:e,value:t,invalid:this.invalid})},_handleValueAndAutoValidate:function(e){var t;this.autoValidate&&e&&(t=e.validate?e.validate(this._inputElementValue):e.checkValidity(),this.invalid=!t);this._handleValue(e)},_onIronInputValidate:function(e){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},updateAddons:function(e){for(var t,n=0;t=this._addons[n];n++)t.update(e)},_computeInputContentClass:function(e,t,n,r,i){var a="input-content";if(e)i&&(a+=" label-is-hidden"),r&&(a+=" is-invalid");else{var o=this.querySelector("label");t||i?(a+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",r?a+=" is-invalid":n&&(a+=" label-is-highlighted")):(o&&(this.$.labelAndInputContainer.style.position="relative"),r&&(a+=" is-invalid"))}return n&&(a+=" focused"),a},_computeUnderlineClass:function(e,t){var n="underline";return t?n+=" is-invalid":e&&(n+=" is-highlighted"),n},_computeAddOnContentClass:function(e,t){var n="add-on-content";return t?n+=" is-invalid":e&&(n+=" is-highlighted"),n}}),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Hr({_template:li`<style>:host{display:inline-block;visibility:hidden;color:var(--paper-input-container-invalid-color,var(--error-color));@apply --paper-font-caption;@apply --paper-input-error;position:absolute;left:0;right:0}:host([invalid]){visibility:visible}#a11yWrapper{visibility:hidden}:host([invalid]) #a11yWrapper{visibility:visible}</style><div id="a11yWrapper"><slot></slot></div>`,is:"paper-input-error",behaviors:[Ti],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(e){this._setInvalid(e.invalid)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Oi={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1}},attached:function(){},detached:function(){}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var Ri={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},Di={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},Mi={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},Fi=/[a-z0-9*]/,Ui=/U\+/,Hi=/^arrow/,Li=/^space(bar)?/,Gi=/^escape$/;function ji(e,t){var n="";if(e){var r=e.toLowerCase();" "===r||Li.test(r)?n="space":Gi.test(r)?n="esc":1==r.length?t&&!Fi.test(r)||(n=r):n=Hi.test(r)?r.replace("arrow",""):"multiply"==r?"*":r}return n}function $i(e,t){return e.key?ji(e.key,t):e.detail&&e.detail.key?ji(e.detail.key,t):(n=e.keyIdentifier,r="",n&&(n in Ri?r=Ri[n]:Ui.test(n)?(n=parseInt(n.replace("U+","0x"),16),r=String.fromCharCode(n).toLowerCase()):r=n.toLowerCase()),r||function(e){var t="";return Number(e)&&(t=e>=65&&e<=90?String.fromCharCode(32+e):e>=112&&e<=123?"f"+(e-112+1):e>=48&&e<=57?String(e-48):e>=96&&e<=105?String(e-96):Di[e]),t}(e.keyCode)||"");var n,r}function Xi(e,t){return $i(t,e.hasModifiers)===e.key&&(!e.hasModifiers||!!t.shiftKey==!!e.shiftKey&&!!t.ctrlKey==!!e.ctrlKey&&!!t.altKey==!!e.altKey&&!!t.metaKey==!!e.metaKey)}function zi(e){return e.trim().split(" ").map((function(e){return function(e){return 1===e.length?{combo:e,key:e,event:"keydown"}:e.split("+").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n[1];return r in Mi?(e[Mi[r]]=!0,e.hasModifiers=!0):(e.key=r,e.event=i||"keydown"),e}),{combo:e.split(":").shift()})}(e)}))}const qi={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(e,t){this._imperativeKeyBindings[e]=t,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(e,t){for(var n=zi(t),r=0;r<n.length;++r)if(Xi(n[r],e))return!0;return!1},_collectKeyBindings:function(){var e=this.behaviors.map((function(e){return e.keyBindings}));return-1===e.indexOf(this.keyBindings)&&e.push(this.keyBindings),e},_prepKeyBindings:function(){for(var e in this._keyBindings={},this._collectKeyBindings().forEach((function(e){for(var t in e)this._addKeyBinding(t,e[t])}),this),this._imperativeKeyBindings)this._addKeyBinding(e,this._imperativeKeyBindings[e]);for(var t in this._keyBindings)this._keyBindings[t].sort((function(e,t){var n=e[0].hasModifiers;return n===t[0].hasModifiers?0:n?-1:1}))},_addKeyBinding:function(e,t){zi(e).forEach((function(e){this._keyBindings[e.event]=this._keyBindings[e.event]||[],this._keyBindings[e.event].push([e,t])}),this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach((function(e){var t=this._keyBindings[e],n=this._onKeyBindingEvent.bind(this,t);this._boundKeyHandlers.push([this.keyEventTarget,e,n]),this.keyEventTarget.addEventListener(e,n)}),this)},_unlistenKeyEventListeners:function(){for(var e,t,n,r;this._boundKeyHandlers.length;)t=(e=this._boundKeyHandlers.pop())[0],n=e[1],r=e[2],t.removeEventListener(n,r)},_onKeyBindingEvent:function(e,t){if(this.stopKeyboardEventPropagation&&t.stopPropagation(),!t.defaultPrevented)for(var n=0;n<e.length;n++){var r=e[n][0],i=e[n][1];if(Xi(r,t)&&(this._triggerKeyHandler(r,i,t),t.defaultPrevented))return}},_triggerKeyHandler:function(e,t,n){var r=Object.create(e);r.keyboardEvent=n;var i=new CustomEvent(e.event,{detail:r,cancelable:!0});this[t].call(this,i),i.defaultPrevented&&n.preventDefault()}},Vi={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0),this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(e){this._setFocused("focus"===e.type)},_disabledChanged:function(e,t){this.setAttribute("aria-disabled",e?"true":"false"),this.style.pointerEvents=e?"none":"",e?(this._oldTabIndex=this.getAttribute("tabindex"),this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(null===this._oldTabIndex?this.removeAttribute("tabindex"):this.setAttribute("tabindex",this._oldTabIndex))},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}},Yi={NextLabelID:1,NextAddonID:1,NextInputID:1},Ki={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""},_inputId:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){return this.$||(this.$={}),this.$.input||(this._generateInputId(),this.$.input=this.$$("#"+this._inputId)),this.$.input},get _focusableElement(){return this.inputElement},created:function(){this._typesThatHaveText=["date","datetime","datetime-local","month","time","week","file"]},attached:function(){this._updateAriaLabelledBy(),!ui&&this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(e,t){return e=e?e+" "+t:t},_onAddonAttached:function(e){var t=Er(e).rootTarget;if(t.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,t.id);else{var n="paper-input-add-on-"+Yi.NextAddonID++;t.id=n,this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,n)}},validate:function(){return this.inputElement.validate()},_focusBlurHandler:function(e){Vi._focusBlurHandler.call(this,e),this.focused&&!this._shiftTabPressed&&this._focusableElement&&this._focusableElement.focus()},_onShiftTabDown:function(e){var t=this.getAttribute("tabindex");this._shiftTabPressed=!0,this.setAttribute("tabindex","-1"),this.async((function(){this.setAttribute("tabindex",t),this._shiftTabPressed=!1}),1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(e){try{var t=this.inputElement.selectionStart;this.value=e,this.inputElement.selectionStart=t,this.inputElement.selectionEnd=t}catch(t){this.value=e}},_computeAlwaysFloatLabel:function(e,t){return t||e},_updateAriaLabelledBy:function(){var e,t=Er(this.root).querySelector("label");t?(t.id?e=t.id:(e="paper-input-label-"+Yi.NextLabelID++,t.id=e),this._ariaLabelledBy=e):this._ariaLabelledBy=""},_generateInputId:function(){this._inputId&&""!==this._inputId||(this._inputId="input-"+Yi.NextInputID++)},_onChange:function(e){this.shadowRoot&&this.fire(e.type,{sourceEvent:e},{node:this,bubbles:e.bubbles,cancelable:e.cancelable})},_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var e=document.activeElement;e instanceof HTMLElement&&e!==document.body&&e!==document.documentElement||this._focusableElement.focus()}}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Hr({is:"paper-input",_template:li`<style>:host{display:block}:host([focused]){outline:0}:host([hidden]){display:none!important}input{min-width:0}iron-input>input{@apply --paper-input-container-shared-input-style;font-family:inherit;font-weight:inherit;font-size:inherit;letter-spacing:inherit;word-spacing:inherit;line-height:inherit;text-shadow:inherit;color:inherit;cursor:inherit}input:disabled{@apply --paper-input-container-input-disabled;}input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{@apply --paper-input-container-input-webkit-spinner;}input::-webkit-clear-button{@apply --paper-input-container-input-webkit-clear;}input::-webkit-calendar-picker-indicator{@apply --paper-input-container-input-webkit-calendar-picker-indicator;}input::-webkit-input-placeholder{color:var(--paper-input-container-color,var(--secondary-text-color))}input:-moz-placeholder{color:var(--paper-input-container-color,var(--secondary-text-color))}input::-moz-placeholder{color:var(--paper-input-container-color,var(--secondary-text-color))}input::-ms-clear{@apply --paper-input-container-ms-clear;}input::-ms-reveal{@apply --paper-input-container-ms-reveal;}input:-ms-input-placeholder{color:var(--paper-input-container-color,var(--secondary-text-color))}label{pointer-events:none}</style><paper-input-container id="container" no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]"><slot name="prefix" slot="prefix"></slot><label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label><iron-input bind-value="{{value}}" slot="input" class="input-element" id$="[[_inputId]]" maxlength$="[[maxlength]]" allowed-pattern="[[allowedPattern]]" invalid="{{invalid}}" validator="[[validator]]"><input aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]" role$="[[inputRole]]" aria-haspopup$="[[inputAriaHaspopup]]"></iron-input><slot name="suffix" slot="suffix"></slot><template is="dom-if" if="[[errorMessage]]"><paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error></template><template is="dom-if" if="[[charCounter]]"><paper-input-char-counter slot="add-on"></paper-input-char-counter></template></paper-input-container>`,behaviors:[[Vi,qi,Ki],Oi],properties:{value:{type:String},inputRole:{type:String,value:void 0},inputAriaHaspopup:{type:String,value:void 0}},get _focusableElement(){return this.inputElement._inputElement},listeners:{"iron-input-ready":"_onIronInputReady"},_onIronInputReady:function(){this.$.nativeInput||(this.$.nativeInput=this.$$("input")),this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.$.nativeInput.type)&&(this.alwaysFloatLabel=!0),this.inputElement.bindValue&&this.$.container._handleValueAndAutoValidate(this.inputElement)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Ji={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(e){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute("aria-required","true"):this.removeAttribute("aria-required")},_checkedChanged:function(){this.active=this.checked,this.fire("iron-change")},_valueChanged:function(){void 0!==this.value&&null!==this.value||(this.value="on")}},Qi=[Oi,Ci,Ji],Wi={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(e){this._detectKeyboardFocus(e),e||this._setPressed(!1)},_detectKeyboardFocus:function(e){this._setReceivedFocusFromKeyboard(!this.pointerDown&&e)},_userActivate:function(e){this.active!==e&&(this.active=e,this.fire("change"))},_downHandler:function(e){this._setPointerDown(!0),this._setPressed(!0),this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1),this._setPressed(!1)},_spaceKeyDownHandler:function(e){var t=e.detail.keyboardEvent,n=Er(t).localTarget;this.isLightDescendant(n)||(t.preventDefault(),t.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(e){var t=e.detail.keyboardEvent,n=Er(t).localTarget;this.isLightDescendant(n)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async((function(){this.click()}),1)},_pressedChanged:function(e){this._changedButtonState()},_ariaActiveAttributeChanged:function(e,t){t&&t!=e&&this.hasAttribute(t)&&this.removeAttribute(t)},_activeChanged:function(e,t){this.toggles?this.setAttribute(this.ariaActiveAttribute,e?"true":"false"):this.removeAttribute(this.ariaActiveAttribute),this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}},Zi=[qi,Wi];
/**
@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var ea={distance:function(e,t,n,r){var i=e-n,a=t-r;return Math.sqrt(i*i+a*a)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};function ta(e){this.element=e,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=Math.max(this.width,this.height)}function na(e){this.element=e,this.color=window.getComputedStyle(e).color,this.wave=document.createElement("div"),this.waveContainer=document.createElement("div"),this.wave.style.backgroundColor=this.color,this.wave.classList.add("wave"),this.waveContainer.classList.add("wave-container"),Er(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}ta.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(e,t){var n=ea.distance(e,t,0,0),r=ea.distance(e,t,this.width,0),i=ea.distance(e,t,0,this.height),a=ea.distance(e,t,this.width,this.height);return Math.max(n,r,i,a)}},na.MAX_RADIUS=300,na.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var e;return this.mouseDownStart?(e=ea.now()-this.mouseDownStart,this.mouseUpStart&&(e-=this.mouseUpElapsed),e):0},get mouseUpElapsed(){return this.mouseUpStart?ea.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var e=this.containerMetrics.width*this.containerMetrics.width,t=this.containerMetrics.height*this.containerMetrics.height,n=1.1*Math.min(Math.sqrt(e+t),na.MAX_RADIUS)+5,r=1.1-n/na.MAX_RADIUS*.2,i=this.mouseInteractionSeconds/r,a=n*(1-Math.pow(80,-i));return Math.abs(a)},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){var e=.3*this.mouseUpElapsedSeconds,t=this.opacity;return Math.max(0,Math.min(e,t))},get isOpacityFullyDecayed(){return this.opacity<.01&&this.radius>=Math.min(this.maxRadius,na.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,na.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new ta(this.element)},draw:function(){var e,t,n;this.wave.style.opacity=this.opacity,e=this.radius/(this.containerMetrics.size/2),t=this.xNow-this.containerMetrics.width/2,n=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform="translate("+t+"px, "+n+"px)",this.waveContainer.style.transform="translate3d("+t+"px, "+n+"px, 0)",this.wave.style.webkitTransform="scale("+e+","+e+")",this.wave.style.transform="scale3d("+e+","+e+",1)"},downAction:function(e){var t=this.containerMetrics.width/2,n=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=ea.now(),this.center?(this.xStart=t,this.yStart=n,this.slideDistance=ea.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=e?e.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=e?e.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=t,this.yEnd=n,this.slideDistance=ea.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px",this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px",this.waveContainer.style.width=this.containerMetrics.size+"px",this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(e){this.isMouseDown&&(this.mouseUpStart=ea.now())},remove:function(){Er(Er(this.waveContainer).parentNode).removeChild(this.waveContainer)}},Hr({_template:li`<style>:host{display:block;position:absolute;border-radius:inherit;overflow:hidden;top:0;left:0;right:0;bottom:0;pointer-events:none}:host([animating]){-webkit-transform:translate(0,0);transform:translate3d(0,0,0)}#background,#waves,.wave,.wave-container{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%}#background,.wave{opacity:0}#waves,.wave{overflow:hidden}.wave,.wave-container{border-radius:50%}:host(.circle) #background,:host(.circle) #waves{border-radius:50%}:host(.circle) .wave-container{overflow:hidden}</style><div id="background"></div><div id="waves"></div>`,is:"paper-ripple",behaviors:[qi],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){11==Er(this).parentNode.nodeType?this.keyEventTarget=Er(this).getOwnerRoot().host:this.keyEventTarget=Er(this).parentNode;var e=this.keyEventTarget;this.listen(e,"up","uiUpAction"),this.listen(e,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction"),this.unlisten(this.keyEventTarget,"down","uiDownAction"),this.keyEventTarget=null},get shouldKeepAnimating(){for(var e=0;e<this.ripples.length;++e)if(!this.ripples[e].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null),this.async((function(){this.upAction()}),1)},uiDownAction:function(e){this.noink||this.downAction(e)},downAction:function(e){this.holdDown&&this.ripples.length>0||(this.addRipple().downAction(e),this._animating||(this._animating=!0,this.animate()))},uiUpAction:function(e){this.noink||this.upAction(e)},upAction:function(e){this.holdDown||(this.ripples.forEach((function(t){t.upAction(e)})),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor="",this.fire("transitionend")},addRipple:function(){var e=new na(this);return Er(this.$.waves).appendChild(e.waveContainer),this.$.background.style.backgroundColor=e.color,this.ripples.push(e),this._setAnimating(!0),e},removeRipple:function(e){var t=this.ripples.indexOf(e);t<0||(this.ripples.splice(t,1),e.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){if(this._animating){var e,t;for(e=0;e<this.ripples.length;++e)(t=this.ripples[e]).draw(),this.$.background.style.opacity=t.outerOpacity,t.isOpacityFullyDecayed&&!t.isRestingAtMaxRadius&&this.removeRipple(t);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()}},animateRipple:function(){return this.animate()},_onEnterKeydown:function(){this.uiDownAction(),this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(e,t){void 0!==t&&(e?this.downAction():this.upAction())}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const ra={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(e){Wi._downHandler.call(this,e),this.pressed&&this.ensureRipple(e)},ensureRipple:function(e){if(!this.hasRipple()){this._ripple=this._createRipple(),this._ripple.noink=this.noink;var t=this._rippleContainer||this.root;if(t&&Er(t).appendChild(this._ripple),e){var n=Er(this._rippleContainer||this),r=Er(e).rootTarget;n.deepContains(r)&&this._ripple.uiDownAction(e)}}},getRipple:function(){return this.ensureRipple(),this._ripple},hasRipple:function(){return Boolean(this._ripple)},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(e){this.hasRipple()&&(this._ripple.noink=e)}},ia={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(e){e&&this.ensureRipple(),this.hasRipple()&&(this._ripple.holdDown=e)},_createRipple:function(){var e=ra._createRipple();return e.id="ink",e.setAttribute("center",""),e.classList.add("circle"),e}},aa=[[Zi,Vi,ra,ia],Qi,{_checkedChanged:function(){Ji._checkedChanged.call(this),this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},_buttonStateChanged:function(){ra._buttonStateChanged.call(this),this.disabled||this.isAttached&&(this.checked=this.active)}}],oa=li`<style>:host{display:inline-block;white-space:nowrap;cursor:pointer;--calculated-paper-checkbox-size:var(--paper-checkbox-size, 18px);--calculated-paper-checkbox-ink-size:var(--paper-checkbox-ink-size, -1px);@apply --paper-font-common-base;line-height:0;-webkit-tap-highlight-color:transparent}:host([hidden]){display:none!important}:host(:focus){outline:0}.hidden{display:none}#checkboxContainer{display:inline-block;position:relative;width:var(--calculated-paper-checkbox-size);height:var(--calculated-paper-checkbox-size);min-width:var(--calculated-paper-checkbox-size);margin:var(--paper-checkbox-margin,initial);vertical-align:var(--paper-checkbox-vertical-align,middle);background-color:var(--paper-checkbox-unchecked-background-color,transparent)}#ink{position:absolute;top:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size))/ 2);left:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size))/ 2);width:var(--calculated-paper-checkbox-ink-size);height:var(--calculated-paper-checkbox-ink-size);color:var(--paper-checkbox-unchecked-ink-color,var(--primary-text-color));opacity:.6;pointer-events:none}#ink:dir(rtl){right:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size))/ 2);left:auto}#ink[checked]{color:var(--paper-checkbox-checked-ink-color,var(--primary-color))}#checkbox{position:relative;box-sizing:border-box;height:100%;border:solid 2px;border-color:var(--paper-checkbox-unchecked-color,var(--primary-text-color));border-radius:2px;pointer-events:none;-webkit-transition:background-color 140ms,border-color 140ms;transition:background-color 140ms,border-color 140ms;-webkit-transition-duration:var(--paper-checkbox-animation-duration,140ms);transition-duration:var(--paper-checkbox-animation-duration,140ms)}#checkbox.checked #checkmark{-webkit-animation:checkmark-expand 140ms ease-out forwards;animation:checkmark-expand 140ms ease-out forwards;-webkit-animation-duration:var(--paper-checkbox-animation-duration,140ms);animation-duration:var(--paper-checkbox-animation-duration,140ms)}@-webkit-keyframes checkmark-expand{0%{-webkit-transform:scale(0,0) rotate(45deg)}100%{-webkit-transform:scale(1,1) rotate(45deg)}}@keyframes checkmark-expand{0%{transform:scale(0,0) rotate(45deg)}100%{transform:scale(1,1) rotate(45deg)}}#checkbox.checked{background-color:var(--paper-checkbox-checked-color,var(--primary-color));border-color:var(--paper-checkbox-checked-color,var(--primary-color))}#checkmark{position:absolute;width:36%;height:70%;border-style:solid;border-top:none;border-left:none;border-right-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-bottom-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-color:var(--paper-checkbox-checkmark-color,#fff);-webkit-transform-origin:97% 86%;transform-origin:97% 86%;box-sizing:content-box}#checkmark:dir(rtl){-webkit-transform-origin:50% 14%;transform-origin:50% 14%}#checkboxLabel{position:relative;display:inline-block;vertical-align:middle;padding-left:var(--paper-checkbox-label-spacing,8px);white-space:normal;line-height:normal;color:var(--paper-checkbox-label-color,var(--primary-text-color));@apply --paper-checkbox-label;}:host([checked]) #checkboxLabel{color:var(--paper-checkbox-label-checked-color,var(--paper-checkbox-label-color,var(--primary-text-color)));@apply --paper-checkbox-label-checked;}#checkboxLabel:dir(rtl){padding-right:var(--paper-checkbox-label-spacing,8px);padding-left:0}#checkboxLabel[hidden]{display:none}:host([disabled]) #checkbox{opacity:.5;border-color:var(--paper-checkbox-unchecked-color,var(--primary-text-color))}:host([disabled][checked]) #checkbox{background-color:var(--paper-checkbox-unchecked-color,var(--primary-text-color));opacity:.5}:host([disabled]) #checkboxLabel{opacity:.65}#checkbox.invalid:not(.checked){border-color:var(--paper-checkbox-error-color,var(--error-color))}</style><div id="checkboxContainer"><div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]"><div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div></div></div><div id="checkboxLabel"><slot></slot></div>`;
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/oa.setAttribute("strip-whitespace",""),Hr({_template:oa,is:"paper-checkbox",behaviors:[aa],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){var e,t,n;e=this,t=function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var e=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),t="px",n=e.match(/[A-Za-z]+$/);null!==n&&(t=n[0]);var r=parseFloat(e),i=8/3*r;"px"===t&&(i=Math.floor(i))%2!=r%2&&i++,this.updateStyles({"--paper-checkbox-ink-size":i+t})}},ir||sr(),or.push([e,t,n])},_computeCheckboxClass:function(e,t){var n="";return e&&(n+="checked "),t&&(n+="invalid"),n},_computeCheckmarkClass:function(e){return e?"":"hidden"},_createRipple:function(){return this._rippleContainer=this.$.checkboxContainer,ia._createRipple.call(this)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const sa=li`<custom-style><style is="custom-style">html{--shadow-transition:{transition:box-shadow .28s cubic-bezier(.4,0,.2,1)};--shadow-none:{box-shadow:none};--shadow-elevation-2dp:{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2)};--shadow-elevation-3dp:{box-shadow:0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12),0 3px 3px -2px rgba(0,0,0,.4)};--shadow-elevation-4dp:{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.4)};--shadow-elevation-6dp:{box-shadow:0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12),0 3px 5px -1px rgba(0,0,0,.4)};--shadow-elevation-8dp:{box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.4)};--shadow-elevation-12dp:{box-shadow:0 12px 16px 1px rgba(0,0,0,.14),0 4px 22px 3px rgba(0,0,0,.12),0 6px 7px -4px rgba(0,0,0,.4)};--shadow-elevation-16dp:{box-shadow:0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12),0 8px 10px -5px rgba(0,0,0,.4)};--shadow-elevation-24dp:{box-shadow:0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12),0 11px 15px -7px rgba(0,0,0,.4)};}</style></custom-style>`;sa.setAttribute("style","display: none;"),document.head.appendChild(sa.content);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const la=li`<dom-module id="paper-material-styles"><template><style>html{--paper-material:{display:block;position:relative};--paper-material-elevation-1:{@apply --shadow-elevation-2dp;};--paper-material-elevation-2:{@apply --shadow-elevation-4dp;};--paper-material-elevation-3:{@apply --shadow-elevation-6dp;};--paper-material-elevation-4:{@apply --shadow-elevation-8dp;};--paper-material-elevation-5:{@apply --shadow-elevation-16dp;};}.paper-material{@apply --paper-material;}.paper-material[elevation="1"]{@apply --paper-material-elevation-1;}.paper-material[elevation="2"]{@apply --paper-material-elevation-2;}.paper-material[elevation="3"]{@apply --paper-material-elevation-3;}.paper-material[elevation="4"]{@apply --paper-material-elevation-4;}.paper-material[elevation="5"]{@apply --paper-material-elevation-5;}:host{--paper-material:{display:block;position:relative};--paper-material-elevation-1:{@apply --shadow-elevation-2dp;};--paper-material-elevation-2:{@apply --shadow-elevation-4dp;};--paper-material-elevation-3:{@apply --shadow-elevation-6dp;};--paper-material-elevation-4:{@apply --shadow-elevation-8dp;};--paper-material-elevation-5:{@apply --shadow-elevation-16dp;};}:host(.paper-material){@apply --paper-material;}:host(.paper-material[elevation="1"]){@apply --paper-material-elevation-1;}:host(.paper-material[elevation="2"]){@apply --paper-material-elevation-2;}:host(.paper-material[elevation="3"]){@apply --paper-material-elevation-3;}:host(.paper-material[elevation="4"]){@apply --paper-material-elevation-4;}:host(.paper-material[elevation="5"]){@apply --paper-material-elevation-5;}</style></template></dom-module>`;la.setAttribute("style","display: none;"),document.head.appendChild(la.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const ua={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var e=1;this.disabled?e=0:this.active||this.pressed?e=4:this.receivedFocusFromKeyboard&&(e=3),this._setElevation(e)},_computeKeyboardClass:function(e){this.toggleClass("keyboard-focus",e)},_spaceKeyDownHandler:function(e){Wi._spaceKeyDownHandler.call(this,e),this.hasRipple()&&this.getRipple().ripples.length<1&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(e){Wi._spaceKeyUpHandler.call(this,e),this.hasRipple()&&this._ripple.uiUpAction()}},ca=[Zi,Vi,ra,ua],pa=li`<style include="paper-material-styles">:host{@apply --layout-inline;@apply --layout-center-center;position:relative;box-sizing:border-box;min-width:5.14em;margin:0 .29em;background:0 0;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;font:inherit;text-transform:uppercase;outline-width:0;border-radius:3px;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;cursor:pointer;z-index:0;padding:.7em .57em;@apply --paper-font-common-base;@apply --paper-button;}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}:host([hidden]){display:none!important}:host([raised].keyboard-focus){font-weight:700;@apply --paper-button-raised-keyboard-focus;}:host(:not([raised]).keyboard-focus){font-weight:700;@apply --paper-button-flat-keyboard-focus;}:host([disabled]){background:0 0;color:#a8a8a8;cursor:auto;pointer-events:none;@apply --paper-button-disabled;}:host([disabled][raised]){background:#eaeaea}:host([animated]){@apply --shadow-transition;}paper-ripple{color:var(--paper-button-ink-color)}</style><slot></slot>`;pa.setAttribute("strip-whitespace",""),Hr({_template:pa,is:"paper-button",behaviors:[ca],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?ua._calculateElevation.apply(this):this._setElevation(0)}}),function(e){var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:f,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:f,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:f,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};function n(e){this.tokens=[],this.tokens.links={},this.options=e||g.defaults,this.rules=t.normal,this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}t._label=/(?:\\[\[\]]|[^\[\]])+/,t._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,t.def=c(t.def).replace("label",t._label).replace("title",t._title).getRegex(),t.bullet=/(?:[*+-]|\d+\.)/,t.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,t.item=c(t.item,"gm").replace(/bull/g,t.bullet).getRegex(),t.list=c(t.list).replace(/bull/g,t.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+t.def.source+")").getRegex(),t._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",t.html=c(t.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,t._tag).getRegex(),t.paragraph=c(t.paragraph).replace("hr",t.hr).replace("heading",t.heading).replace("lheading",t.lheading).replace("tag","<"+t._tag).getRegex(),t.blockquote=c(t.blockquote).replace("paragraph",t.paragraph).getRegex(),t.normal=m({},t),t.gfm=m({},t.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),t.gfm.paragraph=c(t.paragraph).replace("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|").getRegex(),t.tables=m({},t.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),n.rules=t,n.lex=function(e,t){return new n(t).lex(e)},n.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},n.prototype.token=function(e,n){var r,i,a,o,s,l,u,c,p,h,d;for(e=e.replace(/^ +$/gm,"");e;)if((a=this.rules.newline.exec(e))&&(e=e.substring(a[0].length),a[0].length>1&&this.tokens.push({type:"space"})),a=this.rules.code.exec(e))e=e.substring(a[0].length),a=a[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?a:a.replace(/\n+$/,"")});else if(a=this.rules.fences.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"code",lang:a[2],text:a[3]||""});else if(a=this.rules.heading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:a[1].length,text:a[2]});else if(n&&(a=this.rules.nptable.exec(e))){for(e=e.substring(a[0].length),l={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(a=this.rules.hr.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"hr"});else if(a=this.rules.blockquote.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"blockquote_start"}),a=a[0].replace(/^ *> ?/gm,""),this.token(a,n),this.tokens.push({type:"blockquote_end"});else if(a=this.rules.list.exec(e)){for(e=e.substring(a[0].length),d=(o=a[2]).length>1,this.tokens.push({type:"list_start",ordered:d,start:d?+o:""}),r=!1,h=(a=a[0].match(this.rules.item)).length,c=0;c<h;c++)u=(l=a[c]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==h-1&&(o===(s=t.bullet.exec(a[c+1])[0])||o.length>1&&s.length>1||(e=a.slice(c+1).join("\n")+e,c=h-1)),i=r||/\n\n(?!\s*$)/.test(l),c!==h-1&&(r="\n"===l.charAt(l.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(l,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(a=this.rules.html.exec(e))e=e.substring(a[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===a[1]||"script"===a[1]||"style"===a[1]),text:a[0]});else if(n&&(a=this.rules.def.exec(e)))e=e.substring(a[0].length),a[3]&&(a[3]=a[3].substring(1,a[3].length-1)),p=a[1].toLowerCase(),this.tokens.links[p]||(this.tokens.links[p]={href:a[2],title:a[3]});else if(n&&(a=this.rules.table.exec(e))){for(e=e.substring(a[0].length),l={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(a=this.rules.lheading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:"="===a[2]?1:2,text:a[1]});else if(n&&(a=this.rules.paragraph.exec(e)))e=e.substring(a[0].length),this.tokens.push({type:"paragraph",text:"\n"===a[1].charAt(a[1].length-1)?a[1].slice(0,-1):a[1]});else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"text",text:a[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var r={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:f,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:f,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function i(e,t){if(this.options=t||g.defaults,this.links=e,this.rules=r.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=r.breaks:this.rules=r.gfm:this.options.pedantic&&(this.rules=r.pedantic)}function a(e){this.options=e||{}}function o(){}function s(e){this.tokens=[],this.token=null,this.options=e||g.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options}function l(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}function c(e,t){return e=e.source,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function p(e,t){return h[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?h[" "+e]=e+"/":h[" "+e]=e.replace(/[^/]*$/,"")),e=h[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=c(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,r._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,r.link=c(r.link).replace("inside",r._inside).replace("href",r._href).getRegex(),r.reflink=c(r.reflink).replace("inside",r._inside).getRegex(),r.normal=m({},r),r.pedantic=m({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),r.gfm=m({},r.normal,{escape:c(r.escape).replace("])","~|])").getRegex(),url:c(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",r._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:c(r.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),r.breaks=m({},r.gfm,{br:c(r.br).replace("{2,}","*").getRegex(),text:c(r.gfm.text).replace("{2,}","*").getRegex()}),i.rules=r,i.output=function(e,t,n){return new i(t,n).output(e)},i.prototype.output=function(e){for(var t,n,r,i,a="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),a+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),r="@"===i[2]?"mailto:"+(n=l(this.mangle(i[1]))):n=l(i[1]),a+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):l(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,a+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){a+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),a+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),a+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),a+=this.renderer.codespan(l(i[2].trim(),!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),a+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),a+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),a+=this.renderer.text(l(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else i[0]=this.rules._backpedal.exec(i[0])[0],e=e.substring(i[0].length),"@"===i[2]?r="mailto:"+(n=l(i[0])):(n=l(i[0]),r="www."===i[1]?"http://"+n:n),a+=this.renderer.link(r,null,n);return a},i.prototype.outputLink=function(e,t){var n=l(t.href),r=t.title?l(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,l(e[1]))},i.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},i.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},a.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+l(t,!0)+'">'+(n?e:l(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:l(e,!0))+"\n</code></pre>"},a.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},a.prototype.html=function(e){return e},a.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},a.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},a.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},a.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},a.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},a.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},a.prototype.strong=function(e){return"<strong>"+e+"</strong>"},a.prototype.em=function(e){return"<em>"+e+"</em>"},a.prototype.codespan=function(e){return"<code>"+e+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(e){return"<del>"+e+"</del>"},a.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(u(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return n}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return n}this.options.baseUrl&&!d.test(e)&&(e=p(this.options.baseUrl,e));var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},a.prototype.image=function(e,t,n){this.options.baseUrl&&!d.test(e)&&(e=p(this.options.baseUrl,e));var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},a.prototype.text=function(e){return e},o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(e){return e},o.prototype.link=o.prototype.image=function(e,t,n){return""+n},o.prototype.br=function(){return""},s.parse=function(e,t){return new s(t).parse(e)},s.prototype.parse=function(e){this.inline=new i(e.links,this.options),this.inlineText=new i(e.links,m({},this.options,{renderer:new o})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},s.prototype.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},s.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,u(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i="",a="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});a+=this.renderer.tablerow(n)}return this.renderer.table(i,a);case"blockquote_start":for(a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":a="";for(var o=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,o,s);case"list_item_start":for(a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var h={},d=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function f(){}function m(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function g(e,t,r){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(r||"function"==typeof t){r||(r=t,t=null);var i,a,o=(t=m({},g.defaults,t||{})).highlight,u=0;try{i=n.lex(e,t)}catch(e){return r(e)}a=i.length;var c=function(e){if(e)return t.highlight=o,r(e);var n;try{n=s.parse(i,t)}catch(t){e=t}return t.highlight=o,e?r(e):r(null,n)};if(!o||o.length<3)return c();if(delete t.highlight,!a)return c();for(;u<i.length;u++)!function(e){"code"!==e.type?--a||c():o(e.text,e.lang,(function(t,n){return t?c(t):null==n||n===e.text?--a||c():(e.text=n,e.escaped=!0,void(--a||c()))}))}(i[u])}else try{return t&&(t=m({},g.defaults,t)),s.parse(n.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||g.defaults).silent)return"<p>An error occurred:</p><pre>"+l(e.message+"",!0)+"</pre>";throw e}}f.exec=f,g.options=g.setOptions=function(e){return m(g.defaults,e),g},g.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new a,xhtml:!1,baseUrl:null},g.Parser=s,g.parser=s.parse,g.Renderer=a,g.TextRenderer=o,g.Lexer=n,g.lexer=n.lex,g.InlineLexer=i,g.inlineLexer=i.output,g.parse=g,"undefined"!=typeof module&&"object"==typeof exports?module.exports=g:"function"==typeof define&&define.amd?define((function(){return g})):e.marked=g}("undefined"!=typeof window?window:global);var ha=Object.freeze({__proto__:null});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/window.marked||(window.marked=ha)
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/,Hr({_template:li`<style>:host{display:block}</style><slot name="markdown-html"><div id="content"></div></slot>`,is:"marked-element",properties:{markdown:{type:String,value:null},breaks:{type:Boolean,value:!1},pedantic:{type:Boolean,value:!1},renderer:{type:Function,value:null},sanitize:{type:Boolean,value:!1},sanitizer:{type:Function,value:null},disableRemoteSanitization:{type:Boolean,value:!1},smartypants:{type:Boolean,value:!1},callback:{type:Function,value:null},xhr:{type:Object,notify:!0,readOnly:!0}},observers:["render(markdown, breaks, pedantic, renderer, sanitize, sanitizer, smartypants, callback)"],ready:function(){this.markdown||(this._markdownElement=Er(this).querySelector('[type="text/markdown"]'),this._markdownElement&&(this._markdownElement.src&&this._request(this._markdownElement.src),""!==this._markdownElement.textContent.trim()&&(this.markdown=this._unindent(this._markdownElement.textContent)),new MutationObserver(this._onScriptAttributeChanged.bind(this)).observe(this._markdownElement,{attributes:!0})))},attached:function(){this._attached=!0,this._outputElement=this.outputElement,this.render()},detached:function(){this._attached=!1},unindent:function(e){return this._unindent(e)},get outputElement(){return Er(this).queryDistributedElements('[slot="markdown-html"]')[0]||this.$.content},render:function(){if(this._attached)if(this.markdown){var e=new marked.Renderer;this.renderer&&this.renderer(e);var t={renderer:e,highlight:this._highlight.bind(this),breaks:this.breaks,sanitize:this.sanitize,sanitizer:this.sanitizer,pedantic:this.pedantic,smartypants:this.smartypants};Er(this._outputElement).innerHTML=marked(this.markdown,t,this.callback),this.fire("marked-render-complete",{},{composed:!0})}else Er(this._outputElement).innerHTML=""},_highlight:function(e,t){return this.fire("syntax-highlight",{code:e,lang:t},{composed:!0}).detail.code||e},_unindent:function(e){if(!e)return e;var t=e.replace(/\t/g,"  ").split("\n"),n=t.reduce((function(e,t){if(/^\s*$/.test(t))return e;var n=t.match(/^(\s*)/)[0].length;return null===e||n<e?n:e}),null);return t.map((function(e){return e.substr(n)})).join("\n")},_request:function(e){this._setXhr(new XMLHttpRequest);var t=this.xhr;if(t.readyState>0)return null;t.addEventListener("error",this._handleError.bind(this)),t.addEventListener("loadend",function(e){var t=this.xhr.status||0;0===t||t>=200&&t<300?(this.sanitize=!this.disableRemoteSanitization,this.markdown=e.target.response):this._handleError(e),this.fire("marked-loadend",e)}.bind(this)),t.open("GET",e),t.setRequestHeader("Accept","text/markdown"),t.send()},_handleError:function(e){this.fire("marked-request-error",e,{cancelable:!0}).defaultPrevented||(this.markdown="Failed loading markdown source")},_onScriptAttributeChanged:function(e){"src"===e[0].attributeName&&this._request(this._markdownElement.src)}});var da=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={},i={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,a;switch(n=n||{},i.util.type(t)){case"Object":if(a=i.util.objId(t),n[a])return n[a];for(var o in r={},n[a]=r,t)t.hasOwnProperty(o)&&(r[o]=e(t[o],n));return r;case"Array":return a=i.util.objId(t),n[a]?n[a]:(r=[],n[a]=r,t.forEach((function(t,i){r[i]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e&&!t.test(e.className);)e=e.parentElement;return e?(e.className.match(t)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var i=e.classList;if(i.contains(t))return!0;if(i.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=i.util.clone(i.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var a=(r=r||i.languages)[e],o={};for(var s in a)if(a.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(o[l]=n[l]);n.hasOwnProperty(s)||(o[s]=a[s])}var u=r[e];return r[e]=o,i.languages.DFS(i.languages,(function(t,n){n===u&&t!=e&&(this[t]=o)})),o},DFS:function e(t,n,r,a){a=a||{};var o=i.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var l=t[s],u=i.util.type(l);"Object"!==u||a[o(l)]?"Array"!==u||a[o(l)]||(a[o(l)]=!0,e(l,n,s,a)):(a[o(l)]=!0,e(l,n,null,a))}}},plugins:{},highlightAll:function(e,t){i.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),i.hooks.run("before-all-elements-highlight",r);for(var a,o=0;a=r.elements[o++];)i.highlightElement(a,!0===t,r.callback)},highlightElement:function(n,r,a){var o=i.util.getLanguage(n),s=i.languages[o];n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+o;var l=n.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+o);var u={element:n,language:o,grammar:s,code:n.textContent};function c(e){u.highlightedCode=e,i.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,i.hooks.run("after-highlight",u),i.hooks.run("complete",u),a&&a.call(u.element)}if(i.hooks.run("before-sanity-check",u),(l=u.element.parentElement)&&"pre"===l.nodeName.toLowerCase()&&!l.hasAttribute("tabindex")&&l.setAttribute("tabindex","0"),!u.code)return i.hooks.run("complete",u),void(a&&a.call(u.element));if(i.hooks.run("before-highlight",u),u.grammar)if(r&&e.Worker){var p=new Worker(i.filename);p.onmessage=function(e){c(e.data)},p.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else c(i.highlight(u.code,u.grammar,u.language));else c(i.util.encode(u.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};return i.hooks.run("before-tokenize",r),r.tokens=i.tokenize(r.code,r.grammar),i.hooks.run("after-tokenize",r),a.stringify(i.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var i=new l;return u(i,i.head,e),s(e,i,t,i.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(i)},hooks:{all:{},add:function(e,t){var n=i.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=i.hooks.all[e];if(n&&n.length)for(var r,a=0;r=n[a++];)r(t)}},Token:a};function a(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function o(e,t,n,r){e.lastIndex=t;var i=e.exec(n);if(i&&r&&i[1]){var a=i[1].length;i.index+=a,i[0]=i[0].slice(a)}return i}function s(e,t,n,r,l,p){for(var h in n)if(n.hasOwnProperty(h)&&n[h]){var d=n[h];d=Array.isArray(d)?d:[d];for(var f=0;f<d.length;++f){if(p&&p.cause==h+","+f)return;var m=d[f],g=m.inside,y=!!m.lookbehind,v=!!m.greedy,w=m.alias;if(v&&!m.pattern.global){var b=m.pattern.toString().match(/[imsuy]*$/)[0];m.pattern=RegExp(m.pattern.source,b+"g")}for(var x=m.pattern||m,_=r.next,A=l;_!==t.tail&&!(p&&A>=p.reach);A+=_.value.length,_=_.next){var E=_.value;if(t.length>e.length)return;if(!(E instanceof a)){var C,N=1;if(v){if(!(C=o(x,A,e,y)))break;var T=C.index,S=C.index+C[0].length,B=A;for(B+=_.value.length;T>=B;)B+=(_=_.next).value.length;if(A=B-=_.value.length,_.value instanceof a)continue;for(var k=_;k!==t.tail&&(B<S||"string"==typeof k.value);k=k.next)N++,B+=k.value.length;N--,E=e.slice(A,B),C.index-=A}else if(!(C=o(x,0,E,y)))continue;T=C.index;var I=C[0],P=E.slice(0,T),O=E.slice(T+I.length),R=A+E.length;p&&R>p.reach&&(p.reach=R);var D=_.prev;if(P&&(D=u(t,D,P),A+=P.length),c(t,D,N),_=u(t,D,new a(h,g?i.tokenize(I,g):I,w,I)),O&&u(t,_,O),N>1){var M={cause:h+","+f,reach:R};s(e,t,n,_.prev,A,M),p&&M.reach>p.reach&&(p.reach=M.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function u(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}function c(e,t,n){for(var r=t.next,i=0;i<n&&r!==e.tail;i++)r=r.next;t.next=r,r.prev=t,e.length-=i}if(e.Prism=i,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},o=t.alias;o&&(Array.isArray(o)?Array.prototype.push.apply(a.classes,o):a.classes.push(o)),i.hooks.run("wrap",a);var s="";for(var l in a.attributes)s+=" "+l+'="'+(a.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+s+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(i.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,a=n.code,o=n.immediateClose;e.postMessage(i.highlight(a,i.languages[r],r)),o&&e.close()}),!1),i):i;var p=i.util.currentScript();function h(){i.manual||i.highlightAll()}if(p&&(i.filename=p.src,p.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var d=document.readyState;"loading"===d||"interactive"===d&&p&&p.defer?document.addEventListener("DOMContentLoaded",h):window.requestAnimationFrame?window.requestAnimationFrame(h):window.setTimeout(h,16)}return i}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});
/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */"undefined"!=typeof module&&module.exports&&(module.exports=da),"undefined"!=typeof global&&(global.Prism=da),da.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?\]\]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},da.languages.markup.tag.inside["attr-value"].inside.entity=da.languages.markup.entity,da.languages.markup.doctype.inside["internal-subset"].inside=da.languages.markup,da.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(da.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:da.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:da.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},da.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(da.languages.markup.tag,"addAttribute",{value:function(e,t){da.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:da.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),da.languages.html=da.languages.markup,da.languages.mathml=da.languages.markup,da.languages.svg=da.languages.markup,da.languages.xml=da.languages.extend("markup",{}),da.languages.ssml=da.languages.xml,da.languages.atom=da.languages.xml,da.languages.rss=da.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(da),da.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},da.languages.javascript=da.languages.extend("clike",{"class-name":[da.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),da.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,da.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:da.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:da.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:da.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:da.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:da.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),da.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:da.languages.javascript}},string:/[\s\S]+/}}}),da.languages.markup&&(da.languages.markup.tag.addInlined("script","javascript"),da.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),da.languages.js=da.languages.javascript,function(){if(void 0!==da&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},t="data-src-status",n="loading",r="loaded",i='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',a=/\blang(?:uage)?-([\w-]+)\b/i;da.hooks.add("before-highlightall",(function(e){e.selector+=", "+i})),da.hooks.add("before-sanity-check",(function(a){var s=a.element;if(s.matches(i)){a.code="",s.setAttribute(t,n);var l=s.appendChild(document.createElement("CODE"));l.textContent="Loading…";var u=s.getAttribute("data-src"),c=a.language;if("none"===c){var p=(/\.(\w+)$/.exec(u)||[,"none"])[1];c=e[p]||p}o(l,c),o(s,c);var h=da.plugins.autoloader;h&&h.loadLanguages(c);var d=new XMLHttpRequest;d.open("GET",u,!0),d.onreadystatechange=function(){var e,n;4==d.readyState&&(d.status<400&&d.responseText?(s.setAttribute(t,r),l.textContent=d.responseText,da.highlightElement(l)):(s.setAttribute(t,"failed"),d.status>=400?l.textContent=(e=d.status,n=d.statusText,"✖ Error "+e+" while fetching file: "+n):l.textContent="✖ Error: File does not exist or is empty"))},d.send(null)}})),da.plugins.fileHighlight={highlight:function(e){for(var t,n=(e||document).querySelectorAll(i),r=0;t=n[r++];)da.highlightElement(t)}},da.fileHighlight=function(){da.plugins.fileHighlight.highlight.apply(this,arguments)}}function o(e,t){var n=e.className;n=n.replace(a," ")+" language-"+t,e.className=n.replace(/\s+/g," ").trim()}}();Hr({is:"prism-highlighter",properties:{languages:{type:Object,value:function(){return{}}}},ready:function(){this._handler=this._highlight.bind(this)},attached:function(){(this.parentNode.host||this.parentElement).addEventListener("syntax-highlight",this._handler)},detached:function(){(this.parentNode.host||this.parentElement).removeEventListener("syntax-highlight",this._handler)},_highlight:function(e){if(e.detail&&e.detail.code){e.stopPropagation();var t=e.detail;t.code=Prism.highlight(t.code,this._detectLang(t.code,t.lang))}else bi._warn("Malformed","syntax-highlight","event:",e.detail)},_detectLang:function(e,t){if(!t)return e.match(/^\s*</)?Prism.languages.markup:Prism.languages.javascript;if(this.languages[t])return this.languages[t];if(Prism.languages[t])return Prism.languages[t];switch(t.substr(0,2)){case"js":case"es":return Prism.languages.javascript;case"c":return Prism.languages.clike;default:return Prism.languages.markup}}});
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const fa=li`<dom-module id="prism-theme-default"><template><style>code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></template></dom-module>`;document.head.appendChild(fa.content),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Hr({_template:li`<style include="prism-theme-default">:host{display:block;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);margin-bottom:40px;@apply --demo-snippet;}.demo{display:block;border-bottom:1px solid #e0e0e0;background-color:#fff;margin:0;padding:20px;@apply --demo-snippet-demo;}.code-container{margin:0;background-color:#f5f5f5;font-size:13px;overflow:auto;position:relative;padding:0 20px;z-index:-1;@apply --demo-snippet-code;}.code{margin:0;background-color:var(--google-grey-100);font-size:10px;overflow:auto;@apply --demo-snippet-code;}.code>pre{margin:0;padding:0 0 10px 0}button{position:absolute;top:0;right:0;text-transform:uppercase;border:none;cursor:pointer;background:#e0e0e0}</style><prism-highlighter></prism-highlighter><div class="demo"><slot id="content"></slot></div><div class="code-container"><marked-element markdown="[[_markdown]]" id="marked"><div class="code" slot="markdown-html" id="code"></div></marked-element></div>`,is:"demo-snippet",properties:{_markdown:{type:String}},attached:function(){this._observer=Er(this.$.content).observeNodes(function(e){this._updateMarkdown()}.bind(this))},detached:function(){this._observer&&(Er(this.$.content).unobserveNodes(this._observer),this._observer=null)},_updateMarkdown:function(){var e=Er(this).queryDistributedElements("template")[0];if(e){var t=this.$.marked.unindent(e.innerHTML);t=(t=t.replace(/ class=""/g,"")).replace(/=""/g,""),this._markdown="```\n"+t+"\n```",e.hasAttribute("is")||(Er(this.$.content).unobserveNodes(this._observer),this._observer=null,Er(this).appendChild(document.importNode(e.content,!0))),this.dispatchEvent(new CustomEvent("dom-ready"))}else this._markdown=""},_copyToClipboard:function(){var e=document.createRange();e.selectNodeContents(this.$.code);var t=window.getSelection();t.removeAllRanges(),t.addRange(e);var n=!1;try{n=document.execCommand("copy"),this.$.copyButton.textContent="done"}catch(e){this.$.copyButton.textContent="error"}return setTimeout(this._resetCopyButtonState.bind(this),1e3),t.removeAllRanges(),n},_resetCopyButtonState:function(){this.$.copyButton.textContent="copy"}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const ma=li`<dom-module id="demo-pages-shared-styles"><template><style>body{font-family:Roboto,Noto,sans-serif;font-size:14px;margin:0;padding:24px;background-color:#fafafa}.horizontal-section-container{@apply --layout-horizontal;@apply --layout-center-justified;@apply --layout-wrap;}.vertical-section-container{@apply --layout-vertical;@apply --center-justified;}.centered{max-width:600px;margin-left:auto;margin-right:auto}demo-snippet.centered-demo{--demo-snippet-demo:{@apply --layout-horizontal;@apply --layout-wrap;@apply --layout-center-justified;};}</style></template></dom-module>`;function ga(e,t,n,r){const i={op:t,func:n,data:r};return e.push(i),i}function ya(e,t){return e}ma.setAttribute("style","display: none;"),document.head.appendChild(ma.content);class va{constructor(){this.program=[]}test(e,t){return ga(this.program,5,e,void 0===t?null:t)}jump(e){return ga(this.program,3,null,e)}record(e,t){return ga(this.program,4,void 0===t?ya:t,e)}bad(e=1){return ga(this.program,1,null,e)}accept(){return ga(this.program,0,null,null)}fail(e){return ga(this.program,2,e||null,null)}}class wa{constructor(e,t,n){this.programLength=e,this.maxFromByPc=t,this.maxSurvivorFromByPc=n}static fromProgram(e){const t=e.length,n=[],r=[];return e.forEach((e=>{n.push(0),r.push(0)})),e.forEach(((e,i)=>{switch(e.op){case 2:if(null===e.func)return;if(i+1>=t)throw new Error("Invalid program: program could run past end");n[i+1]+=1;break;case 1:case 4:if(i+1>=t)throw new Error("Invalid program: program could run past end");n[i+1]+=1;break;case 3:e.data.forEach((e=>{if(e<0||e>=t)throw new Error("Invalid program: program could run past end");n[e]+=1}));break;case 5:if(i+1>=t)throw new Error("Invalid program: program could run past end");r[i+1]+=1;break;case 0:r[i]+=1}})),new wa(t,n,r)}static createStub(e){const t=[],n=[];for(let r=0;r<e;++r)t.push(e),n.push(e);return new wa(e,t,n)}}class ba{constructor(e){this.acceptingTraces=e,this.success=e.length>0}}class xa{constructor(e){this.t=0,this.i=0,this.h=new Uint16Array(e),this.l=new Uint8Array(e)}getBadness(e){return this.l[e]}add(e,t){this.l[e]=t>255?255:t;const n=function(e,t,n,r,i){let a=r,o=i;for(;a<o;){const r=a+o>>>1;n<t[e[r]]?o=r:a=r+1}return a}(this.h,this.l,t,this.i,this.t);this.h.copyWithin(n+1,n,this.t),this.h[n]=e,this.t+=1}reschedule(e,t){const n=Math.max(this.l[e],t>255?255:t);if(this.l[e]!==n){const t=this.h.indexOf(e,this.i);if(t<0||t>=this.t)return void(this.l[e]=n);this.h.copyWithin(t,t+1,this.t),this.t-=1,this.add(e,n)}}getNextPc(){return this.i>=this.t?null:this.h[this.i++]}reset(){this.t=0,this.i=0,this.l.fill(0)}}class _a{constructor(e){this.o=[];let t=e.length;e.forEach((e=>{this.o.push(e>0?t:-1),t+=e})),this.u=new Uint16Array(t)}clear(){this.u.fill(0,0,this.o.length)}add(e,t){const n=this.u[t],r=this.o[t];this.u[t]+=1,this.u[r+n]=e}has(e){return this.u[e]>0}forEach(e,t){const n=this.u[e],r=this.o[e];for(let e=r;e<r+n;++e)t(this.u[e])}}function Aa(e,t,n=!1){return null===e?t:Array.isArray(e)?(-1===e.indexOf(t)&&(n&&(e=e.slice()),e.push(t)),e):e===t?e:[e,t]}class Ea{constructor(e,t){this.prefixes=e,this.record=t}}function Ca(e,t){let n;if(null===t){if(!Array.isArray(e))return e;n=e}else n=e===Ea.EMPTY?[]:Array.isArray(e)?e:[e];return new Ea(n,t)}Ea.EMPTY=new Ea([],null);class Na{constructor(e){this.p=[],this.v=[];for(let t=0;t<e;++t)this.p.push(0),this.v.push(null)}mergeTraces(e,t,n,r,i,a){let o=!1;return n.forEach(t,(t=>{const n=this.trace(t,r,i,a);var s,l,u;l=n,u=o,e=null===(s=e)?l:null===l?s:Array.isArray(l)?l.reduce(((e,t)=>Aa(e,t,e===l)),s):Aa(s,l,u),o=e===n})),e}trace(e,t,n,r){switch(this.p[e]){case 2:return this.v[e];case 1:return null}this.p[e]=1;let i=null;const a=t[e];if(null!==a)i=a;else if(!n.has(e))throw new Error(`Trace without source at pc ${e}`);if(i=this.mergeTraces(i,e,n,t,n,r),null!==i){const t=r[e];null!==t&&(i=Ca(i,t))}return this.v[e]=i,this.p[e]=2,i}buildSurvivorTraces(e,t,n,r,i){for(let a=0,o=e.length;a<o;++a){if(!n.has(a)){t[a]=null;continue}this.v.fill(null),this.p.fill(0);const o=this.mergeTraces(null,a,n,e,r,i);if(null===o)throw new Error(`No non-cyclic paths found to survivor ${a}`);t[a]=Ca(o,null)}this.v.fill(null)}}class Ta{constructor(e){this.g=[],this.k=[],this.m=[],this.A=new _a(e.maxFromByPc),this.T=new _a(e.maxSurvivorFromByPc),this.S=new Na(e.programLength);for(let t=0;t<e.programLength;++t)this.g.push(null),this.k.push(null),this.m.push(null);this.k[0]=Ea.EMPTY}reset(e){this.A.clear(),this.T.clear(),this.g.fill(null),e&&(this.k.fill(null),this.m.fill(null),this.k[0]=Ea.EMPTY)}record(e,t){this.g[e]=t}has(e){return this.A.has(e)||null!==this.k[e]}add(e,t){this.A.add(e,t)}hasSurvivor(e){return this.T.has(e)}addSurvivor(e,t){this.T.add(e,t)}buildSurvivorTraces(){const e=this.k;this.S.buildSurvivorTraces(e,this.m,this.T,this.A,this.g),this.k=this.m,this.m=e}getTraces(e){const t=e.reduce(((e,t)=>Aa(e,this.k[t])),null);return null===t?[]:Array.isArray(t)?t:[t]}}class Sa{constructor(e){this.I=[],this.N=new xa(e.programLength),this.M=new xa(e.programLength),this.P=new Ta(e)}reset(){this.N.reset(),this.N.add(0,0),this.I.length=0,this.P.reset(!0)}getNextThreadPc(){return this.N.getNextPc()}step(e,t,n){const r=this.P.has(t);this.P.add(e,t);const i=this.N.getBadness(e)+n;r?this.N.reschedule(t,i):this.N.add(t,i)}stepToNextGeneration(e,t){const n=this.P.hasSurvivor(t);this.P.addSurvivor(e,t);const r=this.N.getBadness(e);n?this.M.reschedule(t,r):this.M.add(t,r)}accept(e){this.I.push(e),this.P.addSurvivor(e,e)}fail(e){}record(e,t){this.P.record(e,t)}nextGeneration(){this.P.buildSurvivorTraces(),this.P.reset(!1);const e=this.N;e.reset(),this.N=this.M,this.M=e}getAcceptingTraces(){return this.P.getTraces(this.I)}}class Ba{constructor(e){this.U=[],this.G=e,this.V=wa.fromProgram(e),this.U.push(new Sa(this.V))}execute(e,t){const n=this.U.pop()||new Sa(this.V);n.reset();const r=e.length;let i,a=-1;do{let o=n.getNextThreadPc();if(null===o)break;for(++a,i=a>=r?null:e[a];null!==o;){const e=this.G[o];switch(e.op){case 0:null===i?n.accept(o):n.fail(o);break;case 2:{const r=e.func;if(null===r||r(t)){n.fail(o);break}n.step(o,o+1,0);break}case 1:n.step(o,o+1,e.data);break;case 5:if(null===i){n.fail(o);break}if(!(0,e.func)(i,e.data,t)){n.fail(o);break}n.stepToNextGeneration(o,o+1);break;case 3:{const t=e.data,r=t.length;if(0===r){n.fail(o);break}for(let e=0;e<r;++e)n.step(o,t[e],0);break}case 4:{const r=(0,e.func)(e.data,a,t);null!=r&&n.record(o,r),n.step(o,o+1,0);break}}o=n.getNextThreadPc()}n.nextGeneration()}while(null!==i);const o=new ba(n.getAcceptingTraces());return n.reset(),this.U.push(n),o}}function ka(e){return t=>t===e}function Ia(e,t){if(null===e||null===t)throw new Error("unescaped hyphen may not be used as a range endpoint");if(t<e)throw new Error("character range is in the wrong order");return n=>e<=n&&n<=t}function Pa(e){return!0}function Oa(){return!1}function Ra(e,t){return n=>e(n)||t(n)}function Da(e,t){switch(t.kind){case"predicate":return void e.test(t.value);case"regexp":return void Ma(e,t.value,!1)}}function Ma(e,t,n){const r=e.program.length,i=e.jump([]);n&&(i.data.push(e.program.length),e.test((()=>!0)),e.jump([r]));const a=[];if(t.forEach((t=>{i.data.push(e.program.length),function(e,t){t.forEach((t=>{!function(e,t){const[n,{min:r,max:i}]=t;if(null!==i){for(let t=0;t<r;++t)Da(e,n);for(let t=r;t<i;++t){const t=e.jump([]);t.data.push(e.program.length),Da(e,n),t.data.push(e.program.length)}}else if(r>0){for(let t=0;t<r-1;++t)Da(e,n);const t=e.program.length;Da(e,n),e.jump([t]).data.push(e.program.length)}else{const t=e.program.length,r=e.jump([]);r.data.push(e.program.length),Da(e,n),e.jump([t]),r.data.push(e.program.length)}}(e,t)}))}(e,t),a.push(e.jump([]))})),a.forEach((t=>{t.data.push(e.program.length)})),n){const t=e.program.length,n=e.jump([]);n.data.push(e.program.length),e.test((()=>!0)),e.jump([t]),n.data.push(e.program.length)}}function Fa(e,t){return{success:!0,offset:e,value:t}}function Ua(e){return Fa(e,void 0)}function Ha(e,t,n=!1){return{success:!1,offset:e,expected:t,fatal:n}}function La(e){return(t,n)=>{const r=n+e.length;return t.slice(n,r)===e?Fa(r,e):Ha(n,[e])}}function Ga(e,t){return(n,r)=>{const i=e(n,r);return i.success?Fa(i.offset,t(i.value)):i}}function ja(e,t,n){return(r,i)=>{const a=e(r,i);return a.success?t(a.value)?a:Ha(i,n):a.offset===i?Ha(i,n):a}}function $a(e){return(t,n)=>{let r=null;for(const i of e){const e=i(t,n);if(e.success)return e;if(null===r||e.offset>r.offset?r=e:e.offset===r.offset&&(r.expected=r.expected.concat(e.expected)),e.fatal)break}return r||Ha(n,[])}}function Xa(e){return(t,n)=>{const r=e(t,n);return r.success||r.fatal?r:Fa(n,null)}}function za(e){return(t,n)=>{let r=[],i=n;for(;;){const n=e(t,i);if(!n.success){if(n.fatal)return n;break}r.push(n.value),i=n.offset}return Fa(i,r)}}function qa(e,t,n){return(r,i)=>{const a=e(r,i);if(!a.success)return a;const o=t(r,a.offset);return o.success?Fa(o.offset,n(a.value,o.value)):o}}function Va(e){return qa(e,za(e),((e,t)=>[e].concat(t)))}function Ya(e,t){return e}function Ka(e,t){return t}function Ja(e,t){return qa(e,t,Ka)}function Qa(e,t){return qa(e,t,Ya)}function Wa(e,t,n,r=!1){return Ja(e,r?eo(Qa(t,n)):Qa(t,n))}function Za(e,t){return(n,r)=>e(n,r).success?Ha(r,t):Ua(r)}function eo(e){return(t,n)=>{const r=e(t,n);return r.success?r:Ha(r.offset,r.expected,!0)}}const to=(e,t)=>e.length===t?Ua(t):Ha(t,["end of input"]),no=["Lu","Ll","Lt","Lm","Lo","Mn","Mc","Me","Nd","Nl","No","Pc","Pd","Ps","Pe","Pi","Pf","Po","Zs","Zl","Zp","Sm","Sc","Sk","So","Cc","Cf","Co","Cn"],ro={};function io(e){return e.codePointAt(0)}"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(((e,t)=>{ro[e]=t}));const ao=e=>-1===e||-2===e;function oo(e){return t=>!ao(t)&&!e(t)}function so(e,t){return null===t?e:n=>e(n)&&!t(n)}const lo=function(e,t){const n=new Map;let r=0;return["BasicLatin","Latin-1Supplement","LatinExtended-A","LatinExtended-B","IPAExtensions","SpacingModifierLetters","CombiningDiacriticalMarks","GreekandCoptic|Greek","Cyrillic","CyrillicSupplement","Armenian","Hebrew","Arabic","Syriac","ArabicSupplement","Thaana","NKo","Samaritan","Mandaic","SyriacSupplement",null,"ArabicExtended-A","Devanagari","Bengali","Gurmukhi","Gujarati","Oriya","Tamil","Telugu","Kannada","Malayalam","Sinhala","Thai","Lao","Tibetan","Myanmar","Georgian","HangulJamo","Ethiopic","EthiopicSupplement","Cherokee","UnifiedCanadianAboriginalSyllabics","Ogham","Runic","Tagalog","Hanunoo","Buhid","Tagbanwa","Khmer","Mongolian","UnifiedCanadianAboriginalSyllabicsExtended","Limbu","TaiLe","NewTaiLue","KhmerSymbols","Buginese","TaiTham","CombiningDiacriticalMarksExtended","Balinese","Sundanese","Batak","Lepcha","OlChiki","CyrillicExtended-C","GeorgianExtended","SundaneseSupplement","VedicExtensions","PhoneticExtensions","PhoneticExtensionsSupplement","CombiningDiacriticalMarksSupplement","LatinExtendedAdditional","GreekExtended","GeneralPunctuation","SuperscriptsandSubscripts","CurrencySymbols","CombiningDiacriticalMarksforSymbols|CombiningMarksforSymbols","LetterlikeSymbols","NumberForms","Arrows","MathematicalOperators","MiscellaneousTechnical","ControlPictures","OpticalCharacterRecognition","EnclosedAlphanumerics","BoxDrawing","BlockElements","GeometricShapes","MiscellaneousSymbols","Dingbats","MiscellaneousMathematicalSymbols-A","SupplementalArrows-A","BraillePatterns","SupplementalArrows-B","MiscellaneousMathematicalSymbols-B","SupplementalMathematicalOperators","MiscellaneousSymbolsandArrows","Glagolitic","LatinExtended-C","Coptic","GeorgianSupplement","Tifinagh","EthiopicExtended","CyrillicExtended-A","SupplementalPunctuation","CJKRadicalsSupplement","KangxiRadicals",null,"IdeographicDescriptionCharacters","CJKSymbolsandPunctuation","Hiragana","Katakana","Bopomofo","HangulCompatibilityJamo","Kanbun","BopomofoExtended","CJKStrokes","KatakanaPhoneticExtensions","EnclosedCJKLettersandMonths","CJKCompatibility","CJKUnifiedIdeographsExtensionA","YijingHexagramSymbols","CJKUnifiedIdeographs","YiSyllables","YiRadicals","Lisu","Vai","CyrillicExtended-B","Bamum","ModifierToneLetters","LatinExtended-D","SylotiNagri","CommonIndicNumberForms","Phags-pa","Saurashtra","DevanagariExtended","KayahLi","Rejang","HangulJamoExtended-A","Javanese","MyanmarExtended-B","Cham","MyanmarExtended-A","TaiViet","MeeteiMayekExtensions","EthiopicExtended-A","LatinExtended-E","CherokeeSupplement","MeeteiMayek","HangulSyllables","HangulJamoExtended-B","HighSurrogates","HighPrivateUseSurrogates","LowSurrogates","PrivateUseArea|PrivateUse","CJKCompatibilityIdeographs","AlphabeticPresentationForms","ArabicPresentationForms-A","VariationSelectors","VerticalForms","CombiningHalfMarks","CJKCompatibilityForms","SmallFormVariants","ArabicPresentationForms-B","HalfwidthandFullwidthForms","Specials","LinearBSyllabary","LinearBIdeograms","AegeanNumbers","AncientGreekNumbers","AncientSymbols","PhaistosDisc",null,"Lycian","Carian","CopticEpactNumbers","OldItalic","Gothic","OldPermic","Ugaritic","OldPersian",null,"Deseret","Shavian","Osmanya","Osage","Elbasan","CaucasianAlbanian",null,"LinearA",null,"CypriotSyllabary","ImperialAramaic","Palmyrene","Nabataean",null,"Hatran","Phoenician","Lydian",null,"MeroiticHieroglyphs","MeroiticCursive","Kharoshthi","OldSouthArabian","OldNorthArabian",null,"Manichaean","Avestan","InscriptionalParthian","InscriptionalPahlavi","PsalterPahlavi",null,"OldTurkic",null,"OldHungarian","HanifiRohingya",null,"RumiNumeralSymbols",null,"OldSogdian","Sogdian",null,"Elymaic","Brahmi","Kaithi","SoraSompeng","Chakma","Mahajani","Sharada","SinhalaArchaicNumbers","Khojki",null,"Multani","Khudawadi","Grantha",null,"Newa","Tirhuta",null,"Siddham","Modi","MongolianSupplement","Takri",null,"Ahom",null,"Dogra",null,"WarangCiti",null,"Nandinagari","ZanabazarSquare","Soyombo",null,"PauCinHau",null,"Bhaiksuki","Marchen",null,"MasaramGondi","GunjalaGondi",null,"Makasar",null,"TamilSupplement","Cuneiform","CuneiformNumbersandPunctuation","EarlyDynasticCuneiform",null,"EgyptianHieroglyphs","EgyptianHieroglyphFormatControls",null,"AnatolianHieroglyphs",null,"BamumSupplement","Mro",null,"BassaVah","PahawhHmong",null,"Medefaidrin",null,"Miao",null,"IdeographicSymbolsandPunctuation","Tangut","TangutComponents",null,"KanaSupplement","KanaExtended-A","SmallKanaExtension","Nushu",null,"Duployan","ShorthandFormatControls",null,"ByzantineMusicalSymbols","MusicalSymbols","AncientGreekMusicalNotation",null,"MayanNumerals","TaiXuanJingSymbols","CountingRodNumerals",null,"MathematicalAlphanumericSymbols","SuttonSignWriting",null,"GlagoliticSupplement",null,"NyiakengPuachueHmong",null,"Wancho",null,"MendeKikakui",null,"Adlam",null,"IndicSiyaqNumbers",null,"OttomanSiyaqNumbers",null,"ArabicMathematicalAlphabeticSymbols",null,"MahjongTiles","DominoTiles","PlayingCards","EnclosedAlphanumericSupplement","EnclosedIdeographicSupplement","MiscellaneousSymbolsandPictographs","Emoticons","OrnamentalDingbats","TransportandMapSymbols","AlchemicalSymbols","GeometricShapesExtended","SupplementalArrows-C","SupplementalSymbolsandPictographs","ChessSymbols","SymbolsandPictographsExtended-A",null,"CJKUnifiedIdeographsExtensionB",null,"CJKUnifiedIdeographsExtensionC","CJKUnifiedIdeographsExtensionD","CJKUnifiedIdeographsExtensionE","CJKUnifiedIdeographsExtensionF",null,"CJKCompatibilityIdeographsSupplement",null,"Tags",null,"VariationSelectorsSupplement",null,"SupplementaryPrivateUseArea-A|PrivateUse","SupplementaryPrivateUseArea-B|PrivateUse"].forEach(((e,i)=>{const a=t[i];null!==e&&e.split("|").forEach((e=>{const t=n.get(e),i=Ia(r,r+a-1);n.set(e,t?Ra(t,i):i)})),r+=a})),n}(0,[128,128,128,208,96,80,112,144,256,48,96,112,256,80,48,64,64,64,32,16,48,96,128,128,128,128,128,128,128,128,128,128,128,128,256,160,96,256,384,32,96,640,32,96,32,32,32,32,128,176,80,80,48,96,32,32,144,80,128,64,64,80,48,16,48,16,48,128,64,64,256,256,112,48,48,48,80,64,112,256,256,64,32,160,128,32,96,256,192,48,16,256,128,128,256,256,96,32,128,48,80,96,32,128,128,224,16,16,64,96,96,48,96,16,32,48,16,256,256,6592,64,20992,1168,64,48,320,96,96,32,224,48,16,64,96,32,48,48,32,96,32,96,32,96,32,48,64,80,64,11184,80,896,128,1024,6400,512,80,688,16,16,16,32,32,144,240,16,128,128,64,80,64,48,128,32,64,32,48,32,48,32,64,32,80,48,48,80,48,64,144,384,128,64,32,32,48,48,32,32,32,64,32,96,96,32,32,32,64,64,32,32,48,80,80,48,128,64,288,32,128,48,64,112,32,128,80,48,80,48,96,32,80,48,48,80,128,128,128,96,160,128,96,32,80,48,64,192,80,80,96,160,96,80,96,16,64,256,112,80,64,96,80,304,32,192,64,1024,128,208,2736,1072,16,4032,640,8576,576,48,96,48,144,688,96,96,160,64,32,6144,768,9472,256,48,64,400,2304,160,16,4944,256,256,80,144,32,96,32,128,1024,688,1360,48,208,80,368,64,1280,224,32,96,784,80,64,80,176,256,256,48,112,96,256,256,768,80,48,128,128,128,256,256,112,144,1280,42720,32,4160,224,5776,7488,3088,544,722400,128,128,240,65040,65536,65536]),uo=function(e){const t=new Map,n="bfUATCYATCPAQATAXATAOATBKJTBXCTBCZPATAQAZANAZADZPAXAQAXAbgUATAYDaATAZAaAGARAXAcAaAZAaAXAMBZADATBZAMAGASAMCTACWXACGDXXADHA3DAAPDAAtCAAFDBCAADCAABCCDBCCABCAABCCDCCAABCAAFCAADDAABCAABCBADCBDBGACADCGDCAEADACAEADACAEADAAPDAARDACAEADAABCBA7DFCAABCBDBABCCAJjDBAAGADaFRZDFLZNFEZGFAZAFAZQnvBAAADFAZACADABBFADCTACABDZBCATACCBACABACAABCQBACIDiCADBCCDCAXDDCADAXAABCBDBCyDvAhaAHEJBA1CAANDAgfBAABAClBBFATFDoTAOABBaBYABAHsOAHATAHBTAHBTAHABHGaBDGDTBBKcFXCTBYATBaBHKTAcABATBGfFAGJHUKJTDGBHAmiBAATAGAHGcAaAHFFBHBaAHDGBKJGCaBGATNBAcAGAHAGdHaBBmYBAAHKGABNKJGgHIFBaATCFABBHAYBGVHDFAHIFAHCFAHEBBTOBAGYHCBBTABAGKB0GUBAGHBUHOcAHfIAG1HAIAHAGAICHHIDHAIBGAHGGJHBTBKJTAFAGOHAIBBAGHBBGBBBGVBAGGBAGABCGDBBHAGAICHDBBIBBBIBHAGABHIABDGBBAGCHBBBKJGBYBMFaAYAGATAHABBHBIABAGFBDGBBBGVBAGGBAGBBAGBBAGBBBHABAICHBBDHBBBHCBCHABGGDBAGABGKJHBGCHATABJHBIABAGIBAGCBAGVBAGGBAGBBAGEBBHAGAICHEBAHBIABAIBHABBGABOGBHBBBKJTAYABGGAHFBAHAIBBAGHBBGBBBGVBAGGBAGBBAGEBBHAGAIAHAIAHDBBIBBBIBHABHHAIABDGBBAGCHBBBKJaAGAMFBJHAGABAGFBCGCBAGDBCGBBAGABAGBBCGBBCGCBCGLBDIBHAIBBCICBAICHABBGABFIABNKJMCaFYAaABEHAICHAGHBAGCBAGWBAGPBCGAHCIDBAHCBAHDBGHBBAGCBEGBHBBBKJBGTAMGaAGAHAIBTAGHBAGCBAGWBAGJBAGEBBHAGAIAHAIEBAHAIBBAIBHBBGIBBGGABAGBHBBBKJBAGBBMHBIBBAGHBAGCBAGoHBGAICHDBAICBAICHAGAaABDGCIAMGGCHBBBKJMIaAGFBBIBBAGRBCGXBAGIBAGABBGGBCHABDICHCBAHABAIHBFKJBBIBTABLGvHAGBHGBDYAGFFAHHTAKJTBBkGBBAGABAGEBAGXBAGABAGJHAGBHIGABBGEBAFABAHFBBKJBBGDBfGAaCTOaATAaCHBaFKJMJaAHAaAHAaAHAPAQAPAQAIBGHBAGjBDHNIAHETAHBGEHKBAHjBAaHHAaFBAaBTEaDTBBkGqIBHDIAHFIAHBIBHBGAKJTFGFIBHBGDHCGAICGBIGGCHDGMHAIBHBIFHAGAIAKJICHAaBClBACABECABBDqTAFADCmIFAABAGDBBGGBAGABAGDBBGoBAGDBBGgBAGDBBGGBAGABAGDBBGOBAG4BAGDBBmCBAABBHCTIMTBCGPaJBFiVBAABBDFBBOAmrJAAaATAGQUAGZPAQABCmKBAATCLCGHBGGMBAGDHCBKGRHCTBBIGRHBBLGMBAGCBAHBBLGzHBIAHGIHHAIBHKTCFATCYAGAHABBKJBFMJBFTFOATDHCcABAKJBFGiFAG0BGGEHBGhHAGABEmFBAABJGeBAHCIDHBICBDIBHAIFHCBDaABCTBKJGdBBGEBKGrBDGZBFKJMABCahGWHBIBHABBTBG0IAHAIAHGBAHAIAHAIBHHIFHJBBHAKJBFKJBFTGFATFBBHNJAhABAAHDIAGuHAIAHEIAHAIEHAIBGGBDKJTGaJHIaIBCHBIAGdIAHDIBHBIAHCGBKJGrHAIAHBICHAIAHCIBBHTDGjIHHHIBHBBCTEKJBCGCKJGdFFTBDIBGCqBBCCTHBHHCTAHMIAHGGDHAGFHAGBIAHBGABEDrF+DMFADhFkH5BAHEgVCAADHghBAADHCHDFBBCFBBDHCHDHCHDFBBCFBBDHBACABACABACABACADHCHDNBBDHEHDHEHDHEHDEBADBCDEAZADAZCDCBADBCDEAZCDDBBDBCDBAZCDHCEZCBBDCBADBCDEAZBBAUKcEOFTBRASAPARBSAPARATHVAWAcEUATIRASATDNBTCXAPAQATKXATANATJUAcEBAcJMAFABBMFXCPAQAFAMJXCPAQABAFMBCYfBPHMJDHAJCHLBOaBCAaDCAaBDACCDBCCDAaACAaBXACEaFCAaACAaACAaACDaADACDDAGDDAaBDBCBXECADDaAXAaBDAaAMPLiCADALDMAaBBDXEaEXBaDXAaBXAaBXAaGXAaeXBaBXAaAXAae3LEAAaHPAQAPAQAaTXBaGPAQA6QBAAXAadXYanXF6EBAABYaKBUM76NBAAMV62CAAXAaIXAa1XH6uBAAXA63DAAPAQAPAQAPAQAPAQAPAQAPAQAPAQAMdarXEPAQAXePAQAPAQAPAQAPAQAPAQAXP6/DAA3CCAAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAX+PAQAPAQAXfPAQA3BEAAavXUaBXFamBBafBB6nBAACuBADuBAABCCDBAFCCADDACADFFBCBgjBAADAaFADHCCADABETDMATBDlBADABEDABBG3BGFATABNHAGWBIGGBAGGBAGGBAGGBAGGBAGGBAGGBAGGBAHfTBRASARASATCRASATARASATIOATBOATARASATBRASAPAQAPAQAPAQAPAQATEFATJOBTDOATAPATMBvaZBA6YBAABL6VDAABZaLBDUATCaAFAGALAPAQAPAQAPAQAPAQAPAQAaBPAQAPAQAPAQAPAQAOAPAQBaALIHDIBOAFEaBLCFAGATAaBBAmVBAABBHBZBFBGAOAmZBAATAFCGABEGqBAmdBAABAaBMDaJGaBEajBLGPaeBAMJadMHaAMOafMJamMO6/EAAm1mBABJa/mvHFABPGUFAm2RAABCa2BIGnFFTBmLEAAFATCGPKJGBBTAtGAHAJCTAHJTAFAAbFBHBmFBAALJHBTFBHZWFIZBANDBA9FADHADCAAJFAZBADGAADDBATCDABCDALBBABCCBvGAFBDAGGHAGCHAGDHAGWIBHBIAaDBDMFaBYAaABFGzTDBHIBGxIPHBBHTBKJBFHRGFTCGATAGBHAKJGbHHTBGWHKIBBKTAGcBCHCIAGuHAIBHDIBHBICTMBAFAKJBDTBGEHAFAGIKJGEBAGoHFIBHBIBHBBIGCHAGHHAIABBKJBBTDGPFAGFaCGAIAHAIAGxHAGAHCGBHBGEHBGAHAGABXGBFATBGKIAHBIBTBGAFBIAHABJGFBBGFBBGFBIGGBAGGBADqZAFDDHBHjPBAAGiIBHAIBHAIBTAIAHABBKJBFmjuCABLGWBDGwhDgAA9/jBAmtFAABBmpBAABlDGBLDEBEGAHAGJXAGMBAGEBAGABAGBBAGBBAmrBAAZPBQmqFAAQAPABPG/BBG1BnGLYAaABBHPTGPAQATABFHPTAOBNBPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQATBPAQATDNCTCBATDOAPAQAPAQAPAQATCXAOAXCBATAYATBBDGEBAmGCAABBcABATCYATCPAQATAXATAOATBKJTBXCTBCZPATAQAZANAZADZPAXAQAXAPAQATAPAQATBGJFAGsFBGeBCGFBBGFBBGFBBGCBCYBXAZAaAYBBAaAXDaBBJcCaBBBGLBAGZBAGSBAGBBAGOBBGNBhm6BAABETCBDMsBCaIL0MDaQMBaCBAaLBDaABuasHAhBCAAGcBCGwBOHAMaBDGfMDBIGTLAGHLABEGlHEBEGdBATAGjBDGHTALEBpCnDnmNBAABBKJBFCjBDDjBDGnBHGzBKTAhPCAAm2EAABIGVBJGHhXCAAGFBBGABAGrBAGBBCGABBGWBATAMHGWaBMGGeBHMIBvGSBAGBBEMEGVMFBCTAGZBETAB/G3BDMBGBMPBBMtGAHCBAHBBEHDGDBAGCBAGcBBHCBDHAMIBGTIBGGcMBTAGcMCBfGHaAGbHBBDMETGBIG1BCTGGVBBMHGSBEMHGRBGTDBLMGhPBAAmIBAAB2CyBMDyBGMFGjHDBHKJhlEAAMehACAAGcMJGABHGVHKMDTEhFCAAGWBIIAHAIAG0HOTGBDMTKJBOHCIAGsICHDIBHBTBcATDBKcABBGYBGKJBFHCGjHEIAHHBAKJTDGAIBBIGiHATBGABIHBIAGvICHIIBGDTDHDTABBKJGATAGATCBAMTBKGRBAGYICHCIBHAIAHBTFHAhABAAGGBAGABAGDBAGOBAGJTABFGuHAICHHBEKJBFHBIBBAGHBBGBBBGVBAGGBAGBBAGEBAHBGAIBHAIDBBIBBBICBBGABFIABEGEIBBBHGBCHEhKCAAG0ICHHIBHCIAHAGDTEKJBATABATAHAGABfGvICHFIAHAIDHBIAHBGBTAGABHKJhlCAAGuICHDBBIDHBIAHBTWGDHBBhGvICHHIBHAIAHBTCGABKKJBFTMBSGqHAIAHAIBHFIAHAGABGKJB1GaBBHCIBHDIAHEBDKJMBTCaAh/CAAGrICHIIAHBTAhjBAACfDfKJMIBLGAhfCAAGHBBGmICHDBBHBIDHAGATAGAIABaGAHJGnHFIAGAHDTHHABHGAHFIBHCGtHMIAHBTCGATEBcG4hGEAAGIBAGkIAHGBAHFIAHAGATEBJKJMSBCTBGdBBHVBAIAHGIAHBIAHBhIBAAGGBAGBBAGlHFBCHABAHBBAHGGAHABHKJBFGFBAGBBAGfIEBAHBBAIBHAIAHAGABGKJh1EAAGSHBIBTBhGDAAMUaHYDaQBMTAmZOAAhlBAAruBAABATEBKmDDAAh7qAAmuQAABAcIhG/AAmGJAAh4GCAm4IAABGGeBAKJBDTBhfBAAGdBBHETABJGvHGTEaDFDTAaABJKJBAMGBAGUBEGShvKAACfDfMWTDhkBAAmKBAABDHAGAI2BGHDFMB/FBTAFABbm3fBABHmyLAAhMUCAmeEAABwGCBQGDBHmLGAAhDkAAmqBAABEGMBCGIBGGJBBaAHBTAcDhbNBA61DAABJamBBa7IBHCaCIFcHHHaBHGadHDa6BW6BBAAHCaAhZCAAMTBL6WBAABIMYhGCAACZDZCZDGBADRCZDZCABACBBBCABBCBBBCDBACHDDBADABADGBADKCZDZCBBACDBBCHBACGBADZCBBACDBACEBACABCCGBADZCZDZCZDZCZDZCZDZCZDZCZDbBBCYXADYXADFCYXADYXADFCYXADYXADFCYXADYXADFCYXADYXADFCADABBKx6/HAAH2aDHxaHHAaNHAaBTEBOHEBAHOhPVAAHGBAHQBBHGBAHBBAHEhUDAAGsBCHGFGBBKJBDGAaAhvFAAGrHDKJBEYAh/TAAmEDAABBMIHGBoChDhHGFABDKJBDTBhQMAAM6aAMCYAMDhLBAAMsaAMOhBDAAGDBAGaBAGBBAGABBGABAGJBAGDBAGABAGABFGABDGABAGABAGABAGCBAGBBAGABBGABAGABAGABAGABAGABAGBBAGABBGDBAGGBAGDBAGDBAGABAGJBAGQBEGCBAGEBAGQBzXBhNEAAarBD6jBAABLaOBBaOBAaOBAakBJMMBC6cBAABCa8B4acBMarBDaIBGaBBNaFhZCAA66DAAZE6VLAABJaMBCaKBE6zBAABL6YBAABGaLBTaLBDa3BHaJBFanBHadhRBAAaLBA6kBAABAaDBCaoBBaFBCacBB6GCAABLaNBBaDBDaCBEaCBMaFhpVAAmWbKABom0ABABKmdDAABBmBaBABNmw0BAhewAAmdIAAhiXwCcABd8fBAAh/BAAnvDAAhP4PA99/PABB99/PA".split(""),r=no.map((()=>[]));let i=0,a=0;for(;a<n.length;){const e=ro[n[a]],t=(31&e)-2;let o=1+ro[n[a+1]];switch(32&e?(o+=ro[n[a+2]]<<6,o+=ro[n[a+3]]<<12,o+=ro[n[a+4]]<<18,a+=5):a+=2,t){case-2:{let e=0;for(let t=i;t<i+o;++t)r[e].push(ka(t)),e=(e+1)%2;break}case-1:break;default:{const e=r[t];1===o?e.push(ka(i)):e.push(Ia(i,i+o-1));break}}i+=o}const o=new Map;return no.forEach(((e,n)=>{const i=r[n].reduce(Ra,Oa);t.set(e,i);const a=e.charAt(0),s=o.get(a)||[];o.set(a,s),s.push(i)})),o.forEach(((e,n)=>{t.set(n,e.reduce(Ra,Oa))})),t}();function co(e){return 32===e||9===e||10===e||13===e}const po=[ka(io(":")),Ia(io("A"),io("Z")),ka(io("_")),Ia(io("a"),io("z")),Ia(192,214),Ia(216,246),Ia(192,214),Ia(216,246),Ia(248,767),Ia(880,893),Ia(895,8191),Ia(8204,8205),Ia(8304,8591),Ia(11264,12271),Ia(12289,55295),Ia(63744,64975),Ia(65008,65533),Ia(65536,983039)].reduce(Ra),ho=[po,ka(io("-")),ka(io(".")),Ia(io("0"),io("9")),ka(183),Ia(768,879),Ia(8255,8256)].reduce(Ra),fo=uo.get("Nd"),mo=oo(fo),go=so(Ia(0,1114111),[uo.get("P"),uo.get("Z"),uo.get("C")].reduce(Ra)),yo=oo(go);function vo(e){return 10!==e&&13!==e&&!ao(e)}const wo={s:co,S:oo(co),i:po,I:oo(po),c:ho,C:oo(ho),d:fo,D:mo,w:go,W:yo},bo=La("*"),xo=La("\\"),_o=La("{"),Ao=La("}"),Eo=La("["),Co=La("]"),No=La("^"),To=La("$"),So=La(","),Bo=La("-"),ko=La("("),Io=La(")"),Po=La("."),Oo=La("|"),Ro=La("+"),Do=La("?"),Mo=La("-["),Fo=io("0");function Uo(e){return[...e].map((e=>e.codePointAt(0)))}var Ho=Object.freeze({__proto__:null,compile:function(e,t={language:"xsd"}){const n=function(e){function t(e){return new Set(e.split("").map((e=>io(e))))}function n(e,t){const n=e.codePointAt(t);return void 0===n?Ha(t,["any character"]):Fa(t+String.fromCodePoint(n).length,n)}const r="xpath"===e.language?Ja(xo,$a([Ga(La("n"),(()=>10)),Ga(La("r"),(()=>13)),Ga(La("t"),(()=>9)),Ga($a([xo,Oo,Po,Bo,No,Do,bo,Ro,_o,Ao,To,ko,Io,Eo,Co]),(e=>io(e)))])):Ja(xo,$a([Ga(La("n"),(()=>10)),Ga(La("r"),(()=>13)),Ga(La("t"),(()=>9)),Ga($a([xo,Oo,Po,Bo,No,Do,bo,Ro,_o,Ao,ko,Io,Eo,Co]),(e=>io(e)))]));function i(e,r){const i=t(r);return qa(La(e),Xa(ja(n,(e=>i.has(e)),r.split(""))),((e,t)=>function(e){const t=uo.get(e);if(null==t)throw new Error(`${e} is not a valid unicode category`);return t}(null===t?e:e+String.fromCodePoint(t))))}const a=$a([i("L","ultmo"),i("M","nce"),i("N","dlo"),i("P","cdseifo"),i("Z","slp"),i("S","mcko"),i("C","cfon")]),o=[Ia(io("a"),io("z")),Ia(io("A"),io("Z")),Ia(io("0"),io("9")),ka(45)].reduce(Ra),s=$a([a,Ga(Ja(La("Is"),function(e){return(t,n)=>{const r=e(t,n);return r.success?Fa(r.offset,t.slice(n,r.offset)):r}}(Va(ja(n,o,["block identifier"])))),(t=>function(e,t){const n=lo.get(e);if(void 0===n){if(t)return Pa;throw new Error(`The unicode block identifier "${e}" is not known.`)}return n}(t,"xpath"!==e.language)))]),l=Wa(La("\\p{"),s,Ao,!0),u=Ga(Wa(La("\\P{"),s,Ao,!0),oo),c=Ja(xo,Ga($a("sSiIcCdDwW".split("").map((e=>La(e)))),(e=>wo[e]))),p=Ga(Po,(()=>vo)),h=$a([c,l,u]),d=t("\\[]"),f=$a([r,ja(n,(e=>!d.has(e)),["unescaped character"])]),m=$a([Ga(Bo,(()=>null)),f]),g=qa(m,Ja(Bo,m),Ia);function y(e,t){return[e].concat(t||[])}const v=Ga(function(e){return(t,n)=>{const r=e(t,n);return r.success?Fa(n,r.value):r}}($a([Co,Mo])),(()=>null)),w=io("-"),b=$a([Ga(Qa(Qa(Bo,Za(Eo,["not ["])),v),(()=>w)),Ja(Za(Bo,["not -"]),f)]),x=$a([qa(Ga(b,ka),$a([function(e,t){return x(e,t)},v]),y),qa($a([g,h]),$a([A,v]),y)]),_=$a([qa(Ga(f,ka),$a([x,v]),y),qa($a([g,h]),$a([A,v]),y)]);function A(e,t){return _(e,t)}const E=Ga(_,(e=>e.reduce(Ra))),C=Ga(Ja(No,E),oo),N=qa($a([Ja(Za(No,["not ^"]),E),C]),Xa(Ja(Bo,(function(e,t){return T(e,t)}))),so),T=Wa(Eo,N,Co,!0),S="xpath"===e.language?$a([Ga(r,ka),h,T,p,Ga(No,(()=>e=>-1===e)),Ga(To,(()=>e=>-2===e))]):$a([Ga(r,ka),h,T,p]),B="xpath"===e.language?t(".\\?*+{}()|^$[]"):t(".\\?*+{}()|[]"),k=ja(n,(e=>!B.has(e)),["NormalChar"]),I=Ga(Ja(xo,qa(Ga(ja(n,Ia(io("1"),io("9")),["digit"]),(e=>e-Fo)),za(Ga(ja(n,Ia(Fo,io("9")),["digit"]),(e=>e-Fo))),((e,t)=>{t.reduce(((e,t)=>10*e+t),e)}))),(e=>{throw new Error("Backreferences in XPath patterns are not yet implemented.")})),P="xpath"===e.language?$a([Ga(k,(e=>({kind:"predicate",value:ka(e)}))),Ga(S,(e=>({kind:"predicate",value:e}))),Ga(Wa(ko,Ja(Xa(La("?:")),U),Io,!0),(e=>({kind:"regexp",value:e}))),I]):$a([Ga(k,(e=>({kind:"predicate",value:ka(e)}))),Ga(S,(e=>({kind:"predicate",value:e}))),Ga(Wa(ko,U,Io,!0),(e=>({kind:"regexp",value:e})))]),O=Ga(Va(Ga(ja(n,Ia(Fo,io("9")),["digit"]),(e=>e-Fo))),(e=>e.reduce(((e,t)=>10*e+t)))),R=$a([qa(O,Ja(So,O),((e,t)=>{if(t<e)throw new Error("quantifier range is in the wrong order");return{min:e,max:t}})),qa(O,So,(e=>({min:e,max:null}))),Ga(O,(e=>({min:e,max:e})))]),D="xpath"===e.language?qa($a([Ga(Do,(()=>({min:0,max:1}))),Ga(bo,(()=>({min:0,max:null}))),Ga(Ro,(()=>({min:1,max:null}))),Wa(_o,R,Ao,!0)]),Xa(Do),((e,t)=>e)):$a([Ga(Do,(()=>({min:0,max:1}))),Ga(bo,(()=>({min:0,max:null}))),Ga(Ro,(()=>({min:1,max:null}))),Wa(_o,R,Ao,!0)]),M=za(qa(P,Ga(Xa(D),(e=>null===e?{min:1,max:1}:e)),((e,t)=>[e,t]))),F=qa(M,za(Ja(Oo,eo(M))),((e,t)=>[e].concat(t)));function U(e,t){return F(e,t)}const H=function(e){return qa(e,to,Ya)}(F);return function(e){let t;try{t=H(e,0)}catch(t){throw new Error(`Error parsing pattern "${e}": ${t.message}`)}return t.success?t.value:function(e,t,n){const r=n.map((e=>`"${e}"`));throw new Error(`Error parsing pattern "${e}" at offset ${t}: expected ${r.length>1?"one of "+r.join(", "):r[0]} but found "${e.slice(t,t+1)}"`)}(e,t.offset,t.expected)}}(t)(e),r=function(e){const t=new va;return e(t),new Ba(t.program)}((e=>{Ma(e,n,"xpath"===t.language),e.accept()}));return function(e){const n="xpath"===t.language?[-1,...Uo(e),-2]:Uo(e);return r.execute(n).success}}});function Lo(e,t){return{success:!0,offset:e,value:t}}function Go(e){return Lo(e,void 0)}function jo(e,t,n=!1){return{success:!1,offset:e,expected:t,fatal:n}}function $o(e){return e>65535?2:1}function Xo(e,t){return(n,r)=>{const i=n.codePointAt(r);return void 0!==i&&e(i)?Go(r+$o(i)):jo(r,t)}}function zo(e,t){return(n,r)=>{const i=e(n,r);return i.success?Lo(i.offset,t(i.value)):i}}function qo(e){return(t,n)=>{let r=[],i=n;for(;;){const n=e(t,i);if(!n.success){if(n.fatal)return n;break}if(r.push(n.value),n.offset===i)break;i=n.offset}return Lo(i,r)}}function Vo(e){return(t,n)=>{let r=n;for(;;){const n=e(t,r);if(!n.success){if(n.fatal)return n;break}if(n.offset===r)break;r=n.offset}return Go(r)}}function Yo(e,t,n){return(r,i)=>{const a=e(r,i);if(!a.success)return a;const o=t(r,a.offset);return o.success?Lo(o.offset,n(a.value,o.value)):o}}function Ko(e,t){return e}function Jo(e,t){return t}function Qo(e,t){return Yo(e,t,Jo)}function Wo(e,t){return Yo(e,t,Ko)}function Zo(e,t){return(n,r)=>e(n,r).success?jo(r,t):Go(r)}function es(e){return(t,n)=>{const r=e(t,n);return r.success?r:jo(r.offset,r.expected,!0)}}const ts=(e,t)=>e.length===t?Go(t):jo(t,["end of input"]);function ns(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return[t,n.value]}var rs=Object.freeze({__proto__:null,codepoint:Xo,codepoints:function(e,t){return(n,r)=>{const i=r;for(;;){const t=n.codePointAt(r);if(void 0===t)break;if(!e(t))break;r+=t>65535?2:1}return void 0!==t&&r===i?jo(r,t):Go(r)}},collect:ns,complete:function(e){return Yo(e,ts,Ko)},consume:function(e){return zo(e,(()=>{}))},cut:es,delimited:function(e,t,n,r=!1){return Qo(e,r?es(Wo(t,n)):Wo(t,n))},end:ts,error:jo,except:function(e,t,n){return Qo(Zo(t,n),e)},filter:function(e,t,n){return(r,i)=>{const a=e(r,i);return a.success?t(a.value)?a:jo(i,n):a}},filterUndefined:function(e){return zo(e,(e=>e.filter((e=>void 0!==e))))},first:Ko,followed:Wo,map:zo,not:Zo,ok:Go,okWithValue:Lo,optional:function(e){return(t,n)=>{const r=e(t,n);return r.success||r.fatal?r:Lo(n,null)}},or:function(e,t){return(n,r)=>{let i=null;for(const a of e){const e=a(n,r);if(e.success)return e;if(null===i||e.offset>i.offset?i=e:e.offset===i.offset&&void 0===t&&(i.expected=i.expected.concat(e.expected)),e.fatal)return e}return t=t||(null==i?void 0:i.expected)||[],i&&(i.expected=t),i||jo(r,t)}},peek:function(e){return(t,n)=>{const r=e(t,n);return r.success?Lo(n,r.value):r}},plus:function(e){return Yo(e,qo(e),((e,t)=>[e].concat(t)))},plusConsumed:function(e){return Yo(e,Vo(e),Jo)},preceded:Qo,range:function(e,t,n){return Xo((n=>e<=n&&n<=t),n||[`${String.fromCodePoint(e)}-${String.fromCodePoint(t)}`])},recognize:function(e){return(t,n)=>{const r=e(t,n);return r.success?Lo(r.offset,t.slice(n,r.offset)):r}},second:Jo,skipChars:function(e){return(t,n)=>{let r=e;for(;r>0;){const e=t.codePointAt(n);if(void 0===e)return jo(n,["any character"]);n+=$o(e),r-=1}return Go(n)}},star:qo,starConsumed:Vo,start:(e,t)=>0===t?Go(t):jo(t,["start of input"]),streaming:function(e){return function*(t,n){const r=e(t,n);return r.success&&(yield r.value),r}},streamingComplete:function(e){return function*(t,n){const r=yield*e(t,n);return r.success?ts(t,r.offset):r}},streamingFilterUndefined:function(e){return function*(t,n){const r=e(t,n);let i=r.next();for(;!i.done;){const e=i.value;void 0!==e&&(yield e),i=r.next()}return i.value}},streamingOptional:function(e){return function*(t,n){const[r,i]=ns(e(t,n));return i.success?(yield*r,i):i.fatal?i:Go(n)}},streamingStar:function(e){return function*(t,n){for(;;){const[r,i]=ns(e(t,n));if(!i.success)return i.fatal?i:Go(n);if(yield*r,n===i.offset)return Go(n);n=i.offset}}},streamingThen:function(e,t){return function*(n,r){const i=yield*e(n,r);return i.success?yield*t(n,i.offset):i}},then:Yo,token:function(e){return(t,n)=>{const r=n+e.length;return t.slice(n,r)===e?Lo(r,e):jo(n,[e])}}});const is=function(e,t){const n={};var r;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var a="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function s(e,t){if(t)e:{var n=o;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&a(n,e,{configurable:!0,writable:!0,value:t})}}function l(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function u(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}function c(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function p(e){return e instanceof Array?e:c(u(e))}s("Symbol",(function(e){function t(e,t){this.h=e,a(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.h};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)}})),s("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=o[t[n]];"function"==typeof r&&"function"!=typeof r.prototype[e]&&a(r.prototype,e,{configurable:!0,writable:!0,value:function(){return l(i(this))}})}return e})),s("Symbol.asyncIterator",(function(e){return e||Symbol("Symbol.asyncIterator")}));var h,d="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)h=Object.setPrototypeOf;else{var f;e:{var m={};try{m.__proto__={a:!0},f=m.a;break e}catch(e){}f=!1}h=f?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var g=h;function y(e,t){if(e.prototype=d(t.prototype),e.prototype.constructor=e,g)g(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.Nc=t.prototype}function v(){this.j=!1,this.s=null,this.u=void 0,this.h=1,this.ha=0,this.A=null}function w(e){if(e.j)throw new TypeError("Generator is already running");e.j=!0}function b(e,t){e.A={yc:t,Ac:!0},e.h=e.ha}function x(e){this.h=new v,this.s=e}function _(e,t,n,r){try{var i=t.call(e.h.s,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.h.j=!1,i;var a=i.value}catch(t){return e.h.s=null,b(e.h,t),A(e)}return e.h.s=null,r.call(e.h,a),A(e)}function A(e){for(;e.h.h;)try{var t=e.s(e.h);if(t)return e.h.j=!1,{value:t.value,done:!1}}catch(t){e.h.u=void 0,b(e.h,t)}if(e.h.j=!1,e.h.A){if(t=e.h.A,e.h.A=null,t.Ac)throw t.yc;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function E(e){this.next=function(t){return w(e.h),e.h.s?t=_(e,e.h.s.next,t,e.h.O):(e.h.O(t),t=A(e)),t},this.throw=function(t){return w(e.h),e.h.s?t=_(e,e.h.s.throw,t,e.h.O):(b(e.h,t),t=A(e)),t},this.return=function(t){return function(e,t){w(e.h);var n=e.h.s;return n?_(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.h.return):(e.h.return(t),A(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}v.prototype.O=function(e){this.u=e},v.prototype.return=function(e){this.A={return:e},this.h=this.ha},s("Promise",(function(e){function t(e){this.s=0,this.A=void 0,this.h=[],this.ha=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.h=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.s=function(e){if(null==this.h){this.h=[];var t=this;this.A((function(){t.u()}))}this.h.push(e)};var i=o.setTimeout;n.prototype.A=function(e){i(e,0)},n.prototype.u=function(){for(;this.h&&this.h.length;){var e=this.h;this.h=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.j(e)}}}this.h=null},n.prototype.j=function(e){this.A((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.na),reject:e(this.u)}},t.prototype.na=function(e){if(e===this)this.u(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.ua(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.ka(e):this.O(e)}},t.prototype.ka=function(e){var t=void 0;try{t=e.then}catch(e){return void this.u(e)}"function"==typeof t?this.mb(t,e):this.O(e)},t.prototype.u=function(e){this.B(2,e)},t.prototype.O=function(e){this.B(1,e)},t.prototype.B=function(e,t){if(0!=this.s)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.s);this.s=e,this.A=t,2===this.s&&this.Ya(),this.J()},t.prototype.Ya=function(){var e=this;i((function(){if(e.T()){var t=o.console;void 0!==t&&t.error(e.A)}}),1)},t.prototype.T=function(){if(this.ha)return!1;var e=o.CustomEvent,t=o.Event,n=o.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.A,n(e))},t.prototype.J=function(){if(null!=this.h){for(var e=0;e<this.h.length;++e)a.s(this.h[e]);this.h=null}};var a=new n;return t.prototype.ua=function(e){var t=this.j();e.nb(t.resolve,t.reject)},t.prototype.mb=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){a(e)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.nb(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.nb=function(e,t){function n(){switch(r.s){case 1:e(r.A);break;case 2:t(r.A);break;default:throw Error("Unexpected state: "+r.s)}}var r=this;null==this.h?a.s(n):this.h.push(n),this.ha=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=u(e),a=i.next();!a.done;a=i.next())r(a.value).nb(t,n)}))},t.all=function(e){var n=u(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).nb(a(o.length-1),t),i=n.next()}while(!i.done)}))},t}));var N="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)C(r,i)&&(e[i]=r[i])}return e};function T(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}function S(e,t){return e=void 0!==e?String(e):" ",0<t&&e?e.repeat(Math.ceil(t/e.length)).substring(0,t):""}function B(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return{Fb:i,Mb:a}}return{Fb:-1,Mb:void 0}}function k(e){return e||Array.prototype.fill}function I(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}function P(e,t){if(!("0"!==e&&"-0"!==e||"0"!==t&&"-0"!==t))return 0;var n=/(?:\+|(-))?(\d+)?(?:\.(\d+))?/;e=n.exec(e+"");var r=n.exec(t+""),i=!e[1],a=!r[1];return t=(e[2]||"").replace(/^0*/,""),n=(r[2]||"").replace(/^0*/,""),e=e[3]||"",r=r[3]||"",i&&!a?1:!i&&a?-1:(i=i&&a,t.length>n.length?i?1:-1:t.length<n.length?i?-1:1:t>n?i?1:-1:t<n?i?-1:1:(t=Math.max(e.length,r.length),(n=e.padEnd(t,"0"))>(t=r.padEnd(t,"0"))?i?1:-1:n<t?i?-1:1:0))}function O(e,t){return!(-1<(e=e.toString()).indexOf(".")&&0===t)&&(!(e=/^[-+]?0*([1-9]\d*)?(?:\.((?:\d*[1-9])*)0*)?$/.exec(e))[2]||e[2].length<=t)}function R(e,t){switch(t){case"required":return/(Z)|([+-])([01]\d):([0-5]\d)$/.test(e.toString());case"prohibited":return!/(Z)|([+-])([01]\d):([0-5]\d)$/.test(e.toString());case"optional":return!0}}function D(e){switch(e){case 1:case 0:case 6:case 3:case 18:case 22:case 21:case 20:case 23:case 44:return{};case 4:return{ma:O,ra:function(e,t){return 1>P(e,t)},Lc:function(e,t){return 0>P(e,t)},sa:function(e,t){return-1<P(e,t)},Mc:function(e,t){return 0<P(e,t)}};case 9:case 8:case 7:case 11:case 12:case 13:case 15:case 14:return{wa:R};default:return null}}s("Object.assign",(function(e){return e||N})),s("String.prototype.repeat",(function(e){return e||function(e){var t=T(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}})),s("String.prototype.padEnd",(function(e){return e||function(e,t){var n=T(this,null,"padStart");return n+S(t,e-n.length)}})),s("WeakMap",(function(e){function t(e){if(this.h=(l+=Math.random()+1).toString(),e){e=u(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function i(e){if(!C(e,s)){var t=new n;a(e,s,{value:t})}}function o(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&i(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(e){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var l=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(i(e),!C(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.h]=t,this},t.prototype.get=function(e){return r(e)&&C(e,s)?e[s][this.h]:void 0},t.prototype.has=function(e){return r(e)&&C(e,s)&&C(e[s],this.h)},t.prototype.delete=function(e){return!!(r(e)&&C(e,s)&&C(e[s],this.h))&&delete e[s][this.h]},t})),s("Map",(function(e){function t(){var e={};return e.Ba=e.next=e.head=e}function n(e,t){var n=e.h;return l((function(){if(n){for(;n.head!=e.h;)n=n.Ba;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++o,a.set(t,n)):n="p_"+t;var r=e.s[n];if(r&&C(e.s,n))for(e=0;e<r.length;e++){var i=r[e];if(t!=t&&i.key!=i.key||t===i.key)return{id:n,list:r,index:e,ja:i}}return{id:n,list:r,index:-1,ja:void 0}}function i(e){if(this.s={},this.h=t(),this.size=0,e){e=u(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(u([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(e){return!1}}())return e;var a=new WeakMap;i.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this.s[n.id]=[]),n.ja?n.ja.value=t:(n.ja={next:this.h,Ba:this.h.Ba,head:this.h,key:e,value:t},n.list.push(n.ja),this.h.Ba.next=n.ja,this.h.Ba=n.ja,this.size++),this},i.prototype.delete=function(e){return!(!(e=r(this,e)).ja||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.s[e.id],e.ja.Ba.next=e.ja.next,e.ja.next.Ba=e.ja.Ba,e.ja.head=null,this.size--,!0)},i.prototype.clear=function(){this.s={},this.h=this.h.Ba=t(),this.size=0},i.prototype.has=function(e){return!!r(this,e).ja},i.prototype.get=function(e){return(e=r(this,e).ja)&&e.value},i.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return n(this,(function(e){return e.key}))},i.prototype.values=function(){return n(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var o=0;return i})),s("Array.prototype.find",(function(e){return e||function(e,t){return B(this,e,t).Mb}})),s("String.prototype.startsWith",(function(e){return e||function(e,t){var n=T(this,e,"startsWith"),r=n.length,i=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var a=0;a<i&&t<r;)if(n[t++]!=e[a++])return!1;return a>=i}})),s("Array.prototype.fill",(function(e){return e||function(e,t,n){var r=this.length||0;for(0>t&&(t=Math.max(0,r+t)),(null==n||n>r)&&(n=r),0>(n=Number(n))&&(n=Math.max(0,r+n)),t=Number(t||0);t<n;t++)this[t]=e;return this}})),s("Int8Array.prototype.fill",k),s("Uint8Array.prototype.fill",k),s("Uint8ClampedArray.prototype.fill",k),s("Int16Array.prototype.fill",k),s("Uint16Array.prototype.fill",k),s("Int32Array.prototype.fill",k),s("Uint32Array.prototype.fill",k),s("Float32Array.prototype.fill",k),s("Float64Array.prototype.fill",k),s("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)r.push(t.call(n,i.value,a++))}else for(i=e.length,a=0;a<i;a++)r.push(t.call(n,e[a],a));return r}})),s("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),s("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),s("String.prototype.includes",(function(e){return e||function(e,t){return-1!==T(this,e,"includes").indexOf(e,t||0)}})),s("Number.MAX_SAFE_INTEGER",(function(){return 9007199254740991})),s("Number.MIN_SAFE_INTEGER",(function(){return-9007199254740991})),s("Math.trunc",(function(e){return e||function(e){if(e=Number(e),isNaN(e)||1/0===e||-1/0===e||0===e)return e;var t=Math.floor(Math.abs(e));return 0>e?-t:t}})),s("Number.isFinite",(function(e){return e||function(e){return"number"==typeof e&&(!isNaN(e)&&1/0!==e&&-1/0!==e)}})),s("String.prototype.padStart",(function(e){return e||function(e,t){var n=T(this,null,"padStart");return S(t,e-n.length)+n}})),s("Array.prototype.keys",(function(e){return e||function(){return I(this,(function(e){return e}))}})),s("Number.isInteger",(function(e){return e||function(e){return!!Number.isFinite(e)&&e===Math.floor(e)}})),s("Number.isSafeInteger",(function(e){return e||function(e){return Number.isInteger(e)&&Math.abs(e)<=Number.MAX_SAFE_INTEGER}})),s("Array.prototype.findIndex",(function(e){return e||function(e,t){return B(this,e,t).Fb}})),s("String.prototype.endsWith",(function(e){return e||function(e,t){var n=T(this,e,"endsWith");void 0===t&&(t=n.length),t=Math.max(0,Math.min(0|t,n.length));for(var r=e.length;0<r&&0<t;)if(n[--t]!=e[--r])return!1;return 0>=r}})),s("String.fromCodePoint",(function(e){return e||function(e){for(var t="",n=0;n<arguments.length;n++){var r=Number(arguments[n]);if(0>r||1114111<r||r!==Math.floor(r))throw new RangeError("invalid_code_point "+r);65535>=r?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(r>>>10&1023|55296),t+=String.fromCharCode(1023&r|56320))}return t}})),s("String.prototype.codePointAt",(function(e){return e||function(e){var t=T(this,null,"codePointAt"),n=t.length;if(0<=(e=Number(e)||0)&&e<n){e|=0;var r=t.charCodeAt(e);return 55296>r||56319<r||e+1===n||(56320>(e=t.charCodeAt(e+1))||57343<e)?r:1024*(r-55296)+e+9216}}})),s("Set",(function(e){function t(e){if(this.h=new Map,e){e=u(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.h.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(u([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=r.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(e){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.h.set(e,e),this.size=this.h.size,this},t.prototype.delete=function(e){return e=this.h.delete(e),this.size=this.h.size,e},t.prototype.clear=function(){this.h.clear(),this.size=0},t.prototype.has=function(e){return this.h.has(e)},t.prototype.entries=function(){return this.h.entries()},t.prototype.values=function(){return this.h.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.h.forEach((function(r){return e.call(t,r,r,n)}))},t)})),s("Math.log10",(function(e){return e||function(e){return Math.log(e)/Math.LN10}})),s("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)C(e,t)&&n.push(e[t]);return n}})),s("Number.isNaN",(function(e){return e||function(e){return"number"==typeof e&&isNaN(e)}})),s("Array.prototype.values",(function(e){return e||function(){return I(this,(function(e,t){return t}))}})),s("Object.getOwnPropertySymbols",(function(e){return e||function(){return[]}}));var M={},F={};function U(e){return/^([+-]?(\d*(\.\d*)?([eE][+-]?\d*)?|INF)|NaN)$/.test(e)}function H(e){return/^[_:A-Za-z][-._:A-Za-z0-9]*$/.test(e)}function L(e){return H(e)&&/^[_A-Za-z]([-._A-Za-z0-9])*$/.test(e)}function G(e){return 1===(e=e.split(":")).length?L(e[0]):2===e.length&&(L(e[0])&&L(e[1]))}function j(e){return!/[\u0009\u000A\u000D]/.test(e)}function $(e){return L(e)}var X=new Map([[45,function(){return!0}],[46,function(){return!0}],[1,function(){return!0}],[0,function(e){return/^(0|1|true|false)$/.test(e)}],[6,function(e){return U(e)}],[3,U],[4,function(e){return/^[+-]?\d*(\.\d*)?$/.test(e)}],[18,function(e){return/^(-)?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d*)?S)?)?$/.test(e)}],[9,function(e){return/^-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?|(24:00:00(\.0+)?))(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[8,function(e){return/^(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?|(24:00:00(\.0+)?))(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[7,function(e){return/^-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[11,function(e){return/^-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[12,function(e){return/^-?([1-9][0-9]{3,}|0[0-9]{3})(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[13,function(e){return/^--(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[15,function(e){return/^---(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[14,function(e){return/^--(0[1-9]|1[0-2])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[22,function(e){return/^([0-9A-Fa-f]{2})*$/.test(e)}],[21,function(e){return new RegExp(/^((([A-Za-z0-9+/] ?){4})*((([A-Za-z0-9+/] ?){3}[A-Za-z0-9+/])|(([A-Za-z0-9+/] ?){2}[AEIMQUYcgkosw048] ?=)|(([A-Za-z0-9+/] ?)[AQgw] ?= ?=)))?$/).test(e)}],[20,function(){return!0}],[44,G],[48,j],[52,function(e){return j(e)&&!/^ | {2,}| $/.test(e)}],[51,function(e){return/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/.test(e)}],[50,function(e){return/^[-._:A-Za-z0-9]+$/.test(e)}],[25,H],[23,G],[24,L],[42,$],[41,$],[26,function(e){return L(e)}],[5,function(e){return/^[+-]?\d+$/.test(e)}],[16,function(e){return/^-?P[0-9]+(Y([0-9]+M)?|M)$/.test(e)}],[17,function(e){return/^-?P([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9]+)?S)?)?$/.test(e)}]]),z=Object.create(null);function q(e,t){if(!z[t])throw Error("Unknown type");return{type:t,value:e}}[{D:0,name:59},{D:0,name:46,parent:59,K:{whiteSpace:"preserve"}},{D:0,name:19,parent:46},{D:0,name:1,parent:46},{D:0,name:0,parent:46,K:{whiteSpace:"collapse"}},{D:0,name:4,parent:46,K:{whiteSpace:"collapse"}},{D:0,name:6,parent:46,K:{whiteSpace:"collapse"}},{D:0,name:3,parent:46,K:{whiteSpace:"collapse"}},{D:0,name:18,parent:46,K:{whiteSpace:"collapse"}},{D:0,name:9,parent:46,K:{wa:"optional",whiteSpace:"collapse"}},{D:0,name:8,parent:46,K:{wa:"optional",whiteSpace:"collapse"}},{D:0,name:7,parent:46,K:{wa:"optional",whiteSpace:"collapse"}},{D:0,name:11,parent:46,K:{wa:"optional",whiteSpace:"collapse"}},{D:0,name:12,parent:46,K:{wa:"optional",whiteSpace:"collapse"}},{D:0,name:13,parent:46,K:{wa:"optional",whiteSpace:"collapse"}},{D:0,name:15,parent:46,K:{wa:"optional",whiteSpace:"collapse"}},{D:0,name:14,parent:46,K:{wa:"optional",whiteSpace:"collapse"}},{D:0,name:22,parent:46,K:{whiteSpace:"collapse"}},{D:0,name:21,parent:46,K:{whiteSpace:"collapse"}},{D:0,name:20,parent:46,K:{whiteSpace:"collapse"}},{D:0,name:23,parent:46,K:{whiteSpace:"collapse"}},{D:0,name:44,parent:46,K:{whiteSpace:"collapse"}},{D:1,name:10,U:9,K:{whiteSpace:"collapse",wa:"required"}},{D:1,name:48,U:1,K:{whiteSpace:"replace"}},{D:1,name:52,U:48,K:{whiteSpace:"collapse"}},{D:1,name:51,U:52,K:{whiteSpace:"collapse"}},{D:1,name:50,U:52,K:{whiteSpace:"collapse"}},{D:2,name:49,type:50,K:{minLength:1,whiteSpace:"collapse"}},{D:1,name:25,U:52,K:{whiteSpace:"collapse"}},{D:1,name:24,U:25,K:{whiteSpace:"collapse"}},{D:1,name:42,U:24,K:{whiteSpace:"collapse"}},{D:1,name:41,U:24,K:{whiteSpace:"collapse"}},{D:2,name:43,type:41,K:{minLength:1,whiteSpace:"collapse"}},{D:1,name:26,U:24,K:{whiteSpace:"collapse"}},{D:2,name:40,type:26,K:{minLength:1,whiteSpace:"collapse"}},{D:0,name:5,parent:4,K:{ma:0,whiteSpace:"collapse"}},{D:1,name:27,U:5,K:{ma:0,ra:"0",whiteSpace:"collapse"}},{D:1,name:28,U:27,K:{ma:0,ra:"-1",whiteSpace:"collapse"}},{D:1,name:31,U:5,K:{ma:0,ra:"9223372036854775807",sa:"-9223372036854775808",whiteSpace:"collapse"}},{D:1,name:32,U:31,K:{ma:0,ra:"2147483647",sa:"-2147483648",whiteSpace:"collapse"}},{D:1,name:33,U:32,K:{ma:0,ra:"32767",sa:"-32768",whiteSpace:"collapse"}},{D:1,name:34,U:33,K:{ma:0,ra:"127",sa:"-128",whiteSpace:"collapse"}},{D:1,name:30,U:5,K:{ma:0,sa:"0",whiteSpace:"collapse"}},{D:1,name:36,U:30,K:{ma:0,ra:"18446744073709551615",sa:"0",whiteSpace:"collapse"}},{D:1,name:35,U:36,K:{ma:0,ra:"4294967295",sa:"0",whiteSpace:"collapse"}},{D:1,name:38,U:35,K:{ma:0,ra:"65535",sa:"0",whiteSpace:"collapse"}},{D:1,name:37,U:38,K:{ma:0,ra:"255",sa:"0",whiteSpace:"collapse"}},{D:1,name:29,U:30,K:{ma:0,sa:"1",whiteSpace:"collapse"}},{D:1,name:16,U:18,K:{whiteSpace:"collapse"}},{D:1,name:17,U:18,K:{whiteSpace:"collapse"}},{D:1,name:60,U:59},{D:3,name:39,Aa:[]},{D:1,name:61,U:60},{D:1,name:62,U:60},{D:0,name:53,parent:59},{D:1,name:54,U:53},{D:1,name:58,U:53},{D:1,name:47,U:53},{D:1,name:56,U:53},{D:1,name:57,U:53},{D:1,name:55,U:53},{D:3,name:2,Aa:[4,5,6,3]},{D:3,name:63,Aa:[]}].forEach((function(e){var t=e.name,n=e.K||{};switch(e.D){case 0:e=e.parent?z[e.parent]:null;var r=X.get(t)||null;z[t]={D:0,type:t,Ia:n,parent:e,fb:r,La:D(t),Aa:[]};break;case 1:e=z[e.U],r=X.get(t)||null,z[t]={D:1,type:t,Ia:n,parent:e,fb:r,La:e.La,Aa:[]};break;case 2:z[t]={D:2,type:t,Ia:n,parent:z[e.type],fb:null,La:M,Aa:[]};break;case 3:e=e.Aa.map((function(e){return z[e]})),z[t]={D:3,type:t,Ia:n,parent:null,fb:null,La:F,Aa:e}}}));var V=q(!0,0),Y=q(!1,0);function K(){return Error("FORG0006: A wrong argument type was specified in a function call.")}function J(e,t){this.done=e,this.value=t}var Q=new J(!0,void 0);function W(e){return new J(!1,e)}function Z(e,t){if(3===t.D)return!!t.Aa.find((function(t){return Z(e,t)}));for(;e;){if(e.type===t.type)return!0;if(3===e.D)return!!e.Aa.find((function(e){return ee(e.type,t.type)}));e=e.parent}return!1}function ee(e,t){return e===t||Z(z[e],z[t])}function te(e){this.s=ue,this.h=e;var t=-1;this.value={next:function(){return++t>=e.length?Q:W(e[t])}}}function ne(){this.value={next:function(){return Q}}}function re(e){var t=e.value;if(ee(e.type,53))return!0;if(ee(e.type,0))return t;if(ee(e.type,1)||ee(e.type,20)||ee(e.type,19))return 0!==t.length;if(ee(e.type,2))return!isNaN(t)&&0!==t;throw K()}function ie(e,t){var n=this;this.j=ue,this.value={next:function(t){return null!==n.s&&n.h>=n.s?Q:void 0!==n.A[n.h]?W(n.A[n.h++]):(t=e.next(t)).done?(n.s=n.h,t):((n.u||2>n.h)&&(n.A[n.h]=t.value),n.h++,t)}},this.u=!1,this.A=[],this.h=0,this.s=void 0===t?null:t}function ae(e,t){e.h=void 0===t?0:t}function oe(e){this.A=ue,this.h=e;var t=!1;this.value={next:function(){return t?Q:(t=!0,W(e))}},this.s=null}(r=te.prototype).ob=function(){return this},r.filter=function(e){var t=this,n=-1;return this.s.create({next:function(){for(n++;n<t.h.length&&!e(t.h[n],n,t);)n++;return n>=t.h.length?Q:W(t.h[n])}})},r.first=function(){return this.h[0]},r.M=function(){return this.h},r.getEffectiveBooleanValue=function(){if(ee(this.h[0].type,53))return!0;throw K()},r.Na=function(){return this.h.length},r.G=function(){return!1},r.ya=function(){return!1},r.map=function(e){var t=this,n=-1;return this.s.create({next:function(){return++n>=t.h.length?Q:W(e(t.h[n],n,t))}},this.h.length)},r.L=function(e){return e(this.h)},r.$=function(e){return e.multiple?e.multiple(this):e.default(this)},(r=ne.prototype).ob=function(){return this},r.filter=function(){return this},r.first=function(){return null},r.M=function(){return[]},r.getEffectiveBooleanValue=function(){return!1},r.Na=function(){return 0},r.G=function(){return!0},r.ya=function(){return!1},r.map=function(){return this},r.L=function(e){return e([])},r.$=function(e){return e.empty?e.empty(this):e.default(this)},(r=ie.prototype).ob=function(){return this.j.create(this.M())},r.filter=function(e){var t=this,n=-1,r=this.value;return this.j.create({next:function(i){for(n++,i=r.next(i);!i.done&&!e(i.value,n,t);)n++,i=r.next(0);return i}})},r.first=function(){if(void 0!==this.A[0])return this.A[0];var e=this.value.next(0);return ae(this),e.done?null:e.value},r.M=function(){if(this.h>this.A.length&&this.s!==this.A.length)throw Error("Implementation error: Sequence Iterator has progressed.");var e=this.value;this.u=!0;for(var t=e.next(0);!t.done;)t=e.next(0);return this.A},r.getEffectiveBooleanValue=function(){var e=this.value,t=this.h;ae(this);var n=e.next(0);if(n.done)return ae(this,t),!1;if(ee((n=n.value).type,53))return ae(this,t),!0;if(!e.next(0).done)throw K();return ae(this,t),re(n)},r.Na=function(e){if(null!==this.s)return this.s;if(void 0!==e&&e)return-1;e=this.h;var t=this.M().length;return ae(this,e),t},r.G=function(){return 0===this.s||null===this.first()},r.ya=function(){if(null!==this.s)return 1===this.s;var e=this.value,t=this.h;return ae(this),e.next(0).done?(ae(this,t),!1):(e=e.next(0),ae(this,t),e.done)},r.map=function(e){var t=this,n=0,r=this.value;return this.j.create({next:function(i){return(i=r.next(i)).done?Q:W(e(i.value,n++,t))}},this.s)},r.L=function(e,t){var n,r=this.value,i=[],a=!0;return function(){for(var o=r.next(a?0:t);!o.done;o=r.next(t))a=!1,i.push(o.value);n=e(i).value}(),this.j.create({next:function(){return n.next(0)}})},r.$=function(e){function t(e){r=e.value,-1!==(e=e.Na(!0))&&(n.s=e)}var n=this,r=null;return this.j.create({next:function(i){return r?r.next(i):n.G()?(t(e.empty?e.empty(n):e.default(n)),r.next(i)):n.ya()?(t(e.o?e.o(n):e.default(n)),r.next(i)):(t(e.multiple?e.multiple(n):e.default(n)),r.next(i))}})},(r=oe.prototype).ob=function(){return this},r.filter=function(e){return e(this.h,0,this)?this:this.A.create()},r.first=function(){return this.h},r.M=function(){return[this.h]},r.getEffectiveBooleanValue=function(){return null===this.s&&(this.s=re(this.h)),this.s},r.Na=function(){return 1},r.G=function(){return!1},r.ya=function(){return!0},r.map=function(e){return this.A.create(e(this.h,0,this))},r.L=function(e){return e([this.h])},r.$=function(e){return e.o?e.o(this):e.default(this)};var se=new ne;function le(e,t){if(null===(e=void 0===e?null:e))return se;if(Array.isArray(e))switch(e.length){case 0:return se;case 1:return new oe(e[0]);default:return new te(e)}return e.next?new ie(e,void 0===t?null:t):new oe(e)}var ue={create:le,o:function(e){return new oe(e)},empty:function(){return le()},ca:function(){return le(V)},X:function(){return le(Y)}};function ce(e){var t=[],n=e.value;return function(){var e=0;return ue.create({next:function(){if(void 0!==t[e])return t[e++];var r=n.next(0);return r.done?r:t[e++]=r}})}}function pe(e,t){this.type=e,this.value=t}var he={},de=(he[0]="xs:boolean",he[1]="xs:string",he[2]="xs:numeric",he[3]="xs:double",he[4]="xs:decimal",he[5]="xs:integer",he[6]="xs:float",he[7]="xs:date",he[8]="xs:time",he[9]="xs:dateTime",he[10]="xs:dateTimeStamp",he[11]="xs:gYearMonth",he[12]="xs:gYear",he[13]="xs:gMonthDay",he[14]="xs:gMonth",he[15]="xs:gDay",he[16]="xs:yearMonthDuration",he[17]="xs:dayTimeDuration",he[18]="xs:duration",he[19]="xs:untypedAtomic",he[20]="xs:anyURI",he[21]="xs:base64Binary",he[22]="xs:hexBinary",he[23]="xs:QName",he[24]="xs:NCName",he[25]="xs:Name",he[26]="xs:ENTITY",he[27]="xs:nonPositiveInteger",he[28]="xs:negativeInteger",he[29]="xs:positiveInteger",he[30]="xs:nonNegativeInteger",he[31]="xs:long",he[32]="xs:int",he[33]="xs:short",he[34]="xs:byte",he[35]="xs:unsignedInt",he[36]="xs:unsignedLong",he[37]="xs:unsignedByte",he[38]="xs:unsignedShort",he[39]="xs:error",he[40]="xs:ENTITIES",he[41]="xs:IDREF",he[42]="xs:ID",he[43]="xs:IDREFS",he[44]="xs:NOTATION",he[45]="xs:anySimpleType",he[46]="xs:anyAtomicType",he[47]="attribute()",he[48]="xs:normalizedString",he[49]="xs:NMTOKENS",he[50]="xs:NMTOKEN",he[51]="xs:language",he[52]="xs:token",he[53]="node()",he[54]="element()",he[55]="document-node()",he[56]="text()",he[57]="processing-instruction()",he[58]="comment()",he[59]="item()",he[60]="function(*)",he[61]="map(*)",he[62]="array(*)",he[63]="none",he),fe={"xs:boolean":0,"xs:string":1,"xs:numeric":2,"xs:double":3,"xs:decimal":4,"xs:integer":5,"xs:float":6,"xs:date":7,"xs:time":8,"xs:dateTime":9,"xs:dateTimeStamp":10,"xs:gYearMonth":11,"xs:gYear":12,"xs:gMonthDay":13,"xs:gMonth":14,"xs:gDay":15,"xs:yearMonthDuration":16,"xs:dayTimeDuration":17,"xs:duration":18,"xs:untypedAtomic":19,"xs:anyURI":20,"xs:base64Binary":21,"xs:hexBinary":22,"xs:QName":23,"xs:NCName":24,"xs:Name":25,"xs:ENTITY":26,"xs:nonPositiveInteger":27,"xs:negativeInteger":28,"xs:positiveInteger":29,"xs:nonNegativeInteger":30,"xs:long":31,"xs:int":32,"xs:short":33,"xs:byte":34,"xs:unsignedInt":35,"xs:unsignedLong":36,"xs:unsignedByte":37,"xs:unsignedShort":38,"xs:error":39,"xs:ENTITIES":40,"xs:IDREF":41,"xs:ID":42,"xs:IDREFS":43,"xs:NOTATION":44,"xs:anySimpleType":45,"xs:anyAtomicType":46,"attribute()":47,"xs:normalizedString":48,"xs:NMTOKENS":49,"xs:NMTOKEN":50,"xs:language":51,"xs:token":52,"node()":53,"element()":54,"document-node()":55,"text()":56,"processing-instruction()":57,"comment()":58,"item()":59,"function(*)":60,"map(*)":61,"array(*)":62};function me(e){return 2===e.g?de[e.type]+"*":1===e.g?de[e.type]+"+":0===e.g?de[e.type]+"?":de[e.type]}function ge(e){if("none"===e)throw Error('XPST0051: The type "none" could not be found');if(!e.startsWith("xs:")&&0<=e.indexOf(":"))throw Error("XPST0081: Invalid prefix for input "+e);var t=fe[e];if(void 0===t)throw Error('XPST0051: The type "'+e+'" could not be found');return t}function ye(e){switch(e[e.length-1]){case"*":return{type:ge(e.substr(0,e.length-1)),g:2};case"?":return{type:ge(e.substr(0,e.length-1)),g:0};case"+":return{type:ge(e.substr(0,e.length-1)),g:1};default:return{type:ge(e),g:3}}}function ve(e,t,n){this.namespaceURI=t||null,this.prefix=e||"",this.localName=n}function we(e){var t=e.l,n=e.arity,r=void 0!==e.Pa&&e.Pa,i=void 0!==e.I&&e.I,a=e.localName,o=e.namespaceURI,s=e.i;for(e=e.value,pe.call(this,60,null),this.value=e,this.I=i,i=-1,e=0;e<t.length;e++)4===t[e]&&(i=e);-1<i&&(e=Array(n-(t.length-1)).fill(t[i-1]),t=t.slice(0,i).concat(e)),this.s=t,this.A=n,this.ha=r,this.j=a,this.u=o,this.O=s}function be(e,t){var n=[];return 2!==e&&1!==e||n.push("type-1-or-type-2"),n.push("type-"+e),t&&n.push("name-"+t),n}function xe(e){var t=e.node.nodeType;if(2===t||1===t)var n=e.node.localName;return be(t,n)}function _e(e){var t=e.nodeType;if(2===t||1===t)var n=e.localName;return be(t,n)}function Ae(){}function Ee(){}ve.prototype.va=function(){return this.prefix?this.prefix+":"+this.localName:this.localName},y(we,pe),we.prototype.Pa=function(){return this.ha},Ae.prototype.getAllAttributes=function(e,t){return t=void 0===t?null:t,1!==e.nodeType?[]:(e=Array.from(e.attributes),null===t?e:e.filter((function(e){return _e(e).includes(t)})))},Ae.prototype.getAttribute=function(e,t){return 1!==e.nodeType?null:e.getAttribute(t)},Ae.prototype.getChildNodes=function(e,t){return t=void 0===t?null:t,e=Array.from(e.childNodes),null===t?e:e.filter((function(e){return _e(e).includes(t)}))},Ae.prototype.getData=function(e){return 2===e.nodeType?e.value:e.data},Ae.prototype.getFirstChild=function(e,t){for(t=void 0===t?null:t,e=e.firstChild;e;e=e.nextSibling)if(null===t||_e(e).includes(t))return e;return null},Ae.prototype.getLastChild=function(e,t){for(t=void 0===t?null:t,e=e.lastChild;e;e=e.previousSibling)if(null===t||_e(e).includes(t))return e;return null},Ae.prototype.getNextSibling=function(e,t){for(t=void 0===t?null:t,e=e.nextSibling;e;e=e.nextSibling)if(null===t||_e(e).includes(t))return e;return null},Ae.prototype.getParentNode=function(e,t){return t=void 0===t?null:t,(e=2===e.nodeType?e.ownerElement:e.parentNode)&&(null===t||_e(e).includes(t))?e:null},Ae.prototype.getPreviousSibling=function(e,t){for(t=void 0===t?null:t,e=e.previousSibling;e;e=e.previousSibling)if(null===t||_e(e).includes(t))return e;return null},(r=Ee.prototype).insertBefore=function(e,t,n){return e.insertBefore(t,n)},r.removeAttributeNS=function(e,t,n){return e.removeAttributeNS(t,n)},r.removeChild=function(e,t){return e.removeChild(t)},r.setAttributeNS=function(e,t,n,r){e.setAttributeNS(t,n,r)},r.setData=function(e,t){e.data=t};var Ce=new Ee;function Ne(e){this.h=e}function Te(e){return void 0!==e.Qa}function Se(e,t,n){var r=null;return t&&(Te(t.node)?r={F:t.F,offset:n,parent:t.node}:t.F&&(r=t.F)),{node:e,F:r}}function Be(e){this.h=e,this.s=[]}function ke(e,t,n){return e.getAllAttributes(t.node,void 0===n?null:n).map((function(e){return Se(e,t,e.nodeName)}))}function Ie(e,t,n){return Te(t=t.node)?(e=t.attributes.find((function(e){return n===e.name})))?e.value:null:(e=e.h.getAttribute(t,n))?e:null}function Pe(e,t,n){return e.getChildNodes(t.node,void 0===n?null:n).map((function(e,n){return Se(e,t,n)}))}function Oe(e,t){return e.getData(t.node)}function Re(e,t,n){var r=t.node;return Te(r)?e=r.childNodes[0]:((n=e.h.getFirstChild(r,void 0===n?null:n))&&10===n.nodeType&&(n=e.h.getNextSibling(n)),e=n),e?Se(e,t,0):null}function De(e,t,n){n=void 0===n?null:n;var r=t.node;return Te(r)?(e=r.childNodes.length-1,r=r.childNodes[e]):((r=e.h.getLastChild(r,n))&&10===r.nodeType&&(r=e.h.getPreviousSibling(r)),e=e.getChildNodes(t.node,n).length-1),r?Se(r,t,e):null}function Me(e,t,n){n=void 0===n?null:n;var r=t.node,i=t.F;if(Te(r)){if(i)var a=i.offset+1,o=i.parent.childNodes[a]}else{if(!i){for(o=r;o&&(!(o=e.h.getNextSibling(o,n))||10===o.nodeType););return o?{node:o,F:null}:null}a=i.offset+1;var s=Fe(e,t,null);o=e.getChildNodes(s.node,n)[a]}return o?Se(o,s||Fe(e,t,n),a):null}function Fe(e,t,n){n=void 0===n?null:n;var r=t.node,i=t.F;if(i)"number"==typeof i.offset&&r===i.parent.childNodes[i.offset]||"string"==typeof i.offset&&r===i.parent.attributes.find((function(e){return i.offset===e.nodeName}))?(e=i.parent,t=i.F):(e=e.getParentNode(r,n),t=i);else{if(Te(r))return null;e=e.getParentNode(r,n),t=null}return e?{node:e,F:t}:null}function Ue(e,t,n){n=void 0===n?null:n;var r=t.node,i=t.F;if(Te(r)){if(i)var a=i.offset-1,o=i.parent.childNodes[a]}else{if(!i){for(o=r;o&&(!(o=e.h.getPreviousSibling(o,n))||10===o.nodeType););return o?{node:o,F:null}:null}a=i.offset-1;var s=Fe(e,t,null);o=e.getChildNodes(s.node,n)[a]}return o?Se(o,s||Fe(e,t,n),a):null}function He(e,t,n,r,i){return i.L((function(e){var t=u(e).next().value;return r.L((function(e){e=u(e).next().value;var n=t.value;if(0>=n||n>e.R.length)throw Error("FOAY0001: array position out of bounds.");return e.R[n-1]()}))}))}function Le(e){we.call(this,{value:function(e,n,r,i){return He(0,0,0,ue.o(t),i)},localName:"get",namespaceURI:"http://www.w3.org/2005/xpath-functions/array",l:[{type:5,g:3}],arity:1,i:{type:59,g:2}});var t=this;this.type=62,this.R=e}function Ge(e){switch(e.node.nodeType){case 2:return 47;case 1:return 54;case 3:case 4:return 56;case 7:return 57;case 8:return 58;case 9:return 55;default:return 53}}function je(e){return{type:Ge(e),value:e}}function $e(e,t){return e=e.map((function(e){return e.first()})),t(e)}function Xe(e,t){var n=ee(e.type,1)||ee(e.type,20)||ee(e.type,19),r=ee(t.type,1)||ee(t.type,20)||ee(t.type,19);return n&&r?e.value===t.value:(n=ee(e.type,4)||ee(e.type,3)||ee(e.type,6),r=ee(t.type,4)||ee(t.type,3)||ee(t.type,6),n&&r?!(!isNaN(e.value)||!isNaN(t.value))||e.value===t.value:(n=ee(e.type,0)||ee(e.type,22)||ee(e.type,18)||ee(e.type,23)||ee(e.type,44),r=ee(t.type,0)||ee(t.type,22)||ee(t.type,18)||ee(t.type,23)||ee(t.type,44),!(!n||!r)&&e.value===t.value))}function ze(e,t,n,r,i){return $e([r,i],(function(e){var t=(e=u(e)).next().value,n=e.next().value;return(e=t.h.find((function(e){return Xe(e.key,n)})))?e.value():ue.empty()}))}function qe(e){we.call(this,{l:[{type:59,g:3}],arity:1,localName:"get",namespaceURI:"http://www.w3.org/2005/xpath-functions/map",value:function(e,n,r,i){return ze(0,0,0,ue.o(t),i)},i:{type:59,g:2}});var t=this;this.type=61,this.h=e}function Ve(){}function Ye(e,t){return e.ab()===t.ab()&&e.bb()===t.bb()}function Ke(e){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw Error("FODT0002: Number of seconds given to construct DayTimeDuration overflows MAX_SAFE_INTEGER or MIN_SAFE_INTEGER");this.ea=e}function Je(e){var t=Math.abs(e.Za()),n=Math.abs(e.getHours()),r=Math.abs(e.getMinutes());return n=(n?n+"H":"")+(r?r+"M":"")+((e=Math.abs(e.getSeconds()))?e+"S":""),(t=t?t+"D":"")&&n?t+"T"+n:t||(n?"T"+n:"T0S")}function Qe(e,t,n,r,i,a){return e=86400*e+3600*t+60*n+r+i,new Ke(a||0===e?e:-e)}function We(e){return(e=/^(-)?P(\d+Y)?(\d+M)?(\d+D)?(?:T(\d+H)?(\d+M)?(\d+(\.\d*)?S)?)?$/.exec(e))?Qe(e[4]?parseInt(e[4],10):0,e[5]?parseInt(e[5],10):0,e[6]?parseInt(e[6],10):0,e[7]?parseInt(e[7],10):0,e[8]?parseFloat(e[8]):0,!e[1]):null}function Ze(e){return"Z"===(e=/^(Z)|([+-])([01]\d):([0-5]\d)$/.exec(e))[1]?Qe(0,0,0,0,0,!0):Qe(0,e[3]?parseInt(e[3],10):0,e[4]?parseInt(e[4],10):0,0,0,"+"===e[2])}function et(e,t){if(isNaN(t))throw Error("FOCA0005: Cannot multiply xs:dayTimeDuration by NaN");if((e=e.ea*t)>Number.MAX_SAFE_INTEGER||!Number.isFinite(e))throw Error("FODT0002: Value overflow while multiplying xs:dayTimeDuration");return new Ke(e<Number.MIN_SAFE_INTEGER||Object.is(-0,e)?0:e)}function tt(e){return e?parseInt(e,10):null}function nt(e){var t=(e+="").startsWith("-");return t&&(e=e.substring(1)),(t?"-":"")+e.padStart(4,"0")}function rt(e){return(e+"").padStart(2,"0")}function it(e){return 1===(e+="").split(".")[0].length&&(e=e.padStart(e.length+1,"0")),e}function at(e){return 0===e.getHours()&&0===e.getMinutes()?"Z":(e.oa()?"+":"-")+rt(Math.abs(e.getHours()))+":"+rt(Math.abs(e.getMinutes()))}function ot(e,t,n,r,i,a,o,s,l){this.A=e,this.h=t,this.s=n+(24===r?1:0),this.u=24===r?0:r,this.O=i,this.j=a,this.pa=o,this.Z=s,this.type=void 0===l?9:l}function st(e){var t=/^(?:(-?\d{4,}))?(?:--?(\d\d))?(?:-{1,3}(\d\d))?(T)?(?:(\d\d):(\d\d):(\d\d))?(\.\d+)?(Z|(?:[+-]\d\d:\d\d))?$/.exec(e);e=t[1]?parseInt(t[1],10):null;var n=tt(t[2]),r=tt(t[3]),i=t[4],a=tt(t[5]),o=tt(t[6]),s=tt(t[7]),l=t[8]?parseFloat(t[8]):0;if(t=t[9]?Ze(t[9]):null,e&&(-271821>e||273860<e))throw Error("FODT0001: Datetime year is out of bounds");return i?new ot(e,n,r,a,o,s,l,t,9):null!==a&&null!==o&&null!==s?new ot(1972,12,31,a,o,s,l,t,8):null!==e&&null!==n&&null!==r?new ot(e,n,r,0,0,0,0,t,7):null!==e&&null!==n?new ot(e,n,1,0,0,0,0,t,11):null!==n&&null!==r?new ot(1972,n,r,0,0,0,0,t,13):null!==e?new ot(e,1,1,0,0,0,0,t,12):null!==n?new ot(1972,n,1,0,0,0,0,t,14):new ot(1972,12,r,0,0,0,0,t,15)}function lt(e,t){switch(t){case 15:return new ot(1972,12,e.s,0,0,0,0,e.Z,15);case 14:return new ot(1972,e.h,1,0,0,0,0,e.Z,14);case 12:return new ot(e.A,1,1,0,0,0,0,e.Z,12);case 13:return new ot(1972,e.h,e.s,0,0,0,0,e.Z,13);case 11:return new ot(e.A,e.h,1,0,0,0,0,e.Z,11);case 8:return new ot(1972,12,31,e.u,e.O,e.j,e.pa,e.Z,8);case 7:return new ot(e.A,e.h,e.s,0,0,0,0,e.Z,7);default:return new ot(e.A,e.h,e.s,e.u,e.O,e.j,e.pa,e.Z,9)}}function ut(e,t){return t=e.Z||t||Ze("Z"),new Date(Date.UTC(e.A,e.h-1,e.s,e.u-t.getHours(),e.O-t.getMinutes(),e.j,1e3*e.pa))}function ct(e,t,n){var r=ut(e,n).getTime();return r===(n=ut(t,n).getTime())?e.pa===t.pa?0:e.pa>t.pa?1:-1:r>n?1:-1}function pt(e,t,n){return 0===ct(e,t,n)}function ht(e,t,n){return new Ke(e=(ut(e,n).getTime()-ut(t,n).getTime())/1e3)}function dt(e){throw Error("Not implemented: adding durations to "+de[e.type])}function ft(e){throw Error("Not implemented: subtracting durations from "+de[e.type])}function mt(e,t){if(null===e)return null;switch(typeof e){case"boolean":return e?V:Y;case"number":return q(e,3);case"string":return q(e,1);case"object":if("nodeType"in e)return je({node:e,F:null});if(Array.isArray(e))return new Le(e.map((function(e){return void 0===e?function(){return ue.empty()}:ce(e=null===(e=mt(e))?ue.empty():ue.o(e))})));if(e instanceof Date){var n=st(e.toISOString());return q(n,n.type)}return new qe(Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){var n=mt(e[t]);return n=null===n?ue.empty():ue.o(n),{key:q(t,1),value:ce(n)}})))}throw Error("Value "+String(e)+' of type "'+typeof e+'" is not adaptable to an XPath value.')}function gt(e,t){if("number"!=typeof e&&("string"!=typeof e||!X.get(t)(e)))throw Error("Cannot convert JavaScript value '"+e+"' to the XPath type "+de[t]+" since it is not valid.")}function yt(e,t,n){if(null===t)return null;switch(e){case 0:return t?V:Y;case 1:return q(t+"",1);case 3:case 2:return gt(t,3),q(+t,3);case 4:return gt(t,e),q(+t,4);case 5:return gt(t,e),q(0|t,5);case 6:return gt(t,e),q(+t,6);case 7:case 8:case 9:case 11:case 12:case 13:case 14:case 15:if(!(t instanceof Date))throw Error("The JavaScript value "+t+" with type "+typeof t+" is not a valid type to be converted to an XPath "+de[e]+".");return q(lt(st(t.toISOString()),e),e);case 53:case 47:case 55:case 54:case 56:case 57:case 58:if("object"!=typeof t||!("nodeType"in t))throw Error("The JavaScript value "+t+" with type "+typeof t+" is not a valid type to be converted to an XPath "+de[e]+".");return je({node:t,F:null});case 59:case 61:return mt(t);default:throw Error('Values of the type "'+de[e]+'" can not be adapted from JavaScript to equivalent XPath values.')}}function vt(e,t,n){if(0===n.g)return null===(t=yt(n.type,t))?[]:[t];if(2===n.g||1===n.g){if(!Array.isArray(t))throw Error("The JavaScript value "+t+" should be an array if it is to be converted to "+me(n)+".");return t.map((function(e){return yt(n.type,e)})).filter((function(e){return null!==e}))}var r=yt(n.type,t);if(null===r)throw Error("The JavaScript value "+t+" should be a single entry if it is to be converted to "+me(n)+".");return[r]}function wt(e,t,n){return n=void 0===n?{type:59,g:0}:n,ue.create(vt(0,t,n))}function bt(e,t){this.h=t=void 0===t?{vb:null,Ab:null,pb:!1}:t,this.Ja=e.Ja,this.Ga=e.Ga,this.N=e.N,this.Ea=e.Ea||Object.create(null)}function xt(e,t){var n=0,r=t.value;return{next:function(i){return(i=r.next(i)).done?Q:W(Et(e,n++,i.value,t))}}}function _t(e){return e.h.pb||(e.h.pb=!0,e.h.vb=st((new Date).toISOString()),e.h.Ab=We("PT0S")),e.h.vb}function At(e){return e.h.pb||(e.h.pb=!0,e.h.vb=st((new Date).toISOString()),e.h.Ab=We("PT0S")),e.h.Ab}function Et(e,t,n,r){return new bt({N:n,Ja:t,Ga:r||e.Ga,Ea:e.Ea},e.h)}function Ct(e,t){return new bt({N:e.N,Ja:e.Ja,Ga:e.Ga,Ea:Object.assign(Object.create(null),e.Ea,t)},e.h)}function Nt(e,t,n,r,i,a,o,s){var l=new Map;this.debug=e,this.Ha=t,this.h=n,this.s=r,this.A=i,this.u=a,this.ha=l,this.O=o,this.j=s}function Tt(e){var t=0,n=null,r=!0;return ue.create({next:function(i){for(;t<e.length;){n||(n=e[t].value,r=!0);var a=n.next(r?0:i);if(r=!1,!a.done)return a;t++,n=null}return Q}})}function St(e,t,n){return Error("FORG0001: Cannot cast "+e+" to "+de[t]+(n?", "+n:""))}function Bt(e){return Error("XPTY0004: "+e)}function kt(e){return Error("FOTY0013: Atomization is not supported for "+de[e]+".")}function It(e){return Error("XPST0081: The prefix "+e+" could not be resolved.")}function Pt(e,t){if(ee(e.type,46)||ee(e.type,19)||ee(e.type,0)||ee(e.type,4)||ee(e.type,3)||ee(e.type,6)||ee(e.type,5)||ee(e.type,2)||ee(e.type,23)||ee(e.type,1))return ue.create(e);var n=t.h;if(ee(e.type,53)){var r=e.value;if(2===r.node.nodeType||3===r.node.nodeType)return ue.create(q(Oe(n,r),19));if(8===r.node.nodeType||7===r.node.nodeType)return ue.create(q(Oe(n,r),1));var i=[];return function e(t){if(8!==r.node.nodeType&&7!==r.node.nodeType){var a=t.nodeType;3===a||4===a?i.push(n.getData(t)):1!==a&&9!==a||n.getChildNodes(t).forEach((function(t){e(t)}))}}(r.node),ue.create(q(i.join(""),19))}if(ee(e.type,60)&&!ee(e.type,62))throw kt(e.type);if(ee(e.type,62))return Tt(e.R.map((function(e){return Ot(e(),t)})));throw Error("Atomizing "+e.type+" is not implemented.")}function Ot(e,t){var n=!1,r=e.value,i=null;return ue.create({next:function(){for(;!n;){if(!i){var e=r.next(0);if(e.done){n=!0;break}i=Pt(e.value,t).value}if(!(e=i.next(0)).done)return e;i=null}return Q}})}function Rt(e){for(e=z[e];e&&0!==e.D;)e=e.parent;return e?e.type:null}function Dt(e,t){var n=(t=z[t]).Ia;if(!n||!n.whiteSpace)return t.parent?Dt(e,t.parent.type):e;switch(t.Ia.whiteSpace){case"replace":return e.replace(/[\u0009\u000A\u000D]/g," ");case"collapse":return e.replace(/[\u0009\u000A\u000D]/g," ").replace(/ {2,}/g," ").replace(/^ | $/g,"")}return e}function Mt(e,t){for(t=z[t];t&&null===t.fb;){if(2===t.D||3===t.D)return!0;t=t.parent}return!t||t.fb(e)}function Ft(e,t){for(;e;){if(e.La&&e.La[t])return e.La[t];e=e.parent}return function(){return!0}}function Ut(e,t){return e(2)?function(e){return{v:!0,value:e}}:e(0)?function(e){return{v:!0,value:e?1:0}}:e(1)||e(19)?function(e){switch(e){case"NaN":return{v:!0,value:NaN};case"INF":case"+INF":return{v:!0,value:1/0};case"-INF":return{v:!0,value:-1/0};case"0":case"+0":return{v:!0,value:0};case"-0":return{v:!0,value:-0}}var n=parseFloat(e);return isNaN(n)?{v:!1,error:St(e,t)}:{v:!0,value:n}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to "+t+" or any of its derived types.")}}}function Ht(e){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw Error("FODT0002: Number of months given to construct YearMonthDuration overflows MAX_SAFE_INTEGER or MIN_SAFE_INTEGER");this.ga=e}function Lt(e){var t=Math.abs(e.cb());return(t?t+"Y":"")+((e=Math.abs(e.$a()))?e+"M":"")||"0M"}function Gt(e){var t=/^(-)?P(\d+Y)?(\d+M)?(\d+D)?(?:T(\d+H)?(\d+M)?(\d+(\.\d*)?S)?)?$/.exec(e);if(t){if(e=!t[1],(t=12*(t[2]?parseInt(t[2],10):0)+(t[3]?parseInt(t[3],10):0))>Number.MAX_SAFE_INTEGER||!Number.isFinite(t))throw Error("FODT0002: Value overflow while constructing xs:yearMonthDuration");e=new Ht(e||0===t?t:-t)}else e=null;return e}function jt(e,t){if(isNaN(t))throw Error("FOCA0005: Cannot multiply xs:yearMonthDuration by NaN");if((e=Math.round(e.ga*t))>Number.MAX_SAFE_INTEGER||!Number.isFinite(e))throw Error("FODT0002: Value overflow while constructing xs:yearMonthDuration");return new Ht(e<Number.MIN_SAFE_INTEGER||0===e?0:e)}function $t(e,t){this.Sa=e,this.Fa=t}(r=Ne.prototype).insertBefore=function(e,t,n){return this.h.insertBefore(e,t,n)},r.removeAttributeNS=function(e,t,n){return this.h.removeAttributeNS(e,t,n)},r.removeChild=function(e,t){return this.h.removeChild(e,t)},r.setAttributeNS=function(e,t,n,r){this.h.setAttributeNS(e,t,n,r)},r.setData=function(e,t){this.h.setData(e,t)},Be.prototype.getAllAttributes=function(e,t){return Te(e)?e.attributes:this.h.getAllAttributes(e,void 0===t?null:t)},Be.prototype.getChildNodes=function(e,t){return t=Te(e)?e.childNodes:this.h.getChildNodes(e,void 0===t?null:t),9===e.nodeType?t.filter((function(e){return 10!==e.nodeType})):t},Be.prototype.getData=function(e){return Te(e)?2===e.nodeType?e.value:e.data:this.h.getData(e)||""},Be.prototype.getParentNode=function(e,t){return this.h.getParentNode(e,void 0===t?null:t)},y(Le,we),y(qe,we),(r=Ve.prototype).Za=function(){return 0},r.getHours=function(){return 0},r.getMinutes=function(){return 0},r.$a=function(){return 0},r.ab=function(){return 0},r.bb=function(){return 0},r.getSeconds=function(){return 0},r.cb=function(){return 0},r.oa=function(){return!0},y(Ke,Ve),(r=Ke.prototype).Za=function(){return Math.trunc(this.ea/86400)},r.getHours=function(){return Math.trunc(this.ea%86400/3600)},r.getMinutes=function(){return Math.trunc(this.ea%3600/60)},r.bb=function(){return this.ea},r.getSeconds=function(){var e=this.ea%60;return Object.is(-0,e)?0:e},r.oa=function(){return!Object.is(-0,this.ea)&&0<=this.ea},r.toString=function(){return(this.oa()?"P":"-P")+Je(this)},(r=ot.prototype).getDay=function(){return this.s},r.getHours=function(){return this.u},r.getMinutes=function(){return this.O},r.getMonth=function(){return this.h},r.getSeconds=function(){return this.j},r.getYear=function(){return this.A},r.toString=function(){switch(this.type){case 9:return nt(this.A)+"-"+rt(this.h)+"-"+rt(this.s)+"T"+rt(this.u)+":"+rt(this.O)+":"+it(this.j+this.pa)+(this.Z?at(this.Z):"");case 7:return nt(this.A)+"-"+rt(this.h)+"-"+rt(this.s)+(this.Z?at(this.Z):"");case 8:return rt(this.u)+":"+rt(this.O)+":"+it(this.j+this.pa)+(this.Z?at(this.Z):"");case 15:return"---"+rt(this.s)+(this.Z?at(this.Z):"");case 14:return"--"+rt(this.h)+(this.Z?at(this.Z):"");case 13:return"--"+rt(this.h)+"-"+rt(this.s)+(this.Z?at(this.Z):"");case 12:return nt(this.A)+(this.Z?at(this.Z):"");case 11:return nt(this.A)+"-"+rt(this.h)+(this.Z?at(this.Z):"")}throw Error("Unexpected subType")},y(Ht,Ve),(r=Ht.prototype).$a=function(){var e=this.ga%12;return 0===e?0:e},r.ab=function(){return this.ga},r.cb=function(){return Math.trunc(this.ga/12)},r.oa=function(){return!Object.is(-0,this.ga)&&0<=this.ga},r.toString=function(){return(this.oa()?"P":"-P")+Lt(this)},y($t,Ve),(r=$t.prototype).Za=function(){return this.Fa.Za()},r.getHours=function(){return this.Fa.getHours()},r.getMinutes=function(){return this.Fa.getMinutes()},r.$a=function(){return this.Sa.$a()},r.ab=function(){return this.Sa.ab()},r.bb=function(){return this.Fa.bb()},r.getSeconds=function(){return this.Fa.getSeconds()},r.cb=function(){return this.Sa.cb()},r.oa=function(){return this.Sa.oa()&&this.Fa.oa()},r.toString=function(){var e=this.oa()?"P":"-P",t=Lt(this.Sa),n=Je(this.Fa);return"0M"===t?e+n:"T0S"===n?e+t:e+t+n};var Xt=[3,6,4,5];function zt(e){if(e(1)||e(19))return function(e){return{v:!0,value:e+""}};if(e(20))return function(e){return{v:!0,value:e}};if(e(23))return function(e){return{v:!0,value:e.prefix?e.prefix+":"+e.localName:e.localName}};if(e(44))return function(e){return{v:!0,value:e.toString()}};if(e(2)){if(e(5)||e(4))return function(e){return{v:!0,value:(e+"").replace("e","E")}};if(e(6)||e(3))return function(e){return isNaN(e)?{v:!0,value:"NaN"}:isFinite(e)?Object.is(e,-0)?{v:!0,value:"-0"}:{v:!0,value:(e+"").replace("e","E").replace("E+","E")}:{v:!0,value:(0>e?"-":"")+"INF"}}}return e(9)||e(7)||e(8)||e(15)||e(14)||e(13)||e(12)||e(11)||e(16)||e(17)||e(18)?function(e){return{v:!0,value:e.toString()}}:e(22)?function(e){return{v:!0,value:e.toUpperCase()}}:function(e){return{v:!0,value:e+""}}}var qt=[2,5,17,16];function Vt(e,t){function n(t){return ee(e,t)}if(39===t)return function(){return{v:!1,error:Error("FORG0001: Casting to xs:error is always invalid.")}};switch(t){case 19:return function(e){var t=zt(e);return function(e){return(e=t(e)).v?{v:!0,value:q(e.value,19)}:e}}(n);case 1:return function(e){var t=zt(e);return function(e){return(e=t(e)).v?{v:!0,value:q(e.value,1)}:e}}(n);case 6:return function(e){var t=Ut(e,6);return function(e){return(e=t(e)).v?{v:!0,value:q(e.value,6)}:e}}(n);case 3:return function(e){var t=Ut(e,3);return function(e){return(e=t(e)).v?{v:!0,value:q(e.value,3)}:e}}(n);case 4:return function(e){return e(5)?function(e){return{v:!0,value:q(e,4)}}:e(6)||e(3)?function(e){return isNaN(e)||!isFinite(e)?{v:!1,error:Error("FOCA0002: Can not cast "+e+" to xs:decimal")}:Math.abs(e)>Number.MAX_VALUE?{v:!1,error:Error("FOAR0002: Can not cast "+e+" to xs:decimal, it is out of bounds for JavaScript numbers")}:{v:!0,value:q(e,4)}}:e(0)?function(e){return{v:!0,value:q(e?1:0,4)}}:e(1)||e(19)?function(e){var t=parseFloat(e);return!isNaN(t)||isFinite(t)?{v:!0,value:q(t,4)}:{v:!1,error:Error("FORG0001: Can not cast "+e+" to xs:decimal")}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:decimal or any of its derived types.")}}}(n);case 5:return function(e){return e(0)?function(e){return{v:!0,value:q(e?1:0,5)}}:e(2)?function(e){var t=Math.trunc(e);return!isFinite(t)||isNaN(t)?{v:!1,error:Error("FOCA0002: can not cast "+e+" to xs:integer")}:Number.isSafeInteger(t)?{v:!0,value:q(t,5)}:{v:!1,error:Error("FOAR0002: can not cast "+e+" to xs:integer, it is out of bounds for JavaScript numbers.")}}:e(1)||e(19)?function(e){var t=parseInt(e,10);return isNaN(t)?{v:!1,error:St(e,5)}:Number.isSafeInteger(t)?{v:!0,value:q(t,5)}:{v:!1,error:Error("FOCA0003: can not cast "+e+" to xs:integer, it is out of bounds for JavaScript numbers.")}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:integer or any of its derived types.")}}}(n);case 2:return function(e){var t=Vt;return function(n){for(var r=u(Xt),i=r.next();!i.done;i=r.next())if((i=t(e,i.value)(n)).v)return i;return{v:!1,error:Error('XPTY0004: Casting not supported from "'+n+'" given type to xs:numeric or any of its derived types.')}}}(e);case 18:return function(e){return e(16)?function(e){return{v:!0,value:q(new $t(e,new Ke(e.oa()?0:-0)),18)}}:e(17)?function(e){return{v:!0,value:q(e=new $t(new Ht(e.oa()?0:-0),e),18)}}:e(18)?function(e){return{v:!0,value:q(e,18)}}:e(19)||e(1)?function(e){return{v:!0,value:q(new $t(Gt(e),We(e)),18)}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:duration or any of its derived types.")}}}(n);case 16:return function(e){return e(18)&&!e(17)?function(e){return{v:!0,value:q(e.Sa,16)}}:e(17)?function(){return{v:!0,value:q(Gt("P0M"),16)}}:e(19)||e(1)?function(e){var t=Gt(e);return t?{v:!0,value:q(t,16)}:{v:!1,error:St(e,16)}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:yearMonthDuration or any of its derived types.")}}}(n);case 17:return function(e){return e(18)&&!e(16)?function(e){return{v:!0,value:q(e.Fa,17)}}:e(16)?function(){return{v:!0,value:q(We("PT0.0S"),17)}}:e(19)||e(1)?function(e){var t=We(e);return t?{v:!0,value:q(t,17)}:{v:!1,error:Error("FORG0001: Can not cast "+e+" to xs:dayTimeDuration")}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:dayTimeDuration or any of its derived types.")}}}(n);case 9:return function(e){return e(7)?function(e){return{v:!0,value:q(lt(e,9),9)}}:e(19)||e(1)?function(e){return{v:!0,value:q(st(e),9)}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:dateTime or any of its derived types.")}}}(n);case 8:return function(e){return e(9)?function(e){return{v:!0,value:q(lt(e,8),8)}}:e(19)||e(1)?function(e){return{v:!0,value:q(st(e),8)}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:time or any of its derived types.")}}}(n);case 7:return function(e){return e(9)?function(e){return{v:!0,value:q(lt(e,7),7)}}:e(19)||e(1)?function(e){return{v:!0,value:q(st(e),7)}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:date or any of its derived types.")}}}(n);case 11:return function(e){return e(7)||e(9)?function(e){return{v:!0,value:q(lt(e,11),11)}}:e(19)||e(1)?function(e){return{v:!0,value:q(st(e),11)}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gYearMonth or any of its derived types.")}}}(n);case 12:return function(e){return e(7)||e(9)?function(e){return{v:!0,value:q(lt(e,12),12)}}:e(19)||e(1)?function(e){return{v:!0,value:q(st(e),12)}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gYear or any of its derived types.")}}}(n);case 13:return function(e){return e(7)||e(9)?function(e){return{v:!0,value:q(lt(e,13),13)}}:e(19)||e(1)?function(e){return{v:!0,value:q(st(e),13)}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gMonthDay or any of its derived types.")}}}(n);case 15:return function(e){return e(7)||e(9)?function(e){return{v:!0,value:q(lt(e,15),15)}}:e(19)||e(1)?function(e){return{v:!0,value:q(st(e),15)}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gDay or any of its derived types.")}}}(n);case 14:return function(e){return e(7)||e(9)?function(e){return{v:!0,value:q(lt(e,14),14)}}:e(19)||e(1)?function(e){return{v:!0,value:q(st(e),14)}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gMonth or any of its derived types.")}}}(n);case 0:return function(e){return e(2)?function(e){return{v:!0,value:0===e||isNaN(e)?Y:V}}:e(1)||e(19)?function(e){switch(e){case"true":case"1":return{v:!0,value:V};case"false":case"0":return{v:!0,value:Y};default:return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:boolean or any of its derived types.")}}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:boolean or any of its derived types.")}}}(n);case 21:return function(e){return e(22)?function(e){for(var t="",n=0;n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return{v:!0,value:q(btoa(t),21)}}:e(1)||e(19)?function(e){return{v:!0,value:q(e,21)}}:function(){return{error:Error("XPTY0004: Casting not supported from given type to xs:base64Binary or any of its derived types."),v:!1}}}(n);case 22:return function(e){return e(21)?function(e){for(var t="",n=0,r=(e=atob(e)).length;n<r;n++)t+=Number(e.charCodeAt(n)).toString(16);return{v:!0,value:q(t.toUpperCase(),22)}}:e(1)||e(19)?function(e){return{v:!0,value:q(e,22)}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:hexBinary or any of its derived types.")}}}(n);case 20:return function(e){return e(1)||e(19)?function(e){return{v:!0,value:q(e,20)}}:function(){return{v:!1,error:Error("XPTY0004: Casting not supported from given type to xs:anyURI or any of its derived types.")}}}(n);case 23:throw Error("Casting to xs:QName is not implemented.")}return function(){return{v:!1,error:Error("XPTY0004: Casting not supported from "+e+" to "+t+".")}}}var Yt=Object.create(null);function Kt(e,t){if(19===e&&1===t)return function(e){return{v:!0,value:q(e,1)}};if(44===t)return function(){return{v:!1,error:Error("XPST0080: Casting to xs:NOTATION is not permitted.")}};if(39===t)return function(){return{v:!1,error:Error("FORG0001: Casting to xs:error is not permitted.")}};if(45===e||45===t)return function(){return{v:!1,error:Error("XPST0080: Casting from or to xs:anySimpleType is not permitted.")}};if(46===e||46===t)return function(){return{v:!1,error:Error("XPST0080: Casting from or to xs:anyAtomicType is not permitted.")}};if(ee(e,60)&&1===t)return function(){return{v:!1,error:Error("FOTY0014: Casting from function item to xs:string is not permitted.")}};if(e===t)return function(e){return{v:!0,value:{type:t,value:e}}};var n=qt.includes(e)?e:Rt(e),r=qt.includes(t)?t:Rt(t);if(null===r||null===n)return function(){return{v:!1,error:Error("XPST0081: Can not cast: type "+(r?de[e]:de[t])+" is unknown.")}};var i=[];return 1!==n&&19!==n||i.push((function(e){var n=Dt(e,t);return Mt(n,t)?{v:!0,value:n}:{v:!1,error:St(e,t,"pattern validation failed.")}})),n!==r&&(i.push(Vt(n,r)),i.push((function(e){return{v:!0,value:e.value}}))),19!==r&&1!==r||i.push((function(e){return Mt(e,t)?{v:!0,value:e}:{v:!1,error:St(e,t,"pattern validation failed.")}})),i.push((function(e){return function(e,t){for(var n=z[t];n;){if(n.Ia&&!Object.keys(n.Ia).every((function(t){if("whiteSpace"===t)return!0;var r=Ft(n,t);return!r||r(e,n.Ia[t])})))return!1;n=n.parent}return!0}(e,t)?{v:!0,value:e}:{v:!1,error:St(e,t,"pattern validation failed.")}})),i.push((function(e){return{v:!0,value:{type:t,value:e}}})),function(e){e={v:!0,value:e};for(var t=0,n=i.length;t<n&&!1!==(e=i[t](e.value)).v;++t);return e}}function Jt(e,t){var n=e.type+1e4*t,r=Yt[n];return r||(r=Yt[n]=Kt(e.type,t)),r.call(void 0,e.value,t)}function Qt(e,t){if(!0===(e=Jt(e,t)).v)return e.value;throw e.error}function Wt(e){var t=!1;return{next:function(){return t?Q:(t=!0,W(e))}}}function Zt(e,t){return e===t||!(!e||!t||e.offset!==t.offset||e.parent!==t.parent)&&Zt(e.F,t.F)}function en(e,t){return!!(e===t||e.node===t.node&&Zt(e.F,t.F))}function tn(e,t){for(var n=[];t;t=Fe(e,t,null))n.unshift(t);return n}function nn(e,t){for(var n=[];t;t=e.getParentNode(t,null))n.unshift(t);return n}function rn(e,t,n,r){if(n.F||r.F||Te(n.node)||Te(r.node)){if(en(n,r))return 0;n=tn(t,n),r=tn(t,r);var i=n[0],a=r[0];if(!en(i,a))return t=e.findIndex((function(e){return en(e,i)})),n=e.findIndex((function(e){return en(e,a)})),-1===t&&(t=e.push(i)),-1===n&&(n=e.push(a)),t-n;e=1;for(var o=Math.min(n.length,r.length);e<o&&en(n[e],r[e]);++e);return n[e]?r[e]?function(e,t,n){var r=Fe(e,t,null);e=Pe(e,r,null),r=0;for(var i=e.length;r<i;++r){var a=e[r];if(en(a,t))return-1;if(en(a,n))return 1}}(t,n[e],r[e]):1:-1}if((n=n.node)===(r=r.node))return 0;if(n=nn(t,n),r=nn(t,r),n[0]!==r[0]){var s={node:n[0],F:null},l={node:r[0],F:null};return t=e.findIndex((function(e){return en(e,s)})),n=e.findIndex((function(e){return en(e,l)})),-1===t&&(t=e.push(s)),-1===n&&(n=e.push(l)),t-n}for(o=1,e=Math.min(n.length,r.length);o<e&&n[o]===r[o];++o);if(e=n[o],n=r[o],!e)return-1;if(!n)return 1;for(t=t.getChildNodes(r[o-1],null),r=0,o=t.length;r<o;++r){var u=t[r];if(u===e)return-1;if(u===n)return 1}}function an(e,t,n,r){var i=ee(n.type,47),a=ee(r.type,47);if(i&&!a){if(en(n=Fe(t,n.value),r=r.value))return 1}else if(a&&!i){if(en(n=n.value,r=Fe(t,r.value)))return-1}else if(i&&a){if(en(Fe(t,r.value),Fe(t,n.value)))return n.value.node.localName>r.value.node.localName?1:-1;n=Fe(t,n.value),r=Fe(t,r.value)}else n=n.value,r=r.value;return rn(e,t,n,r)}function on(e,t,n){return an(e.s,e,t,n)}function sn(e,t){return un(t,(function(t,n){return an(e.s,e,t,n)})).filter((function(e,t,n){return 0===t||!en(e.value,n[t-1].value)}))}function ln(e,t){return e<t?-1:0}function un(e,t){if(t=void 0===t?ln:t,1>=e.length)return e;var n=Math.floor(e.length/2),r=un(e.slice(0,n),t);for(e=un(e.slice(n),t),n=[];r.length&&e.length;)0>t(r[0],e[0])?n.push(r.shift()):n.push(e.shift());return n.concat(r.concat(e))}var cn=e;function pn(e,t,n,r,i){if(ee(e.type,t.type))return e;if(ee(t.type,46)&&ee(e.type,53)&&(e=Pt(e,n).first()),ee(e.type,t.type)||46===t.type)return e;if(ee(e.type,19)){if(!(n=Qt(e,t.type)))throw Error("XPTY0004 Unable to convert "+(i?"return":"argument")+" of type "+de[e.type]+" to type "+me(t)+" while calling "+r);return n}if(n=function(e,t){if(ee(e.type,2)){if(ee(e.type,6))return 3===t?q(e.value,3):null;if(ee(e.type,4)){if(6===t)return q(e.value,6);if(3===t)return q(e.value,3)}return null}return ee(e.type,20)&&1===t?q(e.value,1):null}(e,t.type),!n)throw Error("XPTY0004 Unable to cast "+(i?"return":"argument")+" of type "+de[e.type]+" to type "+me(t)+" while calling "+r);return n}function hn(e){switch(e){case 2:return"*";case 1:return"+";case 0:return"?";case 3:return""}}function dn(e,t,n,r,i){return 0===e.g?t.$({default:function(){return t.map((function(t){return pn(t,e,n,r,i)}))},multiple:function(){throw Error("XPTY0004: Multiplicity of "+(i?"function return value":"function argument")+" of type "+de[e.type]+hn(e.g)+" for "+r+' is incorrect. Expected "?", but got "+".')}}):1===e.g?t.$({empty:function(){throw Error("XPTY0004: Multiplicity of "+(i?"function return value":"function argument")+" of type "+de[e.type]+hn(e.g)+" for "+r+' is incorrect. Expected "+", but got "empty-sequence()"')},default:function(){return t.map((function(t){return pn(t,e,n,r,i)}))}}):2===e.g?t.map((function(t){return pn(t,e,n,r,i)})):t.$({o:function(){return t.map((function(t){return pn(t,e,n,r,i)}))},default:function(){throw Error("XPTY0004: Multiplicity of "+(i?"function return value":"function argument")+" of type "+de[e.type]+hn(e.g)+" for "+r+" is incorrect. Expected exactly one")}})}function fn(e,t){return ee(e,5)?q(t,5):ee(e,6)?q(t,6):ee(e,3)?q(t,3):q(t,4)}function mn(e,t,n,r,i,a){var o=!1;return ue.create({next:function(){if(o)return Q;var t,n=i.first();if(!n)return o=!0,Q;if((ee(n.type,6)||ee(n.type,3))&&(0===n.value||isNaN(n.value)||1/0===n.value||-1/0===n.value))return o=!0,W(n);if(t=a?a.first().value:0,o=!0,function(e){if(Math.floor(e)===e||isNaN(e))return 0;var t=(e=/\d+(?:\.(\d*))?(?:[Ee](-)?(\d+))*/.exec(e+""))[1]?e[1].length:0;return e[3]?e[2]?t+parseInt(e[3],10):0>(e=t-parseInt(e[3],10))?0:e:t}(n.value)<t)return W(n);var r=[5,4,3,6].find((function(e){return ee(n.type,e)}));switch(t=function(e,t,n){return t&&0==e*n%1%.5?0==Math.floor(e*n)%2?Math.floor(e*n)/n:Math.ceil(e*n)/n:Math.round(e*n)/n}(Qt(n,4).value,e,Math.pow(10,t)),r){case 4:return W(q(t,4));case 3:return W(q(t,3));case 6:return W(q(t,6));case 5:return W(q(t,5))}}})}function gn(e,t,n,r){return Ot(r,t).$({empty:function(){return ue.o(q(NaN,3))},o:function(){var e=Jt(r.first(),3);return e.v?ue.o(e.value):ue.o(q(NaN,3))},multiple:function(){throw Error("fn:number may only be called with zero or one values")}})}function yn(e,t,n,r){return r.G()?r:(e=r.M(),ue.o(e[Math.floor(Math.random()*e.length)]))}var vn=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"abs",l:[{type:2,g:0}],i:{type:2,g:0},m:function(e,t,n,r){return r.map((function(e){return fn(e.type,Math.abs(e.value))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"ceiling",l:[{type:2,g:0}],i:{type:2,g:0},m:function(e,t,n,r){return r.map((function(e){return fn(e.type,Math.ceil(e.value))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"floor",l:[{type:2,g:0}],i:{type:2,g:0},m:function(e,t,n,r){return r.map((function(e){return fn(e.type,Math.floor(e.value))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round",l:[{type:2,g:0}],i:{type:2,g:0},m:mn.bind(null,!1)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round",l:[{type:2,g:0},{type:5,g:3}],i:{type:2,g:0},m:mn.bind(null,!1)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round-half-to-even",l:[{type:2,g:0}],i:{type:2,g:0},m:mn.bind(null,!0)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round-half-to-even",l:[{type:2,g:0},{type:5,g:3}],i:{type:2,g:0},m:mn.bind(null,!0)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"number",l:[{type:46,g:0}],i:{type:3,g:3},m:gn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"number",l:[],i:{type:3,g:3},m:function(e,t,n){var r=e.N&&dn({type:46,g:0},ue.o(e.N),t,"fn:number",!1);if(!r)throw Error("XPDY0002: fn:number needs an atomizable context item.");return gn(0,t,0,r)}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"random-number-generator",l:[],i:{type:61,g:3},m:function e(){return ue.o(new qe([{key:q("number",1),value:function(){return ue.o(q(Math.random(),3))}},{key:q("next",1),value:function(){return ue.o(new we({value:e,Pa:!0,localName:"",namespaceURI:"",l:[],arity:0,i:{type:61,g:3}}))}},{key:q("permute",1),value:function(){return ue.o(new we({value:yn,Pa:!0,localName:"",namespaceURI:"",l:[{type:59,g:2}],arity:1,i:{type:59,g:2}}))}}]))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"random-number-generator",l:[{type:46,g:0}],i:{type:61,g:3},m:function(){throw Error("Not implemented: Specifying a seed is not supported")}}];function wn(){throw Error("FOCH0002: No collations are supported")}function bn(e,t,n,r){if(null===t.N)throw Error("XPDY0002: The function which was called depends on dynamic context, which is absent.");return e(t,n,r,ue.o(t.N))}function xn(e,t,n,r){return r.$({empty:function(){return ue.o(q("",1))},default:function(){return r.map((function(e){if(ee(e.type,53)){var n=Pt(e,t).first();return ee(e.type,47)?Qt(n,1):n}return Qt(e,1)}))}})}function _n(e,t,n,r,i){return $e([i],(function(e){var n=u(e).next().value;return Ot(r,t).L((function(e){return e=e.map((function(e){return Qt(e,1).value})).join(n.value),ue.o(q(e,1))}))}))}function An(e,t,n,r){return r.G()?ue.o(q(0,5)):(e=r.first().value,ue.o(q(Array.from(e).length,5)))}function En(e,t,n,r,i,a){var o=mn(!1,0,0,0,i,null),s=null!==a?mn(!1,0,0,0,a,null):null,l=!1,u=null,c=null,p=null;return ue.create({next:function(){return l?Q:u||null!==(u=r.first())?(c||(c=o.first()),!p&&a&&(p=null,p=s.first()),l=!0,W(q(Array.from(u.value).slice(Math.max(c.value-1,0),a?c.value+p.value-1:void 0).join(""),1))):(l=!0,W(q("",1)))}})}function Cn(e,t,n,r,i){return r.G()||0===r.first().value.length?ue.empty():(e=r.first().value,i=Bn(i=i.first().value),ue.create(e.split(i).map((function(e){return q(e,1)}))))}function Nn(e,t,n,r){return r.G()?ue.o(q("",1)):(e=r.first().value.trim(),ue.o(q(e.replace(/\s+/g," "),1)))}var Tn=new Map,Sn=new Map;function Bn(e){if(Sn.has(e))return Sn.get(e);try{var t=new RegExp(e,"g")}catch(e){throw Error("FORX0002: "+e)}if(t.test(""))throw Error("FORX0003: the pattern "+e+" matches the zero length string");return Sn.set(e,t),t}var kn=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"compare",l:[{type:1,g:0},{type:1,g:0}],i:{type:5,g:0},m:function(e,t,n,r,i){return r.G()||i.G()?ue.empty():(e=r.first().value)>(i=i.first().value)?ue.o(q(1,5)):e<i?ue.o(q(-1,5)):ue.o(q(0,5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"compare",l:[{type:1,g:0},{type:1,g:0},{type:1,g:3}],i:{type:5,g:0},m:wn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"concat",l:[{type:46,g:0},{type:46,g:0},4],i:{type:1,g:3},m:function(e,t,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];return i=i.map((function(e){return Ot(e,t).L((function(e){return ue.o(q(e.map((function(e){return null===e?"":Qt(e,1).value})).join(""),1))}))})),$e(i,(function(e){return ue.o(q(e.map((function(e){return e.value})).join(""),1))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"contains",l:[{type:1,g:0},{type:1,g:0},{type:1,g:0}],i:{type:0,g:3},m:wn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"contains",l:[{type:1,g:0},{type:1,g:0}],i:{type:0,g:3},m:function(e,t,n,r,i){return e=r.G()?"":r.first().value,0===(i=i.G()?"":i.first().value).length?ue.ca():0===e.length?ue.X():e.includes(i)?ue.ca():ue.X()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"ends-with",l:[{type:1,g:0},{type:1,g:0}],i:{type:0,g:3},m:function(e,t,n,r,i){return 0===(e=i.G()?"":i.first().value).length?ue.ca():0===(r=r.G()?"":r.first().value).length?ue.X():r.endsWith(e)?ue.ca():ue.X()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"ends-with",l:[{type:1,g:0},{type:1,g:0},{type:1,g:3}],i:{type:0,g:3},m:wn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"normalize-space",l:[{type:1,g:0}],i:{type:1,g:3},m:Nn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"normalize-space",l:[],i:{type:1,g:3},m:bn.bind(null,(function(e,t,n,r){return Nn(e,0,0,xn(0,t,0,r))}))},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"starts-with",l:[{type:1,g:0},{type:1,g:0}],i:{type:0,g:3},m:function(e,t,n,r,i){return 0===(e=i.G()?"":i.first().value).length?ue.ca():0===(r=r.G()?"":r.first().value).length?ue.X():r.startsWith(e)?ue.ca():ue.X()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"starts-with",l:[{type:1,g:0},{type:1,g:0},{type:1,g:3}],i:{type:0,g:3},m:wn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string",l:[{type:59,g:0}],i:{type:1,g:3},m:xn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string",l:[],i:{type:1,g:3},m:bn.bind(null,xn)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring-before",l:[{type:1,g:0},{type:1,g:0}],i:{type:1,g:3},m:function(e,t,n,r,i){return e=r.G()?"":r.first().value,""===(i=i.G()?"":i.first().value)||-1===(i=e.indexOf(i))?ue.o(q("",1)):ue.o(q(e.substring(0,i),1))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring-after",l:[{type:1,g:0},{type:1,g:0}],i:{type:1,g:3},m:function(e,t,n,r,i){return e=r.G()?"":r.first().value,""===(i=i.G()?"":i.first().value)?ue.o(q(e,1)):-1===(t=e.indexOf(i))?ue.o(q("",1)):ue.o(q(e.substring(t+i.length),1))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring",l:[{type:1,g:0},{type:3,g:3}],i:{type:1,g:3},m:En},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring",l:[{type:1,g:0},{type:3,g:3},{type:3,g:3}],i:{type:1,g:3},m:En},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"upper-case",l:[{type:1,g:0}],i:{type:1,g:3},m:function(e,t,n,r){return r.G()?ue.o(q("",1)):r.map((function(e){return q(e.value.toUpperCase(),1)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"lower-case",l:[{type:1,g:0}],i:{type:1,g:3},m:function(e,t,n,r){return r.G()?ue.o(q("",1)):r.map((function(e){return q(e.value.toLowerCase(),1)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-join",l:[{type:46,g:2},{type:1,g:3}],i:{type:1,g:3},m:_n},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-join",l:[{type:46,g:2}],i:{type:1,g:3},m:function(e,t,n,r){return _n(0,t,0,r,ue.o(q("",1)))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-length",l:[{type:1,g:0}],i:{type:5,g:3},m:An},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-length",l:[],i:{type:5,g:3},m:bn.bind(null,(function(e,t,n,r){return An(e,0,0,xn(0,t,0,r))}))},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"tokenize",l:[{type:1,g:0},{type:1,g:3},{type:1,g:3}],i:{type:1,g:2},m:function(){throw Error("Not implemented: Using flags in tokenize is not supported")}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"tokenize",l:[{type:1,g:0},{type:1,g:3}],i:{type:1,g:2},m:Cn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"tokenize",l:[{type:1,g:0}],i:{type:1,g:2},m:function(e,t,n,r){return Cn(e,0,0,Nn(e,0,0,r),ue.o(q(" ",1)))}},{l:[{type:1,g:0},{type:1,g:3},{type:1,g:3}],m:function(e,t,n,r,i,a){return $e([r,i,a],(function(e){var t=u(e),n=t.next().value;e=t.next().value,t=t.next().value,n=Array.from(n?n.value:"");var r=Array.from(e.value),i=Array.from(t.value);return e=n.map((function(e){return r.includes(e)?(e=r.indexOf(e))<=i.length?i[e]:void 0:e})),ue.o(q(e.join(""),1))}))},localName:"translate",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{l:[{type:5,g:2}],m:function(e,t,n,r){return r.L((function(e){return e=e.map((function(e){if(9===(e=e.value)||10===e||13===e||32<=e&&55295>=e||57344<=e&&65533>=e||65536<=e&&1114111>=e)return String.fromCodePoint(e);throw Error("FOCH0001")})).join(""),ue.o(q(e,1))}))},localName:"codepoints-to-string",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{l:[{type:1,g:0}],m:function(e,t,n,r){return $e([r],(function(e){return 0===(e=(e=u(e).next().value)?e.value.split(""):[]).length?ue.empty():ue.create(e.map((function(e){return q(e.codePointAt(0),5)})))}))},localName:"string-to-codepoints",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:2}},{l:[{type:1,g:0}],m:function(e,t,n,r){return $e([r],(function(e){return null===(e=u(e).next().value)||0===e.value.length?ue.create(q("",1)):ue.create(q(encodeURIComponent(e.value).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})),1))}))},localName:"encode-for-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{l:[{type:1,g:0}],m:function(e,t,n,r){return $e([r],(function(e){return null===(e=u(e).next().value)||0===e.value.length?ue.create(q("",1)):ue.create(q(e.value.replace(/([\u00A0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFEF "<>{}|\\^`/\n\u007f\u0080-\u009f]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,(function(e){return encodeURI(e)})),1))}))},localName:"iri-to-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{l:[{type:1,g:0},{type:1,g:0}],m:function(e,t,n,r,i){return $e([r,i],(function(e){var t=u(e);if(e=t.next().value,t=t.next().value,null===e||null===t)return ue.empty();if(e=e.value,t=t.value,e.length!==t.length)return ue.X();e=e.split(""),t=t.split("");for(var n=0;n<e.length;n++)if(e[n].codePointAt(0)!==t[n].codePointAt(0))return ue.X();return ue.ca()}))},localName:"codepoint-equal",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:0}},{l:[{type:1,g:0},{type:1,g:3}],m:function(e,t,n,r,i){return $e([r,i],(function(e){var t=u(e);e=t.next().value,t=t.next().value,e=e?e.value:"",t=t.value;var n=Tn.get(t);if(!n){try{n=cn.compile(t,{language:"xpath"})}catch(e){throw Error("FORX0002: "+e)}Tn.set(t,n)}return n(e)?ue.ca():ue.X()}))},localName:"matches",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{l:[{type:1,g:0},{type:1,g:3},{type:1,g:3}],m:function(e,t,n,r,i,a){return $e([r,i,a],(function(e){var t=u(e);e=t.next().value;var n=t.next().value;if(t=t.next().value,e=e?e.value:"",n=n.value,(t=t.value).includes("$0"))throw Error("Using $0 in fn:replace to replace substrings with full matches is not supported.");return t=t.split(/((?:\$\$)|(?:\\\$)|(?:\\\\))/).map((function(e){switch(e){case"\\$":return"$$";case"\\\\":return"\\";case"$$":throw Error('FORX0004: invalid replacement: "$$"');default:return e}})).join(""),n=Bn(n),e=e.replace(n,t),ue.o(q(e,1))}))},localName:"replace",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{l:[{type:1,g:0},{type:1,g:3},{type:1,g:3},{type:1,g:3}],localName:"replace",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3},m:function(){throw Error("Not implemented: Using flags in replace is not supported")}}];function In(e,t,n,r){if(null===t.N)throw Error("XPDY0002: The function which was called depends on dynamic context, which is absent.");return e(t,n,r,ue.o(t.N))}function Pn(e,t,n,r){return $e([r],(function(e){if(null===(e=u(e).next().value))return ue.empty();switch((e=e.value).node.nodeType){case 1:case 2:return ue.o(q(new ve(e.node.prefix,e.node.namespaceURI,e.node.localName),23));case 7:return ue.o(q(new ve("","",e.node.target),23));default:return ue.empty()}}))}function On(e,t,n,r){return r.$({default:function(){return xn(0,t,0,Pn(0,0,0,r))},empty:function(){return ue.empty()}})}function Rn(e,t,n,r){return Ot(r,t)}function Dn(e,t,n,r){return $e([r],(function(e){return null!==(e=(e=u(e).next().value)?e.value:null)&&Re(t.h,e,null)?ue.ca():ue.X()}))}function Mn(e,t,n,r){return $e([r],(function(e){function n(e){for(var t=0,n=e;null!==n;)(e.node.nodeType!==n.node.nodeType?0:1===n.node.nodeType?n.node.localName===e.node.localName&&n.node.namespaceURI===e.node.namespaceURI:7===n.node.nodeType?n.node.target===e.node.target:1)&&t++,n=Ue(i,n,null);return t}var r=u(e).next().value;if(null===r)return ue.empty();var i=t.h;for(e="",r=r.value;null!==Fe(t.h,r,null);r=Fe(t.h,r,null))switch(r.node.nodeType){case 1:var a=r;e="/Q{"+(a.node.namespaceURI||"")+"}"+a.node.localName+"["+n(a)+"]"+e;break;case 2:e="/@"+((a=r).node.namespaceURI?"Q{"+a.node.namespaceURI+"}":"")+a.node.localName+e;break;case 3:e="/text()["+n(r)+"]"+e;break;case 7:e="/processing-instruction("+(a=r).node.target+")["+n(a)+"]"+e;break;case 8:e="/comment()["+n(r)+"]"+e}return 9===r.node.nodeType?ue.create(q(e||"/",1)):ue.create(q("Q{http://www.w3.org/2005/xpath-functions}root()"+e,1))}))}function Fn(e,t,n,r){return r.map((function(e){return q(e.value.node.namespaceURI||"",20)}))}function Un(e,t,n,r){return r.$({default:function(){return r.map((function(e){return 7===e.value.node.nodeType?q(e.value.node.target,1):q(e.value.node.localName||"",1)}))},empty:function(){return ue.o(q("",1))}})}function Hn(e,t,n){if(2===t.node.nodeType)return en(t,n);for(;n;){if(en(t,n))return!0;if(9===n.node.nodeType)break;n=Fe(e,n,null)}return!1}function Ln(e,t,n,r){return r.map((function(e){if(!ee(e.type,53))throw Error("XPTY0004 Argument passed to fn:root() should be of the type node()");for(e=e.value;e;){var n=e;e=Fe(t.h,n,null)}return je(n)}))}var Gn=[{l:[{type:53,g:0}],m:On,localName:"name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:0}},{l:[],m:In.bind(null,On),localName:"name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{l:[{type:53,g:3}],m:Fn,localName:"namespace-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:20,g:3}},{l:[],m:In.bind(null,Fn),localName:"namespace-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:20,g:3}},{l:[{type:53,g:2}],m:function(e,t,n,r){return r.L((function(e){return e.length?(e=sn(t.h,e).reduceRight((function(e,n,r,i){return r===i.length-1?(e.push(n),e):(Hn(t.h,n.value,e[0].value)||e.unshift(n),e)}),[]),ue.create(e)):ue.empty()}))},localName:"innermost",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:53,g:2}},{l:[{type:53,g:2}],m:function(e,t,n,r){return r.L((function(e){return e.length?(e=sn(t.h,e).reduce((function(e,n,r){return 0===r?(e.push(n),e):(Hn(t.h,e[e.length-1].value,n.value)||e.push(n),e)}),[]),ue.create(e)):ue.empty()}),1)},localName:"outermost",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:53,g:2}},{l:[{type:53,g:0}],m:Dn,localName:"has-children",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{l:[],m:In.bind(null,Dn),localName:"has-children",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{l:[{type:53,g:0}],m:Mn,localName:"path",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:0}},{l:[],m:In.bind(null,Mn),localName:"path",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:0}},{l:[{type:53,g:0}],m:Pn,localName:"node-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:23,g:0}},{l:[],m:In.bind(null,Pn),localName:"node-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:23,g:0}},{l:[{type:53,g:0}],m:Un,localName:"local-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{l:[],m:In.bind(null,Un),localName:"local-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{l:[{type:53,g:0}],m:Ln,localName:"root",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:53,g:0}},{l:[],m:In.bind(null,Ln),localName:"root",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:53,g:0}},{l:[],m:In.bind(null,Rn),localName:"data",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:2}},{l:[{type:59,g:2}],m:Rn,localName:"data",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:2}}];function jn(e,t){var n=0,r=e.length,i=!1,a=null;return{next:function(){if(!i){for(;n<r;){a||(a=t(e[n],n,e));var o=a.next(0);if(a=null,!o.value)return W(!1);n++}return i=!0,W(!0)}return Q}}}function $n(e){return 1===(e=e.node.nodeType)||3===e}function Xn(e,t){if((ee(e.type,4)||ee(e.type,6))&&(ee(t.type,4)||ee(t.type,6))){var n=Qt(e,6),r=Qt(t,6);return n.value===r.value||isNaN(e.value)&&isNaN(t.value)}return(ee(e.type,4)||ee(e.type,6)||ee(e.type,3))&&(ee(t.type,4)||ee(t.type,6)||ee(t.type,3))?(n=Qt(e,3),r=Qt(t,3),n.value===r.value||isNaN(e.value)&&isNaN(t.value)):ee(e.type,23)&&ee(t.type,23)?e.value.namespaceURI===t.value.namespaceURI&&e.value.localName===t.value.localName:(ee(e.type,9)||ee(e.type,7)||ee(e.type,8)||ee(e.type,11)||ee(e.type,12)||ee(e.type,13)||ee(e.type,14)||ee(e.type,15))&&(ee(t.type,9)||ee(t.type,7)||ee(t.type,8)||ee(t.type,11)||ee(t.type,12)||ee(t.type,13)||ee(t.type,14)||ee(t.type,15))?pt(e.value,t.value):(ee(e.type,16)||ee(e.type,17)||ee(e.type,18))&&(ee(t.type,16)||ee(t.type,17)||ee(t.type,17))?Ye(e.value,t.value):e.value===t.value}function zn(e,t,n){return n=u([t,n].map((function(t){return{type:1,value:t.reduce((function(t,n){return t+Pt(n,e).first().value}),"")}}))),W(Xn(t=n.next().value,n=n.next().value))}function qn(e,t,n,r){for(;e.value&&ee(e.value.type,56);){t.push(e.value);var i=Me(r,e.value.value);if(e=n.next(0),i&&3!==i.node.nodeType)break}return e}function Vn(e,t,n,r,i){var a,o=t.h,s=r.value,l=i.value,u=null,c=null,p=null,h=[],d=[];return{next:function(){for(;!a;)if(u||(u=s.next(0)),u=qn(u,h,s,o),c||(c=l.next(0)),c=qn(c,d,l,o),h.length||d.length){var r=zn(t,h,d);if(h.length=0,d.length=0,!1===r.value)return a=!0,r}else{if(u.done||c.done)return a=!0,W(u.done===c.done);if(p||(p=Kn(e,t,n,u.value,c.value)),r=p.next(0),p=null,!1===r.value)return a=!0,r;c=u=null}return Q}}}function Yn(e,t,n,r,i){return r=Pe(t.h,r.value),i=Pe(t.h,i.value),r=r.filter((function(e){return $n(e)})),i=i.filter((function(e){return $n(e)})),r=ue.create(r.map((function(e){return je(e)}))),i=ue.create(i.map((function(e){return je(e)}))),Vn(e,t,n,r,i)}function Kn(e,t,n,r,i){if(ee(r.type,46)&&ee(i.type,46))return Wt(Xn(r,i));if(ee(r.type,61)&&ee(i.type,61))return function(e,t,n,r,i){return r.h.length!==i.h.length?Wt(!1):jn(r.h,(function(r){var a=i.h.find((function(e){return Xn(e.key,r.key)}));return a?Vn(e,t,n,r.value(),a.value()):Wt(!1)}))}(e,t,n,r,i);if(ee(r.type,62)&&ee(i.type,62))return function(e,t,n,r,i){return r.R.length!==i.R.length?Wt(!1):jn(r.R,(function(r,a){return a=i.R[a],Vn(e,t,n,r(),a())}))}(e,t,n,r,i);if(ee(r.type,53)&&ee(i.type,53)){if(ee(r.type,55)&&ee(i.type,55))return Yn(e,t,n,r,i);if(ee(r.type,54)&&ee(i.type,54))return function(e,t,n,r,i){var a=Vn(e,t,n,Pn(0,0,0,ue.o(r)),Pn(0,0,0,ue.o(i))),o=Yn(e,t,n,r,i);r=ke(t.h,r.value).filter((function(e){return"http://www.w3.org/2000/xmlns/"!==e.node.namespaceURI})).sort((function(e,t){return e.node.nodeName>t.node.nodeName?1:-1})).map((function(e){return je(e)})),i=ke(t.h,i.value).filter((function(e){return"http://www.w3.org/2000/xmlns/"!==e.node.namespaceURI})).sort((function(e,t){return e.node.nodeName>t.node.nodeName?1:-1})).map((function(e){return je(e)}));var s=Vn(e,t,n,ue.create(r),ue.create(i)),l=!1;return{next:function(){if(l)return Q;var e=a.next(0);return!e.done&&!1===e.value||!(e=s.next(0)).done&&!1===e.value?(l=!0,e):(e=o.next(0),l=!0,e)}}}(e,t,n,r,i);if(ee(r.type,47)&&ee(i.type,47)||ee(r.type,57)&&ee(i.type,57)||ee(r.type,58)&&ee(i.type,58))return function(e,t,n,r,i){var a=Vn(e,t,n,Pn(0,0,0,ue.o(r)),Pn(0,0,0,ue.o(i))),o=!1;return{next:function(){if(o)return Q;var e=a.next(0);return e.done||!1!==e.value?W(Xn(Pt(r,t).first(),Pt(i,t).first())):(o=!0,e)}}}(e,t,n,r,i)}return Wt(!1)}function Jn(e){return Error("XUST0001: "+(void 0===e?"Can not execute an updating expression in a non-updating context.":e))}function Qn(e){return Error("XUTY0004: The attribute "+e.name+'="'+e.value+'" follows a node that is not an attribute node.')}function Wn(){return Error("XUTY0005: The target of a insert expression with into must be a single element or document node.")}function Zn(){return Error("XUTY0006: The target of a insert expression with before or after must be a single element, text, comment, or processing instruction node.")}function er(){return Error("XUTY0008: The target of a replace expression must be a single element, attribute, text, comment, or processing instruction node.")}function tr(){return Error("XUTY0012: The target of a rename expression must be a single element, attribute, or processing instruction node.")}function nr(e){return Error("XUDY0017: The target "+e.outerHTML+" is used in more than one replace value of expression.")}function rr(e){return Error("XUDY0021: Applying the updates will result in the XDM instance violating constraint: '"+e+"'")}function ir(e){return Error("XUDY0023: The namespace binding "+e+" is conflicting.")}function ar(e){return Error("XUDY0024: The namespace binding "+e+" is conflicting.")}function or(){return Error("XUDY0027: The target for an insert, replace, or rename expression expression should not be empty.")}function sr(e,t,n,r,i){n=void 0===n?{C:!1,Y:!1,S:"unsorted",subtree:!1}:n,this.s=e,this.O=n.S||"unsorted",this.subtree=!!n.subtree,this.Y=!!n.Y,this.C=!!n.C,this.ha=t,this.I=!1,this.Ya=null,this.bc=void 0!==r&&r,this.type=i}function lr(e,t,n){return t&&null!==t.N&&e.C?(null===e.Ya&&(e.Ya=ce(e.h(null,n).ob())),e=e.Ya()):e=e.h(t,n),e}function ur(e,t){this.H=e,this.fa=t}function cr(e){e&&"object"==typeof e&&"nodeType"in e&&("function"==typeof(e=e.ownerDocument||e).createElementNS&&"function"==typeof e.createProcessingInstruction&&"function"==typeof e.createTextNode&&"function"==typeof e.createComment&&(this.h=e)),this.h||(this.h=null)}function pr(e,t,n){t.forEach((function(t){n.insertBefore(e.node,t.node,null)}))}function hr(e,t,n,r){var i=Fe(n,e),a=e.node.nodeType;if(2===a){if(t.some((function(e){return 2!==e.node.nodeType})))throw Error('Constraint "If $target is an attribute node, $replacement must consist of zero or more attribute nodes." failed.');var o=i?i.node:null;r.removeAttributeNS(o,e.node.namespaceURI,e.node.nodeName),t.forEach((function(e){var t=e.node.nodeName;if(Ie(n,i,t))throw rr("An attribute "+t+" already exists.");r.setAttributeNS(o,e.node.namespaceURI,t,Oe(n,e))}))}if(1===a||3===a||8===a||7===a){var s=(a=Me(n,e))?a.node:null;r.removeChild(i.node,e.node),t.forEach((function(e){r.insertBefore(i.node,e.node,s)}))}}function dr(e,t,n,r){if(function(e,t){function n(e){return new ve(e.node.prefix,e.node.namespaceURI,e.node.localName)}function r(t,n){var r=new Set;e.filter((function(e){return e.type===t})).map((function(e){return e.target})).forEach((function(e){e=e?e.node:null,r.has(e)&&n(e),r.add(e)}))}r("rename",(function(e){throw Error("XUDY0015: The target "+e.outerHTML+" is used in more than one rename expression.")})),r("replaceNode",(function(e){throw Error("XUDY0016: The target "+e.outerHTML+" is used in more than one replace expression.")})),r("replaceValue",(function(e){throw nr(e)})),r("replaceElementContent",(function(e){throw nr(e)}));var i=new Map;e.filter((function(e){return"replaceNode"===e.type&&2===e.target.node.nodeType})).forEach((function(e){var r=Fe(t,e.target);r=r?r.node:null;var a=i.get(r);a?a.push.apply(a,p(e.s.map(n))):i.set(r,e.s.map(n))})),e.filter((function(e){return"rename"===e.type&&2===e.target.node.nodeType})).forEach((function(e){var n=Fe(t,e.target);if(n){n=n.node;var r=i.get(n);r?r.push(e.s):i.set(n,[e.s])}})),i.forEach((function(e){var t={};e.forEach((function(e){if(t[e.prefix]||(t[e.prefix]=e.namespaceURI),t[e.prefix]!==e.namespaceURI)throw ar(e.namespaceURI)}))}))}(e,t),e.filter((function(e){return-1!==["insertInto","insertAttributes","replaceValue","rename"].indexOf(e.type)})).forEach((function(e){switch(e.type){case"insertInto":pr(e.target,e.content,r);break;case"insertAttributes":!function(e,t,n,r){t.forEach((function(t){var i=t.node.nodeName;if(Ie(n,e,i))throw rr("An attribute "+i+" already exists.");r.setAttributeNS(e.node,t.node.namespaceURI,i,Oe(n,t))}))}(e.target,e.content,t,r);break;case"rename":!function(e,t,n,r,i){switch(r||(r=new cr(e?e.node:null)),e.node.nodeType){case 1:var a=n.getAllAttributes(e.node),o=n.getChildNodes(e.node),s=r.createElementNS(t.namespaceURI,t.va()),l={node:s,F:null};a.forEach((function(e){i.setAttributeNS(s,e.namespaceURI,e.nodeName,e.value)})),o.forEach((function(e){i.insertBefore(s,e,null)}));break;case 2:(t=r.createAttributeNS(t.namespaceURI,t.va())).value=Oe(n,e),l={node:t,F:null};break;case 7:l={node:r.createProcessingInstruction(t.va(),Oe(n,e)),F:null}}if(!Fe(n,e))throw Error("Not supported: renaming detached nodes.");hr(e,[l],n,i)}(e.target,e.s,t,n,r);break;case"replaceValue":var i=e.target;if(e=e.s,2===i.node.nodeType){var a=Fe(t,i);a?r.setAttributeNS(a.node,i.node.namespaceURI,i.node.nodeName,e):i.node.value=e}else r.setData(i.node,e)}})),e.filter((function(e){return-1!==["insertBefore","insertAfter","insertIntoAsFirst","insertIntoAsLast"].indexOf(e.type)})).forEach((function(e){switch(e.type){case"insertAfter":!function(e,t,n,r){var i=Fe(n,e).node,a=(e=Me(n,e))?e.node:null;t.forEach((function(e){r.insertBefore(i,e.node,a)}))}(e.target,e.content,t,r);break;case"insertBefore":!function(e,t,n,r){var i=Fe(n,e).node;t.forEach((function(t){r.insertBefore(i,t.node,e.node)}))}(e.target,e.content,t,r);break;case"insertIntoAsFirst":!function(e,t,n,r){var i=(n=Re(n,e))?n.node:null;t.forEach((function(t){r.insertBefore(e.node,t.node,i)}))}(e.target,e.content,t,r);break;case"insertIntoAsLast":pr(e.target,e.content,r)}})),e.filter((function(e){return"replaceNode"===e.type})).forEach((function(e){hr(e.target,e.s,t,r)})),e.filter((function(e){return"replaceElementContent"===e.type})).forEach((function(e){!function(e,t,n,r){n.getChildNodes(e.node).forEach((function(t){return r.removeChild(e.node,t)})),t&&r.insertBefore(e.node,t.node,null)}(e.target,e.text,t,r)})),e.filter((function(e){return"delete"===e.type})).forEach((function(e){e=e.target;var n=Fe(t,e);(n=n?n.node:null)&&(2===e.node.nodeType?r.removeAttributeNS(n,e.node.namespaceURI,e.node.nodeName):r.removeChild(n,e.node))})),e.some((function(e){return"put"===e.type})))throw Error('Not implemented: the execution for pendingUpdate "put" is not yet implemented.')}function fr(e,t){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];return e.concat.apply(e,p(n.filter(Boolean)))}function mr(e,t,n,r){sr.call(this,e,t,n,!0,r),this.I=!0}function gr(e){return e.I?function(t,n){return e.u(t,n)}:function(t,n){var r=e.h(t,n);return{next:function(){return W({fa:[],H:r.M()})}}}}function yr(e,t){return t((e=e.next(0)).value.fa),ue.create(e.value.H)}function vr(e,t,n,r){mr.call(this,e,t,n,r),this.I=this.ha.some((function(e){return e.I}))}sr.prototype.A=function(){return null},sr.prototype.P=function(e){if(this.ha.forEach((function(t){return t.P(e)})),!this.bc&&this.ha.some((function(e){return e.I})))throw Jn()},(r=cr.prototype).createAttributeNS=function(e,t){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createAttributeNS(e,t)},r.createCDATASection=function(e){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createCDATASection(e)},r.createComment=function(e){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createComment(e)},r.createDocument=function(){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.implementation.createDocument(null,null,null)},r.createElementNS=function(e,t){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createElementNS(e,t)},r.createProcessingInstruction=function(e,t){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createProcessingInstruction(e,t)},r.createTextNode=function(e){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createTextNode(e)},y(mr,sr),mr.prototype.h=function(){throw Jn()},y(vr,mr),vr.prototype.h=function(e,t){return this.B(e,t,this.ha.map((function(e){return function(n){return e.h(n,t)}})))},vr.prototype.u=function(e,t){var n=[],r=this.B(e,t,this.ha.map((function(e){return e.I?function(r){return yr(r=e.u(r,t),(function(e){return n=fr(n,e)}))}:function(n){return e.h(n,t)}}))),i=!1;return{next:function(){if(i)return Q;var e=r.M();return i=!0,W(new ur(e,n))}}},vr.prototype.P=function(e){mr.prototype.P.call(this,e),function(e){e.ha.some((function(e){return e.I}))&&(e.I=!0)}(this)};var wr=["external","attribute","nodeName","nodeType","universal"],br=wr.length;function xr(e){if(this.h=wr.map((function(t){return e[t]||0})),Object.keys(e).some((function(e){return!wr.includes(e)})))throw Error("Invalid specificity kind passed")}function _r(e,t){for(var n=0;n<br;++n){if(t.h[n]<e.h[n])return 1;if(t.h[n]>e.h[n])return-1}return 0}function Ar(){return Bt("Expected base expression of a function call to evaluate to a sequence of single function item")}function Er(e,t,n,r){for(var i=[],a=0;a<t.length;++a)if(null===t[a])i.push(null);else{var o=dn(e[a],t[a],n,r,!1);i.push(o)}return i}function Cr(e,t){if(!ee(e.type,60))throw Bt("Expected base expression to evaluate to a function item");if(e.A!==t)throw Ar();return e}function Nr(e,t,n,r,i,a,o){var s=0;return i=i.map((function(e){return e?null:a[s++](n)})),0<=(i=Er(e.s,i,r,e.j)).indexOf(null)?function(e,t){var n=e.value,r=t.map((function(e){return null===e?null:ce(e)}));return t=t.reduce((function(t,n,r){return null===n&&t.push(e.s[r]),t}),[]),t=new we({l:t,arity:t.length,Pa:!0,I:e.I,localName:"boundFunction",namespaceURI:e.u,i:e.O,value:function(e,t,i){var a=Array.from(arguments).slice(3),o=r.map((function(e){return null===e?a.shift():e()}));return n.apply(void 0,[e,t,i].concat(o))}}),ue.o(t)}(e,i):(t=t.apply(void 0,[n,r,o].concat(p(i))),dn(e.O,t,r,e.j,!0))}function Tr(e,t,n){var r={};vr.call(this,new xr((r.external=1,r)),[e].concat(t.filter((function(e){return!!e}))),{S:"unsorted",Y:!1,subtree:!1,C:!1},n),this.ka=t.length,this.T=t.map((function(e){return null===e})),this.J=null,this.na=e,this.ua=t}function Sr(e,t,n,r,i,a){return $e([r,i,a],(function(e){var t=u(e);e=t.next().value;var n=t.next().value;if(t=t.next().value,n=n.value,t=t.value,n>e.R.length||0>=n)throw Error("FOAY0001: subarray start out of bounds.");if(0>t)throw Error("FOAY0002: subarray length out of bounds.");if(n+t>e.R.length+1)throw Error("FOAY0001: subarray start + length out of bounds.");return ue.o(new Le(e.R.slice(n-1,t+n-1)))}))}function Br(e,t,n,r,i){return $e([r],(function(e){var t=u(e).next().value;return i.L((function(e){e=e.map((function(e){return e.value})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n[t-1]!==e}));for(var n=t.R.concat(),r=0,i=e.length;r<i;++r){var a=e[r];if(a>t.R.length||0>=a)throw Error("FOAY0001: subarray position out of bounds.");n.splice(a-1,1)}return ue.o(new Le(n))}))}))}function kr(e){return ee(e,1)||ee(e,20)||ee(e,19)}function Ir(e,t,n,r,i){return 0===r.length?0!==i.length:0!==i.length&&Kn(e,t,n,r[0],i[0]).next(0).value?Ir(e,t,n,r.slice(1),i.slice(1)):r[0].value!=r[0].value||(kr(r[0].type)&&0!==i.length&&kr(i[0].type)||0!==i.length)&&r[0].value<i[0].value}function Pr(e,t,n,r){return r.sort((function(r,i){return Vn(e,t,n,ue.create(r),ue.create(i)).next(0).value?0:Ir(e,t,n,r,i)?-1:1})),ue.o(new Le(r.map((function(e){return function(){return ue.create(e)}}))))}function Or(e,t){return ee(t.type,62)?t.R.reduce((function(e,t){return t().L((function(t){return t.reduce(Or,e)}))}),e):Tt([e,ue.o(t)])}xr.prototype.add=function(e){var t=this,n=wr.reduce((function(n,r,i){return n[r]=t.h[i]+e.h[i],n}),Object.create(null));return new xr(n)},y(Tr,vr),Tr.prototype.u=function(e,t){var n=this;if(!this.j||!this.j.I)return vr.prototype.u.call(this,e,t);var r=[],i=Nr(this.j,(function(e,t,i,a){for(var o=[],s=3;s<arguments.length;++s)o[s-3]=arguments[s];return yr(n.j.value.apply(n.j,[e,t,i].concat(p(o))),(function(e){r=fr(r,e)}))}),e,t,this.T,this.ua.map((function(n){return function(){return n.I?yr(n.u(e,t),(function(e){r=fr(r,e)})):lr(n,e,t)}})),this.J),a=!1;return{next:function(){if(a)return Q;var e=i.M();return a=!0,W({fa:r,H:e})}}},Tr.prototype.B=function(e,t,n){var r=this,i=(n=u(n)).next().value,a=c(n);if(this.j)return Nr(this.j,(function(e,t,n,i){for(var a=[],o=3;o<arguments.length;++o)a[o-3]=arguments[o];return r.j.value.apply(r.j,[e,t,n].concat(p(a)))}),e,t,this.T,a,this.J);var o=i(e);return o.$({default:function(){throw Ar()},o:function(){return o.L((function(n){if((n=Cr(n=u(n).next().value,r.ka)).I)throw Error("XUDY0038: The function returned by the PrimaryExpr of a dynamic function invocation can not be an updating function");return Nr(n,n.value,e,t,r.T,a,r.J)}))}})},Tr.prototype.P=function(e){if(this.J=yi(e),vr.prototype.P.call(this,e),this.na.C){if(!(e=lr(this.na,null,null)).ya())throw Ar();this.j=Cr(e.first(),this.ka),this.j.I&&(this.I=!0)}};var Rr=[{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"size",l:[{type:62,g:3}],i:{type:5,g:3},m:function(e,t,n,r){return $e([r],(function(e){return e=u(e).next().value,ue.o(q(e.R.length,5))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"get",l:[{type:62,g:3},{type:5,g:3}],i:{type:59,g:2},m:He},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"put",l:[{type:62,g:3},{type:5,g:3},{type:59,g:2}],i:{type:62,g:3},m:function(e,t,n,r,i,a){return $e([i,r],(function(e){var t=u(e);if(e=t.next().value,t=t.next().value,0>=(e=e.value)||e>t.R.length)throw Error("FOAY0001: array position out of bounds.");return(t=t.R.concat()).splice(e-1,1,ce(a)),ue.o(new Le(t))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"append",l:[{type:62,g:3},{type:59,g:2}],i:{type:62,g:3},m:function(e,t,n,r,i){return $e([r],(function(e){return e=u(e).next().value.R.concat([ce(i)]),ue.o(new Le(e))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"subarray",l:[{type:62,g:3},{type:5,g:3},{type:5,g:3}],i:{type:62,g:3},m:Sr},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"subarray",l:[{type:62,g:3},{type:5,g:3}],i:{type:62,g:3},m:function(e,t,n,r,i){var a=ue.o(q(r.first().value.length-i.first().value+1,5));return Sr(0,0,0,r,i,a)}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"remove",l:[{type:62,g:3},{type:5,g:2}],i:{type:62,g:3},m:Br},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"insert-before",l:[{type:62,g:3},{type:5,g:3},{type:59,g:2}],i:{type:62,g:3},m:function(e,t,n,r,i,a){return $e([r,i],(function(e){var t=u(e);if(e=t.next().value,(t=t.next().value.value)>e.R.length+1||0>=t)throw Error("FOAY0001: subarray position out of bounds.");return(e=e.R.concat()).splice(t-1,0,ce(a)),ue.o(new Le(e))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"head",l:[{type:62,g:3}],i:{type:59,g:2},m:function(e,t,n,r){return He(0,0,0,r,ue.o(q(1,5)))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"tail",l:[{type:62,g:3}],i:{type:59,g:2},m:function(e,t,n,r){return Br(0,0,0,r,ue.o(q(1,5)))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"reverse",l:[{type:62,g:3}],i:{type:62,g:3},m:function(e,t,n,r){return $e([r],(function(e){return e=u(e).next().value,ue.o(new Le(e.R.concat().reverse()))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"join",l:[{type:62,g:2}],i:{type:62,g:3},m:function(e,t,n,r){return r.L((function(e){return e=e.reduce((function(e,t){return e.concat(t.R)}),[]),ue.o(new Le(e))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"for-each",l:[{type:62,g:3},{type:60,g:3}],i:{type:62,g:3},m:function(e,t,n,r,i){return $e([r,i],(function(r){var i=(r=u(r)).next().value,a=r.next().value;if(1!==a.A)throw Bt("The callback passed into array:for-each has a wrong arity.");return r=i.R.map((function(r){return ce(a.value.call(void 0,e,t,n,Er(a.s,[r()],t,"array:for-each")[0]))})),ue.o(new Le(r))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"filter",l:[{type:62,g:3},{type:60,g:3}],i:{type:62,g:3},m:function(e,t,n,r,i){return $e([r,i],(function(r){var i=(r=u(r)).next().value,a=r.next().value;if(1!==a.A)throw Bt("The callback passed into array:filter has a wrong arity.");var o=i.R.map((function(r){return r=Er(a.s,[r()],t,"array:filter")[0],(0,a.value)(e,t,n,r)})),s=[],l=!1;return ue.create({next:function(){if(l)return Q;for(var e=0,t=i.R.length;e<t;++e){var n=o[e].getEffectiveBooleanValue();s[e]=n}return e=i.R.filter((function(e,t){return s[t]})),l=!0,W(new Le(e))}})}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"fold-left",l:[{type:62,g:3},{type:59,g:2},{type:60,g:3}],i:{type:59,g:2},m:function(e,t,n,r,i,a){return $e([r,a],(function(r){var a=(r=u(r)).next().value,o=r.next().value;if(2!==o.A)throw Bt("The callback passed into array:fold-left has a wrong arity.");return a.R.reduce((function(r,i){return i=Er(o.s,[i()],t,"array:fold-left")[0],o.value.call(void 0,e,t,n,r,i)}),i)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"fold-right",l:[{type:62,g:3},{type:59,g:2},{type:60,g:3}],i:{type:59,g:2},m:function(e,t,n,r,i,a){return $e([r,a],(function(r){var a=(r=u(r)).next().value,o=r.next().value;if(2!==o.A)throw Bt("The callback passed into array:fold-right has a wrong arity.");return a.R.reduceRight((function(r,i){return i=Er(o.s,[i()],t,"array:fold-right")[0],o.value.call(void 0,e,t,n,r,i)}),i)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"for-each-pair",l:[{type:62,g:3},{type:62,g:3},{type:60,g:3}],i:{type:62,g:3},m:function(e,t,n,r,i,a){return $e([r,i,a],(function(r){var i=u(r);r=i.next().value;var a=i.next().value;if(2!==(i=i.next().value).A)throw Bt("The callback passed into array:for-each-pair has a wrong arity.");for(var o=[],s=0,l=Math.min(r.R.length,a.R.length);s<l;++s){var c=u(Er(i.s,[r.R[s](),a.R[s]()],t,"array:for-each-pair")),p=c.next().value;c=c.next().value,o[s]=ce(i.value.call(void 0,e,t,n,p,c))}return ue.o(new Le(o))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"sort",l:[{type:62,g:3}],i:{type:62,g:3},m:function(e,t,n,r){return $e([r],(function(r){return r=u(r).next().value.R.map((function(e){return e().M()})),Pr(e,t,n,r)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"flatten",l:[{type:59,g:2}],i:{type:59,g:2},m:function(e,t,n,r){return r.L((function(e){return e.reduce(Or,ue.empty())}))}}];function Dr(e,t,n,r,i){return i.G()?i:ue.o(Qt(i.first(),e))}var Mr=[{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"untypedAtomic",l:[{type:46,g:0}],i:{type:19,g:0},m:Dr.bind(null,19)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"error",l:[{type:46,g:0}],i:{type:39,g:0},m:Dr.bind(null,39)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"string",l:[{type:46,g:0}],i:{type:1,g:0},m:Dr.bind(null,1)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"boolean",l:[{type:46,g:0}],i:{type:0,g:0},m:Dr.bind(null,0)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"decimal",l:[{type:46,g:0}],i:{type:4,g:0},m:Dr.bind(null,4)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"float",l:[{type:46,g:0}],i:{type:6,g:0},m:Dr.bind(null,6)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"double",l:[{type:46,g:0}],i:{type:3,g:0},m:Dr.bind(null,3)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"duration",l:[{type:46,g:0}],i:{type:18,g:0},m:Dr.bind(null,18)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dateTime",l:[{type:46,g:0}],i:{type:9,g:0},m:Dr.bind(null,9)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dateTimeStamp",l:[{type:46,g:0}],i:{type:10,g:0},m:Dr.bind(null,10)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"time",l:[{type:46,g:0}],i:{type:8,g:0},m:Dr.bind(null,8)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"date",l:[{type:46,g:0}],i:{type:7,g:0},m:Dr.bind(null,7)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gYearMonth",l:[{type:46,g:0}],i:{type:11,g:0},m:Dr.bind(null,11)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gYear",l:[{type:46,g:0}],i:{type:12,g:0},m:Dr.bind(null,12)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gMonthDay",l:[{type:46,g:0}],i:{type:13,g:0},m:Dr.bind(null,13)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gDay",l:[{type:46,g:0}],i:{type:15,g:0},m:Dr.bind(null,15)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gMonth",l:[{type:46,g:0}],i:{type:14,g:0},m:Dr.bind(null,14)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"hexBinary",l:[{type:46,g:0}],i:{type:22,g:0},m:Dr.bind(null,22)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"base64Binary",l:[{type:46,g:0}],i:{type:21,g:0},m:Dr.bind(null,21)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"QName",l:[{type:46,g:0}],i:{type:23,g:0},m:function(e,t,n,r){if(r.G())return r;if(ee((e=r.first()).type,2))throw Error("XPTY0004: The provided QName is not a string-like value.");if(!Mt(e=Dt(e=Qt(e,1).value,23),23))throw Error("FORG0001: The provided QName is invalid.");if(!e.includes(":"))return n=n.ba(""),ue.o(q(new ve("",n,e),23));if(t=(r=u(e.split(":"))).next().value,r=r.next().value,!(n=n.ba(t)))throw Error("FONS0004: The value "+e+" can not be cast to a QName. Did you mean to use fn:QName?");return ue.o(q(new ve(t,n,r),23))}},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"anyURI",l:[{type:46,g:0}],i:{type:20,g:0},m:Dr.bind(null,20)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"normalizedString",l:[{type:46,g:0}],i:{type:48,g:0},m:Dr.bind(null,48)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"token",l:[{type:46,g:0}],i:{type:52,g:0},m:Dr.bind(null,52)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"language",l:[{type:46,g:0}],i:{type:51,g:0},m:Dr.bind(null,51)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"NMTOKEN",l:[{type:46,g:0}],i:{type:50,g:0},m:Dr.bind(null,50)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"NMTOKENS",l:[{type:46,g:0}],i:{type:49,g:2},m:Dr.bind(null,49)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"Name",l:[{type:46,g:0}],i:{type:25,g:0},m:Dr.bind(null,25)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"NCName",l:[{type:46,g:0}],i:{type:24,g:0},m:Dr.bind(null,24)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"ID",l:[{type:46,g:0}],i:{type:42,g:0},m:Dr.bind(null,42)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"IDREF",l:[{type:46,g:0}],i:{type:41,g:0},m:Dr.bind(null,41)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"IDREFS",l:[{type:46,g:0}],i:{type:43,g:2},m:Dr.bind(null,43)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"ENTITY",l:[{type:46,g:0}],i:{type:26,g:0},m:Dr.bind(null,26)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"ENTITIES",l:[{type:46,g:0}],i:{type:40,g:2},m:Dr.bind(null,40)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"integer",l:[{type:46,g:0}],i:{type:5,g:0},m:Dr.bind(null,5)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"nonPositiveInteger",l:[{type:46,g:0}],i:{type:27,g:0},m:Dr.bind(null,27)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"negativeInteger",l:[{type:46,g:0}],i:{type:28,g:0},m:Dr.bind(null,28)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"long",l:[{type:46,g:0}],i:{type:31,g:0},m:Dr.bind(null,31)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"int",l:[{type:46,g:0}],i:{type:32,g:0},m:Dr.bind(null,32)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"short",l:[{type:46,g:0}],i:{type:33,g:0},m:Dr.bind(null,33)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"byte",l:[{type:46,g:0}],i:{type:34,g:0},m:Dr.bind(null,34)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"nonNegativeInteger",l:[{type:46,g:0}],i:{type:30,g:0},m:Dr.bind(null,30)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedLong",l:[{type:46,g:0}],i:{type:36,g:0},m:Dr.bind(null,36)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedInt",l:[{type:46,g:0}],i:{type:35,g:0},m:Dr.bind(null,35)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedShort",l:[{type:46,g:0}],i:{type:38,g:0},m:Dr.bind(null,38)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedByte",l:[{type:46,g:0}],i:{type:37,g:0},m:Dr.bind(null,37)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"positiveInteger",l:[{type:46,g:0}],i:{type:29,g:0},m:Dr.bind(null,29)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"yearMonthDuration",l:[{type:46,g:0}],i:{type:16,g:0},m:Dr.bind(null,16)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dayTimeDuration",l:[{type:46,g:0}],i:{type:17,g:0},m:Dr.bind(null,17)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dateTimeStamp",l:[{type:46,g:0}],i:{type:10,g:0},m:Dr.bind(null,10)}];function Fr(e,t,n,r){return r.G()?r:ue.o(q(r.first().value.getYear(),5))}function Ur(e,t,n,r){return r.G()?r:ue.o(q(r.first().value.getMonth(),5))}function Hr(e,t,n,r){return r.G()?r:ue.o(q(r.first().value.getDay(),5))}function Lr(e,t,n,r){return r.G()?r:ue.o(q(r.first().value.getHours(),5))}function Gr(e,t,n,r){return r.G()?r:ue.o(q(r.first().value.getMinutes(),5))}function jr(e,t,n,r){return r.G()||(t=(e=ue).o,r=r.first().value,r=t.call(e,q(r.j+r.pa,4))),r}function $r(e,t,n,r){return r.G()?r:(e=r.first().value.Z)?ue.o(q(e,17)):ue.empty()}var Xr=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"dateTime",l:[{type:7,g:0},{type:8,g:0}],i:{type:9,g:0},m:function(e,t,n,r,i){if(r.G())return r;if(i.G())return i;if(e=r.first().value,i=i.first().value,t=e.Z,n=i.Z,t||n){if(!t||n)if(!t&&n)t=n;else if(!Ye(t,n))throw Error("FORG0008: fn:dateTime: got a date and time value with different timezones.")}else t=null;return ue.o(q(new ot(e.getYear(),e.getMonth(),e.getDay(),i.getHours(),i.getMinutes(),i.getSeconds(),i.pa,t),9))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"year-from-dateTime",l:[{type:9,g:0}],i:{type:5,g:0},m:Fr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"month-from-dateTime",l:[{type:9,g:0}],i:{type:5,g:0},m:Ur},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"day-from-dateTime",l:[{type:9,g:0}],i:{type:5,g:0},m:Hr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"hours-from-dateTime",l:[{type:9,g:0}],i:{type:5,g:0},m:Lr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"minutes-from-dateTime",l:[{type:9,g:0}],i:{type:5,g:0},m:Gr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"seconds-from-dateTime",l:[{type:9,g:0}],i:{type:4,g:0},m:jr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"timezone-from-dateTime",l:[{type:9,g:0}],i:{type:17,g:0},m:$r},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"year-from-date",l:[{type:7,g:0}],i:{type:5,g:0},m:Fr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"month-from-date",l:[{type:7,g:0}],i:{type:5,g:0},m:Ur},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"day-from-date",l:[{type:7,g:0}],i:{type:5,g:0},m:Hr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"timezone-from-date",l:[{type:7,g:0}],i:{type:17,g:0},m:$r},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"hours-from-time",l:[{type:8,g:0}],i:{type:5,g:0},m:Lr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"minutes-from-time",l:[{type:8,g:0}],i:{type:5,g:0},m:Gr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"seconds-from-time",l:[{type:8,g:0}],i:{type:4,g:0},m:jr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"timezone-from-time",l:[{type:8,g:0}],i:{type:17,g:0},m:$r}];function zr(e,t,n,r,i){return r.L((function(e){for(var n=Ot(ue.create(e),t).map((function(e){return Qt(e,1)})).M(),r="",a=0;a<n.length;a++)r+="{type: "+n[a].type+", value: "+n[a].value+"}\n";return void 0!==i&&(r+=i.first().value),t.O.trace(r),ue.create(e)}))}var qr=[{l:[{type:59,g:2}],m:zr,localName:"trace",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{l:[{type:59,g:2},{type:1,g:3}],m:zr,localName:"trace",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}}];function Vr(e,t,n,r,i){throw e=void 0===r||r.G()?new ve("err","http://www.w3.org/2005/xqt-errors","FOER0000"):r.first().value,t="",void 0===i||i.G()||(t=": "+i.first().value),Error(""+e.localName+t)}var Yr=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"error",l:[],i:{type:63,g:3},m:Vr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"error",l:[{type:23,g:0}],i:{type:63,g:3},m:Vr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"error",l:[{type:23,g:0},{type:1,g:3}],i:{type:63,g:3},m:Vr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"error",l:[{type:23,g:0},{type:1,g:3},{type:59,g:2}],i:{type:63,g:3},m:function(){throw Error("Not implemented: Using an error object in error is not supported")}}];function Kr(e){return"string"==typeof e?e:(e=(new Ae).getChildNodes(e).find((function(e){return 8===e.nodeType})))?e.data:"some expression"}function Jr(e,t){e=Error.call(this,e),this.message=e.message,"stack"in e&&(this.stack=e.stack),this.position={end:{la:t.end.la,line:t.end.line,offset:t.end.offset},start:{la:t.start.la,line:t.start.line,offset:t.start.offset}}}function Qr(e,t){if(t instanceof Error)throw t;"string"!=typeof e&&(e=Kr(e));var n=Ea(t);e=e.replace("\r","").split("\n");var r=Math.floor(Math.log10(Math.min(n.end.line+2,e.length)))+1;throw e=e.reduce((function(e,t,i){var a=i+1;if(2<n.start.line-a||2<a-n.end.line)return e;if(i=Array(r).fill(" ",0,Math.floor(Math.log10(a))+1-r).join("")+a+": ",e.push(i+t),a>=n.start.line&&a<=n.end.line){var o=a<n.end.line?t.length+i.length:n.end.la-1+i.length;a=a>n.start.line?i.length:n.start.la-1+i.length,e.push(Array(i.length+t.length).fill(" ",0,a).fill("^",a,o).join(""))}return e}),[]),t=Ca(t).join("\n"),new Jr(e.join("\n")+"\n\n"+t,n)}y(Jr,Error);var Wr=Object.create(null);function Zr(e,t){for(var n=[],r=0;r<e.length+1;++r)n[r]=[];return function r(i,a){if(0===i)return a;if(0===a)return i;if(void 0!==n[i][a])return n[i][a];var o=0;return e[i-1]!==t[a-1]&&(o=1),o=Math.min(r(i-1,a)+1,r(i,a-1)+1,r(i-1,a-1)+o),n[i][a]=o}(e.length,t.length)}function ei(e){var t=Wr[e]?Wr[e]:Object.keys(Wr).map((function(t){return{name:t,wb:Zr(e,t.slice(t.lastIndexOf(":")+1))}})).sort((function(e,t){return e.wb-t.wb})).slice(0,5).filter((function(t){return t.wb<e.length/2})).reduce((function(e,t){return e.concat(Wr[t.name])}),[]).slice(0,5);return t.length?t.map((function(e){return'"Q{'+e.namespaceURI+"}"+e.localName+" ("+e.l.map((function(e){return 4===e?"...":me(e)})).join(", ")+')"'})).reduce((function(e,t,n,r){return 0===n?e+t:e+(n!==r.length-1?", ":" or ")+t}),"Did you mean ")+"?":"No similar functions found."}function ti(e,t,n,r,i){Wr[e+":"+t]||(Wr[e+":"+t]=[]),Wr[e+":"+t].push({l:n,arity:n.length,m:i,I:!1,localName:t,namespaceURI:e,i:r})}var ni={},ri=(ni.xml="http://www.w3.org/XML/1998/namespace",ni.xs="http://www.w3.org/2001/XMLSchema",ni.fn="http://www.w3.org/2005/xpath-functions",ni.map="http://www.w3.org/2005/xpath-functions/map",ni.array="http://www.w3.org/2005/xpath-functions/array",ni.math="http://www.w3.org/2005/xpath-functions/math",ni.fontoxpath="http://fontoxml.com/fontoxpath",ni.local="http://www.w3.org/2005/xquery-local-functions",ni);function ii(e,t,n,r){this.Ca=[Object.create(null)],this.Da=Object.create(null),this.O=e,this.ha=Object.keys(t).reduce((function(e,n){return void 0===t[n]||(e[n]="Q{}"+n+"[0]"),e}),Object.create(null)),this.s=Object.create(null),this.h=Object.create(null),this.A=n,this.u=r,this.j=[]}function ai(e){return Error("XPTY0004: "+e)}function oi(e,t){return e=2===e.node.nodeType?e.node.nodeName+'="'+Oe(t,e)+'"':e.node.outerHTML,Error("XQTY0024: The node "+e+" follows a node that is not an attribute node or a namespace node.")}function si(e){return Error('XQDY0044: The node name "'+e.va()+'" is invalid for a computed attribute constructor.')}function li(){return Error("XQST0045: Functions and variables may not be declared in one of the reserved namespace URIs.")}function ui(){return Error("XQST0060: Functions declared in a module or as an external function must reside in a namespace.")}function ci(){return Error("XQST0066: A Prolog may contain at most one default function namespace declaration.")}function pi(){return Error("XQST0070: The prefixes xml and xmlns may not be used in a namespace declaration or be bound to another namespaceURI.")}function hi(e){return Error('XQDY0074: The value "'+e+'" of a name expressions cannot be converted to an expanded QName.')}function di(e){return Error('XPST0081: The prefix "'+e+'" could not be resolved')}function fi(e,t){return"Q{"+(e||"")+"}"+t}function mi(e,t){for(var n=e.length-1;0<=n;--n)if(t in e[n])return e[n][t]}function gi(e){this.s=e,this.O=this.h=0,this.j=[Object.create(null)],this.u=Object.create(null),this.A=null,this.Da=e&&e.Da,this.Ca=e&&e.Ca}function yi(e){for(var t=new gi(e.s),n=0;n<e.h+1;++n)t.j=[Object.assign(Object.create(null),t.j[0],e.j[n])],t.Ca=[Object.assign(Object.create(null),t.Ca[0],e.Ca[n])],t.u=Object.assign(Object.create(null),e.u),t.Da=e.Da,t.A=e.A;return t}function vi(e){e.O++,e.h++,e.j[e.h]=Object.create(null),e.Ca[e.h]=Object.create(null)}function wi(e,t,n,r,i){if(r=fi(t,n)+"~"+r,e.u[r])throw Error('XQST0049: The function or variable "Q{'+t+"}"+n+'" is declared more than once.');e.u[r]=i}function bi(e,t,n){e.j[e.h][t]=n}function xi(e,t,n){return t=fi(t||"",n),e.Ca[e.h][t]=t+"["+e.O+"]"}function _i(e,t,n,r){e.Da[fi(t||"",n)+"["+e.O+"]"]=r}function Ai(e){e.j.length=e.h,e.Ca.length=e.h,e.h--}function Ei(e,t){"*"===t||Array.isArray(t)||(t=[t]);for(var n=1;n<e.length;++n)if(Array.isArray(e[n])){var r=e[n];if("*"===t||t.includes(r[0]))return r}return null}function Ci(e){return 2>e.length?"":"object"==typeof e[1]?e[2]||"":e[1]||""}function Ni(e,t){return Array.isArray(e)?"object"!=typeof(e=e[1])||Array.isArray(e)?null:t in e?e[t]:null:null}function Ti(e,t){return t.reduce(Ei,e)}function Si(e,t){for(var n=[],r=1;r<e.length;++r)if(Array.isArray(e[r])){var i=e[r];"*"!==t&&i[0]!==t||n.push(i)}return n}function Bi(e){return{localName:Ci(e),namespaceURI:Ni(e,"URI"),prefix:Ni(e,"prefix")}}function ki(e){var t=Ei(e,"typeDeclaration");if(!t||Ei(t,"voidSequenceType"))return{type:59,g:2};e={type:function e(n){switch(n[0]){case"documentTest":return 55;case"elementTest":return 54;case"attributeTest":return 47;case"piTest":return 57;case"commentTest":return 58;case"textTest":return 56;case"anyKindTest":return 53;case"anyItemType":return 59;case"anyFunctionTest":case"functionTest":case"typedFunctionTest":return 60;case"anyMapTest":case"typedMapTest":return 61;case"anyArrayTest":case"typedArrayTest":return 62;case"atomicType":return ge([Ni(n,"prefix"),Ci(n)].join(":"));case"parenthesizedItemType":return e(Ei(n,"*"));default:throw Error('Type declaration "'+Ei(t,"*")[0]+'" is not supported.')}}(Ei(t,"*")),g:3};var n=null,r=Ei(t,"occurrenceIndicator");switch(r&&(n=Ci(r)),n){case"*":return e.g=2,e;case"?":return e.g=0,e;case"+":return e.g=1,e;case"":case null:return e}}function Ii(e,t,n){if("object"!=typeof e[1]||Array.isArray(e[1])){var r={};r[t]=n,e.splice(1,0,r)}else e[1][t]=n}function Pi(e,t,n){return(e<<20)+(t<<12)+(n.charCodeAt(0)<<8)+n.charCodeAt(1)}ii.prototype.za=function(e,t,n){return function(e,t,n){var r=Wr[e+":"+t];return r&&(r=r.find((function(e){return e.l.some((function(e){return 4===e}))?e.l.length-1<=n:e.l.length===n})))?{l:r.l,arity:n,m:r.m,I:r.I,localName:t,namespaceURI:e,i:r.i}:null}(e,t,n)},ii.prototype.qb=function(e,t){return e?null:(e=this.ha[t],this.s[t]||(this.s[t]={name:t}),e)},ii.prototype.Ra=function(e,t){var n=this.u(e,t);if(n)this.j.push({Bc:e,arity:t,Hb:n});else if(""===e.prefix){if(this.A)return{namespaceURI:this.A,localName:e.localName}}else if(t=this.ba(e.prefix,!0))return{namespaceURI:t,localName:e.localName};return n},ii.prototype.ba=function(e,t){return void 0===t||t?ri[e]?ri[e]:(t=this.O(e),this.h[e]||(this.h[e]={namespaceURI:t,prefix:e}),void 0!==t||e?t:null):null},gi.prototype.za=function(e,t,n,r){r=void 0!==r&&r;var i=this.u[fi(e,t)+"~"+n];return!i||r&&i.Bb?null===this.s?null:this.s.za(e,t,n,r):i},gi.prototype.qb=function(e,t){var n=mi(this.Ca,fi(e,t));return n||(null===this.s?null:this.s.qb(e,t))},gi.prototype.Ra=function(e,t){var n=e.prefix,r=e.localName;return""===n&&this.A?{localName:r,namespaceURI:this.A}:n&&(n=this.ba(n,!1))?{localName:r,namespaceURI:n}:null===this.s?null:this.s.Ra(e,t)},gi.prototype.ba=function(e,t){var n=mi(this.j,e||"");return void 0===n?null===this.s?void 0:this.s.ba(e||"",void 0===t||t):n};var Oi={},Ri=(Oi[Pi(2,2,"idivOp")]=5,Oi[Pi(16,16,"addOp")]=16,Oi[Pi(16,16,"subtractOp")]=16,Oi[Pi(16,16,"divOp")]=4,Oi[Pi(16,2,"multiplyOp")]=16,Oi[Pi(16,2,"divOp")]=16,Oi[Pi(2,16,"multiplyOp")]=16,Oi[Pi(17,17,"addOp")]=17,Oi[Pi(17,17,"subtractOp")]=17,Oi[Pi(17,17,"divOp")]=4,Oi[Pi(17,2,"multiplyOp")]=17,Oi[Pi(17,2,"divOp")]=17,Oi[Pi(2,17,"multiplyOp")]=17,Oi[Pi(9,9,"subtractOp")]=17,Oi[Pi(7,7,"subtractOp")]=17,Oi[Pi(8,8,"subtractOp")]=17,Oi[Pi(9,16,"addOp")]=9,Oi[Pi(9,16,"subtractOp")]=9,Oi[Pi(9,17,"addOp")]=9,Oi[Pi(9,17,"subtractOp")]=9,Oi[Pi(7,16,"addOp")]=7,Oi[Pi(7,16,"subtractOp")]=7,Oi[Pi(7,17,"addOp")]=7,Oi[Pi(7,17,"subtractOp")]=7,Oi[Pi(8,17,"addOp")]=8,Oi[Pi(8,17,"subtractOp")]=8,Oi[Pi(9,16,"addOp")]=9,Oi[Pi(9,16,"subtractOp")]=9,Oi[Pi(9,17,"addOp")]=9,Oi[Pi(9,17,"subtractOp")]=9,Oi[Pi(7,17,"addOp")]=7,Oi[Pi(7,17,"subtractOp")]=7,Oi[Pi(7,16,"addOp")]=7,Oi[Pi(7,16,"subtractOp")]=7,Oi[Pi(8,17,"addOp")]=8,Oi[Pi(8,17,"subtractOp")]=8,Oi),Di={},Mi=(Di[Pi(2,2,"addOp")]=function(e,t){return e+t},Di[Pi(2,2,"subtractOp")]=function(e,t){return e-t},Di[Pi(2,2,"multiplyOp")]=function(e,t){return e*t},Di[Pi(2,2,"divOp")]=function(e,t){return e/t},Di[Pi(2,2,"modOp")]=function(e,t){return e%t},Di[Pi(2,2,"idivOp")]=function(e,t){return Math.trunc(e/t)},Di[Pi(16,16,"addOp")]=function(e,t){return new Ht(e.ga+t.ga)},Di[Pi(16,16,"subtractOp")]=function(e,t){return new Ht(e.ga-t.ga)},Di[Pi(16,16,"divOp")]=function(e,t){return e.ga/t.ga},Di[Pi(16,2,"multiplyOp")]=jt,Di[Pi(16,2,"divOp")]=function(e,t){if(isNaN(t))throw Error("FOCA0005: Cannot divide xs:yearMonthDuration by NaN");if((e=Math.round(e.ga/t))>Number.MAX_SAFE_INTEGER||!Number.isFinite(e))throw Error("FODT0002: Value overflow while dividing xs:yearMonthDuration");return new Ht(e<Number.MIN_SAFE_INTEGER||0===e?0:e)},Di[Pi(2,16,"multiplyOp")]=function(e,t){return jt(t,e)},Di[Pi(17,17,"addOp")]=function(e,t){return new Ke(e.ea+t.ea)},Di[Pi(17,17,"subtractOp")]=function(e,t){return new Ke(e.ea-t.ea)},Di[Pi(17,17,"divOp")]=function(e,t){if(0===t.ea)throw Error("FOAR0001: Division by 0");return e.ea/t.ea},Di[Pi(17,2,"multiplyOp")]=et,Di[Pi(17,2,"divOp")]=function(e,t){if(isNaN(t))throw Error("FOCA0005: Cannot divide xs:dayTimeDuration by NaN");if((e=e.ea/t)>Number.MAX_SAFE_INTEGER||!Number.isFinite(e))throw Error("FODT0002: Value overflow while dividing xs:dayTimeDuration");return new Ke(e<Number.MIN_SAFE_INTEGER||Object.is(-0,e)?0:e)},Di[Pi(2,17,"multiplyOp")]=function(e,t){return et(t,e)},Di[Pi(9,9,"subtractOp")]=ht,Di[Pi(7,7,"subtractOp")]=ht,Di[Pi(8,8,"subtractOp")]=ht,Di[Pi(9,16,"addOp")]=dt,Di[Pi(9,16,"subtractOp")]=ft,Di[Pi(9,17,"addOp")]=dt,Di[Pi(9,17,"subtractOp")]=ft,Di[Pi(7,16,"addOp")]=dt,Di[Pi(7,16,"subtractOp")]=ft,Di[Pi(7,17,"addOp")]=dt,Di[Pi(7,17,"subtractOp")]=ft,Di[Pi(8,17,"addOp")]=dt,Di[Pi(8,17,"subtractOp")]=ft,Di[Pi(9,16,"addOp")]=dt,Di[Pi(9,16,"subtractOp")]=ft,Di[Pi(9,17,"addOp")]=dt,Di[Pi(9,17,"subtractOp")]=ft,Di[Pi(7,17,"addOp")]=dt,Di[Pi(7,17,"subtractOp")]=ft,Di[Pi(7,16,"addOp")]=dt,Di[Pi(7,16,"subtractOp")]=ft,Di[Pi(8,17,"addOp")]=dt,Di[Pi(8,17,"subtractOp")]=ft,Di);function Fi(e,t){return ee(e,5)&&ee(t,5)?5:ee(e,4)&&ee(t,4)?4:ee(e,6)&&ee(t,6)?6:3}var Ui=[2,16,17,9,7,8];function Hi(e,t,n){function r(e,t){return{V:i?i(e):e,W:a?a(t):t}}var i=null,a=null;ee(t,19)&&(i=function(e){return Qt(e,3)},t=3),ee(n,19)&&(a=function(e){return Qt(e,3)},n=3);var o=Ui.filter((function(e){return ee(t,e)})),s=Ui.filter((function(e){return ee(n,e)}));if(o.includes(2)&&s.includes(2)){var l=Mi[Pi(2,2,e)],c=Ri[Pi(2,2,e)];return c||(c=Fi(t,n)),"divOp"===e&&5===c&&(c=4),"idivOp"===e?Li(r,l)[0]:function(e,t){return e=r(e,t),q(l(e.V.value,e.W.value),c)}}for(var p=(o=u(o)).next();!p.done;p=o.next()){p=p.value;for(var h={},d=u(s),f=d.next();!f.done;h={ib:h.ib,lb:h.lb},f=d.next())if(f=f.value,h.ib=Mi[Pi(p,f,e)],h.lb=Ri[Pi(p,f,e)],h.ib&&void 0!==h.lb)return function(e){return function(t,n){return t=r(t,n),q(e.ib(t.V.value,t.W.value),e.lb)}}(h)}}function Li(e,t){return[function(n,r){if(n=(r=e(n,r)).V,0===(r=r.W).value)throw Error("FOAR0001: Divisor of idiv operator cannot be (-)0");if(Number.isNaN(n.value)||Number.isNaN(r.value)||!Number.isFinite(n.value))throw Error("FOAR0002: One of the operands of idiv is NaN or the first operand is (-)INF");return Number.isFinite(n.value)&&!Number.isFinite(r.value)?q(0,5):q(t(n.value,r.value),5)},5]}var Gi=Object.create(null);function ji(e,t,n,r,i){sr.call(this,t.s.add(n.s),[t,n],{C:!1},!1,r),this.B=t,this.J=n,this.j=e,this.u=i}function $i(e,t,n){var r=Bi(Ti(e,["forClauseItem","typedVariableBinding","varName"]));(e=Ti(e,["forClauseItem","forExpr","sequenceExpr"]))&&(e=Si(e,"*").map((function(e){return n(e,t)})),e.includes(void 0)||e.includes(null)||1===(e=Xi(e)).length&&na(t,r.localName,e[0]))}function Xi(e){return e.filter((function(e,t,n){return n.findIndex((function(t){return t.type===e.type&&t.g===e.g}))===t}))}function zi(e,t,n){var r=Si(e,"*"),i=Ei(e,"atomicType");if(!i)return{type:59,g:2};if(ge(Ni(i,"prefix")+":"+i[2])===t.type)if(1===r.length){if(3===t.g)return n}else if(e=Ei(e,"occurrenceIndicator")[1],t.g===function(e){switch(e){case"*":return 2;case"?":return 0;case"+":return 1;default:return 3}}(e))return n}function qi(e,t){Vi(e,t)}function Vi(e,t){var n=ea.get(e[0]);if(n)return n(e,t);for(n=1;n<e.length;n++)e[n]&&Vi(e[n],t)}function Yi(e,t){var n=Vi(Ei(e,"firstOperand")[1],t),r=Vi(Ei(e,"secondOperand")[1],t),i=e[0];if(n&&r){if(!(t=function(e,t,n){var r=[2,53,59,46,47];if(r.includes(t)||r.includes(n))return 2;var i=null,a=null;ee(t,19)&&(i=function(e){return Qt(e,3)},t=3),ee(n,19)&&(a=function(e){return Qt(e,3)},n=3);var o=Ui.filter((function(e){return ee(t,e)}));if(r=Ui.filter((function(e){return ee(n,e)})),o.includes(2)&&r.includes(2))return void 0===(r=Ri[Pi(2,2,e)])&&(r=Fi(t,n)),"divOp"===e&&5===r&&(r=4),"idivOp"===e?Li((function(e,t){return{V:i?i(e):e,W:a?a(t):t}}),(function(e,t){return Math.trunc(e/t)}))[1]:r;for(var s=(o=u(o)).next();!s.done;s=o.next()){s=s.value;for(var l=u(r),c=l.next();!c.done;c=l.next())if(void 0!==(c=Ri[Pi(s,c.value,e)]))return c}}(i,n.type,r.type)))throw Error("XPTY0004: "+i+" not available for types "+me(n)+" and "+me(r));n={type:t,g:n.g},2!==t&&59!==t&&Ii(e,"type",n),e=n}else e={type:2,g:3};return e}function Ki(e,t){Vi(Ei(e,"firstOperand")[1],t),Vi(Ei(e,"secondOperand")[1],t);e:{switch(e[0]){case"orOp":case"andOp":Ii(e,"type",t={type:0,g:3}),e=t;break e}e=void 0}return e}function Ji(e,t){Vi(Ei(e,"firstOperand")[1],t),Vi(Ei(e,"secondOperand")[1],t);e:{switch(e[0]){case"unionOp":case"intersectOp":case"exceptOp":Ii(e,"type",t={type:53,g:2}),e=t;break e}e=void 0}return e}function Qi(e,t){return Vi(Ei(e,"firstOperand")[1],t),Vi(Ei(e,"secondOperand")[1],t),Ii(e,"type",t={type:0,g:3}),t}function Wi(e,t){return Vi(Ei(e,"firstOperand")[1],t),Vi(Ei(e,"secondOperand")[1],t),Ii(e,"type",t={type:0,g:3}),t}function Zi(e,t){return Vi(Ei(e,"firstOperand")[1],t),Vi(Ei(e,"secondOperand")[1],t),Ii(e,"type",t={type:0,g:3}),t}y(ji,sr),ji.prototype.h=function(e,t){var n=this;return Ot(lr(this.B,e,t),t).L((function(r){return 0===r.length?ue.empty():Ot(lr(n.J,e,t),t).L((function(e){if(0===e.length)return ue.empty();if(1<r.length||1<e.length)throw Error('XPTY0004: the operands of the "'+n.j+'" operator should be empty or singleton.');var t=r[0];if(e=e[0],n.u&&n.type)return ue.o(n.u(t,e));var i=t.type,a=e.type,o=n.j,s=i+"~"+a+"~"+o,l=Gi[s];if(l||(l=Gi[s]=Hi(o,i,a)),!(i=l))throw Error("XPTY0004: "+n.j+" not available for types "+de[t.type]+" and "+de[e.type]);return ue.o(i(t,e))}))}))};var ea=new Map([["unaryMinusOp",function(e,t){return(t=Vi(Ei(e,"operand")[1],t))?ee(t.type,2)?(Ii(e,"type",t={type:t.type,g:t.g}),e=t):(Ii(e,"type",t={type:3,g:3}),e=t):(Ii(e,"type",t={type:2,g:2}),e=t),e}],["unaryPlusOp",function(e,t){return(t=Vi(Ei(e,"operand")[1],t))?ee(t.type,2)?(Ii(e,"type",t={type:t.type,g:t.g}),e=t):(Ii(e,"type",t={type:3,g:3}),e=t):(Ii(e,"type",t={type:2,g:2}),e=t),e}],["addOp",Yi],["subtractOp",Yi],["divOp",Yi],["idivOp",Yi],["modOp",Yi],["multiplyOp",Yi],["andOp",Ki],["orOp",Ki],["sequenceExpr",function(e,t){var n=Si(e,"*"),r=n.map((function(e){return Vi(e,t)}));return function(e,t,n){return t=0===t?{type:53,g:2}:n.includes(void 0)||n.includes(null)||1<(t=Xi(n)).length?{type:59,g:2}:{type:t[0].type,g:2},t&&59!==t.type&&Ii(e,"type",t),t}(e,n.length,r)}],["unionOp",Ji],["intersectOp",Ji],["exceptOp",Ji],["stringConcatenateOp",function(e,t){return Vi(Ei(e,"firstOperand")[1],t),Vi(Ei(e,"secondOperand")[1],t),Ii(e,"type",t={type:1,g:3}),t}],["rangeSequenceExpr",function(e,t){return Vi(Ei(e,"startExpr")[1],t),Vi(Ei(e,"endExpr")[1],t),Ii(e,"type",t={type:5,g:1}),t}],["equalOp",Qi],["notEqualOp",Qi],["lessThanOrEqualOp",Qi],["lessThanOp",Qi],["greaterThanOrEqualOp",Qi],["greaterThanOp",Qi],["eqOp",Wi],["neOp",Wi],["ltOp",Wi],["leOp",Wi],["gtOp",Wi],["geOp",Wi],["isOp",Zi],["nodeBeforeOp",Zi],["nodeAfterOp",Zi],["pathExpr",function(e,t){var n=Ei(e,"rootExpr");return n&&n[1]&&Vi(n[1],t),Si(e,"stepExpr").map((function(e){return Vi(e,t)})),function(e,t){var n=Si(e,"stepExpr");if(!n)return{type:59,g:2};for(var r=(n=u(n)).next();!r.done;r=n.next()){var i=r.value;r=void 0;var a=t;if(i){for(var o=Si(i,"*"),s="",l=(o=u(o)).next();!l.done;l=o.next())switch(l=l.value,l[0]){case"filterExpr":r=Ni(Ti(l,["*"]),"type");break;case"xpathAxis":e:{switch(s=l[1]){case"attribute":r={type:47,g:2};break e;case"child":case"decendant":case"self":case"descendant-or-self":case"following-sibling":case"following":case"namespace":case"parent":case"ancestor":case"preceding-sibling":case"preceding":case"ancestor-or-self":r={type:53,g:2};break e}r=void 0}break;case"nameTest":var c=Bi(l);null!==c.namespaceURI||"attribute"===s&&!c.prefix||void 0!==(c=a.ba(c.prefix||""))&&Ii(l,"URI",c)}r&&59!==r.type&&Ii(i,"type",r)}i=Ni(i,"type")}return i&&59!==i.type&&Ii(e,"type",i),i}(e,t)}],["contextItemExpr",function(){return{type:59,g:2}}],["ifThenElseExpr",function(e,t){Vi(Ei(Ei(e,"ifClause"),"*"),t);var n=Vi(Ei(Ei(e,"thenClause"),"*"),t);return t=Vi(Ei(Ei(e,"elseClause"),"*"),t),n&&t&&n.type===t.type&&n.g===t.g?(59!==n.type&&Ii(e,"type",n),e=n):e={type:59,g:2},e}],["instanceOfExpr",function(e,t){return Vi(Ei(e,"argExpr"),t),Vi(Ei(e,"sequenceType"),t),Ii(e,"type",t={type:0,g:3}),t}],["integerConstantExpr",function(e){var t={type:5,g:3};return Ii(e,"type",t),t}],["doubleConstantExpr",function(e){var t={type:3,g:3};return Ii(e,"type",t),t}],["decimalConstantExpr",function(e){var t={type:4,g:3};return Ii(e,"type",t),t}],["stringConstantExpr",function(e){var t={type:1,g:3};return Ii(e,"type",t),t}],["functionCallExpr",function(e,t){return Si(Ei(e,"arguments"),"*").map((function(e){return Vi(e,t)})),function(e,t){if(!t||!t.ia)return{type:59,g:2};var n=Ei(e,"functionName"),r=Bi(n),i=r.localName,a=r.prefix,o=r.namespaceURI;if(r=Si(Ei(e,"arguments"),"*"),null===o){if(!(a=t.ia.Ra({localName:i,prefix:a},r.length)))return{type:59,g:2};i=a.localName,Ii(n,"URI",o=a.namespaceURI),n[2]=i}return(t=t.ia.za(o,i,r.length))&&63!==t.i.type?(59!==t.i.type&&Ii(e,"type",t.i),t.i):{type:59,g:2}}(e,t)}],["arrowExpr",function(e,t){return Vi(Ei(e,"argExpr")[1],t),function(e,t){if(!t||!t.ia)return{type:59,g:2};var n=Ei(e,"EQName");if(!n)return{type:59,g:2};var r=Bi(n);n=r.localName;var i=r.prefix;return r=Si(Ei(e,"arguments"),"*"),(n=t.ia.Ra({localName:n,prefix:i},r.length))&&(t=t.ia.za(n.namespaceURI,n.localName,r.length+1))?(59!==t.i.type&&Ii(e,"type",t.i),t.i):{type:59,g:2}}(e,t)}],["dynamicFunctionInvocationExpr",function(e,t){return Vi(Ti(e,["functionItem","*"]),t),(e=Ei(e,"arguments"))&&Vi(e,t),{type:59,g:2}}],["namedFunctionRef",function(e,t){return function(e,t){if(!t||!t.ia)return{type:59,g:2};var n=Ei(e,"functionName"),r=Bi(n),i=r.localName,a=r.namespaceURI,o=r.prefix;if(r=Number(Ti(e,["integerConstantExpr","value"])[1]),!a){if(!(a=t.ia.Ra({localName:i,prefix:o},r)))return{type:59,g:2};i=a.localName,Ii(n,"URI",a=a.namespaceURI)}return(t=t.ia.za(a,i,r)||null)?(59!==t.i.type&&63!==t.i.type&&Ii(e,"type",t.i),t.i):{type:59,g:2}}(e,t)}],["inlineFunctionExpr",function(e,t){return Vi(Ei(e,"functionBody")[1],t),Ii(e,"type",t={type:60,g:3}),t}],["castExpr",function(e){var t=Ti(e,["singleType","atomicType"]);return 59!==(t={type:ge(Ni(t,"prefix")+":"+t[2]),g:3}).type&&Ii(e,"type",t),t}],["castableExpr",function(e){var t={type:0,g:3};return Ii(e,"type",t),t}],["simpleMapExpr",function(e,t){for(var n,r=Si(e,"pathExpr"),i=0;i<r.length;i++)n=Vi(r[i],t);return null!=n?(59!==(t={type:n.type,g:2}).type&&Ii(e,"type",t),e=t):e={type:59,g:2},e}],["mapConstructor",function(e,t){return Si(e,"mapConstructorEntry").map((function(e){return{key:Vi(Ti(e,["mapKeyExpr","*"]),t),value:Vi(Ti(e,["mapValueExpr","*"]),t)}})),function(e){var t={type:61,g:3};return Ii(e,"type",t),t}(e)}],["arrayConstructor",function(e,t){return Si(Ei(e,"*"),"arrayElem").map((function(e){return Vi(e,t)})),function(e){var t={type:62,g:3};return Ii(e,"type",t),t}(e)}],["unaryLookup",function(e){return Ei(e,"NCName"),{type:59,g:2}}],["typeswitchExpr",function(e,t){var n=Vi(Ei(e,"argExpr")[1],t),r=Si(e,"typeswitchExprCaseClause").map((function(e){return Vi(Ti(e,["resultExpr"])[1],t)}));return function(e,t,n,r){if(!t||n.includes(void 0))return{type:59,g:2};for(var i=Si(e,"typeswitchExprCaseClause"),a=0;a<n.length;a++){var o=Ei(i[a],"*");switch(o[0]){case"sequenceType":if(o=zi(o,t,n[a]))return 59!==o.type&&Ii(e,"type",o),o;continue;case"sequenceTypeUnion":for(r=Si(o,"*"),i=0;2>i;i++)if(o=zi(r[i],t,n[a]))return 59!==o.type&&Ii(e,"type",o),o;default:return{type:59,g:2}}}return 59!==r.type&&Ii(e,"type",r),r}(e,n,r,Vi(Ti(e,["typeswitchExprDefaultClause","resultExpr"])[1],t))}],["quantifiedExpr",function(e,t){return Si(e,"*").map((function(e){return Vi(e,t)})),function(e){var t={type:0,g:3};return Ii(e,"type",t),t}(e)}],["x:stackTrace",function(e,t){return Vi((e=Si(e,"*"))[0],t)}],["queryBody",function(e,t){return Vi(e[1],t)}],["flworExpr",function(e,t){return function(e,t){for(var n=Vi,r=!1,i=1;i<e.length;i++)switch(e[i][0]){case"letClause":ra(t);var a=e[i],o=t,s=n,l=Ti(a,["letClauseItem","typedVariableBinding","varName"]);l=Bi(l),s=s((a=Ti(a,["letClauseItem","letExpr"]))[1],o),na(o,l.localName,s);break;case"forClause":r=!0,ra(t),$i(e[i],t,n);break;case"whereClause":ra(t),n(o=e[i],t),Ii(o,"type",{type:0,g:3});break;case"orderByClause":ra(t);break;case"returnClause":return o=n,Ii(n=Ti(i=e[i],["*"]),"type",t=o(n,t)),Ii(i,"type",t),(n=t)?(r&&(n={type:n.type,g:2}),59!==n.type&&Ii(e,"type",n),n):{type:59,g:2};default:return(n=n(e[i],t))?(r&&(n={type:n.type,g:2}),59!==n.type&&Ii(e,"type",n),n):{type:59,g:2}}if(!(0<t.h))throw Error("Variable scope out of bound");t.h--,t.s.pop(),t.A.pop()}(e,t)}],["varRef",function(e,t){var n,r=Bi(Ei(e,"name"));e:{for(n=t.h;0<=n;n--){var i=t.s[n][r.localName];if(i){n=i;break e}}n=void 0}return n&&59!==n.type&&Ii(e,"type",n),null===r.namespaceURI&&(void 0!==(t=t.ba(r.prefix))&&Ii(e,"URI",t)),n}]]);function ta(e){this.h=0,this.ia=e,this.s=[{}],this.A=[{}]}function na(e,t,n){if(e.s[e.h][t])throw Error("Another variable of in the scope "+e.h+" with the same name "+t+" already exists");e.s[e.h][t]=n}function ra(e){e.h++,e.s.push({}),e.A.push({})}function ia(e,t){var n={};sr.call(this,new xr((n.external=1,n)),e,{C:e.every((function(e){return e.C}))},!1,t),this.j=e}function aa(e,t){var n={};sr.call(this,new xr((n.external=1,n)),e,{C:e.every((function(e){return e.C}))},!1,t),this.j=e}function oa(e){if(null===e)throw Error("XPDY0002: context is absent, it needs to be present to use axes.");if(!ee(e.type,53))throw Error("XPTY0020: Axes can only be applied to nodes.");return e.value}function sa(e,t){t=t||{Oa:!1},sr.call(this,e.s,[e],{S:"reverse-sorted",Y:!1,subtree:!1,C:!1}),this.j=e,this.u=!!t.Oa}ta.prototype.ba=function(e){for(var t=this.h;0<=t;t--){var n=this.A[t][e];if(void 0!==n)return n}return this.ia?this.ia.ba(e):void 0},y(ia,sr),ia.prototype.h=function(e,t){return 0===this.j.length?ue.o(new Le([])):lr(this.j[0],e,t).L((function(e){return ue.o(new Le(e.map((function(e){return ce(ue.o(e))}))))}))},y(aa,sr),aa.prototype.h=function(e,t){return ue.o(new Le(this.j.map((function(n){return ce(lr(n,e,t))}))))},y(sa,sr),sa.prototype.h=function(e,t){var n=this;t=t.h,e=oa(e.N);var r=this.j.A();return r=r&&(r.startsWith("name-")||"type-1"===r)?"type-1":null,ue.create(function(e,t,n){var r=t;return{next:function(){if(!r)return Q;var t=r;return r=Fe(e,t,n),W(je(t))}}}(t,this.u?e:Fe(t,e,r),r)).filter((function(e){return n.j.j(e)}))};var la=new Map([["type-1-or-type-2",["name","type-1","type-2"]],["type-1",["name"]],["type-2",["name"]]]);function ua(e,t){if(null===e)return t;if(null===t||e===t)return e;var n=e.startsWith("name-")?"name":e,r=t.startsWith("name-")?"name":t,i=la.get(n);return void 0!==i&&i.includes(r)?t:void 0!==(t=la.get(r))&&t.includes(n)?e:"empty"}function ca(e,t){var n={};sr.call(this,new xr((n.attribute=1,n)),[e],{S:"unsorted",subtree:!0,Y:!0,C:!1}),this.j=e,this.u=ua(this.j.A(),t)}function pa(e,t){sr.call(this,e.s,[e],{S:"sorted",subtree:!0,Y:!0,C:!1}),this.u=e,this.j=ua(t,e.A())}function ha(e,t,n){var r=t.node.nodeType;if(1!==r&&9!==r)return{next:function(){return Q}};var i=Re(e,t,n);return{next:function(){if(!i)return Q;var t=i;return i=Me(e,i,n),W(t)}}}function da(e,t){t=t||{Oa:!1},sr.call(this,e.s,[e],{C:!1,Y:!1,S:"sorted",subtree:!0}),this.j=e,this.u=!!t.Oa,this.B=(e=this.j.A())&&(e.startsWith("name-")||"type-1"===e)?"type-1":null}function fa(e,t,n){var r=e.node.nodeType;if(1!==r&&9!==r)return e;for(r=De(t,e,n);null!==r;){if(1!==r.node.nodeType)return r;r=De(t,e=r,n)}return e}function ma(e,t,n,r){if(void 0!==n&&n){var i=t,a=!1;return{next:function(){if(a)return Q;if(en(i,t))return en(i=fa(t,e,r),t)?(a=!0,Q):W(je(i));var n=i.node.nodeType,o=9===n||2===n?null:Ue(e,i,r);return null!==o?W(je(i=fa(o,e,r))):en(i=9===n?null:Fe(e,i,r),t)?(a=!0,Q):W(je(i))}}}var o=[ha(e,t,r)];return{next:function(){if(!o.length)return Q;for(var t=o[0].next(0);t.done;){if(o.shift(),!o.length)return Q;t=o[0].next(0)}return o.unshift(ha(e,t.value,r)),W(je(t.value))}}}function ga(e){sr.call(this,e.s,[e],{S:"sorted",Y:!0,subtree:!1,C:!1}),this.j=e,this.u=(e=this.j.A())&&(e.startsWith("name-")||"type-1"===e)?"type-1":null}function ya(e,t){sr.call(this,e.s,[e],{S:"sorted",Y:!0,subtree:!1,C:!1}),this.j=e,this.u=ua(this.j.A(),t)}function va(e,t){sr.call(this,e.s,[e],{S:"reverse-sorted",Y:!0,subtree:!0,C:!1}),this.j=e,this.u=ua(t,this.j.A())}function wa(e){sr.call(this,e.s,[e],{C:!1,Y:!0,S:"reverse-sorted",subtree:!1}),this.j=e,this.u=(e=this.j.A())&&(e.startsWith("name-")||"type-1"===e)?"type-1":null}function ba(e,t){sr.call(this,e.s,[e],{C:!1,Y:!0,S:"reverse-sorted",subtree:!1}),this.j=e,this.u=ua(this.j.A(),t)}function xa(e,t){sr.call(this,e.s,[e],{S:"sorted",subtree:!0,Y:!0,C:!1}),this.j=e,this.u=ua(this.j.A(),t)}function _a(e,t,n,r){var i=e.s.add(t.s).add(n.s);vr.call(this,i,[e,t,n],{C:e.C&&t.C&&n.C,Y:t.Y===n.Y&&t.Y,S:t.O===n.O?t.O:"unsorted",subtree:t.subtree===n.subtree&&t.subtree},r),this.j=e}function Aa(e,t,n){this.location=e,this.s=t,this.h=n}function Ea(e){return e.h instanceof Error?e.location:Ea(e.h)}function Ca(e){var t=e.h instanceof Jr?["Inner error:",e.h.message]:e.h instanceof Error?[e.h.toString()]:Ca(e.h);return t.push("  at <"+e.s+">:"+e.location.start.line+":"+e.location.start.la+" - "+e.location.end.line+":"+e.location.end.la),t}function Na(e,t,n){vr.call(this,n.s,[n],{C:n.C,Y:n.Y,S:n.O,subtree:n.subtree}),this.j=t,this.J={end:{la:e.end.la,line:e.end.line,offset:e.end.offset},start:{la:e.start.la,line:e.start.line,offset:e.start.offset}}}function Ta(e,t,n,r){sr.call(this,e,t,n,!0),this.j=r,this.I=this.j.I}function Sa(e,t,n,r){var i=[],a=e.J(t,n,r,(function(n){if(e.j instanceof Ta)return yr(Sa(e.j,t,n,r),(function(e){return i=e}));var a=null;return ue.create({next:function(){for(;;){if(!a){var t=n.next(0);if(t.done)return Q;t=e.j.u(t.value,r),a=yr(t,(function(e){return i=fr(i,e)})).value}if(!(t=a.next(0)).done)return t;a=null}}})})),o=!1;return{next:function(){if(o)return Q;var e=a.M();return o=!0,W(new ur(e,i))}}}function Ba(e,t,n,r){return e.J(t,n,r,(function(n){if(e.j instanceof Ta)return Ba(e.j,t,n,r);var i=null;return ue.create({next:function(){for(;;){if(!i){var t=n.next(0);if(t.done)return Q;i=lr(e.j,t.value,r).value}if(!(t=i.next(0)).done)return t;i=null}}})}))}function ka(e,t,n,r){Ta.call(this,t.s.add(r.s),[t,r],{C:!1},r),this.T=e.prefix,this.ka=e.namespaceURI,this.$b=e.localName,this.mb=null,this.B=n,this.ua=null,this.na=t}function Ia(e,t,n){var r={};sr.call(this,new xr((r.external=1,r)),[n],{C:!1,S:"unsorted"}),this.T=e.map((function(e){return e.name})),this.B=e.map((function(e){return e.type})),this.u=null,this.J=t,this.j=n}function Pa(e,t,n){if(Ta.call(this,t.s.add(n.s),[t,n],{C:!1,Y:n.Y,S:n.O,subtree:n.subtree},n),e.prefix||e.namespaceURI)throw Error("Not implemented: let expressions with namespace usage.");this.B=e.prefix,this.T=e.namespaceURI,this.ua=e.localName,this.ka=t,this.na=null}function Oa(e,t){switch(sr.call(this,new xr({}),[],{C:!0,S:"sorted"},!1,t),t.type){case 5:var n=q(parseInt(e,10),t.type);break;case 1:n=q(e,t.type);break;case 4:case 3:n=q(parseFloat(e),t.type);break;default:throw new TypeError("Type "+t+" not expected in a literal")}this.j=function(){return ue.o(n)}}function Ra(e,t){var n={};sr.call(this,new xr((n.external=1,n)),e.reduce((function(e,t){return e.concat(t.key,t.value)}),[]),{C:!1},!1,t),this.j=e}function Da(e,t,n){var r={};sr.call(this,new xr((r.external=1,r)),[],{C:!0},!1,n),this.u=t,this.B=e,this.j=null}y(ca,sr),ca.prototype.h=function(e,t){var n=this;return t=t.h,1!==(e=oa(e.N)).node.nodeType?ue.empty():(e=ke(t,e,this.u).filter((function(e){return"http://www.w3.org/2000/xmlns/"!==e.node.namespaceURI})).map((function(e){return je(e)})).filter((function(e){return n.j.j(e)})),ue.create(e))},ca.prototype.A=function(){return"type-1"},y(pa,sr),pa.prototype.h=function(e,t){var n=this,r=t.h,i=oa(e.N);if(1!==(e=i.node.nodeType)&&9!==e)return ue.empty();var a=null,o=!1;return ue.create({next:function(){for(;!o;){if(!a){if(!(a=Re(r,i,n.j))){o=!0;continue}return W(je(a))}if(a=Me(r,a,n.j))return W(je(a));o=!0}return Q}}).filter((function(e){return n.u.j(e)}))},y(da,sr),da.prototype.h=function(e,t){var n=this;return e=function(e,t,n){var r=[Wt(t)];return{next:function(t){if(0<r.length&&0!=(1&t)&&r.shift(),!r.length)return Q;for(t=r[0].next(0);t.done;){if(r.shift(),!r.length)return Q;t=r[0].next(0)}return r.unshift(ha(e,t.value,n)),W(je(t.value))}}}(t=t.h,e=oa(e.N),this.B),this.u||e.next(0),ue.create(e).filter((function(e){return n.j.j(e)}))},y(ga,sr),ga.prototype.h=function(e,t){var n=this;return t=t.h,e=oa(e.N),ue.create(function(e,t,n){for(var r=[];t&&9!==t.node.nodeType;t=Fe(e,t,null)){var i=Me(e,t,n);i&&r.push(i)}var a=null;return{next:function(){for(;a||r.length;){if(!a){a=ma(e,r[0],!1,n);var t=W(je(r[0])),i=Me(e,r[0],n);return i?r[0]=i:r.shift(),t}if(!(t=a.next(0)).done)return t;a=null}return Q}}}(t,e,this.u)).filter((function(e){return n.j.j(e)}))},y(ya,sr),ya.prototype.h=function(e,t){var n=this;return t=t.h,e=oa(e.N),ue.create(function(e,t,n){return{next:function(){return(t=t&&Me(e,t,n))?W(je(t)):Q}}}(t,e,this.u)).filter((function(e){return n.j.j(e)}))},y(va,sr),va.prototype.h=function(e,t){return(e=Fe(t=t.h,e=oa(e.N),this.u))?(e=je(e),this.j.j(e)?ue.o(e):ue.empty()):ue.empty()},y(wa,sr),wa.prototype.h=function(e,t){var n=this;return t=t.h,e=oa(e.N),ue.create(function(e,t,n){for(var r=[];t&&9!==t.node.nodeType;t=Fe(e,t,null)){var i=Ue(e,t,n);null!==i&&r.push(i)}var a=null;return{next:function(){for(;a||r.length;){a||(a=ma(e,r[0],!0,n));var t=a.next(0);if(t.done){a=null,t=Ue(e,r[0],n);var i=W(je(r[0]));return null===t?r.shift():r[0]=t,i}return t}return Q}}}(t,e,this.u)).filter((function(e){return n.j.j(e)}))},y(ba,sr),ba.prototype.h=function(e,t){var n=this;return t=t.h,e=oa(e.N),ue.create(function(e,t,n){return{next:function(){return(t=t&&Ue(e,t,n))?W(je(t)):Q}}}(t,e,this.u)).filter((function(e){return n.j.j(e)}))},y(xa,sr),xa.prototype.h=function(e){return oa(e.N),this.j.j(e.N)?ue.o(e.N):ue.empty()},xa.prototype.A=function(){return this.u},y(_a,vr),_a.prototype.B=function(e,t,n){var r=null,i=n[0](e);return ue.create({next:function(t){return r||(r=(i.getEffectiveBooleanValue()?n[1](e):n[2](e)).value),r.next(t)}})},_a.prototype.P=function(e){if(vr.prototype.P.call(this,e),this.j.I)throw Jn()},y(Na,vr),Na.prototype.B=function(e,t,n){var r=this;t=u(n).next().value;try{var i=t(e)}catch(e){throw new Aa(this.J,this.j,e)}return ue.create({next:function(e){try{return i.value.next(e)}catch(e){throw new Aa(r.J,r.j,e)}}})},Na.prototype.P=function(e){try{vr.prototype.P.call(this,e)}catch(e){throw new Aa(this.J,this.j,e)}},y(Ta,sr),Ta.prototype.h=function(e,t){var n=this;return this.J(e,Wt(e),t,(function(r){if(n.j instanceof Ta)return Ba(n.j,e,r,t);var i=null;return ue.create({next:function(e){for(;;){if(!i){var a=r.next(0);if(a.done)return Q;i=lr(n.j,a.value,t).value}if(!(a=i.next(e)).done)return a;i=null}}})}))},Ta.prototype.u=function(e,t){return Sa(this,e,Wt(e),t)},Ta.prototype.P=function(e){sr.prototype.P.call(this,e),this.I=this.j.I;for(var t=(e=u(this.ha)).next();!t.done;t=e.next())if((t=t.value)!==this.j&&t.I)throw Jn()},y(ka,Ta),ka.prototype.J=function(e,t,n,r){var i=this,a=null,o=null,s=0;return r({next:function(){for(var e={};;){if(!a){var r=t.next(0);if(r.done)return Q;o=r.value,s=0,a=lr(i.na,o,n).value}if(e.hb=a.next(0),!e.hb.done)return s++,(r={})[i.mb]=function(e){return function(){return ue.o(e.hb.value)}}(e),e=r,i.ua&&(e[i.ua]=function(){return ue.o(new pe(5,s))}),W(Ct(o,e));a=null,e={hb:e.hb}}}})},ka.prototype.P=function(e){if(this.T&&(this.ka=e.ba(this.T),!this.ka&&this.T))throw Error("XPST0081: Could not resolve namespace for prefix "+this.T+" in a for expression");if(this.na.P(e),vi(e),this.mb=xi(e,this.ka,this.$b),this.B){if(this.B.prefix&&(this.B.namespaceURI=e.ba(this.B.prefix),!this.B.namespaceURI&&this.B.prefix))throw Error("XPST0081: Could not resolve namespace for prefix "+this.T+" in the positionalVariableBinding in a for expression");this.ua=xi(e,this.B.namespaceURI,this.B.localName)}if(this.j.P(e),Ai(e),this.na.I)throw Jn();this.j.I&&(this.I=!0)},y(Ia,sr),Ia.prototype.h=function(e,t){var n=this,r=new we({l:this.B,arity:this.B.length,Pa:!0,I:this.j.I,localName:"dynamic-function",namespaceURI:"",i:this.J,value:function(r,i,a,o){for(var s=[],l=3;l<arguments.length;++l)s[l-3]=arguments[l];return l=Ct(Et(e,-1,null,ue.empty()),n.u.reduce((function(e,t,n){return e[t]=ce(s[n]),e}),Object.create(null))),lr(n.j,l,t)}});return ue.o(r)},Ia.prototype.P=function(e){if(vi(e),this.u=this.T.map((function(t){return xi(e,t.namespaceURI,t.localName)})),this.j.P(e),Ai(e),this.j.I)throw Error("Not implemented: inline functions can not yet be updating.")},y(Pa,Ta),Pa.prototype.J=function(e,t,n,r){var i=this;return r({next:function(){var e=t.next(0);if(e.done)return Q;var r={};return W(e=Ct(e=e.value,(r[i.na]=ce(lr(i.ka,e,n)),r)))}})},Pa.prototype.P=function(e){if(this.B&&(this.T=e.ba(this.B),!this.T&&this.B))throw Error("XPST0081: Could not resolve namespace for prefix "+this.B+" using in a for expression");if(this.ka.P(e),vi(e),this.na=xi(e,this.T,this.ua),this.j.P(e),Ai(e),this.I=this.j.I,this.ka.I)throw Jn()},y(Oa,sr),Oa.prototype.h=function(){return this.j()},y(Ra,sr),Ra.prototype.h=function(e,t){var n=this,r=this.j.map((function(n){return Ot(lr(n.key,e,t),t).$({default:function(){throw Error("XPTY0004: A key of a map should be a single atomizable value.")},o:function(e){return e}})}));return $e(r,(function(r){return ue.o(new qe(r.map((function(r,i){return{key:r,value:ce(lr(n.j[i].value,e,t))}}))))}))},y(Da,sr),Da.prototype.h=function(){var e=new we({l:this.j.l,I:this.j.I,arity:this.u,localName:this.j.localName,namespaceURI:this.j.namespaceURI,i:this.j.i,value:this.j.m});return ue.o(e)},Da.prototype.P=function(e){var t=this.B.namespaceURI,n=this.B.localName,r=this.B.prefix;if(null===t){var i=e.Ra({localName:n,prefix:r},this.u);if(!i)throw Error("XPST0017: The function "+(r?r+":":"")+n+" with arity "+this.u+" could not be resolved. "+ei(n));t=i.namespaceURI,n=i.localName}if(this.j=e.za(t,n,this.u)||null,!this.j)throw e=this.B,Error("XPST0017: Function "+(e.namespaceURI?"Q{"+e.namespaceURI+"}":e.prefix?e.prefix+":":"")+e.localName+" with arity of "+this.u+" not registered. "+ei(n));sr.prototype.P.call(this,e)};var Ma={},Fa=(Ma[5]=5,Ma[27]=5,Ma[28]=5,Ma[31]=5,Ma[32]=5,Ma[33]=5,Ma[34]=5,Ma[30]=5,Ma[36]=5,Ma[35]=5,Ma[38]=5,Ma[37]=5,Ma[29]=5,Ma[4]=4,Ma[6]=6,Ma[3]=3,Ma);function Ua(e,t,n){sr.call(this,t.s,[t],{C:!1},!1,n),this.u=t,this.j=e}function Ha(e,t){sr.call(this,e.reduce((function(e,t){return e.add(t.s)}),new xr({})),e,{C:e.every((function(e){return e.C}))},!1,t),this.j=e,this.u=e.reduce((function(e,t){return ua(e,t.A())}),null)}function La(e,t){var n,r=e.reduce((function(e,t){return 0<_r(e,t.s)?e:t.s}),new xr({}));for(sr.call(this,r,e,{C:e.every((function(e){return e.C}))},!1,t),t=0;t<e.length&&(void 0===n&&(n=e[t].A()),null!==n);++t)if(n!==e[t].A()){n=null;break}this.u=n,this.j=e}function Ga(e,t){var n;return ue.create({next:function(r){for(;;){if(!n){var i=e.value.next(r);if(i.done)return Q;n=Pt(i.value,t)}if(!(i=n.value.next(r)).done)return i;n=null}}})}function ja(e,t,n){function r(e,t){return{V:o?o(e):e,W:s?s(t):t}}function i(e){return ee(t,e)&&ee(n,e)}function a(e){return 0<e.filter((function(e){return ee(t,e)})).length&&0<e.filter((function(e){return ee(n,e)})).length}var o=null,s=null;if(ee(t,19)&&ee(n,19)?t=n=1:ee(t,19)?(o=function(e){return Qt(e,n)},t=n):ee(n,19)&&(s=function(e){return Qt(e,t)},n=t),ee(t,23)&&ee(n,23))return function(e,t){if("eqOp"===e)return function(e,n){return e=(n=t(e,n)).V,n=n.W,e.value.namespaceURI===n.value.namespaceURI&&e.value.localName===n.value.localName};if("neOp"===e)return function(e,n){return e=(n=t(e,n)).V,n=n.W,e.value.namespaceURI!==n.value.namespaceURI||e.value.localName!==n.value.localName};throw Error('XPTY0004: Only the "eq" and "ne" comparison is defined for xs:QName')}(e,r);if(i(0)||a([1,47,61])||a([2,47,61])||i(20)||i(22)||i(21)||a([1,20])){var l=function(e,t){switch(e){case"eqOp":return function(e,n){return(e=t(e,n)).V.value===e.W.value};case"neOp":return function(e,n){return(e=t(e,n)).V.value!==e.W.value};case"ltOp":return function(e,n){return(e=t(e,n)).V.value<e.W.value};case"leOp":return function(e,n){return(e=t(e,n)).V.value<=e.W.value};case"gtOp":return function(e,n){return(e=t(e,n)).V.value>e.W.value};case"geOp":return function(e,n){return(e=t(e,n)).V.value>=e.W.value}}}(e,r);if(void 0!==l)return l}if(i(16)&&(l=function(e,t){switch(e){case"ltOp":return function(e,n){return(e=t(e,n)).V.value.ga<e.W.value.ga};case"leOp":return function(e,n){return e=(n=t(e,n)).V,n=n.W,Ye(e.value,n.value)||e.value.ga<n.value.ga};case"gtOp":return function(e,n){return(e=t(e,n)).V.value.ga>e.W.value.ga};case"geOp":return function(e,n){return e=(n=t(e,n)).V,n=n.W,Ye(e.value,n.value)||e.value.ga>n.value.ga}}}(e,r),void 0!==l)||i(17)&&(l=function(e,t){switch(e){case"eqOp":return function(e,n){return Ye((e=t(e,n)).V.value,e.W.value)};case"ltOp":return function(e,n){return(e=t(e,n)).V.value.ea<e.W.value.ea};case"leOp":return function(e,n){return e=(n=t(e,n)).V,n=n.W,Ye(e.value,n.value)||e.value.ea<n.value.ea};case"gtOp":return function(e,n){return(e=t(e,n)).V.value.ea>e.W.value.ea};case"geOp":return function(e,n){return e=(n=t(e,n)).V,n=n.W,Ye(e.value,n.value)||e.value.ea>n.value.ea}}}(e,r),void 0!==l)||i(18)&&(l=function(e,t){switch(e){case"eqOp":return function(e,n){return Ye((e=t(e,n)).V.value,e.W.value)};case"neOp":return function(e,n){return!Ye((e=t(e,n)).V.value,e.W.value)}}}(e,r),void 0!==l))return l;if((i(9)||i(7)||i(8))&&(l=function(e,t){switch(e){case"eqOp":return function(e,n,r){return pt((e=t(e,n)).V.value,e.W.value,At(r))};case"neOp":return function(e,n,r){return!pt((e=t(e,n)).V.value,e.W.value,At(r))};case"ltOp":return function(e,n,r){return e=t(e,n),r=At(r),0>ct(e.V.value,e.W.value,r)};case"leOp":return function(e,n,r){var i;return e=(n=t(e,n)).V,n=n.W,(i=pt(e.value,n.value,At(r)))||(r=At(r),i=0>ct(e.value,n.value,r)),i};case"gtOp":return function(e,n,r){return e=t(e,n),r=At(r),0<ct(e.V.value,e.W.value,r)};case"geOp":return function(e,n,r){var i;return e=(n=t(e,n)).V,n=n.W,(i=pt(e.value,n.value,At(r)))||(r=At(r),i=0<ct(e.value,n.value,r)),i}}}(e,r),void 0!==l))return l;if((i(11)||i(12)||i(13)||i(14)||i(15))&&(l=function(e,t){switch(e){case"eqOp":return function(e,n,r){return pt((e=t(e,n)).V.value,e.W.value,At(r))};case"neOp":return function(e,n,r){return!pt((e=t(e,n)).V.value,e.W.value,At(r))}}}(e,r),void 0!==l))return l;throw Error("XPTY0004: "+e+" not available for "+de[t]+" and "+de[n])}y(Ua,sr),Ua.prototype.h=function(e,t){var n=this;return Ot(lr(this.u,e,t),t).L((function(e){if(0===e.length)return ue.empty();var t=e[0];if(n.type)return e="+"===n.j?+t.value:-t.value,0===t.type&&(e=Number.NaN),ue.o(q(e,n.type.type));if(1<e.length)throw Error("XPTY0004: The operand to a unary operator must be a sequence with a length less than one");return ee(t.type,19)?(t=Qt(t,3).value,ue.o(q("+"===n.j?t:-t,3))):ee(t.type,2)?"+"===n.j?ue.o(t):ue.o(q(-1*t.value,Fa[t.type])):ue.o(q(Number.NaN,3))}))},y(Ha,sr),Ha.prototype.h=function(e,t){var n=this,r=0,i=null,a=!1,o=null;if(null!==e){var s=e.N;null!==s&&ee(s.type,53)&&(o=xe(s.value))}return ue.create({next:function(){if(!a){for(;r<n.j.length;){if(!i){var s=n.j[r];if(null!==o&&null!==s.A()&&!o.includes(s.A()))return r++,a=!0,W(Y);i=lr(s,e,t)}if(!1===i.getEffectiveBooleanValue())return a=!0,W(Y);i=null,r++}return a=!0,W(V)}return Q}})},Ha.prototype.A=function(){return this.u},y(La,sr),La.prototype.h=function(e,t){var n=this,r=0,i=null,a=!1,o=null;if(null!==e){var s=e.N;null!==s&&ee(s.type,53)&&(o=xe(s.value))}return ue.create({next:function(){if(!a){for(;r<n.j.length;){if(!i){var s=n.j[r];if(null!==o&&null!==s.A()&&!o.includes(s.A())){r++;continue}i=lr(s,e,t)}if(!0===i.getEffectiveBooleanValue())return a=!0,W(V);i=null,r++}return a=!0,W(Y)}return Q}})},La.prototype.A=function(){return this.u};var $a=Object.create(null);function Xa(e,t,n){var r=t+"~"+n+"~"+e,i=$a[r];return i||(i=$a[r]=ja(e,t,n)),i}function za(e,t,n){sr.call(this,t.s.add(n.s),[t,n],{C:!1}),this.j=t,this.B=n,this.u=e}y(za,sr),za.prototype.h=function(e,t){var n=this,r=lr(this.j,e,t),i=lr(this.B,e,t),a=Ga(r,t),o=Ga(i,t);return a.$({empty:function(){return ue.empty()},o:function(){return o.$({empty:function(){return ue.empty()},o:function(){var t=a.first(),r=o.first();return Xa(n.u,t.type,r.type)(t,r,e)?ue.ca():ue.X()},multiple:function(){throw Error("XPTY0004: Sequences to compare are not singleton.")}})},multiple:function(){throw Error("XPTY0004: Sequences to compare are not singleton.")}})};var qa={},Va=(qa.equalOp="eqOp",qa.notEqualOp="neOp",qa.lessThanOrEqualOp="leOp",qa.lessThanOp="ltOp",qa.greaterThanOrEqualOp="geOp",qa.greaterThanOp="gtOp",qa);function Ya(e,t,n){sr.call(this,t.s.add(n.s),[t,n],{C:!1}),this.j=t,this.B=n,this.u=e}function Ka(e,t,n,r){if(!ee(n,53)||!ee(r,53))throw Error("XPTY0004: Sequences to compare are not nodes");switch(e){case"isOp":return function(e,t){return e!==t||47!==e&&53!==e&&54!==e&&55!==e&&56!==e&&57!==e&&58!==e?function(){return!1}:function(e,t){return en(e.first().value,t.first().value)}}(n,r);case"nodeBeforeOp":return t?function(e,n){return 0>on(t,e.first(),n.first())}:void 0;case"nodeAfterOp":return t?function(e,n){return 0<on(t,e.first(),n.first())}:void 0;default:throw Error("Unexpected operator")}}function Ja(e,t,n){sr.call(this,t.s.add(n.s),[t,n],{C:!1}),this.j=t,this.B=n,this.u=e}function Qa(e,t,n,r){return n.L((function(n){if(n.some((function(e){return!ee(e.type,53)})))throw Error("XPTY0004: Sequences given to "+e+" should only contain nodes.");return"sorted"===r?ue.create(n):"reverse-sorted"===r?ue.create(n.reverse()):ue.create(sn(t,n))}))}function Wa(e,t,n,r){sr.call(this,0<_r(t.s,n.s)?t.s:n.s,[t,n],{C:t.C&&n.C},!1,r),this.j=e,this.u=t,this.B=n}function Za(e,t){vr.call(this,e.reduce((function(e,t){return e.add(t.s)}),new xr({})),e,{S:"unsorted",C:e.every((function(e){return e.C}))},t)}function eo(e,t,n){sr.call(this,new xr({}).add(e.s),[e,t],{C:e.C&&t.C},!1,n),this.j=e,this.u=t}function to(e,t,n){if(sr.call(this,e.s,[e],{C:!1}),this.j=ge(t.prefix?t.prefix+":"+t.localName:t.localName),46===this.j||45===this.j||44===this.j)throw Error("XPST0080: Casting to xs:anyAtomicType, xs:anySimpleType or xs:NOTATION is not permitted.");if(t.namespaceURI)throw Error("Not implemented: castable as expressions with a namespace URI.");this.B=e,this.u=n}function no(e,t,n){if(sr.call(this,e.s,[e],{C:!1}),this.j=ge(t.prefix?t.prefix+":"+t.localName:t.localName),46===this.j||45===this.j||44===this.j)throw Error("XPST0080: Casting to xs:anyAtomicType, xs:anySimpleType or xs:NOTATION is not permitted.");if(t.namespaceURI)throw Error("Not implemented: casting expressions with a namespace URI.");this.B=e,this.u=n}function ro(e,t){var n=e.value,r=null,i=!1;return ue.create({next:function(){for(;!i;){if(!r){var e=n.next(0);if(e.done)return i=!0,W(V);r=t(e.value)}if(e=r.getEffectiveBooleanValue(),r=null,!1===e)return i=!0,W(Y)}return Q}})}function io(e,t,n,r){sr.call(this,e.s,[e],{C:!1},!1,r),this.B=e,this.u=t,this.j=n}function ao(e,t){return!(null===e||null===t||!ee(e.type,53)||!ee(t.type,53))&&en(e.value,t.value)}function oo(e){var t=e.next(0);if(t.done)return ue.empty();var n=null,r=null;return ue.create({next:function(i){if(t.done)return Q;n||(n=t.value.value);do{var a=n.next(i);if(a.done){if((t=e.next(0)).done)return a;n=t.value.value}}while(a.done||ao(a.value,r));return r=a.value,a}})}function so(e,t){var n=[];!function(){for(var e=t.next(0),r={};!e.done;)r.jb=e.value.value,e={current:r.jb.next(0),next:function(e){return function(t){return e.jb.next(t)}}(r)},e.current.done||n.push(e),e=t.next(0),r={jb:r.jb}}();var r=null,i=!1,a={};return ue.create((a[Symbol.iterator]=function(){return this},a.next=function(){i||(i=!0,n.every((function(e){return ee(e.current.value.type,53)}))&&n.sort((function(t,n){return on(e,t.current.value,n.current.value)})));do{if(!n.length)return Q;var t=n.shift(),a=t.current;if(t.current=t.next(0),!ee(a.value.type,53))return a;if(!t.current.done){for(var o=0,s=n.length-1,l=0;o<=s;){l=Math.floor((o+s)/2);var u=on(e,t.current.value,n[l].current.value);if(0===u){o=l;break}0<u?o=l+1:s=l-1}n.splice(o,0,t)}}while(ao(a.value,r));return r=a.value,a},a))}function lo(e,t){var n=e.reduce((function(e,t){return 0<_r(e,t.s)?e:t.s}),new xr({}));sr.call(this,n,e,{C:e.every((function(e){return e.C}))},!1,t),this.j=e}function uo(e){return e.every((function(e){return null===e||ee(e.type,5)||ee(e.type,4)}))||null!==e.map((function(e){return e?Rt(e.type):null})).reduce((function(e,t){return null===t||t===e?e:null}))?e:e.every((function(e){return null===e||ee(e.type,1)||ee(e.type,20)}))?e.map((function(e){return e?Qt(e,1):null})):e.every((function(e){return null===e||ee(e.type,4)||ee(e.type,6)}))?e.map((function(e){return e?Qt(e,6):e})):e.every((function(e){return null===e||ee(e.type,4)||ee(e.type,6)||ee(e.type,3)}))?e.map((function(e){return e?Qt(e,3):e})):null}function co(e,t){var n=new xr({});Ta.call(this,n,[t].concat(p(e.map((function(e){return e.da})))),{C:!1,Y:!1,S:"unsorted",subtree:!1},t),this.B=e}function po(e){sr.call(this,e?e.s:new xr({}),e?[e]:[],{S:"sorted",subtree:!1,Y:!1,C:!1}),this.j=e}function ho(e){sr.call(this,new xr({}),[],{S:"sorted"},!1,e)}function fo(e,t){var n=e.every((function(e){return e.Y})),r=e.every((function(e){return e.subtree}));sr.call(this,e.reduce((function(e,t){return e.add(t.s)}),new xr({})),e,{C:!1,Y:n,S:t?"sorted":"unsorted",subtree:r}),this.j=e,this.u=t}function mo(e,t){sr.call(this,e.s.add(t.s),[e,t],{C:e.C&&t.C,Y:e.Y,S:e.O,subtree:e.subtree}),this.u=e,this.j=t}function go(e,t,n){if(n=[n],ee(e.type,62))if("*"===t)n.push.apply(n,p(e.R.map((function(e){return e()}))));else{if(!ee(t.type,5))throw ai("The key specifier is not an integer.");var r=t.value;if(e.R.length<r||0>=r)throw Error("FOAY0001: Array index out of bounds");n.push(e.R[r-1]())}else{if(!ee(e.type,61))throw ai("The provided context item is not a map or an array.");"*"===t?n.push.apply(n,p(e.h.map((function(e){return e.value()})))):(e=e.h.find((function(e){return Xe(e.key,t)})))&&n.push(e.value())}return Tt(n)}function yo(e,t,n,r,i){return"*"===t?go(e,t,n):(t=ce(t=lr(t,r,i))().L((function(t){return t.reduce((function(t,n){return go(e,n,t)}),new ne)})),Tt([n,t]))}function vo(e,t){sr.call(this,e.s,[e].concat("*"===t?[]:[t]),{C:e.C,S:e.O,subtree:e.subtree}),this.j=e,this.u=t}function wo(e,t){var n={};sr.call(this,new xr((n.external=1,n)),"*"===e?[]:[e],{C:!1},!1,t),this.j=e}function bo(e,t,n,r){var i=t.map((function(e){return e.eb}));t=t.map((function(e){return e.name}));var a=i.reduce((function(e,t){return e.add(t.s)}),n.s);sr.call(this,a,i.concat(n),{C:!1},!1,r),this.u=e,this.B=t,this.J=i,this.T=n,this.j=null}function xo(e){sr.call(this,e,[],{C:!1})}function _o(e){var t={};xo.call(this,new xr((t.nodeType=1,t))),this.u=e}function Ao(e,t){t=void 0===t?{kind:null}:t;var n=e.prefix,r=e.namespaceURI,i={};"*"!==(e=e.localName)&&(i.nodeName=1),i.nodeType=1,xo.call(this,new xr(i)),this.u=e,this.J=r,this.B=n,this.T=t.kind}function Eo(e){var t={};xo.call(this,new xr((t.nodeName=1,t))),this.u=e}function Co(e){xo.call(this,new xr({})),this.u=e}function No(e,t,n){sr.call(this,new xr({}),[],{C:!1,S:"unsorted"}),this.B=n,this.u=t,this.J=e,this.j=null}function To(e,t){var n=new xr({});Ta.call(this,n,[e,t],{C:!1,Y:!1,S:"unsorted",subtree:!1},t),this.B=e}function So(e,t){var n=t.h,r=t.s,i=t.A;switch(e.node.nodeType){case 1:var a=r.createElementNS(e.node.namespaceURI,e.node.nodeName);for(n.getAllAttributes(e.node).forEach((function(e){return i.setAttributeNS(a,e.namespaceURI,e.nodeName,e.value)})),e=(r=u(Pe(n,e))).next();!e.done;e=r.next())e=So(e.value,t),i.insertBefore(a,e.node,null);return{node:a,F:null};case 2:return(t=r.createAttributeNS(e.node.namespaceURI,e.node.nodeName)).value=Oe(n,e),{node:t,F:null};case 4:return{node:r.createCDATASection(Oe(n,e)),F:null};case 8:return{node:r.createComment(Oe(n,e)),F:null};case 9:for(r=r.createDocument(),e=(n=u(Pe(n,e))).next();!e.done;e=n.next())e=So(e.value,t),i.insertBefore(r,e.node,null);return{node:r,F:null};case 7:return{node:r.createProcessingInstruction(e.node.target,Oe(n,e)),F:null};case 3:return{node:r.createTextNode(Oe(n,e)),F:null}}}function Bo(e,t){var n=t.A,r=t.s,i=t.h;if(!Te(e.node))return So(e,t).node;switch(e.node.nodeType){case 2:return(r=r.createAttributeNS(e.node.namespaceURI,e.node.nodeName)).value=Oe(i,e),r;case 8:return r.createComment(Oe(i,e));case 1:var a=e.node.prefix,o=e.node.localName,s=r.createElementNS(e.node.namespaceURI,a?a+":"+o:o);return Pe(i,e).forEach((function(e){e=Bo(e,t),n.insertBefore(s,e,null)})),ke(i,e).forEach((function(e){n.setAttributeNS(s,e.node.namespaceURI,e.node.nodeName,Oe(i,e))})),s.normalize(),s;case 7:return r.createProcessingInstruction(e.node.target,Oe(i,e));case 3:return r.createTextNode(Oe(i,e))}}function ko(e,t,n){var r=e.node;if(!(Te(r)||n||e.F))return r;r=t.ha;var i=[];return n?Bo(e,t):(e=function(e,t,n){var r=e;for(e=Fe(n,r);null!==e;){if(2===r.node.nodeType)t.push(r.node.nodeName);else{var i=Pe(n,e);t.push(i.findIndex((function(e){return en(e,r)})))}e=Fe(n,r=e)}return r}(e,i,t.h),(n=r.get(e.node))||(n={node:Bo(e,t),F:null},r.set(e.node,n)),function(e,t,n){for(var r={};0<t.length;)r.Xa=t.pop(),e="string"==typeof r.Xa?ke(n,e).find(function(e){return function(t){return t.node.nodeName===e.Xa}}(r)):Pe(n,e)[r.Xa],r={Xa:r.Xa};return e.node}(n,i,t.h))}function Io(e){this.type=e}function Po(e){this.type="delete",this.target=e}function Oo(e,t,n){this.type=n,this.target=e,this.content=t}function Ro(e,t){Oo.call(this,e,t,"insertAfter")}function Do(e,t){this.type="insertAttributes",this.target=e,this.content=t}function Mo(e,t){Oo.call(this,e,t,"insertBefore")}function Fo(e,t){Oo.call(this,e,t,"insertIntoAsFirst")}function Uo(e,t){Oo.call(this,e,t,"insertIntoAsLast")}function Ho(e,t){Oo.call(this,e,t,"insertInto")}function Lo(e,t){this.type="rename",this.target=e,this.s=t.va?t:new ve(t.prefix,t.namespaceURI,t.localName)}function Go(e,t){this.type="replaceElementContent",this.target=e,this.text=t}function jo(e,t){this.type="replaceNode",this.target=e,this.s=t}function $o(e,t){this.type="replaceValue",this.target=e,this.s=t}function Xo(e,t){return new jo(e,t)}function zo(e){mr.call(this,new xr({}),[e],{C:!1,S:"unsorted"}),this.j=e}function qo(e,t,n,r,i,a){var o=t.h;return e.reduce((function e(t,n){return ee(n.type,62)?(n.R.forEach((function(n){return n().M().forEach((function(n){return e(t,n)}))})),t):(t.push(n),t)}),[]).forEach((function(e,s,l){if(ee(e.type,47)){if(i)throw a(e.value,o);n.push(e.value.node)}else if(ee(e.type,46)||ee(e.type,53)&&3===e.value.node.nodeType){var u=ee(e.type,46)?Qt(Pt(e,t).first(),1).value:Oe(o,e.value);0!==s&&ee(l[s-1].type,46)&&ee(e.type,46)?(r.push({data:" "+u,Qa:!0,nodeType:3}),i=!0):u&&(r.push({data:""+u,Qa:!0,nodeType:3}),i=!0)}else if(ee(e.type,55)){var c=[];Pe(o,e.value).forEach((function(e){return c.push(je(e))})),i=qo(c,t,n,r,i,a)}else{if(!ee(e.type,53)){if(ee(e.type,60))throw kt(e.type);throw Error("Atomizing "+e.type+" is not implemented.")}r.push(e.value.node),i=!0}})),i}function Vo(e,t,n){var r=[],i=[],a=!1;return e.forEach((function(e){a=qo(e,t,r,i,a,n)})),{attributes:r,Ta:i}}function Yo(e,t,n,r,i){var a=[];switch(e){case 4:r.length&&a.push(new Do(t,r)),i.length&&a.push(new Fo(t,i));break;case 5:r.length&&a.push(new Do(t,r)),i.length&&a.push(new Uo(t,i));break;case 3:r.length&&a.push(new Do(t,r)),i.length&&a.push(new Ho(t,i));break;case 2:r.length&&a.push(new Do(n,r)),i.length&&a.push(new Mo(t,i));break;case 1:r.length&&a.push(new Do(n,r)),i.length&&a.push(new Ro(t,i))}return a}function Ko(e,t,n){mr.call(this,new xr({}),[e,n],{C:!1,S:"unsorted"}),this.J=e,this.j=t,this.B=n}function Jo(){return Bt("Casting not supported from given type to a single xs:string or xs:untypedAtomic or any of its derived types.")}y(Ya,sr),Ya.prototype.h=function(e,t){var n=this,r=lr(this.j,e,t),i=lr(this.B,e,t);return r.$({empty:function(){return ue.X()},default:function(){return i.$({empty:function(){return ue.X()},default:function(){var a=Ga(r,t),o=Ga(i,t);return function(e,t,n,r){return e=Va[e],n.L((function(n){return t.filter((function(t){for(var i=0,a=n.length;i<a;++i){var o=n[i],s=void 0,l=void 0,c=t.type,p=o.type;if((ee(c,19)||ee(p,19))&&(ee(c,2)?s=3:ee(p,2)?l=3:ee(c,17)?s=17:ee(p,17)?l=17:ee(c,16)?s=16:ee(p,16)?l=16:ee(c,19)?l=p:ee(p,19)&&(s=c)),s=(l=u([l,s])).next().value,l=l.next().value,s?t=Qt(t,s):l&&(o=Qt(o,l)),Xa(e,t.type,o.type)(t,o,r))return!0}return!1})).$({default:function(){return ue.ca()},empty:function(){return ue.X()}})}))}(n.u,a,o,e)}})}})},y(Ja,sr),Ja.prototype.h=function(e,t){var n=this,r=lr(this.j,e,t),i=lr(this.B,e,t);return r.$({empty:function(){return ue.empty()},multiple:function(){throw Error("XPTY0004: Sequences to compare are not singleton")},o:function(){return i.$({empty:function(){return ue.empty()},multiple:function(){throw Error("XPTY0004: Sequences to compare are not singleton")},o:function(){var a=r.first(),o=i.first();return Ka(n.u,t.h,a.type,o.type)(r,i,e)?ue.ca():ue.X()}})}})},y(Wa,sr),Wa.prototype.h=function(e,t){var n=this,r=Qa(this.j,t.h,lr(this.u,e,t),this.u.O);e=Qa(this.j,t.h,lr(this.B,e,t),this.B.O);var i=r.value,a=e.value,o=null,s=null,l=!1,u=!1;return ue.create({next:function(){if(l)return Q;for(;!u;){if(!o){var e=i.next(0);if(e.done)return l=!0,Q;o=e.value}if(!s){if((e=a.next(0)).done){u=!0;break}s=e.value}if(en(o.value,s.value)){if(e=W(o),s=o=null,"intersectOp"===n.j)return e}else if(0>on(t.h,o,s)){if(e=W(o),o=null,"exceptOp"===n.j)return e}else s=null}return"exceptOp"===n.j?null!==o?(e=W(o),o=null,e):i.next(0):(l=!0,Q)}})},y(Za,vr),Za.prototype.B=function(e,t,n){return n.length?Tt(n.map((function(t){return t(e)}))):ue.empty()},y(eo,sr),eo.prototype.h=function(e,t){var n=this,r=xt(e,lr(this.j,e,t)),i=null,a=null,o=!1;return ue.create({next:function(e){for(;!o;){if(!i&&(i=r.next(e)).done)return o=!0,Q;a||(a=lr(n.u,i.value,t));var s=a.value.next(e);if(!s.done)return s;i=a=null}}})},y(to,sr),to.prototype.h=function(e,t){var n=this,r=Ot(lr(this.B,e,t),t);return r.$({empty:function(){return n.u?ue.ca():ue.X()},o:function(){return r.map((function(e){return Jt(e,n.j).v?V:Y}))},multiple:function(){return ue.X()}})},y(no,sr),no.prototype.h=function(e,t){var n=this,r=Ot(lr(this.B,e,t),t);return r.$({empty:function(){if(!n.u)throw Error("XPTY0004: Sequence to cast is empty while target type is singleton.");return ue.empty()},o:function(){return r.map((function(e){return Qt(e,n.j)}))},multiple:function(){throw Error("XPTY0004: Sequence to cast is not singleton or empty.")}})},y(io,sr),io.prototype.h=function(e,t){var n=this,r=lr(this.B,e,t);return r.$({empty:function(){return"?"===n.j||"*"===n.j?ue.ca():ue.X()},multiple:function(){return"+"===n.j||"*"===n.j?ro(r,(function(r){var i=ue.o(r);return r=Et(e,0,r,i),lr(n.u,r,t)})):ue.X()},o:function(){return ro(r,(function(r){var i=ue.o(r);return r=Et(e,0,r,i),lr(n.u,r,t)}))}})},y(lo,sr),lo.prototype.h=function(e,t){var n=this;if(this.j.every((function(e){return"sorted"===e.O}))){var r=0;return so(t.h,{next:function(){return r>=n.j.length?Q:W(lr(n.j[r++],e,t))}}).map((function(e){if(!ee(e.type,53))throw Error("XPTY0004: The sequences to union are not of type node()*");return e}))}return Tt(this.j.map((function(n){return lr(n,e,t)}))).L((function(e){if(e.some((function(e){return!ee(e.type,53)})))throw Error("XPTY0004: The sequences to union are not of type node()*");return e=sn(t.h,e),ue.create(e)}))},y(co,Ta),co.prototype.J=function(e,t,n,r){if(this.B[1])throw Error("More than one order spec is not supported for the order by clause.");var i,a,o=[],s=!1,l=null,c=this.B[0];return ue.create({next:function(){if(!s){for(var p=t.next(0);!p.done;)o.push(p.value),p=t.next(0);if((p=o.map((function(e){return c.da.h(e,n)})).map((function(e){return Ot(e,n)}))).find((function(e){return!e.G()&&!e.ya()})))throw ai("Order by only accepts empty or singleton sequences");if(function(e){return(e=e.find((function(e){return!!e})))?Rt(e.type):null}(i=(i=p.map((function(e){return e.first()}))).map((function(e){return null===e?e:ee(19,e.type)?Qt(e,1):e})))&&!(i=uo(i)))throw ai("Could not cast values");p=i.length,a=i.map((function(e,t){return t}));for(var h=0;h<p;h++)if(h+1!==p)for(var d=h;0<=d;d--){var f=d,m=d+1;if(m!==p){var g=i[a[f]],y=i[a[m]];if(null!==y||null!==g){if(c.zc){if(null===g)continue;if(null===y&&null!==g){g=u([a[m],a[f]]),a[f]=g.next().value,a[m]=g.next().value;continue}if(isNaN(y.value)&&null!==g&&!isNaN(g.value)){g=u([a[m],a[f]]),a[f]=g.next().value,a[m]=g.next().value;continue}}else{if(null===y)continue;if(null===g&&null!==y){g=u([a[m],a[f]]),a[f]=g.next().value,a[m]=g.next().value;continue}if(isNaN(g.value)&&null!==y&&!isNaN(y.value)){g=u([a[m],a[f]]),a[f]=g.next().value,a[m]=g.next().value;continue}}Xa("gtOp",g.type,y.type)(g,y,e)&&(g=u([a[m],a[f]]),a[f]=g.next().value,a[m]=g.next().value)}}}var v=c.Gb?0:i.length-1;l=r({next:function(){return c.Gb?v>=i.length?Q:W(o[a[v++]]):0>v?Q:W(o[a[v--]])}}).value,s=!0}return l.next(0)}})},y(po,sr),po.prototype.h=function(e,t){if(null===e.N)throw Error("XPDY0002: context is absent, it needs to be present to use paths.");for(var n=t.h,r=e.N.value;9!==r.node.nodeType;)if(null===(r=Fe(n,r)))throw Error("XPDY0050: the root node of the context node is not a document node.");return n=ue.o(je(r)),this.j?lr(this.j,Et(e,0,n.first(),n),t):n},y(ho,sr),ho.prototype.h=function(e){if(null===e.N)throw Error('XPDY0002: context is absent, it needs to be present to use the "." operator');return ue.o(e.N)},y(fo,sr),fo.prototype.h=function(e,t){var n=this,r=!0;return this.j.reduce((function(i,a,o){var s=null===i?Wt(e):xt(e,i);if(i={next:function(e){if((e=s.next(e)).done)return Q;if(null!==e.value.N&&!ee(e.value.N.type,53)&&0<o)throw Error("XPTY0019: The result of E1 in a path expression E1/E2 should not evaluate to a sequence of nodes.");return W(lr(a,e.value,t))}},n.u)switch(a.O){case"reverse-sorted":var l=i;i={next:function(e){return(e=l.next(e)).done?e:W(e.value.L((function(e){return ue.create(e.reverse())})))}};case"sorted":if(a.subtree&&r){var u=oo(i);break}u=so(t.h,i);break;case"unsorted":return oo(i).L((function(e){return ue.create(function(e,t){var n=!1,r=!1;if(t.forEach((function(e){ee(e.type,53)?n=!0:r=!0})),r&&n)throw Error("XPTY0018: The path operator should either return nodes or non-nodes. Mixed sequences are not allowed.");return n?sn(e,t):t}(t.h,e))}))}else u=oo(i);return r=r&&a.Y,u}),null)},fo.prototype.A=function(){return this.j[0].A()},y(mo,sr),mo.prototype.h=function(e,t){var n=this,r=lr(this.u,e,t);if(this.j.C){var i=lr(this.j,e,t);if(i.G())return i;var a=i.first();if(ee(a.type,2)){var o=a.value;if(!Number.isInteger(o))return ue.empty();var s=r.value,l=!1;return ue.create({next:function(){if(!l){for(var e=s.next(0);!e.done;e=s.next(0))if(1==o--)return l=!0,e;l=!0}return Q}})}return i.getEffectiveBooleanValue()?r:ue.empty()}var u=r.value,c=null,p=0,h=null;return ue.create({next:function(i){for(var a=!1;(!c||!c.done)&&(c||(c=u.next(a?0:i),a=!0),!c.done);){h||(h=lr(n.j,Et(e,p,c.value,r),t));var o=h.first();o=null!==o&&(ee(o.type,2)?o.value===p+1:h.getEffectiveBooleanValue()),h=null;var s=c.value;if(c=null,p++,o)return W(s)}return c}})},mo.prototype.A=function(){return this.u.A()},y(vo,sr),vo.prototype.h=function(e,t){var n=this;return lr(this.j,e,t).L((function(r){return r.reduce((function(r,i){return yo(i,n.u,r,e,t)}),new ne)}))},vo.prototype.A=function(){return this.j.A()},y(wo,sr),wo.prototype.h=function(e,t){return yo(e.N,this.j,new ne,e,t)},y(bo,sr),bo.prototype.h=function(e,t){var n=this,r=e,i=this.j.map((function(i,a){var o=lr(n.J[a],r,t).M();return r=Ct(e,((a={})[i]=function(){return ue.create(o)},a)),o}));if(i.some((function(e){return 0===e.length})))return"every"===this.u?ue.ca():ue.X();var a=Array(i.length).fill(0);a[0]=-1;for(var o=!0;o;){o=!1;for(var s=0,l=a.length;s<l;++s){var u=i[s];if(!(++a[s]>u.length-1)){for(o=Object.create(null),s={},l=0;l<a.length;s={ub:s.ub},l++)s.ub=i[l][a[l]],o[this.j[l]]=function(e){return function(){return ue.o(e.ub)}}(s);if(o=Ct(e,o),(o=lr(this.T,o,t)).getEffectiveBooleanValue()&&"some"===this.u)return ue.ca();if(!o.getEffectiveBooleanValue()&&"every"===this.u)return ue.X();o=!0;break}a[s]=0}}return"every"===this.u?ue.ca():ue.X()},bo.prototype.P=function(e){this.j=[];for(var t=0,n=this.B.length;t<n;++t){this.J[t].P(e),vi(e);var r=this.B[t],i=r.prefix?e.ba(r.prefix):null;r=xi(e,i,r.localName),this.j[t]=r}for(this.T.P(e),t=0,n=this.B.length;t<n;++t)Ai(e)},y(xo,sr),xo.prototype.h=function(e){return this.j(e.N)?ue.ca():ue.X()},y(_o,xo),_o.prototype.j=function(e){return!!ee(e.type,53)&&(e=e.value.node.nodeType,3===this.u&&4===e||this.u===e)},_o.prototype.A=function(){return"type-"+this.u},y(Ao,xo),Ao.prototype.j=function(e){var t=ee(e.type,54),n=ee(e.type,47);return!(!t&&!n)&&(e=e.value,!(null!==this.T&&(1===this.T&&!t||2===this.T&&!n))&&(null===this.B&&""!==this.J&&"*"===this.u||("*"===this.B?"*"===this.u||this.u===e.node.localName:("*"===this.u||this.u===e.node.localName)&&(e.node.namespaceURI||null)===((""===this.B?t?this.J:null:this.J)||null))))},Ao.prototype.A=function(){return"*"===this.u?null===this.T?"type-1-or-type-2":"type-"+this.T:"name-"+this.u},Ao.prototype.P=function(e){if(null===this.J&&"*"!==this.B&&(this.J=e.ba(this.B||"")||null,!this.J&&this.B))throw Error("XPST0081: The prefix "+this.B+" could not be resolved.")},y(Eo,xo),Eo.prototype.j=function(e){return ee(e.type,57)&&e.value.node.target===this.u},Eo.prototype.A=function(){return"type-7"},y(Co,xo),Co.prototype.j=function(e){return ee(e.type,ge(this.u.prefix?this.u.prefix+":"+this.u.localName:this.u.localName))},y(No,sr),No.prototype.h=function(e,t){if(!e.Ea[this.j]){if(this.T)return this.T(e,t);throw Error("XQDY0054: The variable "+this.B+" is declared but not in scope.")}return e.Ea[this.j]()},No.prototype.P=function(e){if(null===this.u&&this.J&&(this.u=e.ba(this.J)),this.j=e.qb(this.u||"",this.B),!this.j)throw Error("XPST0008, The variable "+this.B+" is not in scope.");(e=e.Da[this.j])&&(this.T=e)},y(To,Ta),To.prototype.J=function(e,t,n,r){var i=this,a=null,o=null;return r({next:function(){for(;;){if(!o){var e=t.next(0);if(e.done)return Q;a=e.value,o=lr(i.B,a,n)}e=o.getEffectiveBooleanValue();var r=a;if(o=a=null,e)return W(r)}}})},y(Po,Io),Po.prototype.h=function(e){var t={};return t.type=this.type,t.target=ko(this.target,e,!1),t},y(Oo,Io),Oo.prototype.h=function(e){var t={};return t.type=this.type,t.target=ko(this.target,e,!1),t.content=this.content.map((function(t){return ko(t,e,!0)})),t},y(Ro,Oo),y(Do,Io),Do.prototype.h=function(e){var t={};return t.type=this.type,t.target=ko(this.target,e,!1),t.content=this.content.map((function(t){return ko(t,e,!0)})),t},y(Mo,Oo),y(Fo,Oo),y(Uo,Oo),y(Ho,Oo),y(Lo,Io),Lo.prototype.h=function(e){var t={},n={};return n.type=this.type,n.target=ko(this.target,e,!1),n.newName=(t.prefix=this.s.prefix,t.namespaceURI=this.s.namespaceURI,t.localName=this.s.localName,t),n},y(Go,Io),Go.prototype.h=function(e){var t={};return t.type=this.type,t.target=ko(this.target,e,!1),t.text=this.text?ko(this.text,e,!0):null,t},y(jo,Io),jo.prototype.h=function(e){var t={};return t.type=this.type,t.target=ko(this.target,e,!1),t.replacement=this.s.map((function(t){return ko(t,e,!0)})),t},y($o,Io),$o.prototype.h=function(e){var t={};return t.type=this.type,t.target=ko(this.target,e,!1),t["string-value"]=this.s,t},y(zo,mr),zo.prototype.u=function(e,t){var n,r,i=gr(this.j)(e,t),a=t.h;return{next:function(){if(!n){var e=i.next(0);if(e.value.H.some((function(e){return!ee(e.type,53)})))throw Error("XUTY0007: The target of a delete expression must be a sequence of zero or more nodes.");n=e.value.H,r=e.value.fa}return n=n.filter((function(e){return Fe(a,e.value)})),W({fa:fr(n.map((function(e){return new Po(e.value)})),r),H:[]})}}},y(Ko,mr),Ko.prototype.u=function(e,t){var n,r,i,a,o,s,l=this,u=gr(this.J)(e,t),c=gr(this.B)(e,t),p=t.h;return{next:function(){if(!n){var e=u.next(0),h=Vo([e.value.H],t,Qn);n=h.attributes.map((function(e){return{node:e,F:null}})),r=h.Ta.map((function(e){return{node:e,F:null}})),i=e.value.fa}if(!a){if(0===(e=c.next(0)).value.H.length)throw or();if(3<=l.j){if(1!==e.value.H.length)throw Wn();if(!ee(e.value.H[0].type,54)&&!ee(e.value.H[0].type,55))throw Wn()}else{if(1!==e.value.H.length)throw Zn();if(!(ee(e.value.H[0].type,54)||ee(e.value.H[0].type,56)||ee(e.value.H[0].type,58)||ee(e.value.H[0].type,57)))throw Zn();if(null===(s=Fe(p,e.value.H[0].value,null)))throw Error("XUDY0029: The target "+e.value.H[0].value.outerHTML+" for inserting a node before or after must have a parent.")}a=e.value.H[0],o=e.value.fa}if(n.length){if(3<=l.j){if(!ee(a.type,54))throw Error("XUTY0022: An insert expression specifies the insertion of an attribute node into a document node.")}else if(1!==s.node.nodeType)throw Error("XUDY0030: An insert expression specifies the insertion of an attribute node before or after a child of a document node.");n.reduce((function(e,t){var n=t.node.prefix||"",r=t.node.prefix||"",i=t.node.namespaceURI,o=r?a.value.node.lookupNamespaceURI(r):null;if(o&&o!==i)throw ir(i);if((r=e[r])&&i!==r)throw ar(i);return e[n]=t.node.namespaceURI,e}),{})}return W({H:[],fa:fr(Yo(l.j,a.value,s||null,n,r),i,o)})}}};var Qo=/([A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])/,Wo=new RegExp(Qo.source+new RegExp("("+Qo.source+"|[-.0-9·̀-ͯ‿⁀])").source+"*","g");function Zo(e){return!!(e=e.match(Wo))&&1===e.length}function es(e,t){return Ot(t,e).$({o:function(e){if(ee((e=e.first()).type,1)||ee(e.type,19)){if(!Zo(e.value))throw Error('XQDY0041: The value "'+e.value+'" of a name expressions cannot be converted to a NCName.');return ue.o(e)}throw Jo()},default:function(){throw Jo()}}).value}function ts(e,t,n){return Ot(n,t).$({o:function(t){if(ee((t=t.first()).type,23))return ue.o(t);if(ee(t.type,1)||ee(t.type,19)){if(1===(t=t.value.split(":")).length)t=t[0];else{var n=t[0],r=e.ba(n);t=t[1]}if(!Zo(t)||n&&!Zo(n))throw hi(n?n+":"+t:t);if(n&&!r)throw hi(n+":"+t);return ue.o({type:23,value:new ve(n,r,t)})}throw Jo()},default:function(){throw Jo()}}).value}function ns(e,t){mr.call(this,new xr({}),[e,t],{C:!1,S:"unsorted"}),this.B=e,this.J=t,this.j=void 0}function rs(e,t,n){mr.call(this,new xr({}),[t,n],{C:!1,S:"unsorted"}),this.J=e,this.j=t,this.B=n}function is(e){switch(e.type){case"delete":return new Po({node:e.target,F:null});case"insertAfter":return new Ro({node:e.target,F:null},e.content.map((function(e){return{node:e,F:null}})));case"insertBefore":return new Mo({node:e.target,F:null},e.content.map((function(e){return{node:e,F:null}})));case"insertInto":return new Ho({node:e.target,F:null},e.content.map((function(e){return{node:e,F:null}})));case"insertIntoAsFirst":return new Fo({node:e.target,F:null},e.content.map((function(e){return{node:e,F:null}})));case"insertIntoAsLast":return new Uo({node:e.target,F:null},e.content.map((function(e){return{node:e,F:null}})));case"insertAttributes":return new Do({node:e.target,F:null},e.content.map((function(e){return{node:e,F:null}})));case"rename":return new Lo({node:e.target,F:null},e.newName);case"replaceNode":return new jo({node:e.target,F:null},e.replacement.map((function(e){return{node:e,F:null}})));case"replaceValue":return new $o({node:e.target,F:null},e["string-value"]);case"replaceElementContent":return new Go({node:e.target,F:null},e.text?{node:e.text,F:null}:null);default:throw Error('Unexpected type "'+e.type+'" when parsing a transferable pending update.')}}function as(e,t,n){if(t.find((function(t){return en(t,e)})))return!0;var r=Fe(n,e);return!!r&&as(r,t,n)}function os(e,t,n){mr.call(this,new xr({}),e.reduce((function(e,t){return e.push(t.eb),e}),[t,n]),{C:!1,S:"unsorted"}),this.j=e,this.J=t,this.B=n,this.I=null}function ss(e,t){return{node:{nodeType:2,Qa:!0,nodeName:e.va(),namespaceURI:e.namespaceURI,prefix:e.prefix,localName:e.localName,name:e.va(),value:t},F:null}}function ls(e,t){var n=t.tb||[];n=n.concat(e.Ka||[]),sr.call(this,new xr({}),n,{C:!1,S:"unsorted"}),e.Ka?this.u=e.Ka:this.name=new ve(e.prefix,e.namespaceURI,e.localName),this.j=t,this.B=void 0}function us(e){sr.call(this,e?e.s:new xr({}),e?[e]:[],{C:!1,S:"unsorted"}),this.j=e}function cs(e,t,n,r){sr.call(this,new xr({}),r.concat(t).concat(e.Ka||[]),{C:!1,S:"unsorted"}),e.Ka?this.u=e.Ka:this.j=new ve(e.prefix,e.namespaceURI,e.localName),this.T=n.reduce((function(e,t){if(t.prefix in e)throw Error("XQST0071: The namespace declaration with the prefix "+t.prefix+" has already been declared on the constructed element.");return e[t.prefix||""]=t.uri,e}),{}),this.J=t,this.ka=r,this.B=void 0}function ps(e){if(/^xml$/i.test(e))throw Error('XQDY0064: The target of a created PI may not be "'+e+'"')}function hs(e,t){return{node:{data:t,Qa:!0,nodeName:e,nodeType:7,target:e},F:null}}function ds(e,t){var n=e.Cb?[e.Cb].concat(t):[t];sr.call(this,n.reduce((function(e,t){return e.add(t.s)}),new xr({})),n,{C:!1,S:"unsorted"}),this.j=e,this.u=t}function fs(e){sr.call(this,e?e.s:new xr({}),e?[e]:[],{C:!1,S:"unsorted"}),this.j=e}function ms(e,t,n,r){var i,a=new xr({});vr.call(this,a,(i=[e].concat(p(t.map((function(e){return e.xc}))),[n])).concat.apply(i,p(t.map((function(e){return e.Lb.map((function(e){return e.Kb}))})))),{C:!1,Y:!1,S:"unsorted",subtree:!1},r),this.J=e,this.j=t.length,this.T=t.map((function(e){return e.Lb}))}y(ns,mr),ns.prototype.u=function(e,t){var n=this,r=gr(this.B)(e,t),i=gr(this.J)(e,t);return{next:function(){var e=r.next(0),a=e.value.H;if(0===a.length)throw or();if(1!==a.length)throw tr();if(!ee(a[0].type,54)&&!ee(a[0].type,47)&&!ee(a[0].type,57))throw tr();a=a[0];var o=i.next(0);e:{var s=n.j,l=ue.create(o.value.H);switch(a.type){case 54:if(s=ts(s,t,l).next(0).value.value,(l=a.value.node.lookupNamespaceURI(s.prefix))&&l!==s.namespaceURI)throw ir(s.namespaceURI);break e;case 47:if((s=ts(s,t,l).next(0).value.value).namespaceURI&&(l=a.value.node.lookupNamespaceURI(s.prefix))&&l!==s.namespaceURI)throw ir(s.namespaceURI);break e;case 57:s=new ve("",null,s=es(t,l).next(0).value.value);break e}s=void 0}return W({H:[],fa:fr([new Lo(a.value,s)],e.value.fa,o.value.fa)})}}},ns.prototype.P=function(e){this.j=yi(e),mr.prototype.P.call(this,e)},y(rs,mr),rs.prototype.u=function(e,t){var n=gr(this.j)(e,t);return e=gr(this.B)(e,t),this.J?function(e,t,n){var r,i,a,o,s=!1;return{next:function(){if(s)return Q;if(!a){var l=n.next(0),u=Ot(ue.create(l.value.H),e).map((function(e){return Qt(e,1)})).M().map((function(e){return e.value})).join(" ");a=0===u.length?null:{node:e.s.createTextNode(u),F:null},o=l.value.fa}if(!r){if(0===(l=t.next(0)).value.H.length)throw or();if(1!==l.value.H.length)throw er();if(!(ee(l.value.H[0].type,54)||ee(l.value.H[0].type,47)||ee(l.value.H[0].type,56)||ee(l.value.H[0].type,58)||ee(l.value.H[0].type,57)))throw er();r=l.value.H[0],i=l.value.fa}if(ee(r.type,54))return s=!0,W({H:[],fa:fr([new Go(r.value,a)],o,i)});if(ee(r.type,47)||ee(r.type,56)||ee(r.type,58)||ee(r.type,57)){if(l=a?Oe(e.h,a):"",ee(r.type,58)&&(l.includes("--")||l.endsWith("-")))throw Error('XQDY0072: The content "'+l+'" for a comment node contains two adjacent hyphens or ends with a hyphen.');if(ee(r.type,57)&&l.includes("?>"))throw Error('XQDY0026: The content "'+l+'" for a processing instruction node contains "?>".');return s=!0,W({H:[],fa:fr([new $o(r.value,l)],o,i)})}}}}(t,n,e):function(e,t,n){var r,i,a;return{next:function(){if(!r){var o=n.next(0),s=Vo([o.value.H],e,ar);r={attributes:s.attributes.map((function(e){return{node:e,F:null}})),Ta:s.Ta.map((function(e){return{node:e,F:null}}))},i=o.value.fa}if(0===(s=t.next(0)).value.H.length)throw or();if(1!==s.value.H.length)throw er();if(!(ee(s.value.H[0].type,54)||ee(s.value.H[0].type,47)||ee(s.value.H[0].type,56)||ee(s.value.H[0].type,58)||ee(s.value.H[0].type,57)))throw er();if(null===(a=Fe(e.h,s.value.H[0].value,null)))throw Error("XUDY0009: The target "+s.value.H[0].value.outerHTML+" for replacing a node must have a parent.");if(o=s.value.H[0],s=s.value.fa,ee(o.type,47)){if(r.Ta.length)throw Error("XUTY0011: When replacing an attribute the new value must be zero or more attribute nodes.");r.attributes.reduce((function(e,t){var n=t.node.prefix||"";t=t.node.namespaceURI;var r=a.node.lookupNamespaceURI(n);if(r&&r!==t)throw ir(t);if((r=e[n])&&t!==r)throw ar(t);return e[n]=t,e}),{})}else if(r.attributes.length)throw Error("XUTY0010: When replacing an an element, text, comment, or processing instruction node the new value must be a single node.");return W({H:[],fa:fr([Xo(o.value,[].concat(r.attributes,r.Ta))],i,s)})}}}(t,n,e)},y(os,mr),os.prototype.h=function(e,t){return yr(e=this.u(e,t),(function(){}))},os.prototype.u=function(e,t){var n,r,i,a=this,o=t.h,s=t.s,l=t.A,u=[],c=[],h=[];return{next:function(){if(c.length!==a.j.length)for(var d={},f=c.length;f<a.j.length;d={gb:d.gb},f++){var m=a.j[f],g=u[f];if(g||(u[f]=g=gr(m.eb)(e,t)),1!==(g=g.next(0)).value.H.length||!ee(g.value.H[0].type,53))throw Error("XUTY0013: The source expression of a copy modify expression must return a single node.");d.gb=je(So(g.value.H[0].value,t)),c.push(d.gb.value),h.push(g.value.fa),e=Ct(e,((g={})[m.Ec]=function(e){return function(){return ue.o(e.gb)}}(d),g))}return i||(n||(n=gr(a.J)(e,t)),i=n.next(0).value.fa),i.forEach((function(e){if(e.target&&!as(e.target,c,o))throw Error("XUDY0014: The target "+e.target.node.outerHTML+" must be a node created by the copy clause.");if("put"===e.type)throw Error("XUDY0037: The modify expression of a copy modify expression can not contain a fn:put.")})),d=i.map((function(e){return is(e=e.h(t))})),dr(d,o,s,l),r||(r=gr(a.B)(e,t)),W({H:(d=r.next(0)).value.H,fa:fr.apply(null,[d.value.fa].concat(p(h)))})}}},os.prototype.P=function(e){vi(e),this.j.forEach((function(t){return t.Ec=xi(e,t.Nb.namespaceURI,t.Nb.localName)})),mr.prototype.P.call(this,e),Ai(e),this.I=this.j.some((function(e){return e.eb.I}))||this.B.I},y(ls,sr),ls.prototype.h=function(e,t){var n,r,i,a=this,o=!1;return ue.create({next:function(){if(o)return Q;if(!r){if(a.u){if(!n){var s=a.u.h(e,t);n=ts(a.B,t,s)}r=n.next(0).value.value}else r=a.name;if(r){if("xmlns"===r.prefix)throw si(r);if(""===r.prefix&&"xmlns"===r.localName)throw si(r);if("http://www.w3.org/2000/xmlns/"===r.namespaceURI)throw si(r);if("xml"===r.prefix&&"http://www.w3.org/XML/1998/namespace"!==r.namespaceURI)throw si(r);if(""!==r.prefix&&"xml"!==r.prefix&&"http://www.w3.org/XML/1998/namespace"===r.namespaceURI)throw si(r)}}return a.j.tb?(s=a.j.tb,i||(i=Tt(s.map((function(n){return Ot(n.h(e,t),t).L((function(e){return ue.o(q(e.map((function(e){return e.value})).join(" "),1))}))}))).L((function(e){return ue.o(je(ss(r,e.map((function(e){return e.value})).join(""))))})).value),i.next(0)):(o=!0,W(je(ss(r,a.j.value))))}})},ls.prototype.P=function(e){if(this.B=yi(e),this.name&&this.name.prefix&&!this.name.namespaceURI){var t=e.ba(this.name.prefix);if(void 0===t&&this.name.prefix)throw It(this.name.prefix);this.name.namespaceURI=t||null}sr.prototype.P.call(this,e)},y(us,sr),us.prototype.h=function(e,t){var n={data:"",Qa:!0,nodeType:8},r={node:n,F:null};return this.j?Ot(e=lr(this.j,e,t),t).L((function(e){if(e=e.map((function(e){return Qt(e,1).value})).join(" "),-1!==e.indexOf("--\x3e"))throw Error('XQDY0072: The contents of the data of a comment may not include "--\x3e"');return n.data=e,ue.o(je(r))})):ue.o(je(r))},y(cs,sr),cs.prototype.h=function(e,t){var n,r,i,a,o,s=this,l=!1,u=!1,c=!1;return ue.create({next:function(){if(c)return Q;if(l||(n||(n=Tt(s.J.map((function(n){return lr(n,e,t)})))),r=n.M(),l=!0),!u){i||(i=s.ka.map((function(n){return lr(n,e,t)})));for(var p=[],h=0;h<i.length;h++){var d=i[h].M();p.push(d)}a=p,u=!0}if(s.u&&(o||(p=s.u.h(e,t),o=ts(s.B,t,p)),p=o.next(0),s.j=p.value.value),"xmlns"===s.j.prefix||"http://www.w3.org/2000/xmlns/"===s.j.namespaceURI||"xml"===s.j.prefix&&"http://www.w3.org/XML/1998/namespace"!==s.j.namespaceURI||s.j.prefix&&"xml"!==s.j.prefix&&"http://www.w3.org/XML/1998/namespace"===s.j.namespaceURI)throw Error('XQDY0096: The node name "'+s.j.va()+'" is invalid for a computed element constructor.');var f={nodeType:1,Qa:!0,attributes:[],childNodes:[],nodeName:s.j.va(),namespaceURI:s.j.namespaceURI,prefix:s.j.prefix,localName:s.j.localName};for(p={node:f,F:null},r.forEach((function(e){f.attributes.push(e.value.node)})),(h=Vo(a,t,oi)).attributes.forEach((function(e){if(f.attributes.find((function(t){return t.namespaceURI===e.namespaceURI&&t.localName===e.localName})))throw Error("XQDY0025: The attribute "+e.name+" does not have an unique name in the constructed element.");f.attributes.push(e)})),h.Ta.forEach((function(e){f.childNodes.push(e)})),h=0;h<f.childNodes.length;h++)if(Te(d=f.childNodes[h])&&3===d.nodeType){var m=f.childNodes[h-1];m&&Te(m)&&3===m.nodeType&&(m.data+=d.data,f.childNodes.splice(h,1),h--)}return c=!0,W(je(p))}})},cs.prototype.P=function(e){var t=this;if(vi(e),Object.keys(this.T).forEach((function(n){return bi(e,n,t.T[n])})),this.ha.forEach((function(t){return t.P(e)})),this.J.reduce((function(t,n){if(n.name){if(n="Q{"+(null===n.name.namespaceURI?e.ba(n.name.prefix):n.name.namespaceURI)+"}"+n.name.localName,t.includes(n))throw Error("XQST0040: The attribute "+n+" does not have an unique name in the constructed element.");t.push(n)}return t}),[]),this.j&&null===this.j.namespaceURI){var n=e.ba(this.j.prefix);if(void 0===n&&this.j.prefix)throw It(this.j.prefix);this.j.namespaceURI=n}this.B=yi(e),Ai(e)},y(ds,sr),ds.prototype.h=function(e,t){var n=this;return Ot(lr(this.u,e,t),t).L((function(r){var i=r.map((function(e){return Qt(e,1).value})).join(" ");if(-1!==i.indexOf("?>"))throw Error('XQDY0026: The contents of the data of a processing instruction may not include "?>"');if(null!==n.j.Jb)return ps(r=n.j.Jb),ue.o(je(hs(r,i)));r=lr(n.j.Cb,e,t);var a=es(t,r);return ue.create({next:function(){var e=a.next(0);return e.done?e:(ps(e=e.value.value),W(je(hs(e,i))))}})}))},y(fs,sr),fs.prototype.h=function(e,t){return this.j?Ot(e=lr(this.j,e,t),t).L((function(e){return 0===e.length?ue.empty():(e={node:{data:e.map((function(e){return Qt(e,1).value})).join(" "),Qa:!0,nodeType:3},F:null},ue.o(je(e)))})):ue.empty()},y(ms,vr),ms.prototype.B=function(e,t,n){var r=this;return n[0](e).L((function(i){for(var a=0;a<r.j;a++)if(r.T[a].some((function(n){switch(n.Cc){case"?":if(1<i.length)return!1;break;case"*":break;case"+":if(1>i.length)return!1;break;default:if(1!==i.length)return!1}var r=ue.create(i);return i.every((function(i,a){return i=Et(e,a,i,r),lr(n.Kb,i,t).getEffectiveBooleanValue()}))})))return n[a+1](e);return n[r.j+1](e)}))},ms.prototype.P=function(e){if(vr.prototype.P.call(this,e),this.J.I)throw Jn()};var gs={aa:!1,qa:!1},ys={aa:!0,qa:!1},vs={aa:!0,qa:!0};function ws(e){return e.aa?e.qa?vs:ys:gs}function bs(e,t){switch(e[0]){case"andOp":var n=Ni(e,"type");return new Ha(_s("andOp",e,ws(t)),n);case"orOp":return n=Ni(e,"type"),new La(_s("orOp",e,ws(t)),n);case"unaryPlusOp":return n=Ei(Ei(e,"operand"),"*"),e=Ni(e,"type"),new Ua("+",bs(n,t),e);case"unaryMinusOp":return n=Ei(Ei(e,"operand"),"*"),e=Ni(e,"type"),new Ua("-",bs(n,t),e);case"addOp":case"subtractOp":case"multiplyOp":case"divOp":case"idivOp":case"modOp":var r=e[0],i=bs(Ti(e,["firstOperand","*"]),ws(t));t=bs(Ti(e,["secondOperand","*"]),ws(t));var a=Ni(e,"type"),o=Ni(Ti(e,["firstOperand","*"]),"type"),s=Ni(Ti(e,["secondOperand","*"]),"type");return o&&s&&Ni(e,"type")&&(n=Hi(r,o.type,s.type)),new ji(r,i,t,a,n);case"sequenceExpr":return function(e,t){var n=Si(e,"*").map((function(e){return bs(e,t)}));return 1===n.length?n[0]:(n=Ni(e,"type"),new Za(Si(e,"*").map((function(e){return bs(e,t)})),n))}(e,t);case"unionOp":return n=Ni(e,"type"),new lo([bs(Ti(e,["firstOperand","*"]),ws(t)),bs(Ti(e,["secondOperand","*"]),ws(t))],n);case"exceptOp":case"intersectOp":return n=Ni(e,"type"),new Wa(e[0],bs(Ti(e,["firstOperand","*"]),ws(t)),bs(Ti(e,["secondOperand","*"]),ws(t)),n);case"stringConcatenateOp":return function(e,t){var n=Ni(e,"type");return new Tr(new Da({localName:"concat",namespaceURI:"http://www.w3.org/2005/xpath-functions",prefix:""},(e=[Ti(e,["firstOperand","*"]),Ti(e,["secondOperand","*"])]).length,n),e.map((function(e){return bs(e,ws(t))})),n)}(e,t);case"rangeSequenceExpr":return function(e,t){var n=Ni(e,"type");return new Tr(new Da({localName:"to",namespaceURI:"http://fontoxpath/operators",prefix:""},(e=[Ei(Ei(e,"startExpr"),"*"),Ei(Ei(e,"endExpr"),"*")]).length,n),e.map((function(e){return bs(e,ws(t))})),n)}(e,t);case"equalOp":case"notEqualOp":case"lessThanOrEqualOp":case"lessThanOp":case"greaterThanOrEqualOp":case"greaterThanOp":return Es("generalCompare",e,t);case"eqOp":case"neOp":case"ltOp":case"leOp":case"gtOp":case"geOp":return Es("valueCompare",e,t);case"isOp":case"nodeBeforeOp":case"nodeAfterOp":return Es("nodeCompare",e,t);case"pathExpr":return function(e,t){var n=Ni(e,"type"),r=Si(e,"stepExpr"),i=!1,a=r.map((function(e){for(var r=Ei(e,"xpathAxis"),a=Si(e,"*"),o=[],s=null,l=(a=u(a)).next();!l.done;l=a.next())switch(l=l.value,l[0]){case"lookup":o.push(["lookup",As(l,t)]);break;case"predicate":case"predicates":for(var c=(l=u(Si(l,"*"))).next();!c.done;c=l.next())s=ua(s,(c=bs(c.value,ws(t))).A()),o.push(["predicate",c])}if(r)switch(i=!0,e=Ei(e,"attributeTest anyElementTest piTest documentTest elementTest commentTest namespaceTest anyKindTest textTest anyFunctionTest typedFunctionTest schemaAttributeTest atomicType anyItemType parenthesizedItemType typedMapTest typedArrayTest nameTest Wildcard".split(" ")),e=xs(e),Ci(r)){case"ancestor":var p=new sa(e,{Oa:!1});break;case"ancestor-or-self":p=new sa(e,{Oa:!0});break;case"attribute":p=new ca(e,s);break;case"child":p=new pa(e,s);break;case"descendant":p=new da(e,{Oa:!1});break;case"descendant-or-self":p=new da(e,{Oa:!0});break;case"parent":p=new va(e,s);break;case"following-sibling":p=new ya(e,s);break;case"preceding-sibling":p=new ba(e,s);break;case"following":p=new ga(e);break;case"preceding":p=new wa(e);break;case"self":p=new xa(e,s)}else p=bs(p=Ti(e,["filterExpr","*"]),ws(t));for(r=(o=u(o)).next();!r.done;r=o.next())switch(r=r.value,r[0]){case"lookup":p=new vo(p,r[1]);break;case"predicate":p=new mo(p,r[1])}return p.type=n,p}));return e=Ei(e,"rootExpr"),!(r=i||null!==e||1<r.length)&&1===a.length||!e&&1===a.length&&"sorted"===a[0].O?a[0]:e&&0===a.length?new po(null):(a=new fo(a,r),e?new po(a):a)}(e,t);case"contextItemExpr":return new ho(Ni(e,"type"));case"functionCallExpr":return function(e,t){var n=Ei(e,"functionName"),r=Si(Ei(e,"arguments"),"*");return e=Ni(e,"type"),new Tr(new Da(Bi(n),r.length,e),r.map((function(e){return"argumentPlaceholder"===e[0]?null:bs(e,t)})),e)}(e,t);case"inlineFunctionExpr":return function(e,t){var n=Si(Ei(e,"paramList"),"*"),r=Ti(e,["functionBody","*"]),i=Ni(e,"type");return new Ia(n.map((function(e){return{name:Bi(Ei(e,"varName")),type:ki(e)}})),ki(e),r?bs(r,t):new Za([],i))}(e,t);case"arrowExpr":return function(e,t){var n=Ni(e,"type"),r=Ti(e,["argExpr","*"]);e=Si(e,"*").slice(1),r=[bs(r,t)];for(var i=0;i<e.length;i++)if("arguments"!==e[i][0]){if("arguments"===e[i+1][0]){var a=Si(e[i+1],"*");r=r.concat(a.map((function(e){return"argumentPlaceholder"===e[0]?null:bs(e,t)})))}r=[new Tr(a="EQName"===e[i][0]?new Da(Bi(e[i]),r.length,n):bs(e[i],ws(t)),r,n)]}return r[0]}(e,t);case"dynamicFunctionInvocationExpr":return function(e,t){var n=Ti(e,["functionItem","*"]),r=Ni(e,"type");e=Ei(e,"arguments");var i=[];return e&&(i=Si(e,"*").map((function(e){return"argumentPlaceholder"===e[0]?null:bs(e,t)}))),new Tr(bs(n,t),i,r)}(e,t);case"namedFunctionRef":return t=Ei(e,"functionName"),n=Ni(e,"type"),e=Ci(Ti(e,["integerConstantExpr","value"])),new Da(Bi(t),parseInt(e,10),n);case"integerConstantExpr":return new Oa(Ci(Ei(e,"value")),{type:5,g:3});case"stringConstantExpr":return new Oa(Ci(Ei(e,"value")),{type:1,g:3});case"decimalConstantExpr":return new Oa(Ci(Ei(e,"value")),{type:4,g:3});case"doubleConstantExpr":return new Oa(Ci(Ei(e,"value")),{type:3,g:3});case"varRef":return new No((e=Bi(Ei(e,"name"))).prefix,e.namespaceURI,e.localName);case"flworExpr":return function(e,t){var n=Si(e,"*");if(e=Ei(n[n.length-1],"*"),1<(n=n.slice(0,-1)).length&&!t.aa)throw Error("XPST0003: Use of XQuery FLWOR expressions in XPath is no allowed");return n.reduceRight((function(e,n){switch(n[0]){case"forClause":for(var r=(n=Si(n,"*")).length-1;0<=r;--r){var i=n[r],a=Ti(i,["forExpr","*"]),o=Ei(i,"positionalVariableBinding");e=new ka(Bi(Ti(i,["typedVariableBinding","varName"])),bs(a,ws(t)),o?Bi(o):null,e)}return e;case"letClause":for(r=(n=Si(n,"*")).length-1;0<=r;--r)a=Ti(i=n[r],["letExpr","*"]),e=new Pa(Bi(Ti(i,["typedVariableBinding","varName"])),bs(a,ws(t)),e);return e;case"whereClause":for(r=(n=Si(n,"*")).length-1;0<=r;--r)e=new To(bs(n[r],t),e);return e;case"windowClause":case"groupByClause":case"countClause":throw Error("Not implemented: "+n[0]+" is not implemented yet.");case"orderByClause":return function(e,t,n){return new co((e=Si(e,"*")).filter((function(e){return"stable"!==e[0]})).map((function(e){var n=Ei(e,"orderModifier"),r=n?Ei(n,"orderingKind"):null;return n=n?Ei(n,"emptyOrderingMode"):null,r=!r||"ascending"===Ci(r),n=!n||"empty least"===Ci(n),{da:bs(Ti(e,["orderByExpr","*"]),t),Gb:r,zc:n}})),n)}(n,t,e);default:throw Error("Not implemented: "+n[0]+" is not supported in a flwor expression")}}),bs(e,t))}(e,t);case"quantifiedExpr":return function(e,t){var n=Ni(e,"type"),r=Ci(Ei(e,"quantifier")),i=Ti(e,["predicateExpr","*"]);return e=Si(e,"quantifiedExprInClause").map((function(e){return{name:Bi(Ti(e,["typedVariableBinding","varName"])),eb:bs(e=Ti(e,["sourceExpr","*"]),ws(t))}})),new bo(r,e,bs(i,ws(t)),n)}(e,t);case"ifThenElseExpr":return n=Ni(e,"type"),new _a(bs(Ei(Ei(e,"ifClause"),"*"),ws(t)),bs(Ei(Ei(e,"thenClause"),"*"),t),bs(Ei(Ei(e,"elseClause"),"*"),t),n);case"instanceOfExpr":return n=bs(Ti(e,["argExpr","*"]),t),r=Ti(e,["sequenceType","*"]),i=Ti(e,["sequenceType","occurrenceIndicator"]),e=Ni(e,"type"),new io(n,bs(r,ws(t)),i?Ci(i):"",e);case"castExpr":return t=bs(Ei(Ei(e,"argExpr"),"*"),ws(t)),n=Ei(e,"singleType"),new no(t,e=Bi(Ei(n,"atomicType")),n=null!==Ei(n,"optional"));case"castableExpr":return t=bs(Ei(Ei(e,"argExpr"),"*"),ws(t)),n=Ei(e,"singleType"),new to(t,e=Bi(Ei(n,"atomicType")),n=null!==Ei(n,"optional"));case"simpleMapExpr":return function(e,t){var n=Ni(e,"type");return Si(e,"*").reduce((function(e,r){return null===e?bs(r,ws(t)):new eo(e,bs(r,ws(t)),n)}),null)}(e,t);case"mapConstructor":return function(e,t){var n=Ni(e,"type");return new Ra(Si(e,"mapConstructorEntry").map((function(e){return{key:bs(Ti(e,["mapKeyExpr","*"]),ws(t)),value:bs(Ti(e,["mapValueExpr","*"]),ws(t))}})),n)}(e,t);case"arrayConstructor":return function(e,t){var n=Ni(e,"type"),r=Si(e=Ei(e,"*"),"arrayElem").map((function(e){return bs(Ei(e,"*"),ws(t))}));switch(e[0]){case"curlyArray":return new ia(r,n);case"squareArray":return new aa(r,n);default:throw Error("Unrecognized arrayType: "+e[0])}}(e,t);case"unaryLookup":return n=Ni(e,"type"),new wo(As(e,t),n);case"typeswitchExpr":return function(e,t){if(!t.aa)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");var n=Ni(e,"type"),r=bs(Ei(Ei(e,"argExpr"),"*"),t),i=Si(e,"typeswitchExprCaseClause").map((function(e){var n=0===Si(e,"sequenceTypeUnion").length?[Ei(e,"sequenceType")]:Si(Ei(e,"sequenceTypeUnion"),"sequenceType");return{xc:bs(Ti(e,["resultExpr","*"]),t),Lb:n.map((function(e){var n=Ei(e,"occurrenceIndicator");return{Cc:n?Ci(n):"",Kb:bs(Ei(e,"*"),t)}}))}}));return e=bs(Ti(e,["typeswitchExprDefaultClause","resultExpr","*"]),t),new ms(r,i,e,n)}(e,t);case"elementConstructor":return function(e,t){if(!t.aa)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");var n=Bi(Ei(e,"tagName")),r=Ei(e,"attributeList"),i=r?Si(r,"attributeConstructor").map((function(e){return bs(e,ws(t))})):[];return r=r?Si(r,"namespaceDeclaration").map((function(e){var t=Ei(e,"prefix");return{prefix:t?Ci(t):"",uri:Ci(Ei(e,"uri"))}})):[],e=(e=Ei(e,"elementContent"))?Si(e,"*").map((function(e){return bs(e,ws(t))})):[],new cs(n,i,r,e)}(e,t);case"attributeConstructor":return function(e,t){if(!t.aa)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");var n=Bi(Ei(e,"attributeName")),r=Ei(e,"attributeValue");return r=r?Ci(r):null,e=(e=Ei(e,"attributeValueExpr"))?Si(e,"*").map((function(e){return bs(e,ws(t))})):null,new ls(n,{value:r,tb:e})}(e,t);case"computedAttributeConstructor":return(n=Ei(e,"tagName"))?n=Bi(n):(n=Ei(e,"tagNameExpr"),n={Ka:bs(Ei(n,"*"),ws(t))}),new ls(n,{tb:[e=bs(Ei(Ei(e,"valueExpr"),"*"),ws(t))]});case"computedCommentConstructor":if(!t.aa)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");return new us(e=(e=Ei(e,"argExpr"))?bs(Ei(e,"*"),ws(t)):null);case"computedTextConstructor":if(!t.aa)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");return new fs(e=(e=Ei(e,"argExpr"))?bs(Ei(e,"*"),ws(t)):null);case"computedElementConstructor":return function(e,t){var n=Ei(e,"tagName");return n?n=Bi(n):(n=Ei(e,"tagNameExpr"),n={Ka:bs(Ei(n,"*"),ws(t))}),e=(e=Ei(e,"contentExpr"))?Si(e,"*").map((function(e){return bs(e,ws(t))})):[],new cs(n,[],[],e)}(e,t);case"computedPIConstructor":if(!t.aa)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");return n=Ei(e,"piTargetExpr"),r=Ei(e,"piTarget"),i=Ei(e,"piValueExpr"),e=Ni(e,"type"),new ds({Cb:n?bs(Ei(n,"*"),ws(t)):null,Jb:r?Ci(r):null},i?bs(Ei(i,"*"),ws(t)):new Za([],e));case"CDataSection":return new Oa(Ci(e),{type:1,g:3});case"deleteExpr":return new zo(e=bs(Ti(e,["targetExpr","*"]),t));case"insertExpr":switch(n=bs(Ti(e,["sourceExpr","*"]),t),(i=Si(e,"*")[1])[0]){case"insertAfter":r=1;break;case"insertBefore":r=2;break;case"insertInto":r=(r=Ei(i,"*"))?"insertAsFirst"===r[0]?4:5:3}return new Ko(n,r,e=bs(Ti(e,["targetExpr","*"]),t));case"renameExpr":return new ns(n=bs(Ti(e,["targetExpr","*"]),t),e=bs(Ti(e,["newNameExpr","*"]),t));case"replaceExpr":return new rs(n=!!Ei(e,"replaceValue"),r=bs(Ti(e,["targetExpr","*"]),t),e=bs(Ti(e,["replacementExpr","*"]),t));case"transformExpr":return function(e,t){var n=Si(Ei(e,"transformCopies"),"transformCopy").map((function(e){var n=Bi(Ei(Ei(e,"varRef"),"name"));return{eb:bs(Ei(Ei(e,"copySource"),"*"),t),Nb:new ve(n.prefix,n.namespaceURI,n.localName)}})),r=bs(Ei(Ei(e,"modifyExpr"),"*"),t);return e=bs(Ei(Ei(e,"returnExpr"),"*"),t),new os(n,r,e)}(e,t);case"x:stackTrace":for(n=e[1],e=e[2];"x:stackTrace"===e[0];)e=e[2];return new Na(n,e[0],bs(e,t));default:return xs(e)}}function xs(e){switch(e[0]){case"nameTest":return new Ao(Bi(e));case"piTest":return(e=Ei(e,"piTarget"))?new Eo(Ci(e)):new _o(7);case"commentTest":return new _o(8);case"textTest":return new _o(3);case"documentTest":return new _o(9);case"attributeTest":var t=(e=Ei(e,"attributeName"))&&Ei(e,"star");return!e||t?new _o(2):new Ao(Bi(Ei(e,"QName")),{kind:2});case"elementTest":return t=(e=Ei(e,"elementName"))&&Ei(e,"star"),!e||t?new _o(1):new Ao(Bi(Ei(e,"QName")),{kind:1});case"anyKindTest":return new Co({prefix:"",namespaceURI:null,localName:"node()"});case"anyMapTest":return new Co({prefix:"",namespaceURI:null,localName:"map(*)"});case"anyArrayTest":return new Co({prefix:"",namespaceURI:null,localName:"array(*)"});case"Wildcard":return Ei(e,"star")?(t=Ei(e,"uri"))?e=new Ao({localName:"*",namespaceURI:Ci(t),prefix:""}):(t=Ei(e,"NCName"),e="star"===Ei(e,"*")[0]?new Ao({localName:Ci(t),namespaceURI:null,prefix:"*"}):new Ao({localName:"*",namespaceURI:null,prefix:Ci(t)})):e=new Ao({localName:"*",namespaceURI:null,prefix:"*"}),e;case"atomicType":return new Co(Bi(e));case"anyItemType":return new Co({prefix:"",namespaceURI:null,localName:"item()"});default:throw Error("No selector counterpart for: "+e[0]+".")}}function _s(e,t,n){var r=[];return function t(i){var a=Ei(Ei(i,"firstOperand"),"*");i=Ei(Ei(i,"secondOperand"),"*"),a[0]===e?t(a):r.push(bs(a,n)),i[0]===e?t(i):r.push(bs(i,n))}(t),r}function As(e,t){switch((e=Ei(e,"*"))[0]){case"NCName":return new Oa(Ci(e),{type:1,g:3});case"star":return"*";default:return bs(e,ws(t))}}function Es(e,t,n){var r=Ti(t,["firstOperand","*"]),i=Ti(t,["secondOperand","*"]);switch(r=bs(r,ws(n)),n=bs(i,ws(n)),e){case"valueCompare":return new za(t[0],r,n);case"nodeCompare":return new Ja(t[0],r,n);case"generalCompare":return new Ya(t[0],r,n)}}function Cs(e,t){return bs(e,t)}var Ns=new Map;function Ts(e,t,n,r,i,a){this.j=e,this.u=t,this.h=n,this.A=r,this.s=i,this.O=a}function Ss(e,t,n,r,i,a,o){var s=Ns.get(e);s||(s=Object.create(null),Ns.set(e,s)),(t=s[e=t+(a?"_DEBUG":"")])||(t=s[e]=[]),t.push(new Ts(Object.values(n.h),Object.values(n.s),i,Object.keys(r).map((function(e){return{namespaceURI:r[e],prefix:e}})),o,n.j))}function Bs(e){var t=new Ae;if("http://www.w3.org/2005/XQueryX"!==e.namespaceURI&&"http://www.w3.org/2005/XQueryX"!==e.namespaceURI&&"http://fontoxml.com/fontoxpath"!==e.namespaceURI&&"http://www.w3.org/2007/xquery-update-10"!==e.namespaceURI)throw Bt("The XML structure passed as an XQueryX program was not valid XQueryX");var n=["stackTrace"===e.localName?"x:stackTrace":e.localName],r=t.getAllAttributes(e);for(r&&0<r.length&&n.push(Array.from(r).reduce((function(e,t){return e[t.localName]="type"===t.localName?ye(t.value):t.value,e}),{})),e=t.getChildNodes(e),t=(e=u(e)).next();!t.done;t=e.next())switch(t=t.value,t.nodeType){case 1:n.push(Bs(t));break;case 3:n.push(t.data)}return n}var ks=Object.create(null);function Is(e,t){var n=ks[e];n||(n=ks[e]={Ma:[],Ua:[]}),n.Ma=n.Ma.concat(t.Ma),n.Ua=n.Ua.concat(t.Ua)}function Ps(e,t){var n=ks[t];if(!n)throw Error("XQST0051: No modules found with the namespace uri "+t);n.Ma.forEach((function(n){return wi(e,t,n.localName,n.arity,n.Eb)})),n.Ua.forEach((function(n){xi(e,t,n.localName),_i(e,t,n.localName,(function(e,t){return lr(n.da,e,t)}))}))}function Os(e){return e.replace(/(\x0D\x0A)|(\x0D(?!\x0A))/g,String.fromCharCode(10))}var Rs=t;function Ds(e,t){return function(n,r){return t.has(r)?t.get(r):(n=e(n,r),t.set(r,n),n)}}function Ms(e,t){return Rs.delimited(t,e,t)}function Fs(e,t){return e.reverse().reduce((function(e,t){return Rs.preceded(t,e)}),t)}function Us(e,t,n,r){return Rs.then(Rs.then(e,t,(function(e,t){return[e,t]})),n,(function(e,t){var n=u(e);return e=n.next().value,n=n.next().value,r(e,n,t)}))}function Hs(e,t,n,r,i){return Rs.then(Rs.then(Rs.then(e,t,(function(e,t){return[e,t]})),n,(function(e,t){var n=u(e);return[e=n.next().value,n=n.next().value,t]})),r,(function(e,t){var n=u(e);e=n.next().value;var r=n.next().value;return n=n.next().value,i(e,r,n,t)}))}function Ls(e){return Rs.map(e,(function(e){return[e]}))}function Gs(e,t){return Rs.map(Rs.or(e),(function(){return t}))}function js(e){return function(t,n){return(t=e.exec(t.substring(n)))&&0===t.index?Rs.okWithValue(n+t[0].length,t[0]):Rs.error(n,[e.source],!1)}}var $s=Rs.or([Rs.token(" "),Rs.token("\t"),Rs.token("\r"),Rs.token("\n")]),Xs=Rs.token("(:"),zs=Rs.token(":)"),qs=Rs.token("(#"),Vs=Rs.token("#)"),Ys=Rs.token("("),Ks=Rs.token(")"),Js=Rs.token("["),Qs=Rs.token("]"),Ws=Rs.token("{"),Zs=Rs.token("}"),el=Rs.token("{{"),tl=Rs.token("}}"),nl=Rs.token("'"),rl=Rs.token("''"),il=Rs.token('"'),al=Rs.token('""'),ol=Rs.token("<![CDATA["),sl=Rs.token("]]>"),ll=Rs.token("/>"),ul=Rs.token("</"),cl=Rs.token("\x3c!--"),pl=Rs.token("--\x3e"),hl=Rs.token("<?"),dl=Rs.token("?>"),fl=Rs.token("&#x"),ml=Rs.token("&#"),gl=Rs.token(":*"),yl=Rs.token("*:"),vl=Rs.token(":="),wl=Rs.token("&"),bl=Rs.token(":"),xl=Rs.token(";"),_l=Rs.token("*"),Al=Rs.token("@"),El=Rs.token("$"),Cl=Rs.token("#"),Nl=Rs.token("%"),Tl=Rs.token("?"),Sl=Rs.token("!"),Bl=Rs.token("|"),kl=Rs.token("||"),Il=Rs.token("="),Pl=Rs.token("!="),Ol=Rs.token("<"),Rl=Rs.token("<<"),Dl=Rs.token("<="),Ml=Rs.token(">"),Fl=Rs.token(">>"),Ul=Rs.token(">="),Hl=Rs.token(","),Ll=Rs.token("."),Gl=Rs.token(".."),jl=Rs.token("+"),$l=Rs.token("-"),Xl=Rs.token("/"),zl=Rs.token("//"),ql=Rs.token("=>"),Vl=Rs.token("e"),Yl=Rs.token("E"),Kl=Rs.token("l"),Jl=Rs.token("L"),Ql=Rs.token("m"),Wl=Rs.token("M"),Zl=Rs.token("Q"),eu=Rs.token("x"),tu=Rs.token("X"),nu=Rs.token("as"),ru=Rs.token("cast"),iu=Rs.token("castable"),au=Rs.token("treat"),ou=Rs.token("instance"),su=Rs.token("of"),lu=Rs.token("node"),uu=Rs.token("nodes"),cu=Rs.token("delete"),pu=Rs.token("value"),hu=Rs.token("function"),du=Rs.token("map"),fu=Rs.token("element"),mu=Rs.token("attribute"),gu=Rs.token("schema-element"),yu=Rs.token("intersect"),vu=Rs.token("except"),wu=Rs.token("union"),bu=Rs.token("to"),xu=Rs.token("is"),_u=Rs.token("or"),Au=Rs.token("and"),Eu=Rs.token("div"),Cu=Rs.token("idiv"),Nu=Rs.token("mod"),Tu=Rs.token("eq"),Su=Rs.token("ne"),Bu=Rs.token("lt"),ku=Rs.token("le"),Iu=Rs.token("gt"),Pu=Rs.token("ge"),Ou=Rs.token("amp"),Ru=Rs.token("quot"),Du=Rs.token("apos"),Mu=Rs.token("if"),Fu=Rs.token("then"),Uu=Rs.token("else"),Hu=Rs.token("allowing"),Lu=Rs.token("empty"),Gu=Rs.token("at"),ju=Rs.token("in"),$u=Rs.token("for"),Xu=Rs.token("let"),zu=Rs.token("where"),qu=Rs.token("collation"),Vu=Rs.token("group"),Yu=Rs.token("by"),Ku=Rs.token("order"),Ju=Rs.token("stable"),Qu=Rs.token("return"),Wu=Rs.token("array"),Zu=Rs.token("document"),ec=Rs.token("namespace"),tc=Rs.token("text"),nc=Rs.token("comment"),rc=Rs.token("processing-instruction"),ic=Rs.token("lax"),ac=Rs.token("strict"),oc=Rs.token("validate"),sc=Rs.token("type"),lc=Rs.token("declare"),uc=Rs.token("default"),cc=Rs.token("boundary-space"),pc=Rs.token("strip"),hc=Rs.token("preserve"),dc=Rs.token("no-preserve"),fc=Rs.token("inherit"),mc=Rs.token("no-inherit"),gc=Rs.token("greatest"),yc=Rs.token("least"),vc=Rs.token("copy-namespaces"),wc=Rs.token("decimal-format"),bc=Rs.token("case"),xc=Rs.token("typeswitch"),_c=Rs.token("some"),Ac=Rs.token("every"),Ec=Rs.token("satisfies"),Cc=Rs.token("replace"),Nc=Rs.token("with"),Tc=Rs.token("copy"),Sc=Rs.token("modify"),Bc=Rs.token("first"),kc=Rs.token("last"),Ic=Rs.token("before"),Pc=Rs.token("after"),Oc=Rs.token("into"),Rc=Rs.token("insert"),Dc=Rs.token("rename"),Mc=Rs.token("switch"),Fc=Rs.token("variable"),Uc=Rs.token("external"),Hc=Rs.token("updating"),Lc=Rs.token("import"),Gc=Rs.token("schema"),jc=Rs.token("module"),$c=Rs.token("base-uri"),Xc=Rs.token("construction"),zc=Rs.token("ordering"),qc=Rs.token("ordered"),Vc=Rs.token("unordered"),Yc=Rs.token("option"),Kc=Rs.token("context"),Jc=Rs.token("item"),Qc=Rs.token("xquery"),Wc=Rs.token("version"),Zc=Rs.token("encoding"),ep=Rs.token("document-node"),tp=Rs.token("namespace-node"),np=Rs.token("schema-attribute"),rp=Rs.token("ascending"),ip=Rs.token("descending"),ap=Rs.token("empty-sequence"),op=Rs.token("child::"),sp=Rs.token("descendant::"),lp=Rs.token("attribute::"),up=Rs.token("self::"),cp=Rs.token("descendant-or-self::"),pp=Rs.token("following-sibling::"),hp=Rs.token("following::"),dp=Rs.token("parent::"),fp=Rs.token("ancestor::"),mp=Rs.token("preceding-sibling::"),gp=Rs.token("preceding::"),yp=Rs.token("ancestor-or-self::"),vp=Rs.token("decimal-separator"),wp=Rs.token("grouping-separator"),bp=Rs.token("infinity"),xp=Rs.token("minus-sign"),_p=Rs.token("NaN"),Ap=Rs.token("per-mille"),Ep=Rs.token("zero-digit"),Cp=Rs.token("digit"),Np=Rs.token("pattern-separator"),Tp=Rs.token("exponent-separator"),Sp=Rs.token("schema-attribute("),Bp=Rs.token("document-node("),kp=Rs.token("processing-instruction("),Ip=Rs.token("processing-instruction()"),Pp=Rs.token("comment()"),Op=Rs.token("text()"),Rp=Rs.token("namespace-node()"),Dp=Rs.token("node()"),Mp=Rs.token("item()"),Fp=Rs.token("empty-sequence()"),Up=new Map,Hp=new Map,Lp=Rs.or([js(/[\t\n\r -\uD7FF\uE000\uFFFD]/),js(/[\uD800-\uDBFF][\uDC00-\uDFFF]/)]),Gp=Rs.preceded(Rs.peek(Rs.not(Rs.or([Xs,zs]),['comment contents cannot contain "(:" or ":)"'])),Lp),jp=Rs.map(Rs.delimited(Xs,Rs.star(Rs.or([Gp,function(e,t){return jp(e,t)}])),zs),(function(e){return e.join("")})),$p=Rs.or([$s,jp]),Xp=Rs.map(Rs.plus($s),(function(e){return e.join("")})),zp=Ds(Rs.map(Rs.star($p),(function(e){return e.join("")})),Up),qp=Ds(Rs.map(Rs.plus($p),(function(e){return e.join("")})),Hp),Vp=Rs.or([js(/[A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/),Rs.then(js(/[\uD800-\uDB7F]/),js(/[\uDC00-\uDFFF]/),(function(e,t){return e+t}))]),Yp=Rs.or([Vp,js(/[\-\.0-9\xB7\u0300-\u036F\u203F\u2040]/)]),Kp=Rs.then(Vp,Rs.star(Yp),(function(e,t){return e+t.join("")})),Jp=Rs.map(Kp,(function(e){return["prefix",e]})),Qp=Rs.or([Vp,bl]),Wp=Rs.or([Yp,bl]),Zp=Rs.then(Qp,Rs.star(Wp),(function(e,t){return e+t.join("")})),eh=Rs.map(Kp,(function(e){var t={};return[(t.prefix="",t.URI=null,t),e]})),th=Rs.then(Kp,Rs.preceded(bl,Kp),(function(e,t){var n={};return[(n.prefix=e,n.URI=null,n),t]})),nh=Rs.or([th,eh]),rh=Rs.followed(Fs([Zl,zp,Ws],Rs.map(Rs.star(js(/[^{}]/)),(function(e){return e.join("").replace(/\s+/g," ").trim()}))),Zs),ih=Rs.then(rh,Kp,(function(e,t){return[e,t]})),ah=Rs.or([Rs.map(ih,(function(e){var t={};return[(t.prefix=null,t.URI=e[0],t),e[1]]})),nh]),oh=Rs.or([Rs.map(ah,(function(e){return["QName"].concat(p(e))})),Rs.map(_l,(function(){return["star"]}))]),sh=Rs.map(Rs.preceded(El,ah),(function(e){return["varRef",["name"].concat(p(e))]})),lh=Rs.peek(Rs.or([Ys,il,nl,$p])),uh=Rs.map(Rs.or([op,sp,lp,up,cp,pp,hp]),(function(e){return e.substring(0,e.length-2)})),ch=Rs.map(Rs.or([dp,fp,mp,gp,yp]),(function(e){return e.substring(0,e.length-2)})),ph=Us(wl,Rs.or([Bu,Iu,Ou,Ru,Du]),xl,(function(e,t,n){return e+t+n})),hh=Rs.or([Us(fl,js(/[0-9a-fA-F]+/),xl,(function(e,t,n){return e+t+n})),Us(ml,js(/[0-9]+/),xl,(function(e,t,n){return e+t+n}))]),dh=Gs([al],'"'),fh=Gs([rl],"'"),mh=Ls(Gs([Pp],"commentTest")),gh=Ls(Gs([Op],"textTest")),yh=Ls(Gs([Rp],"namespaceTest")),vh=Ls(Gs([Dp],"anyKindTest")),wh=js(/[0-9]+/),bh=Rs.then(Rs.or([Rs.then(Ll,wh,(function(e,t){return e+t})),Rs.then(wh,Rs.optional(Rs.preceded(Ll,js(/[0-9]*/))),(function(e,t){return e+(null!==t?"."+t:"")}))]),Us(Rs.or([Vl,Yl]),Rs.optional(Rs.or([jl,$l])),wh,(function(e,t,n){return e+(t||"")+n})),(function(e,t){return["doubleConstantExpr",["value",e+t]]})),xh=Rs.or([Rs.map(Rs.preceded(Ll,wh),(function(e){return["decimalConstantExpr",["value","."+e]]})),Rs.then(Rs.followed(wh,Ll),Rs.optional(wh),(function(e,t){return["decimalConstantExpr",["value",e+"."+(null!==t?t:"")]]}))]),_h=Rs.map(wh,(function(e){return["integerConstantExpr",["value",e]]})),Ah=Rs.followed(Rs.or([bh,xh,_h]),Rs.peek(Rs.not(js(/[a-zA-Z]/),["no alphabetical characters after numeric literal"]))),Eh=Rs.map(Rs.followed(Ll,Rs.peek(Rs.not(Ll,["context item should not be followed by another ."]))),(function(){return["contextItemExpr"]})),Ch=Rs.or([Wu,mu,nc,ep,fu,ap,hu,Mu,Jc,du,tp,lu,rc,np,gu,Mc,tc,xc]),Nh=Ls(Gs([Tl],"argumentPlaceholder")),Th=Rs.or([Tl,_l,jl]),Sh=Rs.preceded(Rs.peek(Rs.not(js(/[{}<&]/),["elementContentChar cannot be {, }, <, or &"])),Lp),Bh=Rs.map(Rs.delimited(ol,Rs.star(Rs.preceded(Rs.peek(Rs.not(sl,['CDataSection content may not contain "]]>"'])),Lp)),sl),(function(e){return["CDataSection",e.join("")]})),kh=Rs.preceded(Rs.peek(Rs.not(js(/["{}<&]/),['quotAttrValueContentChar cannot be ", {, }, <, or &'])),Lp),Ih=Rs.preceded(Rs.peek(Rs.not(js(/['{}<&]/),["aposAttrValueContentChar cannot be ', {, }, <, or &"])),Lp),Ph=Rs.map(Rs.star(Rs.or([Rs.preceded(Rs.peek(Rs.not($l,[])),Lp),Rs.map(Fs([$l,Rs.peek(Rs.not($l,[]))],Lp),(function(e){return"-"+e}))])),(function(e){return e.join("")})),Oh=Rs.map(Rs.delimited(cl,Ph,pl),(function(e){return["computedCommentConstructor",["argExpr",["stringConstantExpr",["value",e]]]]})),Rh=Rs.preceded(Rs.peek(Rs.not(Us(Rs.or([tu,eu]),Rs.or([Wl,Ql]),Rs.or([Jl,Kl]),(function(){return[]})),[])),Zp),Dh=Rs.map(Rs.star(Rs.preceded(Rs.peek(Rs.not(dl,[])),Lp)),(function(e){return e.join("")})),Mh=Rs.then(Rs.preceded(hl,Rh),Rs.followed(Rs.optional(Rs.preceded(Xp,Dh)),dl),(function(e,t){return["computedPIConstructor",["piTarget",e],["piValueExpr",["stringConstantExpr",["value",t]]]]})),Fh=Rs.map(zl,(function(){return["stepExpr",["xpathAxis","descendant-or-self"],["anyKindTest"]]})),Uh=Rs.or([ic,ac]),Hh=Rs.map(Rs.star(Rs.followed(Lp,Rs.peek(Rs.not(Vs,["Pragma contents should not contain '#)'"])))),(function(e){return e.join("")})),Lh=Rs.map(Rs.followed(Rs.or([Tu,Su,Bu,ku,Iu,Pu]),lh),(function(e){return e+"Op"})),Gh=Rs.or([Rs.followed(Gs([xu],"isOp"),lh),Gs([Rl],"nodeBeforeOp"),Gs([Fl],"nodeAfterOp")]),jh=Rs.or([Gs([Il],"equalOp"),Gs([Pl],"notEqualOp"),Gs([Dl],"lessThanOrEqualOp"),Gs([Ol],"lessThanOp"),Gs([Ul],"greaterThanOrEqualOp"),Gs([Ml],"greaterThanOp")]),$h=Rs.map(Hc,(function(){return["annotation",["annotationName","updating"]]})),Xh=Rs.or([hc,dc]),zh=Rs.or([fc,mc]),qh=Rs.or([vp,wp,bp,xp,_p,Nl,Ap,Ep,Cp,Np,Tp]),Vh=Rs.map(Fs([lc,qp,cc,qp],Rs.or([hc,pc])),(function(e){return["boundarySpaceDecl",e]})),Yh=Rs.map(Fs([lc,qp,Xc,qp],Rs.or([hc,pc])),(function(e){return["constructionDecl",e]})),Kh=Rs.map(Fs([lc,qp,zc,qp],Rs.or([qc,Vc])),(function(e){return["orderingModeDecl",e]})),Jh=Rs.map(Fs([lc,qp,uc,qp,Ku,qp,Lu,qp],Rs.or([gc,yc])),(function(e){return["emptyOrderDecl",e]})),Qh=Rs.then(Fs([lc,qp,vc,qp],Xh),Fs([zp,Hl,zp],zh),(function(e,t){return["copyNamespacesDecl",["preserveMode",e],["inheritMode",t]]}));function Wh(e){switch(e[0]){case"constantExpr":case"varRef":case"contextItemExpr":case"functionCallExpr":case"sequenceExpr":case"elementConstructor":case"computedElementConstructor":case"computedAttributeConstructor":case"computedDocumentConstructor":case"computedTextConstructor":case"computedCommentConstructor":case"computedNamespaceConstructor":case"computedPIConstructor":case"orderedExpr":case"unorderedExpr":case"namedFunctionRef":case"inlineFunctionExpr":case"dynamicFunctionInvocationExpr":case"mapConstructor":case"arrayConstructor":case"stringConstructor":case"unaryLookup":return e}return["sequenceExpr",e]}function Zh(e){if(!(1<=e&&55295>=e||57344<=e&&65533>=e||65536<=e&&1114111>=e))throw Error("XQST0090: The character reference "+e+" ("+e.toString(16)+") does not reference a valid codePoint.")}function ed(e){return e.replace(/(&[^;]+);/g,(function(e){if(/^&#x/.test(e))return Zh(e=parseInt(e.slice(3,-1),16)),String.fromCodePoint(e);if(/^&#/.test(e))return Zh(e=parseInt(e.slice(2,-1),10)),String.fromCodePoint(e);switch(e){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&quot;":return String.fromCharCode(34);case"&apos;":return String.fromCharCode(39)}throw Error('XPST0003: Unknown character reference: "'+e+'"')}))}function td(e,t,n){if(!e.length)return[];for(var r=[e[0]],i=1;i<e.length;++i){var a=r[r.length-1];"string"==typeof a&&"string"==typeof e[i]?r[r.length-1]=a+e[i]:r.push(e[i])}if("string"==typeof r[0]&&0===r.length)return[];if(r=r.reduce((function(e,t,i){if("string"!=typeof t)e.push(t);else if(n&&/^\s*$/.test(t)){var a=r[i+1];(a&&"CDataSection"===a[0]||(i=r[i-1])&&"CDataSection"===i[0])&&e.push(ed(t))}else e.push(ed(t));return e}),[]),!r.length)return r;if(1<r.length||t)for(e=0;e<r.length;e++)"string"==typeof r[e]&&(r[e]=["stringConstantExpr",["value",r[e]]]);return r}function nd(e){return e[0].prefix?e[0].prefix+":"+e[1]:e[1]}var rd=Rs.then(ah,Rs.optional(Tl),(function(e,t){return null!==t?["singleType",["atomicType"].concat(p(e)),["optional"]]:["singleType",["atomicType"].concat(p(e))]})),id=Rs.map(ah,(function(e){return["atomicType"].concat(p(e))})),ad=new Map;function od(e){function t(e,t){return t.reduce((function(e,t){return[t[0],["firstOperand",e],["secondOperand",t[1]]]}),e)}function n(e,t,n){return Rs.then(e,Rs.star(Rs.then(Ms(t,zp),e,(function(e,t){return[e,t]}))),n)}function r(e,t,n,r){return n=void 0===n?"firstOperand":n,r=void 0===r?"secondOperand":r,Rs.then(e,Rs.optional(Rs.then(Ms(t,zp),e,(function(e,t){return[e,t]}))),(function(e,t){return null===t?e:[t[0],[n,e],[r,t[1]]]}))}function i(t){return e.sb?function(e,n){if(!(e=t(e,n)).success)return e;var r=c.has(n)?c.get(n):{offset:n,line:-1,la:-1},i=c.has(e.offset)?c.get(e.offset):{offset:e.offset,line:-1,la:-1};return c.set(n,r),c.set(e.offset,i),Rs.okWithValue(e.offset,["x:stackTrace",{start:r,end:i},e.value])}:t}function a(e,t){return Q(e,t)}function o(e,t){return He(e,t)}function s(e,t){return i(Rs.or([Tt,Ot,jt,kt,st,Ht,Rt,Lt,Dt,Ft,ot]))(e,t)}function l(e,t){return n(s,Hl,(function(e,t){return 0===t.length?e:["sequenceExpr",e].concat(p(t.map((function(e){return e[1]}))))}))(e,t)}var c=new Map,h=Rs.preceded(Js,Rs.followed(Ms(l,zp),Qs)),d=Rs.map(e.Va?Rs.or([Ms(Rs.star(Rs.or([ph,hh,dh,js(/[^"&]/)])),il),Ms(Rs.star(Rs.or([ph,hh,fh,js(/[^'&]/)])),nl)]):Rs.or([Ms(Rs.star(Rs.or([dh,js(/[^"]/)])),il),Ms(Rs.star(Rs.or([fh,js(/[^']/)])),nl)]),(function(e){return e.join("")})),f=Rs.or([Rs.map(Fs([fu,zp],Rs.delimited(Rs.followed(Ys,zp),Rs.then(oh,Fs([zp,Hl,zp],ah),(function(e,t){return[["elementName",e],["typeName"].concat(p(t))]})),Rs.preceded(zp,Ks))),(function(e){var t=u(e);return["elementTest",e=t.next().value,t=t.next().value]})),Rs.map(Fs([fu,zp],Rs.delimited(Ys,oh,Ks)),(function(e){return["elementTest",["elementName",e]]})),Rs.map(Fs([fu,zp],Rs.delimited(Ys,zp,Ks)),(function(){return["elementTest"]}))]),m=Rs.or([Rs.map(ah,(function(e){return["QName"].concat(p(e))})),Rs.map(_l,(function(){return["star"]}))]),g=Rs.or([Rs.map(Fs([mu,zp],Rs.delimited(Rs.followed(Ys,zp),Rs.then(m,Fs([zp,Hl,zp],ah),(function(e,t){return[["attributeName",e],["typeName"].concat(p(t))]})),Rs.preceded(zp,Ks))),(function(e){var t=u(e);return["attributeTest",e=t.next().value,t=t.next().value]})),Rs.map(Fs([mu,zp],Rs.delimited(Ys,m,Ks)),(function(e){return["attributeTest",["attributeName",e]]})),Rs.map(Fs([mu,zp],Rs.delimited(Ys,zp,Ks)),(function(){return["attributeTest"]}))]),y=Rs.map(Fs([gu,zp,Ys],Rs.followed(ah,Ks)),(function(e){return["schemaElementTest"].concat(p(e))})),v=Rs.map(Rs.delimited(Sp,Ms(ah,zp),Ks),(function(e){return["schemaAttributeTest"].concat(p(e))})),w=Rs.map(Rs.preceded(Bp,Rs.followed(Ms(Rs.optional(Rs.or([f,y])),zp),Ks)),(function(e){return["documentTest"].concat(p(e?[e]:[]))})),b=Rs.or([Rs.map(Rs.preceded(kp,Rs.followed(Ms(Rs.or([Kp,d]),zp),Ks)),(function(e){return["piTest",["piTarget",e]]})),Ls(Gs([Ip],"piTest"))]),x=Rs.or([w,f,g,y,v,b,mh,gh,yh,vh]),_=Rs.or([Rs.map(Rs.preceded(yl,Kp),(function(e){return["Wildcard",["star"],["NCName",e]]})),Ls(Gs([_l],"Wildcard")),Rs.map(Rs.followed(rh,_l),(function(e){return["Wildcard",["uri",e],["star"]]})),Rs.map(Rs.followed(Kp,gl),(function(e){return["Wildcard",["NCName",e],["star"]]}))]),A=Rs.or([_,Rs.map(ah,(function(e){return["nameTest"].concat(p(e))}))]),E=Rs.or([x,A]),C=Rs.then(Rs.optional(Al),E,(function(e,t){return null!==e||"attributeTest"===t[0]||"schemaAttributeTest"===t[0]?["stepExpr",["xpathAxis","attribute"],t]:["stepExpr",["xpathAxis","child"],t]})),N=Rs.or([Rs.then(uh,E,(function(e,t){return["stepExpr",["xpathAxis",e],t]})),C]),T=Rs.map(Gl,(function(){return["stepExpr",["xpathAxis","parent"],["anyKindTest"]]})),S=Rs.or([Rs.then(ch,E,(function(e,t){return["stepExpr",["xpathAxis",e],t]})),T]),B=Rs.map(Rs.star(Rs.preceded(zp,h)),(function(e){return 0<e.length?["predicates"].concat(p(e)):void 0})),k=Rs.then(Rs.or([S,N]),B,(function(e,t){return void 0===t?e:e.concat([t])})),I=Rs.or([Ah,Rs.map(d,(function(t){return["stringConstantExpr",["value",e.Va?ed(t):t]]}))]),P=Rs.or([Rs.delimited(Ys,Ms(l,zp),Ks),Rs.map(Rs.delimited(Ys,zp,Ks),(function(){return["sequenceExpr"]}))]),O=Rs.or([s,Nh]),R=Rs.map(Rs.delimited(Ys,Ms(Rs.optional(Rs.then(O,Rs.star(Rs.preceded(Ms(Hl,zp),O)),(function(e,t){return[e].concat(p(t))}))),zp),Ks),(function(e){return null!==e?e:[]})),D=Rs.preceded(Rs.not(Us(Ch,zp,Ys,(function(){})),["cannot use reseved keyword for function names"]),Rs.then(ah,Rs.preceded(zp,R),(function(e,t){return["functionCallExpr",["functionName"].concat(p(e)),null!==t?["arguments"].concat(p(t)):["arguments"]]}))),M=Rs.then(ah,Rs.preceded(Cl,_h),(function(e,t){return["namedFunctionRef",["functionName"].concat(p(e)),t]})),F=Rs.delimited(Ws,Ms(Rs.optional(l),zp),Zs),U=Rs.map(F,(function(e){return e||["sequenceExpr"]})),H=Rs.or([Rs.map(Fp,(function(){return[["voidSequenceType"]]})),Rs.then(a,Rs.optional(Rs.preceded(zp,Th)),(function(e,t){return[e].concat(p(null!==t?[["occurrenceIndicator",t]]:[]))}))]),L=Rs.then(Fs([Nl,zp],ah),Rs.optional(Rs.followed(Rs.then(Fs([Ys,zp],I),Rs.star(Fs([Hl,zp],I)),(function(e,t){return e.concat(t)})),Ks)),(function(e,t){return["annotation",["annotationName"].concat(p(e))].concat(p(t?["arguments",t]:[]))})),G=Rs.map(Fs([hu,zp,Ys,zp,_l,zp],Ks),(function(){return["anyFunctionTest"]})),j=Rs.then(Fs([hu,zp,Ys,zp],Rs.optional(n(H,Hl,(function(e,t){return e.concat.apply(e,t.map((function(e){return e[1]})))})))),Fs([zp,Ks,qp,nu,qp],H),(function(e,t){return["typedFunctionTest",["paramTypeList",["sequenceType"].concat(p(e||[]))],["sequenceType"].concat(p(t))]})),$=Rs.then(Rs.star(L),Rs.or([G,j]),(function(e,t){return[t[0]].concat(p(e),p(t.slice(1)))})),X=Rs.map(Fs([du,zp,Ys,zp,_l,zp],Ks),(function(){return["anyMapTest"]})),z=Rs.then(Fs([du,zp,Ys,zp],id),Fs([zp,Hl],Rs.followed(Ms(H,zp),Ks)),(function(e,t){return["typedMapTest",e,["sequenceType"].concat(p(t))]})),q=Rs.or([X,z]),V=Rs.map(Fs([Wu,zp,Ys,zp,_l,zp],Ks),(function(){return["anyArrayTest"]})),Y=Rs.map(Fs([Wu,zp,Ys],Rs.followed(Ms(H,zp),Ks)),(function(e){return["typedArrayTest",["sequenceType"].concat(p(e))]})),K=Rs.or([V,Y]),J=Rs.map(Rs.delimited(Ys,Ms(a,zp),Ks),(function(e){return["parenthesizedItemType",e]})),Q=Rs.or([x,Ls(Gs([Mp],"anyItemType")),$,q,K,id,J]),W=Rs.map(Fs([nu,qp],H),(function(e){return["typeDeclaration"].concat(p(e))})),Z=Rs.then(Rs.preceded(El,ah),Rs.optional(Rs.preceded(qp,W)),(function(e,t){return["param",["varName"].concat(p(e))].concat(p(t?[t]:[]))})),ee=n(Z,Hl,(function(e,t){return[e].concat(p(t.map((function(e){return e[1]}))))})),te=Hs(Rs.star(L),Fs([zp,hu,zp,Ys,zp],Rs.optional(ee)),Fs([zp,Ks,zp],Rs.optional(Rs.map(Fs([nu,zp],Rs.followed(H,zp)),(function(e){return["typeDeclaration"].concat(p(e))})))),U,(function(e,t,n,r){return["inlineFunctionExpr"].concat(p(e),[["paramList"].concat(p(t||[]))],p(n?[n]:[]),[["functionBody",r]])})),ne=Rs.or([M,te]),re=Rs.map(s,(function(e){return["mapKeyExpr",e]})),ie=Rs.map(s,(function(e){return["mapValueExpr",e]})),ae=Rs.then(re,Rs.preceded(Ms(bl,zp),ie),(function(e,t){return["mapConstructorEntry",e,t]})),oe=Rs.preceded(du,Rs.delimited(Ms(Ws,zp),Rs.map(Rs.optional(n(ae,Ms(Hl,zp),(function(e,t){return[e].concat(p(t.map((function(e){return e[1]}))))}))),(function(e){return e?["mapConstructor"].concat(p(e)):["mapConstructor"]})),Rs.preceded(zp,Zs))),se=Rs.map(Rs.delimited(Js,Ms(Rs.optional(n(s,Hl,(function(e,t){return[e].concat(p(t.map((function(e){return e[1]})))).map((function(e){return["arrayElem",e]}))}))),zp),Qs),(function(e){return["squareArray"].concat(p(null!==e?e:[]))})),le=Rs.map(Rs.preceded(Wu,Rs.preceded(zp,F)),(function(e){return["curlyArray"].concat(p(null!==e?[["arrayElem",e]]:[]))})),ue=Rs.map(Rs.or([se,le]),(function(e){return["arrayConstructor",e]})),ce=Rs.or([Kp,_h,P,_l]),pe=Rs.map(Rs.preceded(Tl,Rs.preceded(zp,ce)),(function(e){return"*"===e?["unaryLookup",["star"]]:"string"==typeof e?["unaryLookup",["NCName",e]]:["unaryLookup",e]})),he=Rs.or([ph,hh,Gs([el],"{"),Gs([tl],"}"),Rs.map(F,(function(e){return e||["sequenceExpr"]}))]),de=Rs.or([Bh,function(e,t){return be(e,t)},he,Sh]),fe=Rs.or([Rs.map(kh,(function(e){return e.replace(/[\x20\x0D\x0A\x09]/g," ")})),he]),me=Rs.or([Rs.map(Ih,(function(e){return e.replace(/[\x20\x0D\x0A\x09]/g," ")})),he]),ge=Rs.map(Rs.or([Ms(Rs.star(Rs.or([dh,fe])),il),Ms(Rs.star(Rs.or([fh,me])),nl)]),(function(e){return td(e,!1,!1)})),ye=Rs.then(nh,Rs.preceded(Ms(Il,Rs.optional(Xp)),ge),(function(e,t){if(""===e[0].prefix&&"xmlns"===e[1]){if(t.length&&"string"!=typeof t[0])throw Error("XQST0022: A namespace declaration may not contain enclosed expressions");return["namespaceDeclaration",t.length?["uri",t[0]]:["uri"]]}if("xmlns"===e[0].prefix){if(t.length&&"string"!=typeof t[0])throw Error("XQST0022: The namespace declaration for 'xmlns:"+e[1]+"' may not contain enclosed expressions");return["namespaceDeclaration",["prefix",e[1]],t.length?["uri",t[0]]:["uri"]]}return["attributeConstructor",["attributeName"].concat(e),0===t.length?["attributeValue"]:1===t.length&&"string"==typeof t[0]?["attributeValue",t[0]]:["attributeValueExpr"].concat(t)]})),ve=Rs.map(Rs.star(Rs.preceded(Xp,Rs.optional(ye))),(function(e){return e.filter(Boolean)})),we=Us(Rs.preceded(Ol,nh),ve,Rs.or([Rs.map(ll,(function(){return null})),Rs.then(Rs.preceded(Ml,Rs.star(de)),Fs([zp,ul],Rs.followed(nh,Rs.then(Rs.optional(Xp),Ml,(function(){return null})))),(function(e,t){return[td(e,!0,!0),t]}))]),(function(e,t,n){var r=n;if(n&&n.length){r=nd(e);var i=nd(n[1]);if(r!==i)throw Error('XQST0118: The start and the end tag of an element constructor must be equal. "'+r+'" does not match "'+i+'"');r=n[0]}return["elementConstructor",["tagName"].concat(p(e))].concat(p(t.length?[["attributeList"].concat(p(t))]:[]),p(r&&r.length?[["elementContent"].concat(p(r))]:[]))})),be=Rs.or([we,Oh,Mh]),xe=Rs.map(Fs([Zu,zp],F),(function(e){return["computedDocumentConstructor"].concat(p(e?[["argExpr",e]]:[]))})),_e=Rs.map(F,(function(e){return e?[["contentExpr",e]]:[]})),Ae=Rs.then(Fs([fu,zp],Rs.or([Rs.map(ah,(function(e){return["tagName"].concat(p(e))})),Rs.map(Rs.delimited(Ws,Ms(l,zp),Zs),(function(e){return["tagNameExpr",e]}))])),Rs.preceded(zp,_e),(function(e,t){return["computedElementConstructor",e].concat(p(t))})),Ee=Rs.then(Rs.preceded(mu,Rs.or([Rs.map(Fs([lh,zp],ah),(function(e){return["tagName"].concat(p(e))})),Rs.map(Rs.preceded(zp,Rs.delimited(Ws,Ms(l,zp),Zs)),(function(e){return["tagNameExpr",e]}))])),Rs.preceded(zp,F),(function(e,t){return["computedAttributeConstructor",e,["valueExpr",t||["sequenceExpr"]]]})),Ce=Rs.map(F,(function(e){return e?[["prefixExpr",e]]:[]})),Ne=Rs.map(F,(function(e){return e?[["URIExpr",e]]:[]})),Te=Rs.then(Fs([ec,zp],Rs.or([Jp,Ce])),Rs.preceded(zp,Ne),(function(e,t){return["computedNamespaceConstructor"].concat(p(e),p(t))})),Se=Rs.map(Fs([tc,zp],F),(function(e){return["computedTextConstructor"].concat(p(e?[["argExpr",e]]:[]))})),Be=Rs.map(Fs([nc,zp],F),(function(e){return["computedCommentConstructor"].concat(p(e?[["argExpr",e]]:[]))})),ke=Fs([rc,zp],Rs.then(Rs.or([Rs.map(Kp,(function(e){return["piTarget",e]})),Rs.map(Rs.delimited(Ws,Ms(l,zp),Zs),(function(e){return["piTargetExpr",e]}))]),Rs.preceded(zp,F),(function(e,t){return["computedPIConstructor",e].concat(p(t?[["piValueExpr",t]]:[]))}))),Ie=Rs.or([xe,Ae,Ee,Te,Se,Be,ke]),Pe=Rs.or([be,Ie]),Oe=Rs.or([I,sh,P,Eh,D,Pe,ne,oe,ue,pe]),Re=Rs.map(Fs([Tl,zp],ce),(function(e){return"*"===e?["lookup",["star"]]:"string"==typeof e?["lookup",["NCName",e]]:["lookup",e]})),De=Rs.then(Rs.map(Oe,(function(e){return Wh(e)})),Rs.star(Rs.or([Rs.map(Rs.preceded(zp,h),(function(e){return["predicate",e]})),Rs.map(Rs.preceded(zp,R),(function(e){return["argumentList",e]})),Rs.preceded(zp,Re)])),(function(e,t){function n(){s&&1===a.length?o.push(["predicate",a[0]]):0!==a.length&&o.push(["predicates"].concat(p(a))),a.length=0}function r(e){n(),0!==o.length?("sequenceExpr"===i[0]&&2<i.length&&(i=["sequenceExpr",i]),i=[["filterExpr",i]].concat(p(o)),o.length=0):i=e?[["filterExpr",i]]:[i]}var i=e,a=[],o=[],s=!1;for(t=(e=u(t)).next();!t.done;t=e.next())switch(t=t.value,t[0]){case"predicate":a.push(t[1]);break;case"lookup":s=!0,n(),o.push(t);break;case"argumentList":r(!1),1<i.length&&(i=[["sequenceExpr",["pathExpr",["stepExpr"].concat(p(i))]]]),i=["dynamicFunctionInvocationExpr",["functionItem"].concat(p(i))].concat(p(t[1].length?[["arguments"].concat(p(t[1]))]:[]));break;default:throw Error("unreachable")}return r(!0),i})),Me=Rs.or([Rs.map(De,(function(e){return["stepExpr"].concat(p(e))})),k]),Fe=Rs.followed(Oe,Rs.peek(Rs.not(Rs.preceded(zp,Rs.or([h,R,Re])),["primary expression not followed by predicate, argumentList, or lookup"]))),Ue=Rs.or([Us(Me,Rs.preceded(zp,Fh),Rs.preceded(zp,o),(function(e,t,n){return["pathExpr",e,t].concat(p(n))})),Rs.then(Me,Rs.preceded(Ms(Xl,zp),o),(function(e,t){return["pathExpr",e].concat(p(t))})),Fe,Rs.map(Me,(function(e){return["pathExpr",e]}))]),He=Rs.or([Us(Me,Rs.preceded(zp,Fh),Rs.preceded(zp,o),(function(e,t,n){return[e,t].concat(p(n))})),Rs.then(Me,Rs.preceded(Ms(Xl,zp),o),(function(e,t){return[e].concat(p(t))})),Rs.map(Me,(function(e){return[e]}))]),Le=Rs.or([Rs.map(Fs([Xl,zp],He),(function(e){return["pathExpr",["rootExpr"]].concat(p(e))})),Rs.then(Fh,Rs.preceded(zp,He),(function(e,t){return["pathExpr",["rootExpr"],e].concat(p(t))})),Rs.map(Rs.followed(Xl,Rs.not(Rs.preceded(zp,e.Va?js(/[*<a-zA-Z]/):js(/[*a-zA-Z]/)),["Single rootExpr cannot be by followed by something that can be interpreted as a relative path"])),(function(){return["pathExpr",["rootExpr"]]}))]),Ge=Ds(Rs.or([Ue,Le]),ad),je=Rs.preceded(oc,Rs.then(Rs.optional(Rs.or([Rs.map(Rs.preceded(zp,Uh),(function(e){return["validationMode",e]})),Rs.map(Fs([zp,sc,zp],ah),(function(e){return["type"].concat(p(e))}))])),Rs.delimited(Rs.preceded(zp,Ws),Ms(l,zp),Zs),(function(e,t){return["validateExpr"].concat(p(e?[e]:[]),[["argExpr",t]])}))),$e=Rs.delimited(qs,Rs.then(Rs.preceded(zp,ah),Rs.optional(Rs.preceded(qp,Hh)),(function(e,t){return t?["pragma",["pragmaName",e],["pragmaContents",t]]:["pragma",["pragmaName",e]]})),Rs.preceded(zp,Vs)),Xe=Rs.map(Rs.followed(Rs.plus($e),Rs.preceded(zp,Rs.delimited(Ws,Ms(Rs.optional(l),zp),Zs))),(function(e){return["extensionExpr"].concat(p(e))})),ze=i(n(Ge,Sl,(function(e,t){return 0===t.length?e:["simpleMapExpr","pathExpr"===e[0]?e:["pathExpr",["stepExpr",["filterExpr",Wh(e)]]]].concat(t.map((function(e){return"pathExpr"===(e=e[1])[0]?e:["pathExpr",["stepExpr",["filterExpr",Wh(e)]]]})))}))),qe=Rs.or([je,Xe,ze]),Ve=Rs.or([Rs.then(Rs.or([Gs([$l],"unaryMinusOp"),Gs([jl],"unaryPlusOp")]),Rs.preceded(zp,(function(e,t){return Ve(e,t)})),(function(e,t){return[e,["operand",t]]})),qe]),Ye=Rs.or([Rs.map(ah,(function(e){return["EQName"].concat(p(e))})),sh,P]),Ke=Rs.then(Ve,Rs.star(Fs([zp,ql,zp],Rs.then(Ye,Rs.preceded(zp,R),(function(e,t){return[e,t]})))),(function(e,t){return t.reduce((function(e,t){return["arrowExpr",["argExpr",e],t[0],["arguments"].concat(p(t[1]))]}),e)})),Je=Rs.then(Ke,Rs.optional(Fs([zp,ru,qp,nu,lh,zp],rd)),(function(e,t){return null!==t?["castExpr",["argExpr",e],t]:e})),Qe=Rs.then(Je,Rs.optional(Fs([zp,iu,qp,nu,lh,zp],rd)),(function(e,t){return null!==t?["castableExpr",["argExpr",e],t]:e})),We=Rs.then(Qe,Rs.optional(Fs([zp,au,qp,nu,lh,zp],H)),(function(e,t){return null!==t?["treatExpr",["argExpr",e],["sequenceType"].concat(p(t))]:e})),Ze=Rs.then(We,Rs.optional(Fs([zp,ou,qp,su,lh,zp],H)),(function(e,t){return null!==t?["instanceOfExpr",["argExpr",e],["sequenceType"].concat(p(t))]:e})),et=n(Ze,Rs.followed(Rs.or([Gs([yu],"intersectOp"),Gs([vu],"exceptOp")]),lh),t),tt=n(et,Rs.or([Gs([Bl],"unionOp"),Rs.followed(Gs([wu],"unionOp"),lh)]),t),nt=n(tt,Rs.or([Gs([_l],"multiplyOp"),Rs.followed(Gs([Eu],"divOp"),lh),Rs.followed(Gs([Cu],"idivOp"),lh),Rs.followed(Gs([Nu],"modOp"),lh)]),t),rt=n(nt,Rs.or([Gs([$l],"subtractOp"),Gs([jl],"addOp")]),t),it=n(r(rt,Rs.followed(Gs([bu],"rangeSequenceExpr"),lh),"startExpr","endExpr"),Gs([kl],"stringConcatenateOp"),t),at=n(r(it,Rs.or([Lh,Gh,jh])),Rs.followed(Gs([Au],"andOp"),lh),t),ot=n(at,Rs.followed(Gs([_u],"orOp"),lh),t),st=Rs.then(Rs.then(Fs([Mu,zp,Ys,zp],l),Fs([zp,Ks,zp,Fu,lh,zp],s),(function(e,t){return[e,t]})),Fs([zp,Uu,lh,zp],s),(function(e,t){return["ifThenElseExpr",["ifClause",e[0]],["thenClause",e[1]],["elseClause",t]]})),lt=Rs.delimited(Hu,qp,Lu),ut=Rs.map(Fs([Gu,qp,El],ah),(function(e){return["positionalVariableBinding"].concat(p(e))})),ct=function(e,t,n,r,i,a){return Rs.then(Rs.then(Rs.then(Rs.then(e,t,(function(e,t){return[e,t]})),n,(function(e,t){var n=u(e);return[e=n.next().value,n=n.next().value,t]})),r,(function(e,t){var n=u(e);return[e=n.next().value,n.next().value,n=n.next().value,t]})),i,(function(e,t){var n=u(e);e=n.next().value;var r=n.next().value,i=n.next().value;return n=n.next().value,a(e,r,i,n,t)}))}(Rs.preceded(El,ah),Rs.preceded(zp,Rs.optional(W)),Rs.preceded(zp,Rs.optional(lt)),Rs.preceded(zp,Rs.optional(ut)),Rs.preceded(Ms(ju,zp),s),(function(e,t,n,r,i){return["forClauseItem",["typedVariableBinding",["varName"].concat(p(e),p(t?[t]:[]))]].concat(p(n?[["allowingEmpty"]]:[]),p(r?[r]:[]),[["forExpr",i]])})),pt=Fs([$u,qp],n(ct,Hl,(function(e,t){return["forClause",e].concat(p(t.map((function(e){return e[1]}))))}))),ht=Us(Rs.preceded(El,ah),Rs.preceded(zp,Rs.optional(W)),Rs.preceded(Ms(vl,zp),s),(function(e,t,n){return["letClauseItem",["typedVariableBinding",["varName"].concat(p(e))].concat(p(t?[t]:[])),["letExpr",n]]})),dt=Rs.map(Fs([Xu,zp],n(ht,Hl,(function(e,t){return[e].concat(p(t.map((function(e){return e[1]}))))}))),(function(e){return["letClause"].concat(p(e))})),ft=Rs.or([pt,dt]),mt=Rs.map(Fs([zu,lh,zp],s),(function(e){return["whereClause",e]})),gt=Rs.map(Rs.preceded(El,ah),(function(e){return["varName"].concat(p(e))})),yt=Rs.then(Rs.preceded(zp,Rs.optional(W)),Rs.preceded(Ms(vl,zp),s),(function(e,t){return["groupVarInitialize"].concat(p(e?[["typeDeclaration"].concat(p(e))]:[]),[["varValue",t]])})),vt=Us(gt,Rs.optional(yt),Rs.optional(Rs.map(Rs.preceded(Ms(qu,zp),d),(function(e){return["collation",e]}))),(function(e,t,n){return["groupingSpec",e].concat(p(t?[t]:[]),p(n?[n]:[]))})),wt=n(vt,Hl,(function(e,t){return[e].concat(p(t.map((function(e){return e[1]}))))})),bt=Rs.map(Fs([Vu,qp,Yu,zp],wt),(function(e){return["groupByClause"].concat(p(e))})),xt=Us(Rs.optional(Rs.or([rp,ip])),Rs.optional(Fs([zp,Lu,zp],Rs.or([gc,yc].map((function(e){return Rs.map(e,(function(e){return"empty "+e}))}))))),Rs.preceded(zp,Rs.optional(Fs([qu,zp],d))),(function(e,t,n){return e||t||n?["orderModifier"].concat(p(e?[["orderingKind",e]]:[]),p(t?[["emptyOrderingMode",t]]:[]),p(n?[["collation",n]]:[])):null})),_t=Rs.then(s,Rs.preceded(zp,xt),(function(e,t){return["orderBySpec",["orderByExpr",e]].concat(p(t?[t]:[]))})),At=n(_t,Hl,(function(e,t){return[e].concat(p(t.map((function(e){return e[1]}))))})),Et=Rs.then(Rs.or([Rs.map(Fs([Ku,qp],Yu),(function(){return!1})),Rs.map(Fs([Ju,qp,Ku,qp],Yu),(function(){return!0}))]),Rs.preceded(zp,At),(function(e,t){return["orderByClause"].concat(p(e?[["stable"]]:[]),p(t))})),Ct=Rs.or([ft,mt,bt,Et]),Nt=Rs.map(Fs([Qu,zp],s),(function(e){return["returnClause",e]})),Tt=Us(ft,Rs.star(Rs.preceded(zp,Ct)),Rs.preceded(zp,Nt),(function(e,t,n){return["flworExpr",e].concat(p(t),[n])})),St=n(H,Bl,(function(e,t){return 0===t.length?["sequenceType"].concat(p(e)):["sequenceTypeUnion",["sequenceType"].concat(p(e))].concat(p(t.map((function(e){return["sequenceType"].concat(p(e[1]))}))))})),Bt=Us(Fs([bc,zp],Rs.optional(Rs.preceded(El,Rs.followed(Rs.followed(ah,qp),nu)))),Rs.preceded(zp,St),Fs([qp,Qu,qp],s),(function(e,t,n){return["typeswitchExprCaseClause"].concat(e?[["variableBinding"].concat(p(e))]:[],[t],[["resultExpr",n]])})),kt=Hs(Rs.preceded(xc,Ms(Rs.delimited(Ys,Ms(l,zp),Ks),zp)),Rs.plus(Rs.followed(Bt,zp)),Fs([uc,qp],Rs.optional(Rs.preceded(El,Rs.followed(ah,qp)))),Fs([Qu,qp],s),(function(e,t,n,r){return["typeswitchExpr",["argExpr",e]].concat(p(t),[["typeswitchExprDefaultClause"].concat(p(n||[]),[["resultExpr",r]])])})),It=Us(Rs.preceded(El,ah),Rs.optional(Rs.preceded(qp,W)),Rs.preceded(Ms(ju,qp),s),(function(e,t,n){return["quantifiedExprInClause",["typedVariableBinding",["varName"].concat(p(e))].concat(p(t?[t]:[])),["sourceExpr",n]]})),Pt=n(It,Hl,(function(e,t){return[e].concat(p(t.map((function(e){return e[1]}))))})),Ot=Us(Rs.or([_c,Ac]),Rs.preceded(qp,Pt),Rs.preceded(Ms(Ec,zp),s),(function(e,t,n){return["quantifiedExpr",["quantifier",e]].concat(p(t),[["predicateExpr",n]])})),Rt=Rs.map(Fs([cu,qp,Rs.or([uu,lu]),qp],s),(function(e){return["deleteExpr",["targetExpr",e]]})),Dt=Us(Fs([Cc,qp],Rs.optional(Fs([pu,qp,su],qp))),Fs([lu,qp],s),Rs.preceded(Ms(Nc,qp),s),(function(e,t,n){return e?["replaceExpr",["replaceValue"],["targetExpr",t],["replacementExpr",n]]:["replaceExpr",["targetExpr",t],["replacementExpr",n]]})),Mt=Rs.then(sh,Rs.preceded(Ms(vl,zp),s),(function(e,t){return["transformCopy",e,["copySource",t]]})),Ft=Us(Fs([Tc,qp],n(Mt,Hl,(function(e,t){return[e].concat(p(t.map((function(e){return e[1]}))))}))),Fs([zp,Sc,qp],s),Rs.preceded(Ms(Qu,qp),s),(function(e,t,n){return["transformExpr",["transformCopies"].concat(p(e)),["modifyExpr",t],["returnExpr",n]]})),Ut=Rs.or([Rs.followed(Rs.map(Rs.optional(Rs.followed(Fs([nu,qp],Rs.or([Rs.map(Bc,(function(){return["insertAsFirst"]})),Rs.map(kc,(function(){return["insertAsLast"]}))])),qp)),(function(e){return e?["insertInto",e]:["insertInto"]})),Oc),Rs.map(Pc,(function(){return["insertAfter"]})),Rs.map(Ic,(function(){return["insertBefore"]}))]),Ht=Us(Fs([Rc,qp,Rs.or([uu,lu]),qp],s),Rs.preceded(qp,Ut),Rs.preceded(qp,s),(function(e,t,n){return["insertExpr",["sourceExpr",e],t,["targetExpr",n]]})),Lt=Rs.then(Fs([Dc,qp,lu,zp],s),Fs([qp,nu,qp],s),(function(e,t){return["renameExpr",["targetExpr",e],["newNameExpr",t]]})),Gt=Rs.then(Rs.plus(Rs.map(Fs([bc,qp],s),(function(e){return["switchCaseExpr",e]}))),Fs([qp,Qu,qp],s),(function(e,t){return["switchExprCaseClause"].concat(p(e),[["resultExpr",t]])})),jt=Us(Fs([Mc,zp,Ys],l),Fs([zp,Ks,zp],Rs.plus(Rs.followed(Gt,zp))),Fs([uc,qp,Qu,qp],s),(function(e,t,n){return["switchExpr",["argExpr",e]].concat(p(t),[["switchExprDefaultClause",["resultExpr",n]]])})),$t=Rs.map(l,(function(e){return["queryBody",e]})),Xt=Fs([lc,qp,ec,qp],Rs.then(Kp,Rs.preceded(Ms(Il,zp),d),(function(e,t){return["namespaceDecl",["prefix",e],["uri",t]]}))),zt=Rs.then(Fs([Fc,qp,El,zp],Rs.then(ah,Rs.optional(Rs.preceded(zp,W)),(function(e,t){return[e,t]}))),Rs.or([Rs.map(Fs([zp,vl,zp],s),(function(e){return["varValue",e]})),Rs.map(Fs([qp,Uc],Rs.optional(Fs([zp,vl,zp],s))),(function(e){return["external"].concat(p(e?[["varValue",e]]:[]))}))]),(function(e,t){var n=u(e);return e=n.next().value,n=n.next().value,["varDecl",["varName"].concat(p(e))].concat(p(null!==n?[n]:[]),[t])})),qt=Hs(Fs([hu,qp,Rs.peek(Rs.not(Ch,["Cannot use reserved function name"]))],ah),Fs([zp,Ys,zp],Rs.optional(ee)),Fs([zp,Ks],Rs.optional(Fs([qp,nu,qp],H))),Rs.preceded(zp,Rs.or([Rs.map(U,(function(e){return["functionBody",e]})),Rs.map(Uc,(function(){return["externalDefinition"]}))])),(function(e,t,n,r){return["functionDecl",["functionName"].concat(p(e)),["paramList"].concat(p(t||[]))].concat(p(n?[["typeDeclaration"].concat(p(n))]:[]),[r])})),Vt=Fs([lc,qp],Rs.then(Rs.star(Rs.followed(Rs.or([L,$h]),qp)),Rs.or([zt,qt]),(function(e,t){return[t[0]].concat(p(e),p(t.slice(1)))}))),Yt=Rs.then(Fs([lc,qp,uc,qp],Rs.or([fu,hu])),Fs([qp,ec,qp],d),(function(e,t){return["defaultNamespaceDecl",["defaultNamespaceCategory",e],["uri",t]]})),Kt=Rs.or([Rs.map(Rs.followed(Fs([ec,qp],Kp),Rs.preceded(zp,Il)),(function(e){return["namespacePrefix",e]})),Rs.map(Fs([uc,qp,fu,qp],ec),(function(){return["defaultElementNamespace"]}))]),Jt=Fs([Lc,qp,Gc],Us(Rs.optional(Rs.preceded(qp,Kt)),Rs.preceded(zp,d),Rs.optional(Rs.then(Fs([qp,Gu,qp],d),Rs.star(Fs([zp,Hl,zp],d)),(function(e,t){return[e].concat(p(t))}))),(function(e,t,n){return["schemaImport"].concat(p(e?[e]:[]),[["targetNamespace",t]],p(n?[n]:[]))}))),Qt=Fs([Lc,qp,jc],Us(Rs.optional(Rs.followed(Fs([qp,ec,qp],Kp),Rs.preceded(zp,Il))),Rs.preceded(zp,d),Rs.optional(Rs.then(Fs([qp,Gu,qp],d),Rs.star(Fs([zp,Hl,zp],d)),(function(e,t){return[e].concat(p(t))}))),(function(e,t){return["moduleImport",["namespacePrefix",e],["targetNamespace",t]]}))),Wt=Rs.or([Jt,Qt]),Zt=Rs.map(Fs([lc,qp,uc,qp,qu,qp],d),(function(e){return["defaultCollationDecl",e]})),en=Rs.map(Fs([lc,qp,$c,qp],d),(function(e){return["baseUriDecl",e]})),tn=Rs.then(Fs([lc,qp],Rs.or([Rs.map(Fs([wc,qp],ah),(function(e){return["decimalFormatName"].concat(p(e))})),Rs.map(Fs([uc,qp],wc),(function(){return null}))])),Rs.star(Rs.then(Rs.preceded(qp,qh),Rs.preceded(Ms(Il,qp),d),(function(e,t){return["decimalFormatParam",["decimalFormatParamName",e],["decimalFormatParamValue",t]]}))),(function(e,t){return["decimalFormatDecl"].concat(p(e?[e]:[]),p(t))})),nn=Rs.or([Vh,Zt,en,Yh,Kh,Jh,Qh,tn]),rn=Rs.then(Fs([lc,qp,Yc,qp],ah),Rs.preceded(qp,d),(function(e,t){return["optionDecl",["optionName",e],["optionContents",t]]})),an=Rs.then(Fs([lc,qp,Kc,qp,Jc],Rs.optional(Fs([qp,nu],Q))),Rs.or([Rs.map(Rs.preceded(Ms(vl,zp),s),(function(e){return["varValue",e]})),Rs.map(Fs([qp,Uc],Rs.optional(Rs.preceded(Ms(vl,zp),s))),(function(){return["external"]}))]),(function(e,t){return["contextItemDecl"].concat(p(e?[["contextItemType",e]]:[]),[t])})),on=Rs.then(Rs.star(Rs.followed(Rs.or([Yt,nn,Xt,Wt]),Ms(xl,zp))),Rs.star(Rs.followed(Rs.or([an,Vt,rn]),Ms(xl,zp))),(function(e,t){return 0===e.length&&0===t.length?null:["prolog"].concat(p(e),p(t))})),sn=Fs([jc,qp,ec,qp],Rs.then(Rs.followed(Kp,Ms(Il,zp)),Rs.followed(d,Ms(xl,zp)),(function(e,t){return["moduleDecl",["prefix",e],["uri",t]]}))),ln=Rs.then(sn,Rs.preceded(zp,on),(function(e,t){return["libraryModule",e].concat(p(t?[t]:[]))})),un=Rs.then(on,Rs.preceded(zp,$t),(function(e,t){return["mainModule"].concat(p(e?[e]:[]),[t])})),cn=Rs.map(Fs([Qc,zp],Rs.followed(Rs.or([Rs.then(Rs.preceded(Zc,qp),d,(function(e){return["encoding",e]})),Rs.then(Fs([Wc,qp],d),Rs.optional(Fs([qp,Zc,qp],d)),(function(e,t){return[["version",e]].concat(p(t?[["encoding",t]]:[]))}))]),Rs.preceded(zp,xl))),(function(e){return["versionDecl"].concat(p(e))})),pn=Rs.then(Rs.optional(Ms(cn,zp)),Rs.or([ln,un]),(function(e,t){return["module"].concat(p(e?[e]:[]),[t])})),hn=Rs.complete(Ms(pn,zp));return function(e,t){c.clear(),t=hn(e,t);for(var n=1,r=1,i=0;i<e.length+1;i++){if(c.has(i)){var a=c.get(i);a.line=r,a.la=n}"\r"===(a=e[i])||"\n"===a?(r++,n=1):n++}return t}}var sd=od({sb:!1,Va:!1}),ld=od({sb:!0,Va:!1}),ud=od({sb:!1,Va:!0}),cd=od({sb:!0,Va:!0});function pd(e,t){var n=!!t.aa;if(t=!!t.debug,Up.clear(),Hp.clear(),ad.clear(),!0===(n=n?t?cd(e,0):ud(e,0):t?ld(e,0):sd(e,0)).success)return n.value;throw Error("XPST0003: Failed to parse '"+e+"' expected: "+n.expected+"\n"+e.slice(0,n.offset)+"[Error is around here]"+e.slice(n.offset))}var hd="http://www.w3.org/XML/1998/namespace http://www.w3.org/2001/XMLSchema http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2005/xpath-functions http://www.w3.org/2005/xpath-functions/math http://www.w3.org/2012/xquery http://www.w3.org/2005/xpath-functions/array http://www.w3.org/2005/xpath-functions/map".split(" ");function dd(e,t,n){n=void 0===n||n;var r=[],i=[];Si(e,"*").forEach((function(e){switch(e[0]){case"moduleImport":case"namespaceDecl":case"defaultNamespaceDecl":case"functionDecl":case"varDecl":break;default:throw Error("Not implemented: only module imports, namespace declarations, and function declarations are implemented in XQuery modules")}}));var a=new Set;Si(e,"moduleImport").forEach((function(e){var n=Ci(Ei(e,"namespacePrefix"));if(e=Ci(Ei(e,"targetNamespace")),a.has(e))throw Error('XQST0047: The namespace "'+e+'" is imported more than once.');a.add(e),bi(t,n,e),Ps(t,e)})),Si(e,"namespaceDecl").forEach((function(e){var n=Ci(Ei(e,"prefix"));if(e=Ci(Ei(e,"uri")),"xml"===n||"xmlns"===n)throw pi();if("http://www.w3.org/XML/1998/namespace"===e||"http://www.w3.org/2000/xmlns/"===e)throw pi();bi(t,n,e)}));for(var o=null,s=null,l=u(Si(e,"defaultNamespaceDecl")),c=l.next();!c.done;c=l.next()){var h=c.value;if(c=Ci(Ei(h,"defaultNamespaceCategory")),!(h=Ci(Ei(h,"uri"))))throw ui();if("http://www.w3.org/XML/1998/namespace"===h||"http://www.w3.org/2000/xmlns/"===h)throw pi();if("function"===c){if(o)throw ci();o=h}else if("element"===c){if(s)throw ci();s=h}}o&&(t.A=o),s&&bi(t,"",s),Si(e,"functionDecl").forEach((function(e){!function(e,t,n,r,i){var a=Ei(e,"functionName"),o=Ni(a,"prefix")||"",s=Ni(a,"URI"),l=Ci(a);if(null===s&&!(s=""===o?null===t.A?"http://www.w3.org/2005/xpath-functions":t.A:t.ba(o))&&o)throw di(o);if(hd.includes(s))throw li();if(o=Si(e,"annotation").map((function(e){return Ei(e,"annotationName")})),a=o.every((function(e){return!Ni(e,"URI")&&"private"!==Ci(e)})),o=o.some((function(e){return!Ni(e,"URI")&&"updating"===Ci(e)})),!s)throw ui();var u=ki(e),c=Si(Ei(e,"paramList"),"param"),h=c.map((function(e){return Ei(e,"varName")})),d=c.map((function(e){return ki(e)}));if(e=Ei(e,"functionBody")){if(t.za(s,l,d.length))throw Error("XQST0049: The function Q{"+s+"}"+l+"#"+d.length+" has already been declared.");if(!i)return;var f=Cs(e[1],{qa:!1,aa:!0}),m=new gi(t),g=h.map((function(e){var n=Ni(e,"URI"),r=Ni(e,"prefix");return e=Ci(e),r&&null===n&&(n=t.ba(r||"")),xi(m,n,e)}));i=o?{l:d,arity:h.length,m:function(e,t,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];return a=Ct(Et(e,-1,null,ue.empty()),g.reduce((function(e,t,n){return e[t]=ce(i[n]),e}),Object.create(null))),f.u(a,t)},Bb:!1,I:!0,localName:l,namespaceURI:s,i:u}:{l:d,arity:h.length,m:function(e,t,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];return a=Ct(Et(e,-1,null,ue.empty()),g.reduce((function(e,t,n){return e[t]=ce(i[n]),e}),Object.create(null))),lr(f,a,t)},Bb:!1,I:!1,localName:l,namespaceURI:s,i:u},n.push({da:f,Ib:m}),a&&r.push({arity:h.length,da:f,Eb:i,localName:l,namespaceURI:s})}else{if(o)throw Error("Updating external function declarations are not supported");i={l:d,arity:h.length,m:function(e,t,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];if(!(a=n.za(s,l,h.length,!0)))throw Error("XPST0017: Function Q{"+s+"}"+l+" with arity of "+h.length+" not registered. "+ei(l));if(a.i.type!==u.type||a.l.some((function(e,t){return e.type!==d[t].type})))throw Error("External function declaration types do not match actual function");return a.m.apply(a,[e,t,n].concat(p(i)))},Bb:!0,I:!1,localName:l,namespaceURI:s,i:u}}wi(t,s,l,h.length,i)}(e,t,r,i,n)}));var d=[];return Si(e,"varDecl").forEach((function(e){var i=Bi(Ei(e,"varName")),a=i.namespaceURI;if(null===a&&(!(a=t.ba(i.prefix))&&i.prefix))throw di(i.prefix);if(hd.includes(a))throw li();var o,s,l=Ei(e,"external");if(e=Ei(e,"varValue"),null!==l?null!==(l=Ei(l,"varValue"))&&(o=Ei(l,"*")):null!==e&&(o=Ei(e,"*")),d.some((function(e){return e.namespaceURI===a&&e.localName===i.localName})))throw Error("XQST0049: The variable "+(a?"Q{"+a+"}":"")+i.localName+" has already been declared.");if(xi(t,a||"",i.localName),n&&(o&&(s=Cs(o,{qa:!1,aa:!0})),o&&!function(e,t,n){return(e=e.Da[fi(t,n)])?e:null}(t,a||"",i.localName))){var u=null;_i(t,a,i.localName,(function(e,t){return u?u():(u=ce(lr(s,e,t)))()})),r.push({da:s,Ib:t}),d.push({da:s,localName:i.localName,namespaceURI:a})}})),r.forEach((function(e){e.da.P(e.Ib)})),i.forEach((function(e){if(!e.Eb.I&&e.da.I)throw Jn("The function Q{"+e.namespaceURI+"}"+e.localName+" is updating but the %updating annotation is missing.")})),{Ma:i,Ua:d}}function fd(e,t,n,r,i,a,o){var s=t.aa?"XQuery":"XPath";return n=t.Ha?null:function(e,t,n,r,i,a,o,s){return(e=Ns.get(e))&&(t=e[t+(a?"_DEBUG":"")])&&(t=t.find((function(e){return e.s===o&&e.j.every((function(e){return n(e.prefix)===e.namespaceURI}))&&e.u.every((function(e){return void 0!==r[e.name]}))&&e.A.every((function(e){return i[e.prefix]===e.namespaceURI}))&&e.O.every((function(e){var t=s(e.Bc,e.arity);return t&&t.namespaceURI===e.Hb.namespaceURI&&t.localName===e.Hb.localName}))})))?{da:t.h,Fc:!1}:null}(e,s,n,r,i,t.debug,a,o),null!==n?{state:n.Fc?1:2,da:n.da}:{state:0,wc:"string"==typeof e?pd(e,t):Bs(e)}}function md(e,t,n,r,i,a,o){var s=new ii(n,r,a,o),l=new gi(s);switch(Object.keys(i).forEach((function(e){var t=i[e];Ps(l,t),bi(l,e,t)})),"string"==typeof e&&(e=Os(e)),(n=fd(e,t,n,r,i,a,o)).state){case 2:return{ia:l,da:n.da};case 1:return n.da.P(l),Ss(e,t.aa?"XQuery":"XPath",s,i,n.da,t.debug,a),{ia:l,da:n.da};case 0:return n=function(e,t,n){var r=Ei(e,"mainModule");if(!r)throw Error("Can not execute a library module.");var i=Ei(r,"prolog");if(i){if(!t.aa)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");dd(i,n)}return Vi(e,new ta(n)),bs(e=Ti(r,["queryBody","*"]),t)}(n.wc,t,l),n.P(l),t.Ha||Ss(e,t.aa?"XQuery":"XPath",s,i,n,t.debug,a),{ia:l,da:n}}}function gd(e,t,n){if(1!==t.node.nodeType&&9!==t.node.nodeType)return[];var r=Pe(e,t).reduce((function(t,r){for(var i=(r=u(gd(e,r,n))).next();!i.done;i=r.next())t.push(i.value);return t}),[]);return n(t)&&r.unshift(t),r}function yd(e,t,n,r,i){if(!(e=i.first()))throw Error("XPDY0002: The context is absent, it needs to be present to use id function.");if(!ee(e.type,53))throw Bt("The context item is not a node, it needs to be node to use id function.");var a=t.h,o=r.M().reduce((function(e,t){return t.value.split(/\s+/).forEach((function(t){e[t]=!0})),e}),Object.create(null));for(t=e.value;9!==t.node.nodeType;)if(null===(t=Fe(a,t)))throw Error("FODC0001: the root node of the target node is not a document node.");return t=gd(a,t,(function(e){return 1===e.node.nodeType&&(!(!(e=Ie(a,e,"id"))||!o[e])&&(o[e]=!1,!0))})),ue.create(t.map((function(e){return je(e)})))}function vd(e,t,n,r,i){if(!(e=i.first()))throw Error("XPDY0002: The context is absent, it needs to be present to use idref function.");if(!ee(e.type,53))throw Bt("The context item is not a node, it needs to be node to use idref function.");var a=t.h,o=r.M().reduce((function(e,t){return e[t.value]=!0,e}),Object.create(null));for(t=e.value;9!==t.node.nodeType;)if(null===(t=Fe(a,t)))throw Error("FODC0001: the root node of the context node is not a document node.");return t=gd(a,t,(function(e){return 1===e.node.nodeType&&(!!(e=Ie(a,e,"idref"))&&e.split(/\s+/).some((function(e){return o[e]})))})),ue.create(t.map((function(e){return je(e)})))}function wd(e){switch(typeof e){case"object":return Array.isArray(e)?ue.o(new Le(e.map((function(e){return ce(wd(e))})))):null===e?ue.empty():ue.o(new qe(Object.keys(e).map((function(t){return{key:q(t,1),value:ce(wd(e[t]))}}))));case"number":return ue.o(q(e,3));case"string":return ue.o(q(e,1));case"boolean":return e?ue.ca():ue.X();default:throw Error("Unexpected type in JSON parse")}}function bd(e,t,n,r,i){var a=(e=ze(0,0,0,i,ue.o(q("duplicates",1)))).G()?"use-first":e.first().value;return r.L((function(e){return ue.o(new qe(e.reduce((function(e,t){return t.h.forEach((function(t){var n=e.findIndex((function(e){return Xe(e.key,t.key)}));if(0<=n)switch(a){case"reject":throw Error("FOJS0003: Duplicate encountered when merging maps.");case"use-last":return void e.splice(n,1,t);case"combine":return void e.splice(n,1,{key:t.key,value:ce(ue.create(e[n].value().M().concat(t.value().M())))});default:return}e.push(t)})),e}),[])))}))}function xd(e,t,n){var r=1,i=e.value;e=e.Na(!0);var a=null,o=Math.max(t-1,0);return-1!==e&&(a=Math.max(0,(null===n?e:Math.max(0,Math.min(e,n+(t-1))))-o)),ue.create({next:function(e){for(;r<t;)i.next(e),r++;return null!==n&&r>=t+n?Q:(e=i.next(e),r++,e)}},a)}function _d(e){return e.map((function(e){return ee(e.type,19)?Qt(e,3):e}))}function Ad(e){if((e=_d(e)).some((function(e){return Number.isNaN(e.value)})))return[q(NaN,3)];if(!(e=uo(e)))throw Error("FORG0006: Incompatible types to be converted to a common type");return e}function Ed(e,t,n,r,i,a){return $e([i,a],(function(e){var t=u(e);if(e=t.next().value,t=t.next().value,1/0===e.value)return ue.empty();if(-1/0===e.value)return t&&1/0===t.value?ue.empty():r;if(t){if(isNaN(t.value))return ue.empty();1/0===t.value&&(t=null)}return isNaN(e.value)?ue.empty():xd(r,Math.round(e.value),t?Math.round(t.value):null)}))}function Cd(e,t,n,r,i){if(r.G())return i;if(!(e=uo(e=_d(r.M()))))throw Error("FORG0006: Incompatible types to be converted to a common type");if(!e.every((function(e){return ee(e.type,2)})))throw Error("FORG0006: items passed to fn:sum are not all numeric.");return t=e.reduce((function(e,t){return e+t.value}),0),e.every((function(e){return ee(e.type,5)}))?ue.o(q(t,5)):e.every((function(e){return ee(e.type,3)}))?ue.o(q(t,3)):e.every((function(e){return ee(e.type,4)}))?ue.o(q(t,4)):ue.o(q(t,6))}var Nd=[].concat(Rr,[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"boolean",l:[{type:59,g:2}],i:{type:0,g:3},m:function(e,t,n,r){return r.getEffectiveBooleanValue()?ue.ca():ue.X()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"true",l:[],i:{type:0,g:3},m:function(){return ue.ca()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"not",l:[{type:59,g:2}],i:{type:0,g:3},m:function(e,t,n,r){return!1===r.getEffectiveBooleanValue()?ue.ca():ue.X()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"false",l:[],i:{type:0,g:3},m:function(){return ue.X()}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"last",l:[],i:{type:5,g:3},m:function(e){if(null===e.N)throw Error("XPDY0002: The fn:last() function depends on dynamic context, which is absent.");var t=!1;return ue.create({next:function(){if(t)return Q;var n=e.Ga.Na();return t=!0,W(q(n,5))}},1)}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"position",l:[],i:{type:5,g:3},m:function(e){if(null===e.N)throw Error("XPDY0002: The fn:position() function depends on dynamic context, which is absent.");return ue.o(q(e.Ja+1,5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"current-dateTime",l:[],i:{type:10,g:3},m:function(e){return ue.o(q(_t(e),10))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"current-date",l:[],i:{type:7,g:3},m:function(e){return ue.o(q(lt(_t(e),7),7))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"current-time",l:[],i:{type:8,g:3},m:function(e){return ue.o(q(lt(_t(e),8),8))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"implicit-timezone",l:[],i:{type:17,g:3},m:function(e){return ue.o(q(At(e),17))}}],Mr,Xr,qr,[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"years-from-duration",l:[{type:18,g:0}],i:{type:5,g:0},m:function(e,t,n,r){return r.G()?r:ue.o(q(r.first().value.cb(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"months-from-duration",l:[{type:18,g:0}],i:{type:5,g:0},m:function(e,t,n,r){return r.G()?r:ue.o(q(r.first().value.$a(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"days-from-duration",l:[{type:18,g:0}],i:{type:5,g:0},m:function(e,t,n,r){return r.G()?r:ue.o(q(r.first().value.Za(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"hours-from-duration",l:[{type:18,g:0}],i:{type:5,g:0},m:function(e,t,n,r){return r.G()?r:ue.o(q(r.first().value.getHours(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"minutes-from-duration",l:[{type:18,g:0}],i:{type:5,g:0},m:function(e,t,n,r){return r.G()?r:ue.o(q(r.first().value.getMinutes(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"seconds-from-duration",l:[{type:18,g:0}],i:{type:4,g:0},m:function(e,t,n,r){return r.G()?r:ue.o(q(r.first().value.getSeconds(),4))}}],Yr,[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"id",l:[{type:1,g:2},{type:53,g:3}],i:{type:54,g:2},m:yd},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"id",l:[{type:1,g:2}],i:{type:54,g:2},m:function(e,t,n,r){return yd(e,t,0,r,ue.o(e.N))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"idref",l:[{type:1,g:2},{type:53,g:3}],i:{type:53,g:2},m:vd},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"idref",l:[{type:1,g:2}],i:{type:53,g:2},m:function(e,t,n,r){return vd(e,t,0,r,ue.o(e.N))}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"parse-json",l:[{type:1,g:3}],i:{type:59,g:0},m:function(e,t,n,r){try{var i=JSON.parse(r.first().value)}catch(e){throw Error("FOJS0001: parsed JSON string contains illegal JSON.")}return wd(i)}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"contains",l:[{type:61,g:3},{type:46,g:3}],i:{type:0,g:3},m:function(e,t,n,r,i){return $e([r,i],(function(e){var t=(e=u(e)).next().value,n=e.next().value;return t.h.some((function(e){return Xe(e.key,n)}))?ue.ca():ue.X()}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"entry",l:[{type:46,g:3},{type:59,g:2}],i:{type:61,g:3},m:function(e,t,n,r,i){return r.map((function(e){return new qe([{key:e,value:ce(i)}])}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"for-each",l:[{type:61,g:3},{type:59,g:2}],i:{type:59,g:2},m:function(e,t,n,r,i){return $e([r,i],(function(r){var i=(r=u(r)).next().value,a=r.next().value;return Tt(i.h.map((function(r){return a.value.call(void 0,e,t,n,ue.o(r.key),r.value())})))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"get",l:[{type:61,g:3},{type:46,g:3}],i:{type:59,g:2},m:ze},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"keys",l:[{type:61,g:3}],i:{type:46,g:2},m:function(e,t,n,r){return $e([r],(function(e){return e=u(e).next().value,ue.create(e.h.map((function(e){return e.key})))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"merge",l:[{type:61,g:2},{type:61,g:3}],i:{type:61,g:3},m:bd},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"merge",l:[{type:61,g:2}],i:{type:61,g:3},m:function(e,t,n,r){return bd(e,0,0,r,ue.o(new qe([{key:q("duplicates",1),value:function(){return ue.o(q("use-first",1))}}])))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"put",l:[{type:61,g:3},{type:46,g:3},{type:59,g:2}],i:{type:61,g:3},m:function(e,t,n,r,i,a){return $e([r,i],(function(e){var t=(e=u(e)).next().value,n=e.next().value;return e=t.h.concat(),t=e.findIndex((function(e){return Xe(e.key,n)})),0<=t?e.splice(t,1,{key:n,value:ce(a)}):e.push({key:n,value:ce(a)}),ue.o(new qe(e))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"remove",l:[{type:61,g:3},{type:46,g:2}],i:{type:61,g:3},m:function(e,t,n,r,i){return $e([r],(function(e){var t=u(e).next().value.h.concat();return i.L((function(e){return e.forEach((function(e){var n=t.findIndex((function(t){return Xe(t.key,e)}));0<=n&&t.splice(n,1)})),ue.o(new qe(t))}))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"size",l:[{type:61,g:3}],i:{type:5,g:3},m:function(e,t,n,r){return r.map((function(e){return q(e.h.length,5)}))}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"pi",l:[],i:{type:3,g:3},m:function(){return ue.o(q(Math.PI,3))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"exp",l:[{type:3,g:0}],i:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return q(Math.pow(Math.E,e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"exp10",l:[{type:3,g:0}],i:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return q(Math.pow(10,e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"log",l:[{type:3,g:0}],i:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return q(Math.log(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"log10",l:[{type:3,g:0}],i:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return q(Math.log10(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"pow",l:[{type:3,g:0},{type:2,g:3}],i:{type:3,g:0},m:function(e,t,n,r,i){return i.L((function(e){var t=u(e).next().value;return r.map((function(e){return 1!==Math.abs(e.value)||Number.isFinite(t.value)?q(Math.pow(e.value,t.value),3):q(1,3)}))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"sqrt",l:[{type:3,g:0}],i:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return q(Math.sqrt(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"sin",l:[{type:3,g:0}],i:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return q(Math.sin(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"cos",l:[{type:3,g:0}],i:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return q(Math.cos(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"tan",l:[{type:3,g:0}],i:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return q(Math.tan(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"asin",l:[{type:3,g:0}],i:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return q(Math.asin(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"acos",l:[{type:3,g:0}],i:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return q(Math.acos(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"atan",l:[{type:3,g:0}],i:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return q(Math.atan(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"atan2",l:[{type:3,g:0},{type:3,g:3}],i:{type:3,g:0},m:function(e,t,n,r,i){return i.L((function(e){var t=u(e).next().value;return r.map((function(e){return q(Math.atan2(e.value,t.value),3)}))}))}}],Gn,vn,[{namespaceURI:"http://fontoxpath/operators",localName:"to",l:[{type:5,g:0},{type:5,g:0}],i:{type:5,g:2},m:function(e,t,n,r,i){if(e=r.first(),i=i.first(),null===e||null===i)return ue.empty();var a=e.value;return i=i.value,a>i?ue.empty():ue.create({next:function(){return W(q(a++,5))}},i-a+1)}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"QName",l:[{type:1,g:0},{type:1,g:3}],i:{type:23,g:3},m:function(e,t,n,r,i){return $e([r,i],(function(e){var t=u(e);if(e=t.next().value,!Mt(t=t.next().value.value,23))throw Error("FOCA0002: The provided QName is invalid.");if(null===(e=e&&e.value||null)&&t.includes(":"))throw Error("FOCA0002: The URI of a QName may not be empty if a prefix is provided.");if(r.G())return ue.o(q(new ve("",null,t),23));if(!t.includes(":"))return ue.o(q(new ve("",e,t),23));var n=u(t.split(":"));return t=n.next().value,n=n.next().value,ue.o(q(new ve(t,e,n),23))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"prefix-from-QName",l:[{type:23,g:0}],i:{type:24,g:0},m:function(e,t,n,r){return $e([r],(function(e){return null===(e=u(e).next().value)?ue.empty():(e=e.value).prefix?ue.o(q(e.prefix,24)):ue.empty()}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"local-name-from-QName",l:[{type:23,g:0}],i:{type:24,g:0},m:function(e,t,n,r){return r.map((function(e){return q(e.value.localName,24)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"namespace-uri-from-QName",l:[{type:23,g:0}],i:{type:20,g:0},m:function(e,t,n,r){return r.map((function(e){return q(e.value.namespaceURI||"",20)}))}}],[{l:[{type:59,g:2}],m:function(e,t,n,r){return r.$({empty:function(){return ue.ca()},multiple:function(){return ue.X()},o:function(){return ue.X()}})},localName:"empty",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{l:[{type:59,g:2}],m:function(e,t,n,r){return r.$({empty:function(){return ue.X()},multiple:function(){return ue.ca()},o:function(){return ue.ca()}})},localName:"exists",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{l:[{type:59,g:2}],m:function(e,t,n,r){return xd(r,1,1)},localName:"head",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:0}},{l:[{type:59,g:2}],m:function(e,t,n,r){return xd(r,2,null)},localName:"tail",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{l:[{type:59,g:2},{type:5,g:3},{type:59,g:2}],m:function(e,t,n,r,i,a){return r.G()?a:a.G()?r:(e=r.M(),0>(i=i.first().value-1)?i=0:i>e.length&&(i=e.length),t=e.slice(i),ue.create(e.slice(0,i).concat(a.M(),t)))},localName:"insert-before",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{l:[{type:59,g:2},{type:5,g:3}],m:function(e,t,n,r,i){return e=i.first().value,!(r=r.M()).length||1>e||e>r.length||r.splice(e-1,1),ue.create(r)},localName:"remove",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{l:[{type:59,g:2}],m:function(e,t,n,r){return r.L((function(e){return ue.create(e.reverse())}))},localName:"reverse",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{l:[{type:59,g:2},{type:3,g:3}],m:function(e,t,n,r,i){return Ed(0,0,0,r,i,ue.empty())},localName:"subsequence",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{l:[{type:59,g:2},{type:3,g:3},{type:3,g:3}],m:Ed,localName:"subsequence",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{l:[{type:59,g:2}],m:function(e,t,n,r){return r},localName:"unordered",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{l:[{type:46,g:2}],m:function(e,t,n,r){var i=Ot(r,t).M();return ue.create(i).filter((function(e,t){return i.slice(0,t).every((function(t){return!Xn(e,t)}))}))},localName:"distinct-values",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:2}},{l:[{type:46,g:2},{type:1,g:3}],m:function(){throw Error("FOCH0002: No collations are supported")},localName:"distinct-values",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:2}},{l:[{type:46,g:2},{type:46,g:3}],m:function(e,t,n,r,i){return i.L((function(n){var i=u(n).next().value;return Ot(r,t).map((function(t,n){return Xa("eqOp",t.type,i.type)(t,i,e)?q(n+1,5):q(-1,5)})).filter((function(e){return-1!==e.value}))}))},localName:"index-of",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:2}},{l:[{type:46,g:2},{type:46,g:3},{type:1,g:3}],m:function(){throw Error("FOCH0002: No collations are supported")},localName:"index-of",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:2}},{l:[{type:59,g:2},{type:59,g:2}],m:function(e,t,n,r,i){var a=!1,o=Vn(e,t,n,r,i);return ue.create({next:function(){if(a)return Q;var e=o.next(0);return e.done?e:(a=!0,W(q(e.value,0)))}})},localName:"deep-equal",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{l:[{type:59,g:2},{type:59,g:2},{type:1,g:3}],m:function(){throw Error("FOCH0002: No collations are supported")},localName:"deep-equal",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{l:[{type:59,g:2}],m:function(e,t,n,r){var i=!1;return ue.create({next:function(){if(i)return Q;var e=r.Na();return i=!0,W(q(e,5))}})},localName:"count",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:3}},{l:[{type:46,g:2}],m:function(e,t,n,r){if(r.G())return r;if(!(e=uo(e=_d(r.M()))))throw Error("FORG0006: Incompatible types to be converted to a common type");if(!e.every((function(e){return ee(e.type,2)})))throw Error("FORG0006: items passed to fn:avg are not all numeric.");return t=e.reduce((function(e,t){return e+t.value}),0)/e.length,e.every((function(e){return ee(e.type,5)||ee(e.type,3)}))?ue.o(q(t,3)):e.every((function(e){return ee(e.type,4)}))?ue.o(q(t,4)):ue.o(q(t,6))},localName:"avg",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{l:[{type:46,g:2}],m:function(e,t,n,r){return r.G()?r:(e=Ad(r.M()),ue.o(e.reduce((function(e,t){return e.value<t.value?t:e}))))},localName:"max",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{l:[{type:46,g:2},{type:1,g:3}],m:function(){throw Error("FOCH0002: No collations are supported")},localName:"max",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{l:[{type:46,g:2}],m:function(e,t,n,r){return r.G()?r:(e=Ad(r.M()),ue.o(e.reduce((function(e,t){return e.value>t.value?t:e}))))},localName:"min",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{l:[{type:46,g:2},{type:1,g:3}],m:function(){throw Error("FOCH0002: No collations are supported")},localName:"min",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{l:[{type:46,g:2}],m:function(e,t,n,r){return Cd(e,t,0,r,ue.o(q(0,5)))},localName:"sum",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:3}},{l:[{type:46,g:2},{type:46,g:0}],m:Cd,localName:"sum",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{l:[{type:59,g:2}],m:function(e,t,n,r){if(!r.G()&&!r.ya())throw Error("FORG0003: The argument passed to fn:zero-or-one contained more than one item.");return r},localName:"zero-or-one",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:0}},{l:[{type:59,g:2}],m:function(e,t,n,r){if(r.G())throw Error("FORG0004: The argument passed to fn:one-or-more was empty.");return r},localName:"one-or-more",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:1}},{l:[{type:59,g:2}],m:function(e,t,n,r){if(!r.ya())throw Error("FORG0005: The argument passed to fn:exactly-one is empty or contained more than one item.");return r},localName:"exactly-one",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:3}},{l:[{type:59,g:2},{type:60,g:3}],m:function(e,t,n,r,i){if(r.G())return r;var a=i.first(),o=a.s;if(1!==o.length)throw Error("XPTY0004: signature of function passed to fn:filter is incompatible.");return r.filter((function(r){if(r=dn(o[0],ue.o(r),t,"fn:filter",!1),!(r=a.value.call(void 0,e,t,n,r)).ya()||!ee(r.first().type,0))throw Error("XPTY0004: signature of function passed to fn:filter is incompatible.");return r.first().value}))},localName:"filter",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{l:[{type:59,g:2},{type:60,g:3}],m:function(e,t,n,r,i){if(r.G())return r;var a=i.first(),o=a.s;if(1!==o.length)throw Error("XPTY0004: signature of function passed to fn:for-each is incompatible.");var s,l=r.value;return ue.create({next:function(r){for(;;){if(!s){var i=l.next(0);if(i.done)return i;i=dn(o[0],ue.o(i.value),t,"fn:for-each",!1),s=a.value.call(void 0,e,t,n,i).value}if(!(i=s.next(r)).done)return i;s=null}}})},localName:"for-each",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{l:[{type:59,g:2},{type:59,g:2},{type:60,g:3}],m:function(e,t,n,r,i,a){if(r.G())return r;var o=a.first(),s=o.s;if(2!==s.length)throw Error("XPTY0004: signature of function passed to fn:fold-left is incompatible.");return r.L((function(r){return r.reduce((function(r,i){return r=dn(s[0],r,t,"fn:fold-left",!1),i=dn(s[1],ue.o(i),t,"fn:fold-left",!1),o.value.call(void 0,e,t,n,r,i)}),i)}))},localName:"fold-left",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{l:[{type:59,g:2},{type:59,g:2},{type:60,g:3}],m:function(e,t,n,r,i,a){if(r.G())return r;var o=a.first(),s=o.s;if(2!==s.length)throw Error("XPTY0004: signature of function passed to fn:fold-right is incompatible.");return r.L((function(r){return r.reduceRight((function(r,i){return r=dn(s[0],r,t,"fn:fold-right",!1),i=dn(s[1],ue.o(i),t,"fn:fold-right",!1),o.value.call(void 0,e,t,n,i,r)}),i)}))},localName:"fold-right",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{l:[{type:59,g:2}],m:function(e,t,n,r){if(!t.j)throw Error("serialize() called but no xmlSerializer set in execution parameters.");if(!(e=r.M()).every((function(e){return ee(e.type,53)})))throw Error("Expected argument to fn:serialize to resolve to a sequence of Nodes.");return ue.o(q(e.map((function(e){return t.j.serializeToString(ko(e.value,t,!1))})),1))},localName:"serialize",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}}],kn,[{l:[{type:59,g:3},{type:61,g:3}],m:function(e,t,n,r,i){var a,o;return ue.create({next:function(){if(!a){var e=function(e,t,n,r){e=e.first();var i=t.first().h.reduce((function(e,t){return e[t.key.value]=ce(t.value()),e}),Object.create(null));t=i["."]?i["."]():ue.empty(),delete i["."];try{if(ee(e.type,1))var a=e.value;else{if(!ee(e.type,54))throw Bt("Unable to convert selector argument of type "+de[e.type]+" to either an "+de[1]+" or an "+de[54]+" representing an XQueryX program while calling 'fontoxpath:evaluate'");a=e.value.node}var o=md(a,{qa:!1,aa:!0,debug:r.debug,Ha:r.Ha},(function(e){return n.ba(e)}),Object.keys(i).reduce((function(e,t){return e[t]=t,e}),{}),{},"http://www.w3.org/2005/xpath-functions",(function(e,t){return n.Ra(e,t)})),s=o.da,l=o.ia,u=!t.G(),c=new bt({N:u?t.first():null,Ja:u?0:-1,Ga:t,Ea:Object.keys(i).reduce((function(e,t){return e[l.qb(null,t)]=i[t],e}),Object.create(null))});return{Gc:s.h(c,r).value,Dc:e}}catch(t){Qr(e.value,t)}}(r,i,n,t);a=e.Gc,o=e.Dc}try{return a.next(0)}catch(e){Qr(o.value,e)}}})},localName:"evaluate",namespaceURI:"http://fontoxml.com/fontoxpath",i:{type:59,g:2}},{l:[],m:function(){return ue.o(q("3.26.1",1))},localName:"version",namespaceURI:"http://fontoxml.com/fontoxpath",i:{type:1,g:3}}],[{l:[{type:23,g:3},{type:5,g:3}],m:function(e,t,n,r,i){return $e([r,i],(function(e){var t=u(e);e=t.next().value,t=t.next().value;var r=n.za(e.value.namespaceURI,e.value.localName,t.value);return null===r?ue.empty():(e=new we({l:r.l,arity:t.value,localName:e.value.localName,namespaceURI:e.value.namespaceURI,i:r.i,value:r.m}),ue.o(e))}))},localName:"function-lookup",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{g:0,type:60}},{l:[{type:60,g:3}],m:function(e,t,n,r){return $e([r],(function(e){return(e=u(e).next().value).Pa()?ue.empty():ue.o(q(new ve("",e.u,e.j),23))}))},localName:"function-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:23,g:0}},{l:[{type:60,g:3}],m:function(e,t,n,r){return $e([r],(function(e){return e=u(e).next().value,ue.o(q(e.A,5))}))},localName:"function-arity",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:3}}]);function Td(e){this.h=e}(r=Td.prototype).createAttributeNS=function(e,t){return this.h.createAttributeNS(e,t)},r.createCDATASection=function(e){return this.h.createCDATASection(e)},r.createComment=function(e){return this.h.createComment(e)},r.createDocument=function(){return this.h.createDocument()},r.createElementNS=function(e,t){return this.h.createElementNS(e,t)},r.createProcessingInstruction=function(e,t){return this.h.createProcessingInstruction(e,t)},r.createTextNode=function(e){return this.h.createTextNode(e)};var Sd=Symbol("IS_XPATH_VALUE_SYMBOL");function Bd(e){return e&&"object"==typeof e&&"lookupNamespaceURI"in e?function(t){return e.lookupNamespaceURI(t||null)}:function(){return null}}function kd(e){return function(t){var n=t.localName;return t.prefix?null:{namespaceURI:e,localName:n}}}function Id(e,t,n,r,i,a){var o,s,l,c,p,h,d;null==r&&(r=r||{}),i?(o=i.logger||{trace:console.log.bind(console)},s=i.documentWriter,l=i.moduleImports,c=i.namespaceResolver,p=i.functionNameResolver,h=i.nodesFactory,d=i.xmlSerializer):(o={trace:console.log.bind(console)},l={},c=null,h=null,s=null,d=null,p=void 0);var f=new Be(null===n?new Ae:n);n=l||Object.create(null),l=void 0===i.defaultFunctionNamespaceURI?"http://www.w3.org/2005/xpath-functions":i.defaultFunctionNamespaceURI;var m=md(e,a,c||Bd(t),r,n,l,p||kd(l));for(e=t?wt(0,t):ue.empty(),t=!h&&a.aa?new cr(t):new Td(h),s=s?new Ne(s):Ce,h=Object.keys(r).reduce((function(e,t){var n=r[t];return e["Q{}"+t+"[0]"]=n&&"object"==typeof n&&Sd in n?function(){return ue.create(n.Db)}:function(){return wt(0,r[t])},e}),Object.create(null)),c={},n=(p=u(Object.keys(m.ia.Da))).next();!n.done;c={Wa:c.Wa},n=p.next())c.Wa=n.value,h[c.Wa]||(h[c.Wa]=function(e){return function(){return(0,m.ia.Da[e.Wa])(g,y)}}(c));var g=new bt({N:e.first(),Ja:0,Ga:e,Ea:h}),y=new Nt(a.debug,a.Ha,f,t,s,i.currentContext,o,d);return{xb:g,zb:y,da:m.da}}function Pd(e,t){var n={},r=0,i=!1,a=null;return{next:function(){if(i)return Q;for(var o={};r<e.h.length;){e:{var s=e.h[r].key.value;if(!a){o.kb=e.h[r];var l=o.kb.value().$({default:function(e){return e},multiple:function(e){return function(){throw Error("Serialization error: The value of an entry in a map is expected to be a single item or an empty sequence. Use arrays when putting multiple values in a map. The value of the key "+e.kb.key.value+" holds multiple items")}}(o)}).first();if(null===l){n[s]=null,r++;break e}a=Rd(l,t)}l=a.next(0),a=null,n[s]=l.value,r++}o={kb:o.kb}}return i=!0,W(n)}}}function Od(e,t){var n=[],r=0,i=!1,a=null;return{next:function(){if(i)return Q;for(;r<e.R.length;){if(!a){var o=e.R[r]().$({default:function(e){return e},multiple:function(){throw Error("Serialization error: The value of an entry in an array is expected to be a single item or an empty sequence. Use nested arrays when putting multiple values in an array.")}}).first();if(null===o){n[r++]=null;continue}a=Rd(o,t)}o=a.next(0),a=null,n[r++]=o.value}return i=!0,W(n)}}}function Rd(e,t){if(ee(e.type,61))return Pd(e,t);if(ee(e.type,62))return Od(e,t);if(ee(e.type,23)){var n=e.value;return{next:function(){return W("Q{"+(n.namespaceURI||"")+"}"+n.localName)}}}switch(e.type){case 7:case 8:case 9:case 11:case 12:case 13:case 14:case 15:var r=e.value;return{next:function(){return W(ut(r))}};case 47:case 53:case 54:case 55:case 56:case 57:case 58:var i=e.value;return{next:function(){return W(ko(i,t,!1))}};default:return{next:function(){return W(e.value)}}}}Nd.forEach((function(e){ti(e.namespaceURI,e.localName,e.l,e.i,e.m)}));var Dd={ANY:0,NUMBER:1,STRING:2,BOOLEAN:3,NODES:7,FIRST_NODE:9,STRINGS:10,MAP:11,ARRAY:12,NUMBERS:13,ALL_RESULTS:14,ASYNC_ITERATOR:99};function Md(e,t,n,r){switch(n){case 3:return t.getEffectiveBooleanValue();case 2:return(t=Ot(t,r).M()).length?t.map((function(e){return Qt(e,1).value})).join(" "):"";case 10:return(t=Ot(t,r).M()).length?t.map((function(e){return e.value+""})):[];case 1:return null!==(t=t.first())&&ee(t.type,2)?t.value:NaN;case 9:if(null===(t=t.first()))return null;if(!ee(t.type,53))throw Error("Expected XPath "+Kr(e)+" to resolve to Node. Got "+de[t.type]);return ko(t.value,r,!1);case 7:if(!(t=t.M()).every((function(e){return ee(e.type,53)})))throw Error("Expected XPath "+Kr(e)+" to resolve to a sequence of Nodes.");return t.map((function(e){return ko(e.value,r,!1)}));case 11:if(1!==(t=t.M()).length)throw Error("Expected XPath "+Kr(e)+" to resolve to a single map.");if(!ee((t=t[0]).type,61))throw Error("Expected XPath "+Kr(e)+" to resolve to a map");return Pd(t,r).next(0).value;case 12:if(1!==(t=t.M()).length)throw Error("Expected XPath "+Kr(e)+" to resolve to a single array.");if(!ee((t=t[0]).type,62))throw Error("Expected XPath "+Kr(e)+" to resolve to an array");return Od(t,r).next(0).value;case 13:return t.M().map((function(t){if(!ee(t.type,2))throw Error("Expected XPath "+Kr(e)+" to resolve to numbers");return t.value}));case 99:var i=t.value,a=null,o=!1,s=function(){for(;!o;){if(!a){var e=i.next(0);if(e.done){o=!0;break}a=Rd(e.value,r)}return e=a.next(0),a=null,e}return Promise.resolve({done:!0,value:null})};return"asyncIterator"in Symbol?((t={})[Symbol.asyncIterator]=function(){return this},t.next=function(){return new Promise((function(e){return e(s())})).catch((function(t){Qr(e,t)}))}):t={next:function(){return new Promise((function(e){return e(s())}))}},t;case 14:return t.M().map((function(e){return Rd(e,r).next(0).value}));default:return(t=t.M()).every((function(e){return ee(e.type,53)&&!ee(e.type,47)}))?(t=t.map((function(e){return ko(e.value,r,!1)})),1===t.length?t[0]:t):1===t.length?ee((t=t[0]).type,62)?Od(t,r).next(0).value:ee(t.type,61)?Pd(t,r).next(0).value:Pt(t,r).first().value:Ot(ue.create(t),r).M().map((function(e){return e.value}))}}Dd[Dd.ANY]="ANY",Dd[Dd.NUMBER]="NUMBER",Dd[Dd.STRING]="STRING",Dd[Dd.BOOLEAN]="BOOLEAN",Dd[Dd.NODES]="NODES",Dd[Dd.FIRST_NODE]="FIRST_NODE",Dd[Dd.STRINGS]="STRINGS",Dd[Dd.MAP]="MAP",Dd[Dd.ARRAY]="ARRAY",Dd[Dd.NUMBERS]="NUMBERS",Dd[Dd.ALL_RESULTS]="ALL_RESULTS",Dd[Dd.ASYNC_ITERATOR]="ASYNC_ITERATOR";var Fd=!1,Ud=null,Hd={getPerformanceSummary:function(){var e=Ud.getEntriesByType("measure").filter((function(e){return e.name.startsWith("XPath: ")}));return Array.from(e.reduce((function(e,t){var n=t.name.substring(7);return e.has(n)?((n=e.get(n)).times+=1,n.totalDuration+=t.duration):e.set(n,{xpath:n,times:1,totalDuration:t.duration,average:0}),e}),new Map).values()).map((function(e){return e.average=e.totalDuration/e.times,e})).sort((function(e,t){return t.totalDuration-e.totalDuration}))},setPerformanceImplementation:function(e){Ud=e},startProfiling:function(){if(null===Ud)throw Error("Performance API object must be set using `profiler.setPerformanceImplementation` before starting to profile");Ud.clearMarks(),Ud.clearMeasures(),Fd=!0},stopProfiling:function(){Fd=!1}},Ld=0;function Gd(e,t,n,r,i,a){if(i=i||0,!e||"string"!=typeof e&&!("nodeType"in e))throw new TypeError("Failed to execute 'evaluateXPath': xpathExpression must be a string or an element depicting an XQueryX DOM tree.");a=a||{};try{var o=Id(e,t,n||null,r||{},a,{qa:"XQueryUpdate3.1"===a.language,aa:"XQuery3.1"===a.language||"XQueryUpdate3.1"===a.language,debug:!!a.debug,Ha:!!a.disableCache}),s=o.xb,l=o.zb,u=o.da}catch(t){Qr(e,t)}if(u.I)throw Error("XUST0001: Updating expressions should be evaluated as updating expressions");if(3===i&&t&&"object"==typeof t&&"nodeType"in t&&(n=u.A(),t=_e(t),null!==n&&!t.includes(n)))return!1;try{t=e,Fd&&("string"!=typeof t&&(t=Kr(t)),Ud.mark(t+(0===Ld?"":"@"+Ld)),Ld++);var c=Md(e,lr(u,s,l),i,l);return i=e,Fd&&("string"!=typeof i&&(i=Kr(i)),s=i+(0===--Ld?"":"@"+Ld),Ud.measure("XPath: "+i,s),Ud.clearMarks(s)),c}catch(t){Qr(e,t)}}Object.assign(Gd,{Hc:14,ANY_TYPE:0,Pb:12,Qb:99,BOOLEAN_TYPE:3,Ub:9,hc:11,kc:7,oc:13,NUMBER_TYPE:1,rc:10,STRING_TYPE:2,Ic:"XPath3.1",Jc:"XQuery3.1",vc:"XQueryUpdate3.1"});var jd={};function $d(e,t,n,r,i){return Gd(e,t,n,r,Gd.Qb,i)}function Xd(e,t,n,r){var i={};return i.pendingUpdateList=e.fa.map((function(e){return e.h(r)})),i.xdmValue=Md(t,ue.create(e.H),n,r),i}function zd(e,t,n){switch(t.type){case 0:return[e,{type:0}];case 1:return[e,{type:1}];case 3:return[""+zd(e+"("+(n||"contextItem")+")",t.i,n)[0],t.i];case 4:return[e,{type:4}];case 5:throw Error("Trying to get value of generated code with type None");default:throw Error("Unreachable! Trying to get compiled value of unsupported GeneratedCodeType.")}}function qd(e,t,n){return{code:e,xa:t,isAstAccepted:!0,ta:n}}function Vd(e){return{isAstAccepted:!1,reason:e}}function Yd(e,t,n,r){switch(r=void 0===r?"contextItem":r,n.type){case 0:case 1:return qd("!!"+e,{type:0},[t]);case 3:return(e=Yd(e+"("+r+")","",n.i,r)).isAstAccepted?qd("!!"+e.code,e.xa,[t]):e;case 4:return qd("(() => {\n\t\t\t\t\tconst result = "+e+".next();\n\t\t\t\t\treturn result.done ? false : !!result.value;\n\t\t\t\t})()",{type:0});case 5:throw Error("Trying to get value of generated code with type None");default:throw Error("Unreachable! Trying to get compiled value of unsupported GeneratedCodeType.")}}Object.assign(Gd,(jd.ALL_RESULTS_TYPE=14,jd.ANY_TYPE=0,jd.ARRAY_TYPE=12,jd.ASYNC_ITERATOR_TYPE=99,jd.BOOLEAN_TYPE=3,jd.FIRST_NODE_TYPE=9,jd.MAP_TYPE=11,jd.NODES_TYPE=7,jd.NUMBERS_TYPE=13,jd.NUMBER_TYPE=1,jd.STRINGS_TYPE=10,jd.STRING_TYPE=2,jd.XPATH_3_1_LANGUAGE="XPath3.1",jd.XQUERY_3_1_LANGUAGE="XQuery3.1",jd.XQUERY_UPDATE_3_1_LANGUAGE="XQueryUpdate3.1",jd));var Kd={DONE_TOKEN:Q,getEffectiveBooleanValue:re,isSubtypeOf:ee,ready:W},Jd={qc:"pathExpr",Ob:"andOp",pc:"orOp",sc:"stringConstantExpr",Sb:"equalOp",nc:"notEqualOp",dc:"lessThanOrEqualOp",cc:"lessThanOp",Yb:"greaterThanOrEqualOp",Xb:"greaterThanOp",Tb:"eqOp",jc:"neOp",fc:"ltOp",ec:"leOp",Zb:"gtOp",Wb:"geOp",ac:"isOp",mc:"nodeBeforeOp",lc:"nodeAfterOp",Vb:"functionCallExpr"},Qd=Object.values(Jd);function Wd(e,t,n,r,i){return e=Ei(e,n),(e=Ei(e,Qd))?(t+=n,n=u(r.yb(e,t,r)),r=n.next().value,n=n.next().value,r.isAstAccepted?0===i?[Yd(t,r.code,r.xa),null]:[qd(t,r.xa,[r.code]),n]:[r,null]):[Vd("Unsupported: a base expression used with an operand."),null]}function Zd(e,t,n){return 4===t&&(e+=".next().value"),47===n&&(e="(function () { const attr = "+e+"; return attr ? domFacade.getData(attr) : null})()"),e}function ef(e,t,n,r,i){var a=Ni(Ei(e,"firstOperand")[1],"type");if(e=Ni(Ei(e,"secondOperand")[1],"type"),!a||!e)return Vd("Left or right type of compare are not found, annotation failed.");var o=[47,1];if(!o.includes(a.type)||!o.includes(e.type))return Vd("Unsupported types in compare: ["+de[a.type]+", "+de[e.type]+"]");if(!n.isAstAccepted)return n;if(!r.isAstAccepted)return r;if(!a||!e)return Vd("Operands in compare weren't annotated");if(!(o=new Map([["eqOp","==="],["neOp","!=="]])).has(t))return Vd(t+" not yet implemented");t=o.get(t),o=zd(n.code,n.xa);var s=zd(r.code,r.xa);return qd("function "+i+"(contextItem) {\n\t\t\t\t"+n.ta.join("\n")+"\n\t\t\t \t"+r.ta.join("\n")+"\n\t \t     \treturn "+Zd(o[0],o[1].type,a.type)+" "+t+" "+Zd(s[0],s[1].type,e.type)+";\n\t\t}",{type:3,i:{type:0}})}var tf={},nf=(tf.equalOp="eqOp",tf.notEqualOp="neOp",tf.lessThanOrEqualOp="leOp",tf.lessThanOp="ltOp",tf.greaterThanOrEqualOp="geOp",tf.greaterThanOp="gtOp",tf),rf={"local-name":function(e,t,n){return sf(e,t,n,af,"local-name()")},name:function(e,t,n){return sf(e,t,n,of,"name()")}};function af(e){return"("+e+".localName || "+e+".target || '')"}function of(e){return"((("+e+".prefix || '').length !== 0 ? "+e+".prefix + ':' : '')\n\t\t+ ("+e+".localName || "+e+".target || ''))"}function sf(e,t,n,r,i){if(1===(e=Ei(e,"arguments")).length)t="function "+t+"(contextItem) {\n\t\t\tif (contextItem === undefined || contextItem === null) {\n\tthrow new Error('XPDY0002: The function which was called depends on dynamic context, which is absent.');\n}\n\t\t\treturn "+r("contextItem")+";\n\t\t}";else{if(2!==e.length)return Vd("Incorrect arg count for "+i+" function");if(i=e[1],e=(n=u(n.yb(i,"arg",n))).next().value,n.next(),n=e.isAstAccepted?qd("arg",e.xa,[e.code]):e,"contextItemExpr"===i[0])t="function "+t+"(contextItem) {\n\t\t\t\tif (contextItem === undefined || contextItem === null) {\n\tthrow new Error('XPDY0002: The function which was called depends on dynamic context, which is absent.');\n}\n\t\t\t\treturn "+r("contextItem")+";\n\t\t\t}";else{if(!n.isAstAccepted)return n;t="function "+t+"(contextItem) {\n\t\t\t\t"+n.ta+"\n\t\t\t\tconst value = "+zd(n.code,n.xa)[0]+';\n\t\t\t\tconst childElement = value.next().value;\n\t\t\t\treturn (value.done ? "" : '+r("childElement")+");\n\t\t\t}"}}return qd(t,{type:3,i:{type:0}})}function lf(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function uf(e,t,n,r){var i=u(Wd(e,t,"firstOperand",n,0)),a=i.next().value;return i=i.next().value,a.isAstAccepted?(e=(n=u(Wd(e,t,"secondOperand",n,0))).next().value,n=n.next().value,e.isAstAccepted?[qd("\n\tfunction "+t+"(contextItem) {\n\t\t"+a.ta.join("\n")+"\n\t\t"+e.ta.join("\n")+"\n\t\treturn "+a.code+" "+r+" "+e.code+";\n\t}\n\t",{type:3,i:{type:0}}),"&&"===r?ua(i,n):i||n]:[e,null]):[a,null]}function cf(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];return t.filter((function(e){return""!==e})).join(" && ")}function pf(e,t,n,r,i,a){var o=1!==n?"i"+n+" = 0;":"";return qd("\n\t"+a+"\n\twhile ("+cf(i+n,"i"+n+" < "+i+n+".length")+") {\n\t\tconst contextItem"+n+" = "+i+n+"[i"+n+"];\n\t\tif (!("+(e=cf("contextItem"+n,e,t))+")) {\n\t\t\ti"+n+"++;\n\t\t\tcontinue;\n\t\t}\n\t\t"+r+"\n\t}\n\t"+o+"\n\t",{type:2},["let i"+n+" = 0;"])}function hf(e,t,n,r,i){return qd("\n\t\t"+i+"\n\t\tif ("+(e=cf("i"+n+" === 0","contextItem"+n,e,t))+") {\n\t\t\t"+r+"\n\t\t}\n\t\t",{type:2},["let i"+n+" = 0;"])}var df={tc:"textTest",Rb:"elementTest",ic:"nameTest",uc:"Wildcard"},ff=Object.values(df);function mf(e,t,n){if(null===t.namespaceURI&&"*"!==t.prefix){if(!(n=n.ba(t.prefix||"")||null)&&t.prefix)throw Error("XPST0081: The prefix "+t.prefix+" could not be resolved.");t.namespaceURI=n}n=t.prefix;var r=t.namespaceURI;t=t.localName;var i=e+".nodeType\n\t\t&& ("+e+".nodeType === /*ELEMENT_NODE*/ 1\n\t\t|| "+e+".nodeType === /*ATTRIBUTE_NODE*/ 2)";return"*"===n?"*"===t?[qd(i,{type:0}),null]:[qd(i+" && "+e+".localName === "+lf(t),{type:0}),"name-"+t]:[qd((i="*"!==t?i+" && "+e+".localName === "+lf(t)+" && ":"")+"("+e+".namespaceURI || null) === (("+(n=""===n?e+".nodeType\n&& "+e+".nodeType === /*ELEMENT_NODE*/ 1 ? "+lf(r)+" : null":lf(r))+") || null)",{type:0}),"name-"+t]}function gf(e,t,n){var r=e[0];switch(r){case df.Rb:return r=(e=Ei(e,"elementName"))&&Ei(e,"star"),null===e||r?t=[qd(t+".nodeType === /*ELEMENT_NODE*/ 1",{type:0}),null]:t=mf(t,e=Bi(Ei(e,"QName")),n),t;case df.tc:return[qd(t+".nodeType === /*TEXT_NODE*/ 3",{type:0}),null];case df.ic:return mf(t,Bi(e),n);case df.uc:return Ei(e,"star")?null!==(r=Ei(e,"uri"))?t=mf(t,{localName:"*",namespaceURI:Ci(r),prefix:""},n):(r=Ei(e,"NCName"),t="star"===Ei(e,"*")[0]?mf(t,{localName:Ci(r),namespaceURI:null,prefix:"*"},n):mf(t,{localName:"*",namespaceURI:null,prefix:Ci(r)},n)):t=mf(t,{localName:"*",namespaceURI:null,prefix:"*"},n),t;default:return[Vd("Unsupported: the test '"+r+"'."),null]}}function yf(e,t,n){var r=e[0];switch(r){case Jd.qc:r="",Ei(e,"rootExpr")&&(r="\n\t\tlet documentNode = contextItem;\n\t\twhile (documentNode.nodeType !== /*DOCUMENT_NODE*/9) {\n\t\t\tdocumentNode = domFacade.getParentNode(documentNode);\n\t\t\tif (documentNode === null) {\n\t\t\t\tthrow new Error('XPDY0050: the root node of the context node is not a document node.');\n\t\t\t}\n\t\t}\n\t\tcontextItem = documentNode;\n\t\t");var i=u(function(e,t){if(0===e.length)return[qd("\n\t\t\tif (!hasReturned) {\n\t\t\t\thasReturned = true;\n\t\t\t\treturn ready(contextItem);\n\t\t\t}\n\t\t\t",{type:2},["let hasReturned = false;"]),null];for(var n="",r=[],i=null,a=e.length-1;0<=a;a--){var o=e[a],s=a+1,l=Ei(o,"predicates");e:{var c=t,h="",d=[];if(l){l=Si(l,"*");for(var f=null,m=0;m<l.length;m++){var g="step"+s+"_predicate"+m,y=u(c.yb(l[m],g,c)),v=y.next().value;if(y=y.next().value,!v.isAstAccepted){c=[v,null];break e}if(f=ua(f,y),!(g=Yd(g,"",v.xa,"contextItem"+s)).isAstAccepted){c=[g,null];break e}h=0===m?h+g.code:h+" && "+g.code,d.push(v.code)}c=[qd(h,{type:0},d),f]}else c=[qd("",{type:5},d),null]}if(c=(h=u(c)).next().value,d=h.next().value,!c.isAstAccepted)return[c,null];if(!(h=Ei(o,"xpathAxis")))return[Vd("Unsupported: filter expressions."),null];if(!(l=Ei(o,ff)))return[Vd("Unsupported: the test in the '"+o+"' step."),null];if(n=a===e.length-1?"i"+s+"++;\n\t\t\t\t\t   return ready(contextItem"+s+");":n+"\n\t\t\t\t\t   i"+s+"++;",l=(f=u(gf(l,"contextItem"+s,t))).next().value,f=f.next().value,!l.isAstAccepted)return[l,null];d=ua(f,d);e:switch(l=l.code,f=c.code,h=Ci(h),h){case"attribute":s=[pf(l,f,s,n,"attributeNodes","\n\tlet attributeNodes"+s+";\n\tif (contextItem && contextItem"+(s-1)+".nodeType === /*ELEMENT_NODE*/ 1) {\n\t\tattributeNodes"+s+" =  domFacade.getAllAttributes(contextItem"+(s-1)+" "+(d?', "'+d+'"':"")+");\n\t}\n\t"),"type-1"];break e;case"child":s=[pf(l,f,s,n,"childNodes","const childNodes"+s+" = domFacade.getChildNodes(contextItem"+(s-1)+" "+(d?', "'+d+'"':"")+");"),null];break e;case"parent":s=[hf(l,f,s,n,"\n\tconst contextItem"+s+" = domFacade.getParentNode(contextItem"+(s-1)+" "+(d?', "'+d+'"':"")+");\n\t"),null];break e;case"self":s=[hf(l,f,s,n,"const contextItem"+s+" = contextItem"+(s-1)+";"),d];break e;default:s=[Vd("Unsupported: the "+h+" axis"),null]}if(s=(n=u(s)).next().value,n=n.next().value,!s.isAstAccepted)return[s,null];if(0===a&&(i=n),r.push.apply(r,[].concat(p(s.ta),p(c.ta))),n=s.code,0<Si(o,"lookup").length)return[Vd("Unsupported: lookups."),null]}return[qd("const contextItem0 = contextItem;"+n,{type:2},r),i]}(Si(e,"stepExpr"),n));return e=i.next().value,i=i.next().value,e.isAstAccepted?[qd("\n\tfunction "+t+"(contextItem) {\n\t\t"+r+"\n\t\t"+e.ta.join("\n")+"\n\t\tconst next = () => {\n\t\t\t"+e.code+"\n\t\t\treturn DONE_TOKEN;\n\t\t};\n\t\treturn {\n\t\t\tnext,\n\t\t\t[Symbol.iterator]() { return this; }\n\t\t};\n\t}\n\t",{type:3,i:{type:4}}),i]:[e,null];case Jd.Ob:return uf(e,t,n,"&&");case Jd.pc:return uf(e,t,n,"||");case Jd.sc:return[qd("const "+t+" = "+(e=lf(e=Ei(e,"value")[1]||""))+";",{type:1}),null];case Jd.Sb:case Jd.nc:case Jd.dc:case Jd.cc:case Jd.Yb:case Jd.Xb:case Jd.Tb:case Jd.jc:case Jd.fc:case Jd.ec:case Jd.Zb:case Jd.Wb:case Jd.ac:case Jd.mc:case Jd.lc:e:{var a=u(Wd(e,t,"firstOperand",n));if(i=a.next().value,a.next(),i.isAstAccepted)if(n=(a=u(Wd(e,t,"secondOperand",n))).next().value,a.next(),n.isAstAccepted)switch(r){case"eqOp":case"neOp":case"ltOp":case"leOp":case"gtOp":case"geOp":case"isOp":t=ef(e,r,i,n,t);break e;case"equalOp":case"notEqualOp":case"lessThanOrEqualOp":case"lessThanOp":case"greaterThanOrEqualOp":case"greaterThanOp":a=Ni(e,"type");var o=Ni(e,"type");t=a&&o?3===a.g&&3===o.g?ef(e,nf[r],i,n,t):Vd("generalCompare with sequences is still in development"):Vd("types of compare are not known");break e;default:t=Vd("Unsupported compare type")}else t=n;else t=i}return[t,null];case Jd.Vb:return r=Ci(Ei(e,"functionName")),[void 0!==rf[r]?rf[r](e,t,n):Vd("Unsupported function: "+r),null];default:return[Vd("Unsupported: the base expression '"+r+"'."),null]}}function vf(e,t,n){var r=Ei(e,"mainModule");if(!r)return Vd("Unsupported: Can not execute a library module.");if(Ei(r,"prolog"))return Vd("Unsupported: XQuery.");r=Ti(r,["queryBody","*"]),n.yb=yf;var i=u(yf(r,"compiledXPathExpression",n));return n=i.next().value,i.next(),!1===n.isAstAccepted?n:(i=n.ta?n.ta.join("\n"):"",r=Ni(r,"type"),t=function(e,t,n){switch(e){case 9:if(e=(n=u(zd("compiledXPathExpression",t))).next().value,4!==n.next().value.type)throw Error("Trying access generated code as an iterator while this is not the case.");return qd("\n\tconst firstResult = "+e+".next();\n\tif (!firstResult.done) {\n\t\treturn firstResult.value\n\t}\n\treturn null;\n\t",{type:2});case 7:return e=(n=u(zd("compiledXPathExpression",t))).next().value,4!==n.next().value.type?Vd("Return type was not an iterator"):qd("\n\tconst nodes = [];\n\tfor (const node of "+e+") {\n\t\tnodes.push(node);\n\t}\n\treturn nodes;\n\t",{type:2});case 3:return(n=Yd("compiledXPathExpression","",t)).isAstAccepted?qd("return "+n.code+";",{type:2}):n;case 2:return n=void 0===n?Vd("Full AST wasn't annotated so we cannot correctly emit a string return"):ee(n,1)||ee(n,47)?qd("return "+Zd(e=(t=u(zd("compiledXPathExpression",t))).next().value,(t=t.next().value).type,n)+" || '';",{type:2}):Vd("Not implemented: returning anything but strings and attributes from codegen");default:return Vd("Unsupported: the return type '"+e+"'.")}}(t,n.xa,r?r.type:void 0),!1===t.isAstAccepted?t:(t=i+n.code+t.code,n="\n\treturn (contextItem, domFacade, runtimeLib) => {\n\t\tconst {\n\t\t\tDONE_TOKEN,\n\t\t\tValueType,\n\t\t\tXPDY0002,\n\t\t\tdeterminePredicateTruthValue,\n\t\t\tisSubtypeOf,\n\t\t\tready,\n\t\t\tatomize,\n\t\t} = runtimeLib;",wf(e)&&(n+='\n\t\tif (!contextItem) {\n\t\t\tthrow XPDY0002("Context is needed to evaluate the given path expression.");\n\t\t}\n\n\t\tif (!contextItem.nodeType) {\n\t\t\tthrow new Error("Context item must be subtype of node().");\n\t\t}\n\t\t'),{code:n+(t+"}\n//# sourceURL=generated.js"),isAstAccepted:!0}))}function wf(e){var t=Si(e,"*");if("pathExpr"===e[0])return!0;for(t=(e=u(t)).next();!t.done;t=e.next())if(wf(t.value))return!0;return!1}var bf={},xf=(bf["http://www.w3.org/2005/XQueryX"]="xqx",bf["http://www.w3.org/2007/xquery-update-10"]="xquf",bf["http://fontoxml.com/fontoxpath"]="x",bf);function _f(e,t,n,r,i){if("string"==typeof n)return 0===n.length?null:t.createTextNode(n);if(!Array.isArray(n))throw new TypeError("JsonML element should be an array or string");var a=function(e,t){switch(e){case"copySource":case"insertAfter":case"insertAsFirst":case"insertAsLast":case"insertBefore":case"insertInto":case"modifyExpr":case"newNameExpr":case"replacementExpr":case"replaceValue":case"returnExpr":case"sourceExpr":case"targetExpr":case"transformCopies":case"transformCopy":return{localName:e,rb:t||"http://www.w3.org/2005/XQueryX"};case"deleteExpr":case"insertExpr":case"renameExpr":case"replaceExpr":case"transformExpr":return{localName:e,rb:"http://www.w3.org/2007/xquery-update-10"};case"x:stackTrace":return{localName:"stackTrace",rb:"http://fontoxml.com/fontoxpath"};default:return{localName:e,rb:"http://www.w3.org/2005/XQueryX"}}}(n[0],r);r=a.rb,a=t.createElementNS(r,xf[r]+":"+a.localName);var o=n[1],s=1;if("object"==typeof o&&!Array.isArray(o)){if(null!==o)for(var l=(s=u(Object.keys(o))).next();!l.done;l=s.next()){var c=o[l=l.value];null!==c&&("type"===l?void 0!==c&&e.setAttributeNS(a,r,"fontoxpath:"+l,me(c)):i&&"prefix"===l&&""===c||e.setAttributeNS(a,r,xf[r]+":"+l,c))}s=2}for(o=s,s=n.length;o<s;++o)null!==(l=_f(e,t,n[o],r,i))&&e.insertBefore(a,l,null);return a}function Af(e,t,n){var r=e.stack;r&&(r.includes(e.message)&&(r=r.substr(r.indexOf(e.message)+e.message.length).trim()),(r=r.split("\n")).splice(10),r=r.map((function(e){return e.startsWith("    ")||e.startsWith("\t")?e:"    "+e})),r=r.join("\n")),e=Error.call(this,"Custom XPath function Q{"+n+"}"+t+" raised:\n"+e.message+"\n"+r),this.message=e.message,"stack"in e&&(this.stack=e.stack)}function Ef(e,t,n){return 0===t.g?e.G()?null:Rd(e.first(),n).next(0).value:2===t.g||1===t.g?e.M().map((function(e){if(ee(e.type,47))throw Error("Cannot pass attribute nodes to custom functions");return Rd(e,n).next(0).value})):Rd(e.first(),n).next(0).value}y(Af,Error);var Cf=new Map;function Nf(e){var t;e:{if(t=Ns.get(e))for(var n=u(Object.keys(t)),r=n.next();!r.done;r=n.next())if(t[r=r.value]&&t[r].length){t=t[r][0].h;break e}t=null}if(t)return t;if(Cf.has(e))return Cf.get(e);if(null===(t=Ti(t="string"==typeof e?pd(e,{aa:!1}):Bs(e),["mainModule","queryBody","*"])))throw Error("Library modules do not have a specificity");return t=Cs(t,{qa:!1,aa:!1}),Cf.set(e,t),t}var Tf=new Ae;return void 0!==n&&(n.compareSpecificity=function(e,t){return _r(Nf(e).s,Nf(t).s)},n.compileXPathToJavaScript=function(e,t,n){n=n||{},t=t||0,"string"==typeof e?e=pd(e=Os(e),{aa:"XQuery3.1"===n.language||"XQueryUpdate3.1"===n.language,debug:!1}):e=Bs(e);var r=Ei(e,"mainModule");return r?Ei(r,"prolog")?Vd("Unsupported: XQuery Prologs are not supported."):(Vi(e,n=new ta(new gi(new ii((r={ba:n.namespaceResolver||Bd(null)}).ba,{},void 0===n.defaultFunctionNamespaceURI?"http://www.w3.org/2005/xpath-functions":n.defaultFunctionNamespaceURI,n.functionNameResolver||kd("http://www.w3.org/2005/xpath-functions"))))),vf(e,t,r)):Vd("Unsupported: XQuery Library modules are not supported.")},n.domFacade=Tf,n.evaluateXPath=Gd,n.evaluateXPathToArray=function(e,t,n,r,i){return Gd(e,t,n,r,Gd.Pb,i)},n.evaluateXPathToAsyncIterator=$d,n.evaluateXPathToBoolean=function(e,t,n,r,i){return Gd(e,t,n,r,Gd.BOOLEAN_TYPE,i)},n.evaluateXPathToFirstNode=function(e,t,n,r,i){return Gd(e,t,n,r,Gd.Ub,i)},n.evaluateXPathToMap=function(e,t,n,r,i){return Gd(e,t,n,r,Gd.hc,i)},n.evaluateXPathToNodes=function(e,t,n,r,i){return Gd(e,t,n,r,Gd.kc,i)},n.evaluateXPathToNumber=function(e,t,n,r,i){return Gd(e,t,n,r,Gd.NUMBER_TYPE,i)},n.evaluateXPathToNumbers=function(e,t,n,r,i){return Gd(e,t,n,r,Gd.oc,i)},n.evaluateXPathToString=function(e,t,n,r,i){return Gd(e,t,n,r,Gd.STRING_TYPE,i)},n.evaluateXPathToStrings=function(e,t,n,r,i){return Gd(e,t,n,r,Gd.rc,i)},n.evaluateUpdatingExpression=function(e,t,n,r,i){var a,o,s,l,u,c,p,h,d,f;return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(a){a.done?r(a.value):Promise.resolve(a.value).then(t,n).then(e,i)}(e.next())}))}(new E(new x((function(m){switch(m.h){case 1:i=i||{};try{l=Id(e,t,n||null,r||{},i||{},{qa:!0,aa:!0,debug:!!i.debug,Ha:!!i.disableCache}),a=l.xb,o=l.zb,s=l.da}catch(t){Qr(e,t)}if(s.I){m.h=2;break}u=[];var g=(c=$d(e,t,n,r,Object.assign(Object.assign({},i),{language:"XQueryUpdate3.1"}))).next();return m.h=3,{value:g};case 3:p=m.u;case 4:if(p.done){m.h=6;break}return u.push(p.value),g=c.next(),m.h=7,{value:g};case 7:p=m.u,m.h=4;break;case 6:return h={},m.return(Promise.resolve((h.pendingUpdateList=[],h.xdmValue=u,h)));case 2:try{f=s.u(a,o),d=f.next(0)}catch(t){Qr(e,t)}return m.return(Xd(d.value,e,i.returnType,o))}}))))},n.evaluateUpdatingExpressionSync=function(e,t,n,r,i){i=i||{};try{var a=Id(e,t,n||null,r||{},i||{},{qa:!0,aa:!0,debug:!!i.debug,Ha:!!i.disableCache}),o=a.xb,s=a.zb,l=a.da}catch(t){Qr(e,t)}if(!l.I)return o={},(s={}).pendingUpdateList=[],s.xdmValue=Gd(e,t,n,r,i.i,Object.assign(Object.assign({},i),(o.language=Gd.vc,o))),s;try{var u=l.u(o,s).next(0)}catch(t){Qr(e,t)}return Xd(u.value,e,i.returnType,s)},n.executeJavaScriptCompiledXPath=function(e,t,n){return n=n||new Ae,e()(t,n,Kd)},n.executePendingUpdateList=function(e,t,n,r){t=new Be(t||new Ae),r=r?new Ne(r):Ce,n=n?n=new Td(n):null,dr(e=e.map(is),t,n,r)},n.getBucketForSelector=function(e){return Nf(e).A()},n.getBucketsForNode=_e,n.precompileXPath=function(e){return Promise.resolve(e)},n.registerXQueryModule=function(e,t){if(qi(t=pd(e,{aa:!0,debug:(t=void 0===t?{debug:!1}:t).debug}),new ta(void 0)),!(t=Ei(t,"libraryModule")))throw Error("XQuery module must be declared in a library module.");var n=Ei(t,"moduleDecl"),r=Ei(n,"uri"),i=Ci(r);if(r=Ci(n=Ei(n,"prefix")),bi(n=new gi(new ii((function(){return null}),Object.create(null),"http://www.w3.org/2005/xpath-functions",kd("http://www.w3.org/2005/xpath-functions"))),r,i),null!==(t=Ei(t,"prolog"))){try{var a=dd(t,n)}catch(t){Qr(e,t)}a.Ma.forEach((function(e){if(i!==e.namespaceURI)throw Error("XQST0048: Functions and variables declared in a module must reside in the module target namespace.")})),Is(i,a)}else Is(i,{Ma:[],Ua:[]});return i},n.registerCustomXPathFunction=function(e,t,n,r){e=function(e){if("object"==typeof e)return e;if(2!==(e=e.split(":")).length)throw Error("Do not register custom functions in the default function namespace");var t=u(e);e=t.next().value,t=t.next().value;var n=ri[e];if(!n){if(n="generated_namespace_uri_"+e,ri[e])throw Error("Prefix already registered: Do not register the same prefix twice.");ri[e]=n}return{localName:t,namespaceURI:n}}(e);var i=e.namespaceURI,a=e.localName;if(!i)throw ui();var o=t.map((function(e){return ye(e)})),s=ye(n);ti(i,a,o,s,(function(e,t,n){var l=Array.from(arguments);l.splice(0,3),l=l.map((function(e,n){return Ef(e,o[n],t)}));var u={};u.currentContext=t.u,u.domFacade=t.h.h;try{var c=r.apply(void 0,[u].concat(p(l)))}catch(e){throw new Af(e,a,i)}return c&&"object"==typeof c&&Object.getOwnPropertySymbols(c).includes(Sd)?ue.create(c.Db):wt(t.h,c,s)}))},n.parseScript=function(e,t,n,r){r=void 0===r?Ce:r;var i=pd(e=Os(e),{aa:"XQuery3.1"===t.language||"XQueryUpdate3.1"===t.language,debug:t.debug}),a=new ii(t.namespaceResolver||function(){return null},{},void 0===t.defaultFunctionNamespaceURI?"http://www.w3.org/2005/xpath-functions":t.defaultFunctionNamespaceURI,t.functionNameResolver||function(){return null});a=new gi(a);var o=Ei(i,["mainModule","libraryModule"]),s=Ei(o,"moduleDecl");return s&&bi(a,Ci(Ei(s,"prefix")),s=Ci(Ei(s,"uri"))),(o=Ei(o,"prolog"))&&dd(o,a,!1),!1!==t.annotateAst&&qi(i,new ta(a)),a=new Ae,t=_f(r,n,i,null,!1===t.Kc),r.insertBefore(t,n.createComment(e),a.getFirstChild(t)),t},n.profiler=Hd,n.createTypedValueFactory=function(e){return function(t,n){return t=vt(new Be(null===n?new Ae:n),t,ye(e)),(n={})[Sd]=!0,n.Db=t,n}},n.Language={XPATH_3_1_LANGUAGE:"XPath3.1",XQUERY_3_1_LANGUAGE:"XQuery3.1",XQUERY_UPDATE_3_1_LANGUAGE:"XQueryUpdate3.1"},n.ReturnType=Dd),n}.call("undefined"==typeof window?void 0:window,Ho,rs);is.compareSpecificity,is.compileXPathToJavaScript,is.createTypedValueFactory,is.domFacade,is.evaluateUpdatingExpression,is.evaluateUpdatingExpressionSync;const as=is.evaluateXPath;is.evaluateXPathToArray,is.evaluateXPathToAsyncIterator;const os=is.evaluateXPathToBoolean,ss=is.evaluateXPathToFirstNode;is.evaluateXPathToMap;const ls=is.evaluateXPathToNodes,us=is.evaluateXPathToNumber;is.evaluateXPathToNumbers;const cs=is.evaluateXPathToString,ps=is.evaluateXPathToStrings;is.executeJavaScriptCompiledXPath,is.executePendingUpdateList,is.getBucketForSelector;const hs=is.getBucketsForNode;is.Language;const ds=is.parseScript;is.precompileXPath,is.profiler;const fs=is.registerCustomXPathFunction,ms=is.registerXQueryModule;is.ReturnType;class gs{constructor(e){this._onNodeTouched=e}getAllAttributes(e){return Array.from(e.attributes)}getAttribute(e,t){return e.getAttribute(t)}getChildNodes(e,t){const n=Array.from(e.childNodes).filter((e=>!t||hs(e).includes(t)));return n.forEach((e=>this._onNodeTouched(e))),n}getData(e){return e.nodeType===Node.ATTRIBUTE_NODE?(this._onNodeTouched(e),e.value):(this._onNodeTouched(e.parentNode),e.data)}getFirstChild(e,t){for(const n of e.childNodes)if(!t||hs(n).includes(t))return this._onNodeTouched(n),n;return null}getLastChild(e,t){const n=e.getChildNodes().filter((e=>!t||hs(e).includes(t))),r=n[n.length-1];return r||null}getNextSibling(e,t){for(let n=e.nextSibling;n;n=n.nextSibling)if(hs(n).includes(t))return this._onNodeTouched(n),n;return null}getParentNode(e){return e.parentNode}getPreviousSibling(e,t){for(let{previousSibling:n}=e;n;n=n.previousSibling)if(hs(n).includes(t))return n;return null}}class ys{static getParentBindingElement(e){if(e.parentNode&&e.parentNode.nodeType!==Node.DOCUMENT_NODE){if(e.parentNode.hasAttribute("ref"))return e.parentNode;ys.getParentBindingElement(e.parentNode)}return null}static isAbsolutePath(e){return null!=e&&(e.startsWith("/")||e.startsWith("instance("))}static isSelfReference(e){return"."===e||"./text()"===e||"text()"===e||""===e||null===e}static getDefaultInstance(e){const t=ys.getForeElement(e).querySelector("fx-instance");if(!t)throw new Error("no default instance present");return t}static getForeElement(e){if("FX-FORE"===e.nodeName)return e;if(e.parentNode)return ys.getForeElement(e.parentNode);throw new Error("no Fore element present")}static getInstanceId(e){if(!e)return"default";if(e.startsWith("instance()"))return"default";if(e.startsWith("instance(")){const t=e.substring(e.indexOf("(")+1);return t.substring(1,t.indexOf(")")-1)}return null}static getPath(e){const t=cs("path()",e);return ys.shortenPath(t)}static shortenPath(e){const t=e.replaceAll(/(Q{(.*?)\})/g,""),n=t.substring(1,t.length);return n.substring(n.indexOf("/"),t.length)}static getBasePath(e){return e.split(":")[0]}}function vs(e,t,n,r){const i={};return function(a){if(i[a])return;const o={},s=[],l=[];for(l.push({node:a,processed:!1});l.length>0;){const a=l[l.length-1],{processed:u}=a,{node:c}=a;if(u)l.pop(),s.pop(),o[c]=!1,i[c]=!0,t&&0!==e[c].length||n.push(c);else{if(i[c]){l.pop();continue}if(o[c]){if(r){l.pop();continue}throw s.push(c),window.dispatchEvent(new CustomEvent("compute-exception",{composed:!1,bubbles:!0,detail:{path:s,message:"cyclic graph"}})),new Error(`Cyclic at ${s}`)}o[c]=!0,s.push(c);const t=e[c];for(let e=t.length-1;e>=0;e-=1)l.push({node:t[e],processed:!1});a.processed=!0}}}}function ws(e){this.nodes={},this.outgoingEdges={},this.incomingEdges={},this.circular=e&&!!e.circular}ws.prototype={size(){return Object.keys(this.nodes).length},addNode(e,t){this.hasNode(e)||(this.nodes[e]=2===arguments.length?t:e,this.outgoingEdges[e]=[],this.incomingEdges[e]=[])},removeNode(e){this.hasNode(e)&&(delete this.nodes[e],delete this.outgoingEdges[e],delete this.incomingEdges[e],[this.incomingEdges,this.outgoingEdges].forEach((t=>{Object.keys(t).forEach((n=>{const r=t[n].indexOf(e);r>=0&&t[n].splice(r,1)}),this)})))},hasNode(e){return Object.prototype.hasOwnProperty.call(this.nodes,e)},getNodeData(e){if(this.hasNode(e))return this.nodes[e];throw new Error(`Node does not exist: ${e}`)},setNodeData(e,t){if(!this.hasNode(e))throw new Error(`Node does not exist: ${e}`);this.nodes[e]=t},addDependency(e,t){if(!this.hasNode(e))throw new Error(`Node does not exist: ${e}`);if(!this.hasNode(t))throw new Error(`Node does not exist: ${t}`);return-1===this.outgoingEdges[e].indexOf(t)&&this.outgoingEdges[e].push(t),-1===this.incomingEdges[t].indexOf(e)&&this.incomingEdges[t].push(e),!0},removeDependency(e,t){let n;this.hasNode(e)&&(n=this.outgoingEdges[e].indexOf(t),n>=0&&this.outgoingEdges[e].splice(n,1)),this.hasNode(t)&&(n=this.incomingEdges[t].indexOf(e),n>=0&&this.incomingEdges[t].splice(n,1))},clone(){const e=this,t=new ws;return Object.keys(e.nodes).forEach((n=>{t.nodes[n]=e.nodes[n],t.outgoingEdges[n]=e.outgoingEdges[n].slice(0),t.incomingEdges[n]=e.incomingEdges[n].slice(0)})),t},directDependenciesOf(e){if(this.hasNode(e))return this.outgoingEdges[e].slice(0);throw new Error(`Node does not exist: ${e}`)},directDependantsOf(e){if(this.hasNode(e))return this.incomingEdges[e].slice(0);throw new Error(`Node does not exist: ${e}`)},dependenciesOf(e,t){if(this.hasNode(e)){const n=[];vs(this.outgoingEdges,t,n,this.circular)(e);const r=n.indexOf(e);return r>=0&&n.splice(r,1),n}throw new Error(`Node does not exist: ${e}`)},dependantsOf(e,t){if(this.hasNode(e)){const n=[];vs(this.incomingEdges,t,n,this.circular)(e);const r=n.indexOf(e);return r>=0&&n.splice(r,1),n}throw new Error(`Node does not exist: ${e}`)},entryNodes(){const e=this;return Object.keys(this.nodes).filter((t=>0===e.incomingEdges[t].length))},overallOrder(e){const t=this,n=[],r=Object.keys(this.nodes);if(0===r.length)return n;if(!this.circular){const e=vs(this.outgoingEdges,!1,[],this.circular);r.forEach((t=>{e(t)}))}const i=vs(this.outgoingEdges,e,n,this.circular);return r.filter((e=>0===t.incomingEdges[e].length)).forEach((e=>{i(e)})),this.circular&&r.filter((e=>-1===n.indexOf(e))).forEach((e=>i(e))),n}},ws.prototype.directDependentsOf=ws.prototype.directDependantsOf,ws.prototype.dependentsOf=ws.prototype.dependantsOf;class bs{static get ACTION_ELEMENTS(){return["FX-DELETE","FX-DISPATCH","FX-HIDE","FX-INSERT","FX-LOAD","FX-MESSAGE","FX-REBUILD","FX-RECALCULATE","FX-REFRESH","FX-RENEW","FX-REPLACE","FX-RESET","FX-RETAIN","FX-RETURN","FX-REVALIDATE","FX-SEND","FX-SETFOCUS","FX-SETINDEX","FX-SETVALUE","FX-SHOW","FX-TOGGLE","FX-UPDATE"]}static createUUID(){const e=[],t="0123456789abcdef";for(let n=0;n<36;n+=1)e[n]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";return e.join("")}static get XFORMS_NAMESPACE_URI(){return"http://www.w3.org/2002/xforms"}static isActionElement(e){return bs.ACTION_ELEMENTS.includes(e)}static get UI_ELEMENTS(){return["FX-ALERT","FX-CONTROL","FX-BUTTON","FX-CONTROL","FX-DIALOG","FX-FILENAME","FX-MEDIATYPE","FX-GROUP","FX-HINT","FX-INPUT","FX-ITEMS","FX-LABEL","FX-OUTPUT","FX-RANGE","FX-REPEAT","FX-REPEATITEM","FX-SWITCH","FX-SECRET","FX-SELECT","FX-SUBMIT","FX-TEXTAREA","FX-TRIGGER","FX-UPLOAD","FX-VAR"]}static isUiElement(e){return bs.UI_ELEMENTS.includes(e),bs.UI_ELEMENTS.includes(e)}static async refreshChildren(e,t){const n=new Promise((n=>{const{children:r}=e;r&&Array.from(r).forEach((e=>{"FX-FORE"===e.nodeName.toUpperCase()&&n("done"),bs.isUiElement(e.nodeName)&&"function"==typeof e.refresh?e.refresh():"FX-MODEL"!==e.nodeName.toUpperCase()&&bs.refreshChildren(e,t)})),n("done")}));return n}static getClosest(e,t){for(;!t.matches(e);){if(t.matches("fx-fore"))return null;if(!(t=t.parentNode))return null}return t}static getContentType(e,t){return"urlencoded-post"===t?"application/x-www-form-urlencoded; charset=UTF-8":"xml"===e.type?"application/xml; charset=UTF-8":"json"===e.type?"application/json":null}static fadeInElement(e){let t=()=>(e.getAnimations&&e.getAnimations().map((e=>e.finish())),t=e.animate({opacity:[0,1]},600),t.finished);return t()}static fadeOutElement(e,t){let n=()=>(e.getAnimations&&e.getAnimations().map((e=>e.finish())),n=e.animate({opacity:[1,0]},t),n.finished);return n()}static dispatch(e,t,n){const r=new CustomEvent(t,{composed:!1,bubbles:!0,detail:n});e.dispatchEvent(r)}static prettifyXml(e){const t=(new DOMParser).parseFromString(e,"application/xml"),n=(new DOMParser).parseFromString(['<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">','  <xsl:output method="xml" indent="yes" omit-xml-declaration="yes"/>','  <xsl:strip-space elements="*"/>','  <xsl:template match="text()">','    <xsl:value-of select="normalize-space(.)"/>',"  </xsl:template>",'  <xsl:template match="node()|@*">',"    <xsl:copy>",'        <xsl:apply-templates select="node()|@*"/>',"    </xsl:copy>","  </xsl:template>","</xsl:stylesheet>"].join("\n"),"application/xml"),r=new XSLTProcessor;r.importStylesheet(n);const i=r.transformToDocument(t);return(new XMLSerializer).serializeToString(i)}static async loadForeFromUrl(e,t){await fetch(t,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"text/html"}}).then((e=>e.headers.get("content-type").toLowerCase().startsWith("text/html")?e.text().then((e=>(new DOMParser).parseFromString(e,"text/html"))):"done")).then((t=>{const n=t.querySelector("fx-fore");n||e.dispatchEvent(new CustomEvent("error",{composed:!1,bubbles:!0,detail:{message:"cyclic graph"}})),e.appendChild(n),n.classList.add("widget")})).catch((n=>{e.dispatchEvent(new CustomEvent("error",{composed:!1,bubbles:!0,detail:{error:n,message:`'${t}' not found or does not contain Fore element.`}}))}))}}bs.READONLY_DEFAULT=!1,bs.REQUIRED_DEFAULT=!1,bs.RELEVANT_DEFAULT=!0,bs.CONSTRAINT_DEFAULT=!0,bs.TYPE_DEFAULT="xs:string";const xs="http://www.w3.org/2002/xforms",_s=new Map;function As(e,t,n){return _s.has(e)?_s.get(e).set(t,n):_s.set(e,new Map)}const Es=e=>{if(!e)return"http://www.w3.org/1999/xhtml"};function Cs(e,t,n=null){const r=ls("outermost(ancestor-or-self::fx-fore[1]/(descendant::fx-fore|descendant::*[@id = $id]))[not(self::fx-fore)]",t,null,{id:e},{namespaceResolver:Es});if(0===r.length)return null;if(1===r.length&&os("(ancestor::fx-fore | ancestor::fx-repeat)[last()]/self::fx-fore",r[0],null,null,{namespaceResolver:Es})){const e=r[0];return n&&e.localName!==n?null:e}for(const e of ls("ancestor::fx-repeatitem => reverse()",t,null,null,{namespaceResolver:Es})){const t=r.filter((t=>e.contains(t)));switch(t.length){case 0:break;case 1:{const e=t[0];return n&&e.localName!==n?null:e}default:{const e=t.find((e=>ls("every $ancestor of ancestor::fx-repeatitem satisfies $ancestor is $ancestor/../child::fx-repeatitem[../@repeat-index]",e,null,{})));return e?n&&e.localName!==n?null:e:null}}}return null}function Ns(e,t){const n=(r=e,i=t,_s.has(r)&&_s.get(r).get(i)||null);var r,i;if(n)return n;const a=(new DOMParser).parseFromString("<xml />","text/xml"),o=ds(e,{},a);let s=ps('descendant::xqx:functionCallExpr\n\t\t\t\t[xqx:functionName = "instance"]\n\t\t\t\t/xqx:arguments\n\t\t\t\t/xqx:stringConstantExpr\n\t\t\t\t/xqx:value',o,null,{},{namespaceResolver:e=>"xqx"===e?"http://www.w3.org/2005/XQueryX":void 0});if(0===s.length){const n=ss("ancestor::*[@ref][1]",t);if(n){const r=Ns(n.getAttribute("ref"),n);return As(e,t,r),r}s=["default"]}if(1===s.length){let n;if("default"===s[0]){const e=ss("ancestor-or-self::fx-fore[1]",t,null,null,{namespaceResolver:Es});n=e&&e.querySelector("fx-instance")}else n=Cs(s[0],t,"fx-instance");if(n&&n.hasAttribute("xpath-default-namespace")){const r=n.getAttribute("xpath-default-namespace"),i=e=>{if(!e)return r};return As(e,t,i),i}}s.length;const l=cs("ancestor-or-self::*/@xpath-default-namespace[last()]",t)||"",u=function(e){return""===e?l:cs('ancestor-or-self::*/@*[name() = "xmlns:" || $prefix][last()]',t,null,{prefix:e})};return As(e,t,u),u}function Ts(e,t,n){return(t&&t.ownerDocument||t)===window.document?Es:Ns(e,n)}const Ss=[];function Bs({prefix:e,localName:t},n){switch(t){case"context":case"base64encode":case"boolean-from-string":case"current":case"depends":case"event":case"index":case"instance":case"log":case"logtree":return{namespaceURI:xs,localName:t};default:return""===e&&Ss.includes(t)?{namespaceURI:"http://www.w3.org/2005/xquery-local-functions",localName:t}:"fn"===e?{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:t}:"local"===e?{namespaceURI:"http://www.w3.org/2005/xquery-local-functions",localName:t}:null}}function ks(e){let t=e;for(;t&&!("inScopeVariables"in t);)t=t.parentNode;if(!t)return{};const n={};if(t.inScopeVariables)for(const e of t.inScopeVariables.keys()){const r=t.inScopeVariables.get(e);n[e]=r.value}return n}function Is(e,t,n,r={}){const i=Ts(e,t,n),a=ks(n);return as(e,t,null,{...a,...r},as.ALL_RESULTS_TYPE,{currentContext:{formElement:n,variables:r},moduleImports:{xf:xs},functionNameResolver:Bs,namespaceResolver:i})}function Ps(e,t,n){const r=Ts(e,t,n),i=ks(n);return ss(e,t,null,i,{defaultFunctionNamespaceURI:xs,moduleImports:{xf:xs},currentContext:{formElement:n},namespaceResolver:r})}function Os(e,t,n){const r=Ts(e,t,n),i=ks(n);return ls(e,t,null,i,{currentContext:{formElement:n},functionNameResolver:Bs,moduleImports:{xf:xs},namespaceResolver:r})}function Rs(e,t,n){const r=Ts(e,t,n),i=ks(n);return os(e,t,null,i,{currentContext:{formElement:n},functionNameResolver:Bs,moduleImports:{xf:xs},namespaceResolver:r})}function Ds(e,t,n,r=null,i=n){const a=Ts(e,t,n),o=ks(n);return cs(e,t,r,o,{currentContext:{formElement:n},functionNameResolver:Bs,moduleImports:{xf:xs},namespaceResolver:a})}function Ms(e,t,n,r=null,i=n){const a=Ts(e,t,n),o=ks(n);return us(e,t,r,o,{currentContext:{formElement:n},functionNameResolver:Bs,moduleImports:{xf:xs},namespaceResolver:a})}const Fs=(e,t)=>{const n=e.currentContext.formElement;if(t){const e=Cs(t,n);if(e){if("FX-REPEAT"===e.nodeName){const{nodeset:t}=e;for(let r=n;r;r=r.parentNode)if(r.parentNode===e){return t[Array.from(r.parentNode.children).indexOf(r)]}}return e.nodeset}}const r=ys.getParentBindingElement(n);return r||n.getInScopeContext()};function Us(e,t){if(t&&t.nodeType===Node.ELEMENT_NODE&&t.children){const n=document.createElement("details");n.setAttribute("data-path",t.nodeName);const r=document.createElement("summary");let i,a=` <${t.nodeName}`;Array.from(t.attributes).forEach((e=>{a+=` ${e.nodeName}="${e.nodeValue}"`})),t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&""!==t.firstChild.data.trim()?(i=t.firstChild.nodeValue,a+=`>${i}</${t.nodeName}>`):a+=">",r.textContent=a,n.appendChild(r),0!==t.childElementCount?n.setAttribute("open","open"):r.setAttribute("style","list-style:none;"),e.appendChild(n),Array.from(t.children).forEach((e=>{Us(n,e)}))}}fs({namespaceURI:xs,localName:"context"},[],"item()?",Fs),fs({namespaceURI:xs,localName:"context"},["xs:string"],"item()?",Fs),fs({namespaceURI:xs,localName:"log"},["xs:string?"],"xs:string?",((e,t)=>{const{formElement:n}=e.currentContext,r=Cs(t,n,"fx-instance");if(r&&"json"!==r.getAttribute("type")){const e=(new XMLSerializer).serializeToString(r.getDefaultContext());return bs.prettifyXml(e)}return null})),fs({namespaceURI:xs,localName:"logtree"},["xs:string?"],"element()?",((e,t)=>{const{formElement:n}=e.currentContext,r=Cs(t,n,"fx-instance");if(r){const t=document.createElement("div");t.setAttribute("class","logtree");const n=e.currentContext.formElement,i=n.querySelector(".logtree");i&&i.parentNode.removeChild(i);const a=Us(t,r.getDefaultContext());a&&n.appendChild(a)}return null}));const Hs=(e,t)=>{const n=ss("ancestor-or-self::fx-fore[1]",e.currentContext.formElement,null,null,{namespaceResolver:Es}),r=t?Cs(t,n,"fx-instance"):n.querySelector("fx-instance");if(r){return r.getDefaultContext()}return null};fs({namespaceURI:xs,localName:"index"},["xs:string?"],"xs:integer?",((e,t)=>{const{formElement:n}=e.currentContext;if(null===t)return 1;const r=Cs(t,n,"fx-repeat");return r?r.getAttribute("index"):Number(1)})),fs({namespaceURI:xs,localName:"instance"},[],"item()?",(e=>Hs(e,null))),fs({namespaceURI:xs,localName:"instance"},["xs:string?"],"item()?",Hs),fs({namespaceURI:xs,localName:"depends"},["node()*"],"item()?",((e,t)=>t[0])),fs({namespaceURI:xs,localName:"event"},["xs:string?"],"item()?",((e,t)=>{if(!e.currentContext.variables)return[];if(!t)return[];return e.currentContext.variables[t].nodeType,e.currentContext.variables[t]})),ms(`\n    module namespace xf="${xs}";\n\n    declare %public function xf:boolean-from-string($str as xs:string) as xs:boolean {\n        lower-case($str) = "true" or $str = "1"\n    };\n`),fs({namespaceURI:xs,localName:"base64encode"},["xs:string?"],"xs:string?",((e,t)=>btoa(t)));class Ls extends HTMLElement{constructor(){super(),this.model=this.parentNode,this.attachShadow({mode:"open"})}connectedCallback(){this.hasAttribute("src")&&(this.src=this.getAttribute("src")),this.hasAttribute("id")?this.id=this.getAttribute("id"):this.id="default",this.hasAttribute("type")?this.type=this.getAttribute("type"):this.type="xml";this.shadowRoot.innerHTML="\n            <style>\n                \n            :host {\n                display: none;\n            }\n            :host * {\n                display:none;\n            }\n            ::slotted(*){\n                display:none;\n            }\n        \n            </style>\n            \n        \n        "}async init(){await this._initInstance().then((()=>(this.dispatchEvent(new CustomEvent("instance-loaded",{composed:!0,bubbles:!0,detail:{instance:this}})),this)))}evalXPath(e){const t=this.parentElement.parentElement;return Ps(e,this.getDefaultContext(),t)}getInstanceData(){return this.instanceData||this._createInstanceData(),this.instanceData}setInstanceData(e){e?this.instanceData=e:this._createInstanceData()}getDefaultContext(){return"xml"===this.type?this.instanceData.firstElementChild:this.instanceData}async _initInstance(){if("#querystring"===this.src){const e=new URLSearchParams(location.search),t=(new DOMParser).parseFromString("<data></data>","application/xml"),n=t.firstElementChild;for(const r of e){const e=t.createElement(r[0]);e.appendChild(t.createTextNode(r[1])),n.appendChild(e)}this.instanceData=t}else this.src?await this._loadData():0!==this.childNodes.length&&this._useInlineData()}_createInstanceData(){if("xml"===this.type){const e=(new DOMParser).parseFromString("<data></data>","application/xml");this.instanceData=e}"json"===this.type&&(this.instanceData={})}async _loadData(){const e=`${this.src}`,t=bs.getContentType(this,"get");await fetch(e,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":t}}).then((e=>{const{status:t}=e;if(t>=400)throw alert(`response status:  ${t} - failed to load data for '${this.src}' - stopping.`),new Error(`failed to load data - status: ${t}`);const n=e.headers.get("content-type").toLowerCase();return n.startsWith("text/html")?e.text().then((e=>(new DOMParser).parseFromString(e,"text/html"))):n.startsWith("text/plain")||n.startsWith("text/markdown")?e.text():n.startsWith("application/json")?e.json():n.startsWith("application/xml")?e.text().then((e=>(new DOMParser).parseFromString(e,"application/xml"))):"done"})).then((e=>{e.nodeType,this.instanceData=e})).catch((e=>{throw new Error(`failed loading data ${e}`)}))}_getContentType(){return"xml"===this.type?"application/xml":"json"===this.type?"application/json":null}_useInlineData(){if("xml"===this.type){const e=(new DOMParser).parseFromString(this.innerHTML,"application/xml");this.instanceData=e}else"json"===this.type?this.instanceData=JSON.parse(this.textContent):"html"===this.type?this.instanceData=this.firstElementChild.children:"text"===this.type&&(this.instanceData=this.textContent)}_handleResponse(){const e=this.shadowRoot.getElementById("loader"),t=(new DOMParser).parseFromString(e.lastResponse,"application/xml");this.instanceData=t}_handleError(){this.shadowRoot.getElementById("loader")}}customElements.get("fx-instance")||customElements.define("fx-instance",Ls);class Gs{constructor(e,t,n,r,i,a,o,s,l){this.path=e,this.ref=t,this.constraint=a,this.readonly=n,this.relevant=r,this.required=i,this.type=o,this.node=s,this.bind=l,this.changed=!1,this.alerts=[],this.boundControls=[]}get value(){return this.node.nodeType?this.node.nodeType===Node.ATTRIBUTE_NODE?this.node.nodeValue:this.node.textContent:this.node}set value(e){e.nodeType===Node.DOCUMENT_NODE?this.node.replaceWith(e.firstElementChild):e.nodeType===Node.ELEMENT_NODE?this.node.replaceWith(e):this.node.nodeType===Node.ATTRIBUTE_NODE?this.node.nodeValue=e:this.node.textContent=e}addAlert(e){this.alerts.push(e)}cleanAlerts(){this.alerts=[]}}class js extends HTMLElement{constructor(){super(),this.instances=[],this.modelItems=[],this.defaultContext={},this.changed=[],this.inited=!1,this.modelConstructed=!1,this.attachShadow({mode:"open"}),this.computes=0}get formElement(){return this.parentElement}connectedCallback(){this.shadowRoot.innerHTML="\n            <slot></slot>\n        ",this.addEventListener("model-construct-done",(()=>{this.modelConstructed=!0}),{once:!0}),this.skipUpdate=!1}static lazyCreateModelItem(e,t,n){let r,i={};if(null==n)return null;i=n.nodeType===n.TEXT_NODE?n.parentNode:n,n.nodeType?r=ys.getPath(n):(r=null,i=n);const a=new Gs(r,t,bs.READONLY_DEFAULT,bs.RELEVANT_DEFAULT,bs.REQUIRED_DEFAULT,bs.CONSTRAINT_DEFAULT,bs.TYPE_DEFAULT,i,this);return e.registerModelItem(a),a}modelConstruct(){this.dispatchEvent(new CustomEvent("model-construct",{composed:!1,bubbles:!0,detail:{model:this}}));const e=this.querySelectorAll("fx-instance");if(e.length>0){const t=[];e.forEach((e=>{t.push(e.init())})),Promise.all(t).then((()=>{this.instances=Array.from(e),this.updateModel(),this.inited=!0,this.dispatchEvent(new CustomEvent("model-construct-done",{composed:!1,bubbles:!0,detail:{model:this}}))}))}else this.dispatchEvent(new CustomEvent("model-construct-done",{composed:!1,bubbles:!0,detail:{model:this}}));this.inited=!0}registerModelItem(e){this.modelItems.push(e)}updateModel(){this.rebuild(),this.skipUpdate||(this.recalculate(),this.revalidate())}rebuild(){this.mainGraph=new ws(!1),this.modelItems=[];const e=this.querySelectorAll("fx-model > fx-bind");0!==e.length?(e.forEach((e=>{e.init(this)})),this.dispatchEvent(new CustomEvent("rebuild-done",{detail:{maingraph:this.mainGraph}}))):this.skipUpdate=!0}recalculate(){if(this.computes=0,this.subgraph=new ws(!1),0!==this.changed.length){this.changed.forEach((e=>{if(this.subgraph.addNode(e.path,e.node),this.mainGraph&&this.mainGraph.hasNode(e.path)){const t=this.mainGraph.dependantsOf(e.path,!1).reverse();0!==t.length&&t.forEach((t=>{const n=this.mainGraph.getNodeData(t);if(this.subgraph.addNode(t,n),t.includes(":")){const r=t.substring(0,t.indexOf(":"));this.subgraph.addNode(r,n);0!==this.mainGraph.dependentsOf(e.path,!1).indexOf(t)&&this.subgraph.addDependency(t,e.path)}}))}}));this.subgraph.overallOrder(!1).forEach((e=>{if(this.mainGraph&&this.mainGraph.hasNode(e)){const t=this.mainGraph.getNodeData(e);this.compute(t,e)}}));const e=[...this.changed];this.formElement.toRefresh=e,this.changed=[],this.dispatchEvent(new CustomEvent("recalculate-done",{detail:{subgraph:this.subgraph}}))}else{this.mainGraph.overallOrder(!1).forEach((e=>{const t=this.mainGraph.getNodeData(e);this.compute(t,e)}))}}compute(e,t){const n=this.getModelItem(e);if(n&&t.includes(":")){const e=t.split(":")[1];if(e)if("calculate"===e){const t=Is(n.bind[e],n.node,this);n.value=t,n.readonly=!0}else if("constraint"!==e&&"type"!==e){const t=n.bind[e];if(t){const r=Rs(t,n.node,this);n[e]=r}}this.computes+=1}}revalidate(){let e=!0;return this.modelItems.forEach((t=>{const{bind:n}=t;if(n&&"function"==typeof n.hasAttribute&&n.hasAttribute("constraint")){const r=n.getAttribute("constraint");if(r){const i=Rs(r,t.node,this);if(t.constraint=i,this.formElement.addToRefresh(t),i||(e=!1),!this.modelConstructed){const e=n.getAlert();e&&t.addAlert(e)}}}})),e}getModelItem(e){return this.modelItems.find((t=>t.node===e))}getDefaultContext(){return this.instances[0].getDefaultContext()}getDefaultInstance(){return this.instances[0]}getDefaultInstanceData(){return this.instances[0].instanceData}getInstance(e){return Array.from(this.instances).find((t=>t.id===e))}evalBinding(e){return this.instances[0].evalXPath(e)}}function $s(e){return e.closest("fx-fore")}function Xs(e,t){const n=bs.getClosest("[ref]",e),r=bs.getClosest("fx-fore",e),i=function(e){return $s(e).getModel()}(e);if(null!==n){return r===n.closest("fx-fore")?n.nodeset:i.getDefaultInstance().getDefaultContext()}if(ys.isAbsolutePath(t)){const e=ys.getInstanceId(t);return e?i.getInstance(e).getDefaultContext():i.getDefaultInstance().getDefaultContext()}return null!==i.getDefaultInstance()&&i.inited?i.getDefaultInstance().getDefaultContext():[]}function zs(e,t){const n=function(e){return e&&e.nodeType&&e.nodeType===Node.ATTRIBUTE_NODE?e.ownerElement:e.nodeType===Node.ELEMENT_NODE?e:e.parentNode}(e),r=bs.getClosest("fx-repeatitem",n);if(r)return"context"===e.nodeName?Ps(e.nodeValue,r.nodeset,$s(n)):r.nodeset;if(n.hasAttribute("context")){const e=Xs(n.parentNode,t);return Ps(n.getAttribute("context"),e,$s(n))}if(e.nodeType===Node.ATTRIBUTE_NODE&&"context"===e.nodeName){const r=Xs(e.ownerElement.parentNode,t);return Ps(e.ownerElement.getAttribute("context"),r,$s(n))}if(e.nodeType===Node.ATTRIBUTE_NODE&&"ref"===e.nodeName){if(e.ownerElement.hasAttribute("context")){const r=Xs(e.ownerElement.parentNode,t);return Ps(e.ownerElement.getAttribute("context"),r,$s(n))}return Xs(n.parentNode,t)}return Xs(n,t)}customElements.get("fx-model")||customElements.define("fx-model",js);const qs=e=>class extends e{static get properties(){return{context:{type:Object},model:{type:Object},modelItem:{type:Object},nodeset:{type:Object},ref:{type:String},inScopeVariables:{type:Map}}}constructor(){super(),this.context=null,this.model=null,this.modelItem={},this.ref=this.hasAttribute("ref")?this.getAttribute("ref"):"",this.inScopeVariables=null}getModel(){if(this.model)return this.model;return this.getOwnerForm().querySelector("fx-model")}getOwnerForm(){let e=this;for(;e&&e.parentNode;){if("FX-FORE"===e.nodeName.toUpperCase())return e;e=e.parentNode instanceof DocumentFragment?e.parentNode.host:e.parentNode}return e}evalInContext(){let e;if(this.hasAttribute("context")&&(e=zs(this.getAttributeNode("context")||this,this.context)),this.hasAttribute("ref")&&(e=zs(this.getAttributeNode("ref")||this,this.ref)),e||(e=this.getModel().getDefaultInstance().getDefaultContext()),""===this.ref)this.nodeset=e;else if(Array.isArray(e))this.nodeset=Ps(this.ref,e[0],this);else{const{nodeType:t}=e;t?this.nodeset=Ps(this.ref,e,this):[this.nodeset]=Is(this.ref,e,this)}}isNotBound(){return!this.hasAttribute("ref")}isBound(){return this.hasAttribute("ref")}getBindingExpr(){if(this.hasAttribute("ref"))return this.getAttribute("ref");const e=bs.getClosest("[ref]",this.parentNode);return e?e.getAttribute("ref"):"instance()"}getInstance(){if(this.ref.startsWith("instance(")){const e=ys.getInstanceId(this.ref);return this.getModel().getInstance(e)}return this.getModel().getInstance("default")}_getParentBindingElement(e){if(e.parentNode.host){const{host:t}=e.parentNode;if(t.hasAttribute("ref"))return t}else if(e.parentNode){if(e.parentNode.hasAttribute("ref"))return this.parentNode;this._getParentBindingElement(this.parentNode)}return null}getModelItem(){const e=this.getModel().getModelItem(this.nodeset);e&&(this.modelItem=e);const t=bs.getClosest("fx-repeatitem",this);let n;if(t){const{index:e}=t;n=Array.isArray(this.nodeset)?this.getModel().getModelItem(this.nodeset[e-1]):this.getModel().getModelItem(this.nodeset)}else n=this.getModel().getModelItem(this.nodeset);return n||js.lazyCreateModelItem(this.getModel(),this.ref,this.nodeset)}getValue(){if(this.hasAttribute("value")){const e=this.getAttribute("value");try{return Ds(e,zs(this,e),this.getOwnerForm())}catch(e){bs.dispatch(this,"error",{message:e})}}return this.textContent?this.textContent:null}getInScopeContext(){return zs(this.getAttributeNode("ref")||this,this.ref)}setInScopeVariables(e){this.inScopeVariables=e}};class Vs extends(qs(HTMLElement)){constructor(){super(),this.nodeset=[],this.model={},this.contextNode={},this.inited=!1}connectedCallback(){this.ref=this.getAttribute("ref"),this.readonly=this.getAttribute("readonly"),this.required=this.getAttribute("required"),this.relevant=this.getAttribute("relevant"),this.type=this.hasAttribute("type")?this.getAttribute("type"):Vs.TYPE_DEFAULT,this.calculate=this.getAttribute("calculate")}init(e){this.model=e,this.instanceId=this._getInstanceId(),this.bindType=this.getModel().getInstance(this.instanceId).type,"xml"===this.bindType&&(this._evalInContext(),this._buildBindGraph(),this._createModelItems()),this._processChildren(e)}_buildBindGraph(){"xml"===this.bindType&&this.nodeset.forEach((e=>{const t=ys.getPath(e);this.model.mainGraph.addNode(t,e),this.calculate&&(this.model.mainGraph.addNode(`${t}:calculate`,e),this.model.mainGraph.addDependency(t,`${t}:calculate`));const n=this._getReferencesForProperty(this.calculate,e);if(0!==n.length&&this._addDependencies(n,e,t,"calculate"),!this.calculate){const n=this._getReferencesForProperty(this.readonly,e);0!==n.length?this._addDependencies(n,e,t,"readonly"):this.readonly&&this.model.mainGraph.addNode(`${t}:readonly`,e)}const r=this._getReferencesForProperty(this.required,e);0!==r.length?this._addDependencies(r,e,t,"required"):this.required&&this.model.mainGraph.addNode(`${t}:required`,e);const i=this._getReferencesForProperty(this.relevant,e);0!==i.length?this._addDependencies(i,e,t,"relevant"):this.relevant&&this.model.mainGraph.addNode(`${t}:relevant`,e);const a=this._getReferencesForProperty(this.constraint,e);0!==a.length?this._addDependencies(a,e,t,"constraint"):this.constraint&&this.model.mainGraph.addNode(`${t}:constraint`,e)}))}_addDependencies(e,t,n,r){const i=`${n}:${r}`;0!==e.length?(this.model.mainGraph.hasNode(i)||this.model.mainGraph.addNode(i,t),e.forEach((e=>{const t=ys.getPath(e);t.endsWith("text()[1]")||(this.model.mainGraph.hasNode(t)||this.model.mainGraph.addNode(t,e),this.model.mainGraph.addDependency(i,t))}))):this.model.mainGraph.addNode(i,t)}_processChildren(e){const t=this.querySelectorAll(":scope > fx-bind");Array.from(t).forEach((t=>{t.init(e)}))}getAlert(){if(this.hasAttribute("alert"))return this.getAttribute("alert");const e=this.querySelector("fx-alert");return e?e.innerHTML:null}_evalInContext(){const e=zs(this.getAttributeNode("ref")||this,this.ref);if(this.nodeset=[],""===this.ref||null===this.ref)this.nodeset=e;else if(Array.isArray(e))e.forEach((t=>{if(ys.isSelfReference(this.ref))this.nodeset=e;else if(this.ref){Os(this.ref,t,this).forEach((e=>{this.nodeset.push(e)}))}}));else{"xml"===this.getModel().getInstance(this.instanceId).type?this.nodeset=Os(this.ref,e,this):this.nodeset=this.ref}}_createModelItems(){Array.isArray(this.nodeset)?Array.from(this.nodeset).forEach((e=>{this._createModelItem(e)})):this._createModelItem(this.nodeset)}_createModelItem(e){if(ys.isSelfReference(this.ref)){const e=bs.getClosest("fx-bind[ref]",this.parentElement);return void(e&&(e.required=this.required))}const t=e,n=ys.getPath(e),r=new Gs(n,this.getBindingExpr(),Vs.READONLY_DEFAULT,Vs.RELEVANT_DEFAULT,Vs.REQUIRED_DEFAULT,Vs.CONSTRAINT_DEFAULT,this.type,t,this);this.getModel().registerModelItem(r)}_getReferencesForProperty(e){return e?this.getReferences(e):[]}getReferences(e){const t=new Set,n=new gs((e=>t.add(e)));return this.nodeset.forEach((t=>{Ds(e,t,this,n)})),Array.from(t.values())}_initBooleanModelItemProperty(e,t){return Rs(this[e],t,this)}static shortenPath(e){const t=e.split("/");let n="";for(let e=2;e<t.length;e+=1){const r=t[e];if(-1!==r.indexOf("{}")){n+=`/${r.split("{}")[1]}`}else n+=`/${r}`}return n}_getInstanceId(){const e=this.getBindingExpr();return e.startsWith("instance(")?(this.instanceId=ys.getInstanceId(e),this.instanceId):this.instanceId?this.instanceId:"default"}}Vs.READONLY_DEFAULT=!1,Vs.REQUIRED_DEFAULT=!1,Vs.RELEVANT_DEFAULT=!0,Vs.CONSTRAINT_DEFAULT=!0,Vs.TYPE_DEFAULT="xs:string",customElements.get("fx-bind")||customElements.define("fx-bind",Vs)
/*!
 * Toastify js 1.11.2
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */;class Ys{constructor(e){this.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,style:{background:""}},this.version="1.11.2",this.options={},this.toastElement=null,this._rootElement=document.body,this._init(e)}showToast(){if(this.toastElement=this._buildToast(),"string"==typeof this.options.selector?this._rootElement=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||this.options.selector instanceof ShadowRoot?this._rootElement=this.options.selector:this._rootElement=document.body,!this._rootElement)throw"Root element is not defined";return this._rootElement.insertBefore(this.toastElement,this._rootElement.firstChild),this._reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((()=>{this._removeElement(this.toastElement)}),this.options.duration)),this}hideToast(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this._removeElement(this.toastElement)}_init(e){this.options=Object.assign(this.defaults,e),this.options.backgroundColor,this.toastElement=null,this.options.gravity="bottom"===e.gravity?"toastify-bottom":"toastify-top",this.options.stopOnFocus=void 0===e.stopOnFocus||e.stopOnFocus,e.backgroundColor&&(this.options.style.background=e.backgroundColor)}_buildToast(){if(!this.options)throw"Toastify is not initialized";let e=document.createElement("div");e.className=`toastify on ${this.options.className}`,e.className+=` toastify-${this.options.position}`,e.className+=` ${this.options.gravity}`;for(const t in this.options.style)e.style[t]=this.options.style[t];if(this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)e.appendChild(this.options.node);else if(this.options.escapeMarkup?e.innerText=this.options.text:e.innerHTML=this.options.text,""!==this.options.avatar){let t=document.createElement("img");t.src=this.options.avatar,t.className="toastify-avatar","left"==this.options.position?e.appendChild(t):e.insertAdjacentElement("afterbegin",t)}if(!0===this.options.close){let t=document.createElement("span");t.innerHTML="&#10006;",t.className="toast-close",t.addEventListener("click",(e=>{e.stopPropagation(),this._removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}));const n=window.innerWidth>0?window.innerWidth:screen.width;"left"==this.options.position&&n>360?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}if(this.options.stopOnFocus&&this.options.duration>0&&(e.addEventListener("mouseover",(t=>{window.clearTimeout(e.timeOutValue)})),e.addEventListener("mouseleave",(()=>{e.timeOutValue=window.setTimeout((()=>{this._removeElement(e)}),this.options.duration)}))),void 0!==this.options.destination&&e.addEventListener("click",(e=>{e.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination})),"function"==typeof this.options.onClick&&void 0===this.options.destination&&e.addEventListener("click",(e=>{e.stopPropagation(),this.options.onClick()})),"object"==typeof this.options.offset){const t=this._getAxisOffsetAValue("x",this.options),n=this._getAxisOffsetAValue("y",this.options),r="left"==this.options.position?t:`-${t}`,i="toastify-top"==this.options.gravity?n:`-${n}`;e.style.transform=`translate(${r},${i})`}return e}_removeElement(e){e.className=e.className.replace(" on",""),window.setTimeout((()=>{this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),e.parentNode&&e.parentNode.removeChild(e),this.options.callback.call(e),this._reposition()}),400)}_reposition(){let e,t={top:15,bottom:15},n={top:15,bottom:15},r={top:15,bottom:15},i=this._rootElement.querySelectorAll(".toastify");for(let a=0;a<i.length;a++){e=!0===i[a].classList.contains("toastify-top")?"toastify-top":"toastify-bottom";let o=i[a].offsetHeight;e=e.substr(9,e.length-1);let s=15;(window.innerWidth>0?window.innerWidth:screen.width)<=360?(i[a].style[e]=`${r[e]}px`,r[e]+=o+s):!0===i[a].classList.contains("toastify-left")?(i[a].style[e]=`${t[e]}px`,t[e]+=o+s):(i[a].style[e]=`${n[e]}px`,n[e]+=o+s)}}_getAxisOffsetAValue(e,t){return t.offset[e]?isNaN(t.offset[e])?t.offset[e]:`${t.offset[e]}px`:"0px"}}function Ks(e){return new Ys(e)}class Js extends HTMLElement{static get properties(){return{avatar:{type:String},backgroundColor:{type:String},callback:{type:String},classProp:{type:String},close:{type:Boolean},destination:{type:String},duration:{type:Number},escapeMarkup:{type:Boolean},gravity:{type:String},newWindow:{type:Boolean},oldestFirst:{type:Boolean},position:{type:String},selector:{type:String},stopOnFocus:{type:Boolean},text:{type:String}}}constructor(){super(),this.attachShadow({mode:"open"})}_initVar(e,t){return this.hasAttribute(e)?this.getAttribute(e):t}connectedCallback(){this.avatar=this._initVar("avatar",""),this.backgroundColor=this._initVar("backgroundColor",""),this.callback=this._initVar("callback",{}),this.classProp=this._initVar("data-class",""),this.close="true"===this._initVar("close",!1),this.destination=this._initVar("destination",void 0),this.duration=Number(this._initVar("duration",3e3)),this.escapeMarkup="true"===this._initVar("escapeMarkup",!0),this.gravity=this._initVar("gravity","top"),this.newWindow="true"===this._initVar("newWindow",!1),this.offSet=this._initVar("offSet",{}),this.oldestFirst="true"===this._initVar("oldestFirst",!0),this.position=this._initVar("position","right"),this.stopOnFocus=this._initVar("stopOnFocus",!0),this.text=this._initVar("text","");this.shadowRoot.innerHTML=`\n        <style>\n            \n        :host{\n            display:none;\n        }\n    \n        </style>\n        ${this.renderHTML}\n    `,this.addEventListener("jinn-toast",(e=>{this.showToast(e.detail.text)}))}disconnectedCallback(){this.removeEventListener("jinn-toast",this.showToast)}showToast(e){new Ks({avatar:this.avatar,className:this.classProp,close:this.close,destination:this.destination,duration:this.duration,escapeMarkup:this.escapeMarkup,gravity:this.gravity,newWindow:!1,offset:this.offset,oldestFirst:this.oldestFirst,position:this.position,node:this.shadowRoot,stopOnFocus:this.stopOnFocus,text:e}).showToast()}renderHTML(){return"\n      <slot></slot>\n    "}}customElements.get("jinn-toast")||window.customElements.define("jinn-toast",Js);class Qs extends HTMLElement{static get properties(){return{lazyRefresh:{type:Boolean},model:{type:Object},ready:{type:Boolean}}}constructor(){super(),this.model={},this.addEventListener("model-construct-done",this._handleModelConstructDone),this.addEventListener("message",this._displayMessage),this.addEventListener("error",this._displayError),window.addEventListener("compute-exception",(e=>{})),this.ready=!1,this.storedTemplateExpressionByNode=new Map;this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n            <style>\n                \n            :host {\n                // display: none;\n                height:auto;\n                padding:var(--model-element-padding);\n                font-family:Roboto, sans-serif;\n                color:var(--paper-grey-900);\n            }\n            :host ::slotted(fx-model){\n                display:none;\n            }\n            // :host(.fx-ready){\n            //     animation: fadein .4s forwards;\n            //     display:block;\n            // }\n\n            #modalMessage .dialogActions{\n                text-align:center;\n            }\n            .overlay {\n              position: fixed;\n              top: 0;\n              bottom: 0;\n              left: 0;\n              right: 0;\n              background: rgba(0, 0, 0, 0.7);\n              transition: all 500ms;\n              visibility: hidden;\n              opacity: 0;\n              z-index:10;\n            }\n            .overlay.show {\n              visibility: visible;\n              opacity: 1;\n            }\n\n            .popup {\n              margin: 70px auto;\n              background: #fff;\n              border-radius: 5px;\n              width: 30%;\n              position: relative;\n              transition: all 5s ease-in-out;\n                            padding: 20px;\n\n            }\n            .popup h2 {\n              margin-top: 0;\n              width:100%;\n              background:#eee;\n              position:absolute;\n              top:0;\n              right:0;\n              left:0;\n              height:40px;\n             border-radius: 5px;\n\n            }\n            .popup .close {\n                position: absolute;\n                top: 3px;\n                right: 10px;\n                transition: all 200ms;\n                font-size: 30px;\n                font-weight: bold;\n                text-decoration: none;\n                color: #333;\n            }\n            .popup .close:focus{\n                outline:none;\n            }\n\n            .popup .close:hover {\n                color: #06D85F;\n            }\n            #messageContent{\n                margin-top:40px;\n            }\n            @keyframes fadein {\n              0% {\n                  opacity:0;\n              }\n              100% {\n                  opacity:1;\n              }\n            }\n        \n            </style>\n            \n           <jinn-toast id="message" gravity="bottom" position="left"></jinn-toast>\n           <jinn-toast id="sticky" gravity="bottom" position="left" duration="-1" close="true" data-class="sticky-message"></jinn-toast>\n           <jinn-toast id="error" text="error" duration="-1" data-class="error" close="true" position="left" gravity="bottom"></jinn-toast>\n           <slot></slot>\n           <div id="modalMessage" class="overlay">\n                <div class="popup">\n                   <h2></h2>\n                    <a class="close" href="#"  onclick="event.target.parentNode.parentNode.classList.remove(\'show\')" autofocus>&times;</a>\n                    <div id="messageContent"></div>\n                </div>\n           </div>\n        \n        ',this.toRefresh=[],this.initialRun=!0,this.someInstanceDataStructureChanged=!1}connectedCallback(){if(this.lazyRefresh=this.hasAttribute("refresh-on-view"),this.lazyRefresh){const e={root:null,rootMargin:"0px",threshold:.3};this.intersectionObserver=new IntersectionObserver(this.handleIntersect,e)}if(this.src=this.hasAttribute("src")?this.getAttribute("src"):null,this.src)return void this._loadFromSrc();this.shadowRoot.querySelector("slot").addEventListener("slotchange",(e=>{let t=e.target.assignedElements().find((e=>"FX-MODEL"===e.nodeName.toUpperCase()));if(!t){const e=document.createElement("fx-model");this.appendChild(e),t=e}t.inited||(this.src,t.modelConstruct()),this.model=t})),this.addEventListener("path-mutated",(e=>{this.someInstanceDataStructureChanged=!0}))}addToRefresh(e){this.toRefresh.find((t=>t.path===e.path))||this.toRefresh.push(e)}_loadFromSrc(){fetch(this.src,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"text/html"}}).then((e=>e.headers.get("content-type").toLowerCase().startsWith("text/html")?e.text().then((e=>(new DOMParser).parseFromString(e,"text/html"))):"done")).then((e=>{const t=e.querySelector("fx-fore");t||bs.dispatchEvent(this,"error",{detail:{message:`Fore element not found in '${this.src}'. Maybe wrapped within 'template' element?`}}),t.setAttribute("from-src",this.src),this.replaceWith(t)})).catch((()=>{bs.dispatch(this,"error",{message:`'${this.src}' not found or does not contain Fore element.`})}))}handleIntersect(e,t){e.forEach((e=>{const{target:t}=e;e.isIntersecting&&(t.classList.add("loaded"),"function"==typeof t.refresh?t.refresh(t,!0):bs.refreshChildren(t,!0))})),e[0].target.getOwnerForm().dispatchEvent(new CustomEvent("refresh-done"))}evaluateToNodes(e,t){return Os(e,t,this)}disconnectedCallback(){}async refresh(){this.initialRun||0===this.toRefresh.length?bs.refreshChildren(this,!0):(this.toRefresh.forEach((e=>{const t=e.boundControls;t&&t.forEach((e=>{e.refresh()}));const{mainGraph:n}=this.getModel();if(n&&n.hasNode(e.path)){const t=this.getModel().mainGraph.dependentsOf(e.path,!1);0!==t.length&&t.forEach((e=>{const t=ys.getBasePath(e);this.getModel().modelItems.find((e=>e.path===t)).boundControls.forEach((e=>{e.refresh()}))}))}})),this.toRefresh=[]),(this.initialRun||this.someInstanceDataStructureChanged)&&(this._updateTemplateExpressions(),this.someInstanceDataStructureChanged=!1),this._processTemplateExpressions(),this.dispatchEvent(new CustomEvent("refresh-done"))}_updateTemplateExpressions(){const e=Os("(descendant-or-self::*/(text(), @*))[matches(.,'\\{.*\\}')] except descendant-or-self::fx-model/descendant-or-self::node()/(., @*)",this,this);this.storedTemplateExpressions||(this.storedTemplateExpressions=[]),Array.from(e).forEach((e=>{if(this.storedTemplateExpressionByNode.has(e))return;const t=this._getTemplateExpression(e);this.storedTemplateExpressionByNode.set(e,t)})),this._processTemplateExpressions()}_processTemplateExpressions(){for(const e of this.storedTemplateExpressionByNode.keys())this._processTemplateExpression({node:e,expr:this.storedTemplateExpressionByNode.get(e)})}_processTemplateExpression(e){const{expr:t}=e,{node:n}=e;this.evaluateTemplateExpression(t,n,this)}evaluateTemplateExpression(e,t){if("{}"===e)return;const n=e.match(/{[^}]*}/g);n&&n.forEach((n=>{let r=n.substring(1,n.length-1);const i=zs(t,r);if(!i)return void((t.nodeType===Node.TEXT_NODE||t.nodeType===Node.ATTRIBUTE_NODE)&&t.parentNode);const a=ys.getInstanceId(r),o=this.getModel().getInstance(a);try{const a=Ds(r,i,t,null,o),s=e.replaceAll(n,a);if(t.nodeType===Node.ATTRIBUTE_NODE){t.ownerElement.setAttribute(t.nodeName,s)}else t.nodeType===Node.TEXT_NODE&&(t.textContent=s);s.includes("{")&&(r=s.substring(1,s.length),this.evaluateTemplateExpression(s,t))}catch(e){this.dispatchEvent(new CustomEvent("error",{detail:e}))}}))}_getTemplateExpression(e){return e.nodeType===Node.ATTRIBUTE_NODE?e.value:e.nodeType===Node.TEXT_NODE?e.textContent.trim():null}_handleModelConstructDone(){this._initUI()}async _lazyCreateInstance(){const e=this.querySelector("fx-model");if(0===e.instances.length){const t=document.createElement("fx-instance");e.appendChild(t);const n=document.implementation.createDocument(null,"data",null);this._generateInstance(this,n.firstElementChild),t.instanceData=n,e.instances.push(t)}}_generateInstance(e,t){if(e.hasAttribute("ref")&&!bs.isActionElement(e.nodeName)){const n=e.getAttribute("ref");if(n.includes("/")){n.split("/").forEach((n=>{t=this._generateNode(t,n,e)}))}else t=this._generateNode(t,n,e)}if(e.hasChildNodes()){const n=e.children;for(let e=0;e<n.length;e+=1)this._generateInstance(n[e],t)}return t}_generateNode(e,t,n){const r=e.ownerDocument.createElement(t);return 0===n.children.length&&(r.textContent=n.textContent),e.appendChild(r),e=r}async _initUI(){if(!this.initialRun)return;await this._lazyCreateInstance();const e=new Map;!function t(n){for(const r of n.children)"setInScopeVariables"in r&&r.setInScopeVariables(e),t(r)}(this),await this.refresh(),this.classList.add("fx-ready"),document.body.classList.add("fx-ready"),this.ready=!0,this.initialRun=!1,bs.dispatch(this,"ready",{})}registerLazyElement(e){this.intersectionObserver&&this.intersectionObserver.observe(e)}unRegisterLazyElement(e){this.intersectionObserver&&this.intersectionObserver.unobserve(e)}getModel(){return this.querySelector("fx-model")}_displayMessage(e){const{level:t}=e.detail,n=e.detail.message;this._showMessage(t,n),e.stopPropagation()}_displayError(e){const t=e.detail.message;this.shadowRoot.querySelector("#error").showToast(t)}_showMessage(e,t){if("modal"===e)this.shadowRoot.getElementById("messageContent").innerText=t,this.shadowRoot.getElementById("modalMessage").classList.add("show");else if("sticky"===e)this.shadowRoot.querySelector("#sticky").showToast(t);else{this.shadowRoot.querySelector("#message").showToast(t)}}}customElements.get("fx-fore")||customElements.define("fx-fore",Qs);class Ws{static selectRelevant(e,t){return"xml"===t?Ws._relevantXmlNodes(e):e.nodeset}static _relevantXmlNodes(e){if("keep"===e.getAttribute("nonrelevant"))return e.nodeset;const t=e.getModel().getModelItem(e.nodeset);if(t&&!t.relevant)return null;const n=(new DOMParser).parseFromString("<data></data>","application/xml").firstElementChild;return 0===e.nodeset.children.length&&Ws._isRelevant(e,e.nodeset)?e.nodeset:Ws._filterRelevant(e,e.nodeset,n)}static _filterRelevant(e,t,n){const{childNodes:r}=t;return Array.from(r).forEach((t=>{if(Ws._isRelevant(e,t)){const r=t.cloneNode(!1);n.appendChild(r);const{attributes:i}=t;return i&&Array.from(i).forEach((t=>{Ws._isRelevant(e,t)?r.setAttribute(t.nodeName,t.value):"empty"===e.nonrelevant?r.setAttribute(t.nodeName,""):r.removeAttribute(t.nodeName)})),Ws._filterRelevant(e,t,r)}return null})),n}static _isRelevant(e,t){const n=e.getModel().getModelItem(t);return!(n&&!n.relevant)}}class Zs extends(qs(HTMLElement)){constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.methods=["get","put","post","delete","head","urlencoded-post"],this.model=this.parentNode,this.hasAttribute("id"),this.id=this.getAttribute("id"),this.instance=this.hasAttribute("instance")?this.getAttribute("instance"):null,this.into=this.hasAttribute("into")?this.getAttribute("into"):null,this.method=this.hasAttribute("method")?this.getAttribute("method"):"get",this.nonrelevant=this.hasAttribute("nonrelevant")?this.getAttribute("nonrelevant"):"remove",this.replace=this.hasAttribute("replace")?this.getAttribute("replace"):"all",this.serialization=this.hasAttribute("serialization")?this.getAttribute("serialization"):"xml",this.hasAttribute("url"),this.url=this.getAttribute("url"),this.targetref=this.hasAttribute("targetref")?this.getAttribute("targetref"):null,this.mediatype=this.hasAttribute("mediatype")?this.getAttribute("mediatype"):"application/xml",this.validate=this.getAttribute("validate")?this.getAttribute("validate"):"true",this.shadowRoot.innerHTML=this.renderHTML()}renderHTML(){return"\n      <slot></slot>\n    "}async submit(){await bs.dispatch(this,"submit",{submission:this}),this._submit()}async _submit(){this.evalInContext();const e=this.getModel();if(e.recalculate(),this.validate){if(!e.revalidate())return bs.dispatch(this,"submit-error",{}),void this.getModel().parentNode.refresh()}await this._serializeAndSend()}_evaluateAttributeTemplateExpression(e,t){const n=e.match(/{[^}]*}/g);return n&&n.forEach((n=>{const r=n.substring(1,n.length-1),i=Ds(r,zs(t,r),this.getOwnerForm()),a=e.replaceAll(n,i);e=a})),e}async _serializeAndSend(){const e=this._evaluateAttributeTemplateExpression(this.url,this),t=this.getInstance();let n;if("none"===this.serialization)n=void 0;else{const e=Ws.selectRelevant(this,t.type);n=this._serialize(t.type,e)}if("get"===this.method.toLowerCase()&&(n=void 0),e.startsWith("#echo")){let e=null;return n&&"xml"===t.type&&(e=(new DOMParser).parseFromString(n,"application/xml")),n&&"json"===t.type&&(e=JSON.parse(n)),this._handleResponse(e),void bs.dispatch(this,"submit-done",{})}const r=this._getHeaders();if("urlencoded-post"===this.method&&(this.method="post"),!this.methods.includes(this.method.toLowerCase()))return void bs.dispatch(this,"error",{message:`Unknown method ${this.method}`});const i=await fetch(e,{method:this.method,mode:"cors",credentials:"include",headers:r,body:n});if(!i.ok||i.status>400)return void bs.dispatch(this,"submit-error",{message:`Error while submitting ${this.id}`});const a=i.headers.get("content-type").toLowerCase();if(a.startsWith("text/plain")||a.startsWith("text/html")||a.startsWith("text/markdown")){const e=await i.text();this._handleResponse(e)}else if(a.startsWith("application/json")){const e=await i.json();this._handleResponse(e)}else if(a.startsWith("application/xml")){const e=await i.text(),t=(new DOMParser).parseFromString(e,"application/xml");this._handleResponse(t)}else{const e=await i.blob();this._handleResponse(e)}bs.dispatch(this,"submit-done",{})}_serialize(e,t){if("urlencoded-post"===this.method){const e=new URLSearchParams;return Array.from(t.children).forEach((t=>{e.append(t.nodeName,t.textContent)})),e}if("xml"===e){return(new XMLSerializer).serializeToString(t)}if("json"===e)return JSON.stringify(t);throw new Error("unknown instance type ",e)}_getHeaders(){const e=new Headers,t=this.getInstance(),n=bs.getContentType(t,this.method);e.append("Content-Type",n),e.has("Accept")&&e.delete("Accept");const r=this.querySelectorAll("fx-header");return Array.from(r).forEach((t=>{const{name:n}=t,r=t.getValue();e.append(n,r)})),e}_getUrlExpr(){return this.storedTemplateExpressions.find((e=>"url"===e.node.nodeName))}_getTargetInstance(){let e;if(e=this.instance?this.model.getInstance(this.instance):this.model.getInstance("default"),!e)throw new Error(`target instance not found: ${e}`);return e}_handleResponse(e){if("instance"===this.replace){const t=this._getTargetInstance();if(!t)throw new Error(`target instance not found: ${t}`);if(this.targetref){const[n]=Is(this.targetref,t.instanceData.firstElementChild,this),r=e.firstElementChild;n.parentNode.replaceChild(r,n)}else if(this.into){const[n]=Is(this.into,t.instanceData.firstElementChild,this);n.innerHTML=e}else{const n=e;t.instanceData=n}this.model.updateModel(),this.getOwnerForm().refresh()}if("all"===this.replace&&(document.getElementsByTagName("html")[0].innerHTML=e),"target"===this.replace){const t=this.getAttribute("target");document.querySelector(t).innerHTML=e}"redirect"===this.replace&&(window.location.href=e)}_handleError(){bs.dispatch(this,"submit-error",{})}}customElements.get("fx-submission")||customElements.define("fx-submission",Zs);class el extends(qs(HTMLElement)){constructor(){if(super(),this.style.display="none",this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML="",!this.hasAttribute("name"))throw new Error('required attribute "name" missing');this.name=this.getAttribute("name")}connectedCallback(){this.shadowRoot.innerHTML=""}}customElements.get("fx-header")||customElements.define("fx-header",el);class tl extends(qs(HTMLElement)){constructor(){super(),this.attachShadow({mode:"open"}),this.name="",this.valueQuery="",this.value=null}connectedCallback(){this.name=this.getAttribute("name"),this.valueQuery=this.getAttribute("value")}refresh(){const e=zs(this,this.valueQuery),t=Is(this.valueQuery,e,this,this.precedingVariables);[this.value]=t}setInScopeVariables(e){e.has(this.name)?bs.dispatch(this,"xforms-binding-error",{}):(e.set(this.name,this),this.inScopeVariables=new Map(e))}}customElements.get("fx-var")||customElements.define("fx-var",tl);class nl extends(qs(HTMLElement)){constructor(){super(),this.value="",this.display=this.style.display,this.required=!1,this.readonly=!1,this.widget=null}getWidget(){throw new Error("You have to implement the method getWidget!")}async refresh(){const e=this.value;if(!this.isNotBound()&&(this.oldVal=this.nodeset?this.nodeset:null,this.evalInContext(),this.isBound())){if(null===this.nodeset)return void(this.style.display="none");if(this.modelItem=this.getModelItem(),this.modelItem instanceof Gs){if(this.hasAttribute("as")&&"node"===this.getAttribute("as")?(this.modelItem.value=this.nodeset,this.value=this.modelItem.value):this.value=this.modelItem.value,this.modelItem.boundControls.includes(this)||this.modelItem.boundControls.push(this),await this.updateWidgetValue(),this.handleModelItemProperties(),!this.getOwnerForm().ready)return;e!==this.value&&bs.dispatch(this,"value-changed",{path:this.modelItem.path})}}}async updateWidgetValue(){throw new Error("You have to implement the method updateWidgetValue!")}handleModelItemProperties(){this.handleRequired(),this.handleReadonly(),this.getOwnerForm().ready&&this.handleValid(),this.handleRelevant()}_getForm(){return this.getModel().parentNode}_dispatchEvent(e){this.getOwnerForm().ready&&bs.dispatch(this,e,{})}handleRequired(){this.widget=this.getWidget(),this.isRequired()!==this.modelItem.required&&(this.modelItem.required?(this.widget.setAttribute("required",""),this.setAttribute("required",""),this._dispatchEvent("required")):(this.widget.removeAttribute("required"),this.removeAttribute("required"),this._dispatchEvent("optional")))}handleReadonly(){this.isReadonly()!==this.modelItem.readonly&&(this.modelItem.readonly&&(this.widget.setAttribute("readonly",""),this.setAttribute("readonly",""),this._dispatchEvent("readonly")),this.modelItem.readonly||(this.widget.removeAttribute("readonly"),this.removeAttribute("readonly"),this._dispatchEvent("readwrite")))}handleValid(){const e=this.querySelector("fx-alert");if(this.isValid()!==this.modelItem.constraint)if(this.modelItem.constraint)e&&(e.style.display="none"),this._dispatchEvent("valid"),this.removeAttribute("invalid");else{if(this.setAttribute("invalid",""),e&&(e.style.display="block"),0!==this.modelItem.alerts.length){const{alerts:e}=this.modelItem;this.querySelector("fx-alert")||e.forEach((e=>{const t=document.createElement("fx-alert");t.innerHTML=e,this.appendChild(t),t.style.display="block"}))}this._dispatchEvent("invalid")}}handleRelevant(){const e=this.modelItem.node;if(Array.isArray(e)&&0===e.length)return this._dispatchEvent("nonrelevant"),void(this.style.display="none");this.isEnabled()!==this.modelItem.relevant&&(this.modelItem.relevant?(this._dispatchEvent("relevant"),this.style.display=this.display):(this._dispatchEvent("nonrelevant"),this.style.display="none"))}isRequired(){return this.hasAttribute("required")}isValid(){return!this.hasAttribute("invalid")}isReadonly(){return this.hasAttribute("readonly")}isEnabled(){return"none"!==this.style.display}_fadeOut(e){e.style.opacity=1,function t(){(e.style.opacity-=.1)<0?e.style.display="none":requestAnimationFrame(t)}()}_fadeIn(e,t){e.style.opacity=0,e.style.display=t||"block",function t(){let n=parseFloat(e.style.opacity);(n+=.1)>1||(e.style.opacity=n,requestAnimationFrame(t))}()}}customElements.get("fx-abstract-control")||window.customElements.define("fx-abstract-control",nl);class rl extends nl{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot.innerHTML="\n        <style>\n            \n      :host {\n        height: auto;\n        font-size: 0.8em;\n        font-weight: 400;\n        color: red;\n        display: none;\n      }\n    \n        </style>\n        \n      <slot></slot>\n    \n    "}getWidget(){return this}async updateWidgetValue(){this.innerHTML=this.value}}customElements.get("fx-alert")||customElements.define("fx-alert",rl);class il extends nl{constructor(){super(),this.inited=!1,this.attachShadow({mode:"open"})}connectedCallback(){this.initial=this.hasAttribute("initial")?this.getAttribute("initial"):null,this.url=this.hasAttribute("url")?this.getAttribute("url"):null,this.loaded=!1,this.initialNode=null,this.debounceDelay=this.hasAttribute("debounce")?this.getAttribute("debounce"):null,this.updateEvent=this.hasAttribute("update-event")?this.getAttribute("update-event"):"blur",this.valueProp=this.hasAttribute("value-prop")?this.getAttribute("value-prop"):"value",this.label=this.hasAttribute("label")?this.getAttribute("label"):null;this.shadowRoot.innerHTML=`\n            <style>\n                \n            :host{\n                display:inline-block;\n            }\n        \n            </style>\n            ${this.renderHTML(this.ref)}\n        `,this.widget=this.getWidget(),"enter"===this.updateEvent&&(this.widget.addEventListener("keyup",(e=>{13===e.keyCode&&(e.preventDefault(),this.setValue(this.widget[this.valueProp]))})),this.updateEvent="blur"),this.debounceDelay?this.widget.addEventListener(this.updateEvent,function(e,t=300){let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>{e.apply(this,r)}),t)}}((()=>{this.setValue(this.widget[this.valueProp])}),this.debounceDelay)):this.widget.addEventListener(this.updateEvent,(()=>{this.setValue(this.widget[this.valueProp])})),this.addEventListener("return",(e=>{const t=e.detail.nodeset;e.stopPropagation(),this._replaceNode(t)})),this.template=this.querySelector("template")}_debounce(e,t=300){let n;return(...r)=>{const i=this;clearTimeout(n),n=setTimeout((()=>{e.apply(i,r)}),t)}}setValue(e){const t=this.getModelItem();if(t?.readonly)return;if("node"===this.getAttribute("as")){const e=this.getWidget().value,n=this.shadowRoot.getElementById("replace");return n.replace(this.nodeset,this.getWidget().value),void(e&&e!==t.value&&(t.value=e,n.actionPerformed()))}const n=this.shadowRoot.getElementById("setvalue");n.setValue(t,e),n.actionPerformed()}_replaceNode(e){this.modelItem.node.replaceWith(e.cloneNode(!0)),this.getOwnerForm().refresh()}renderHTML(e){return`\n            ${this.label?`${this.label}`:""}\n            <slot></slot>\n            ${this.hasAttribute("as")&&"node"===this.getAttribute("as")?'<fx-replace id="replace" ref=".">':`<fx-setvalue id="setvalue" ref="${e}"></fx-setvalue>`}\n\n        `}getWidget(){if(this.widget)return this.widget;let e=this.querySelector(".widget");if(e||(e=this.querySelector("input")),!e){const e=document.createElement("input");return e.classList.add("widget"),e.setAttribute("type","text"),this.appendChild(e),e}return e}async updateWidgetValue(){let{widget:e}=this;if(e||(e=this),"checked"!==this.valueProp)if(this.hasAttribute("as")){const t=this.getAttribute("as");if("text"===t){const t=new XMLSerializer,n=bs.prettifyXml(t.serializeToString(this.nodeset));e.value=n}if("node"===t&&this.nodeset!==e.value){const t=this.nodeset.innerHTML;if(e.value&&t!==this.widget.value)return;e.value=this.nodeset.cloneNode(!0)}}else{if(this.url&&!this.loaded)return this.initial&&(this.initialNode=Ps(this.initial,this.nodeset,this)),await this._loadForeFromUrl(),void(this.loaded=!0);e.value!==this.value&&(e.value=this.value)}else"true"===this.value?e.checked=!0:e.checked=!1}async _loadForeFromUrl(){try{const e=await fetch(this.url,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"text/html"}});let t;t=e.headers.get("content-type").toLowerCase().startsWith("text/html")?await e.text().then((e=>(new DOMParser).parseFromString(e,"text/html"))):"done";const n=t.querySelector("fx-fore");n.classList.add("widget");const r=this.querySelector("input");this.hasAttribute("shadow")?(r.parentNode.removeChild(r),this.shadowRoot.appendChild(n)):r.replaceWith(n),n.addEventListener("model-construct-done",(e=>{const t=n.querySelector("fx-instance"),r=(new DOMParser).parseFromString("<data></data>","application/xml");r.firstElementChild.appendChild(this.initialNode.cloneNode(!0)),t.setInstanceData(r),n.getModel().updateModel(),n.refresh()}),{once:!0}),n||this.dispatchEvent(new CustomEvent("error",{detail:{message:`Fore element not found in '${this.src}'. Maybe wrapped within 'template' element?`}})),this.dispatchEvent(new CustomEvent("loaded",{detail:{fore:n}}))}catch(e){this.getOwnerForm().dispatchEvent(new CustomEvent("error",{detail:{message:`${this.url} not found`}}))}}getTemplate(){return this.querySelector("template")}async refresh(e){super.refresh();const t=this.getWidget();this._handleBoundWidget(t),bs.refreshChildren(this,e)}_handleBoundWidget(e){if(e&&e.hasAttribute("ref")){const t=e.getAttribute("ref"),n=Is(t,zs(this,t),this);if(Array.isArray(n)&&0===n.length)return;const{children:r}=e;if(Array.from(r).forEach((e=>{"template"!==e.nodeName.toLowerCase()&&e.parentNode.removeChild(e)})),this.template)if(n.length)Array.from(n).forEach((e=>{const t=this.createEntry();this.updateEntry(t,e)}));else{const e=this.createEntry();this.updateEntry(e,n)}}}updateEntry(e,t){if("SELECT"!==this.widget.nodeName)return;const n=this._getValueAttribute(e),r=n.value,i=Ds(r.substring(1,r.length-1),t,e);n.value=i,this.value===i&&e.setAttribute("selected","selected");const a=e.textContent,o=Ds(a.substring(1,a.length-1),t,e);e.textContent=o}createEntry(){const e=this.template.content.firstElementChild.cloneNode(!0),t=document.importNode(e,!0);return this.template.parentNode.appendChild(t),t}_getValueAttribute(e){let t;return Array.from(e.attributes).forEach((e=>{-1!==e.value.indexOf("{")&&(t=e)})),t}}customElements.get("fx-control")||window.customElements.define("fx-control",il);class al extends(qs(HTMLElement)){constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot.innerHTML="\n            <style>\n                \n        :host {\n            display: block;\n        }\n    \n            </style>\n            \n      <slot></slot>\n    \n    ",this.getOwnerForm().registerLazyElement(this)}refresh(e){!e&&this.hasAttribute("refresh-on-view")||(this.isBound()&&(this.evalInContext(),this.modelItem=this.getModelItem(),this.modelItem.boundControls.includes(this)||this.modelItem.boundControls.push(this)),this._getForm().ready&&this.handleModelItemProperties(),bs.refreshChildren(this,e))}handleModelItemProperties(){this.handleReadonly(),this.handleRelevant()}_getForm(){return this.getModel().parentNode}handleReadonly(){this.isReadonly()!==this.modelItem.readonly&&(this.modelItem.readonly&&(this.setAttribute("readonly","readonly"),this.dispatchEvent(new CustomEvent("readonly",{}))),this.modelItem.readonly||(this.removeAttribute("readonly"),this.dispatchEvent(new CustomEvent("readwrite",{}))))}handleRelevant(){this.modelItem&&this.isEnabled()!==this.modelItem.enabled&&(this.modelItem.enabled?this.dispatchEvent(new CustomEvent("enabled",{})):this.dispatchEvent(new CustomEvent("disabled",{})))}isReadonly(){return!!this.hasAttribute("readonly")}isEnabled(){return"none"!==this.style.display}}customElements.get("fx-container")||window.customElements.define("fx-container",al)
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;const ol=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,sl=Symbol(),ll=new Map;class ul{constructor(e,t){if(this._$cssResult$=!0,t!==sl)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){let e=ll.get(this.cssText);return ol&&void 0===e&&(ll.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}const cl=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[r+1]),e[0]);return new ul(n,sl)},pl=ol?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return(e=>new ul("string"==typeof e?e:e+"",sl))(t)})(e):e
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var hl;const dl=window.trustedTypes,fl=dl?dl.emptyScript:"",ml=window.reactiveElementPolyfillSupport,gl={toAttribute(e,t){switch(t){case Boolean:e=e?fl:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},yl=(e,t)=>t!==e&&(t==t||e==e),vl={attribute:!0,type:String,converter:gl,reflect:!1,hasChanged:yl};class wl extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(e){var t;null!==(t=this.l)&&void 0!==t||(this.l=[]),this.l.push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,n)=>{const r=this._$Eh(n,t);void 0!==r&&(this._$Eu.set(r,n),e.push(r))})),e}static createProperty(e,t=vl){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const n="symbol"==typeof e?Symbol():"__"+e,r=this.getPropertyDescriptor(e,n,t);void 0!==r&&Object.defineProperty(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){return{get(){return this[t]},set(r){const i=this[e];this[t]=r,this.requestUpdate(e,i,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||vl}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const n of t)this.createProperty(n,e[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(pl(e))}else void 0!==e&&t.push(pl(e));return t}static _$Eh(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}o(){var e;this._$Ep=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(e=this.constructor.l)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,n;(null!==(t=this._$Eg)&&void 0!==t?t:this._$Eg=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(n=e.hostConnected)||void 0===n||n.call(e))}removeController(e){var t;null===(t=this._$Eg)||void 0===t||t.splice(this._$Eg.indexOf(e)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Et.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{ol?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{const n=document.createElement("style"),r=window.litNonce;void 0!==r&&n.setAttribute("nonce",r),n.textContent=t.cssText,e.appendChild(n)}))})(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ES(e,t,n=vl){var r,i;const a=this.constructor._$Eh(e,n);if(void 0!==a&&!0===n.reflect){const o=(null!==(i=null===(r=n.converter)||void 0===r?void 0:r.toAttribute)&&void 0!==i?i:gl.toAttribute)(t,n.type);this._$Ei=e,null==o?this.removeAttribute(a):this.setAttribute(a,o),this._$Ei=null}}_$AK(e,t){var n,r,i;const a=this.constructor,o=a._$Eu.get(e);if(void 0!==o&&this._$Ei!==o){const e=a.getPropertyOptions(o),s=e.converter,l=null!==(i=null!==(r=null===(n=s)||void 0===n?void 0:n.fromAttribute)&&void 0!==r?r:"function"==typeof s?s:null)&&void 0!==i?i:gl.fromAttribute;this._$Ei=o,this[o]=l(t,e.type),this._$Ei=null}}requestUpdate(e,t,n){let r=!0;void 0!==e&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||yl)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$Ei!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,n))):r=!1),!this.isUpdatePending&&r&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((e,t)=>this[t]=e)),this._$Et=void 0);let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(n)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;null===(t=this._$Eg)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$ES(t,this[t],e))),this._$EC=void 0),this._$EU()}updated(e){}firstUpdated(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var bl;wl.finalized=!0,wl.elementProperties=new Map,wl.elementStyles=[],wl.shadowRootOptions={mode:"open"},null==ml||ml({ReactiveElement:wl}),(null!==(hl=globalThis.reactiveElementVersions)&&void 0!==hl?hl:globalThis.reactiveElementVersions=[]).push("1.3.2");const xl=globalThis.trustedTypes,_l=xl?xl.createPolicy("lit-html",{createHTML:e=>e}):void 0,Al=`lit$${(Math.random()+"").slice(9)}$`,El="?"+Al,Cl=`<${El}>`,Nl=document,Tl=(e="")=>Nl.createComment(e),Sl=e=>null===e||"object"!=typeof e&&"function"!=typeof e,Bl=Array.isArray,kl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Il=/-->/g,Pl=/>/g,Ol=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,Rl=/'/g,Dl=/"/g,Ml=/^(?:script|style|textarea|title)$/i,Fl=(e=>(t,...n)=>({_$litType$:e,strings:t,values:n}))(1),Ul=Symbol.for("lit-noChange"),Hl=Symbol.for("lit-nothing"),Ll=new WeakMap,Gl=Nl.createTreeWalker(Nl,129,null,!1),jl=(e,t)=>{const n=e.length-1,r=[];let i,a=2===t?"<svg>":"",o=kl;for(let t=0;t<n;t++){const n=e[t];let s,l,u=-1,c=0;for(;c<n.length&&(o.lastIndex=c,l=o.exec(n),null!==l);)c=o.lastIndex,o===kl?"!--"===l[1]?o=Il:void 0!==l[1]?o=Pl:void 0!==l[2]?(Ml.test(l[2])&&(i=RegExp("</"+l[2],"g")),o=Ol):void 0!==l[3]&&(o=Ol):o===Ol?">"===l[0]?(o=null!=i?i:kl,u=-1):void 0===l[1]?u=-2:(u=o.lastIndex-l[2].length,s=l[1],o=void 0===l[3]?Ol:'"'===l[3]?Dl:Rl):o===Dl||o===Rl?o=Ol:o===Il||o===Pl?o=kl:(o=Ol,i=void 0);const p=o===Ol&&e[t+1].startsWith("/>")?" ":"";a+=o===kl?n+Cl:u>=0?(r.push(s),n.slice(0,u)+"$lit$"+n.slice(u)+Al+p):n+Al+(-2===u?(r.push(void 0),t):p)}const s=a+(e[n]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==_l?_l.createHTML(s):s,r]};class $l{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let i=0,a=0;const o=e.length-1,s=this.parts,[l,u]=jl(e,t);if(this.el=$l.createElement(l,n),Gl.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(r=Gl.nextNode())&&s.length<o;){if(1===r.nodeType){if(r.hasAttributes()){const e=[];for(const t of r.getAttributeNames())if(t.endsWith("$lit$")||t.startsWith(Al)){const n=u[a++];if(e.push(t),void 0!==n){const e=r.getAttribute(n.toLowerCase()+"$lit$").split(Al),t=/([.?@])?(.*)/.exec(n);s.push({type:1,index:i,name:t[2],strings:e,ctor:"."===t[1]?Yl:"?"===t[1]?Jl:"@"===t[1]?Ql:Vl})}else s.push({type:6,index:i})}for(const t of e)r.removeAttribute(t)}if(Ml.test(r.tagName)){const e=r.textContent.split(Al),t=e.length-1;if(t>0){r.textContent=xl?xl.emptyScript:"";for(let n=0;n<t;n++)r.append(e[n],Tl()),Gl.nextNode(),s.push({type:2,index:++i});r.append(e[t],Tl())}}}else if(8===r.nodeType)if(r.data===El)s.push({type:2,index:i});else{let e=-1;for(;-1!==(e=r.data.indexOf(Al,e+1));)s.push({type:7,index:i}),e+=Al.length-1}i++}}static createElement(e,t){const n=Nl.createElement("template");return n.innerHTML=e,n}}function Xl(e,t,n=e,r){var i,a,o,s;if(t===Ul)return t;let l=void 0!==r?null===(i=n._$Cl)||void 0===i?void 0:i[r]:n._$Cu;const u=Sl(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==u&&(null===(a=null==l?void 0:l._$AO)||void 0===a||a.call(l,!1),void 0===u?l=void 0:(l=new u(e),l._$AT(e,n,r)),void 0!==r?(null!==(o=(s=n)._$Cl)&&void 0!==o?o:s._$Cl=[])[r]=l:n._$Cu=l),void 0!==l&&(t=Xl(e,l._$AS(e,t.values),l,r)),t}class zl{constructor(e,t){this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(e){var t;const{el:{content:n},parts:r}=this._$AD,i=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:Nl).importNode(n,!0);Gl.currentNode=i;let a=Gl.nextNode(),o=0,s=0,l=r[0];for(;void 0!==l;){if(o===l.index){let t;2===l.type?t=new ql(a,a.nextSibling,this,e):1===l.type?t=new l.ctor(a,l.name,l.strings,this,e):6===l.type&&(t=new Wl(a,this,e)),this.v.push(t),l=r[++s]}o!==(null==l?void 0:l.index)&&(a=Gl.nextNode(),o++)}return i}m(e){let t=0;for(const n of this.v)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class ql{constructor(e,t,n,r){var i;this.type=2,this._$AH=Hl,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cg=null===(i=null==r?void 0:r.isConnected)||void 0===i||i}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cg}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Xl(this,e,t),Sl(e)?e===Hl||null==e||""===e?(this._$AH!==Hl&&this._$AR(),this._$AH=Hl):e!==this._$AH&&e!==Ul&&this.$(e):void 0!==e._$litType$?this.T(e):void 0!==e.nodeType?this.k(e):(e=>{var t;return Bl(e)||"function"==typeof(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])})(e)?this.S(e):this.$(e)}M(e,t=this._$AB){return this._$AA.parentNode.insertBefore(e,t)}k(e){this._$AH!==e&&(this._$AR(),this._$AH=this.M(e))}$(e){this._$AH!==Hl&&Sl(this._$AH)?this._$AA.nextSibling.data=e:this.k(Nl.createTextNode(e)),this._$AH=e}T(e){var t;const{values:n,_$litType$:r}=e,i="number"==typeof r?this._$AC(e):(void 0===r.el&&(r.el=$l.createElement(r.h,this.options)),r);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===i)this._$AH.m(n);else{const e=new zl(i,this),t=e.p(this.options);e.m(n),this.k(t),this._$AH=e}}_$AC(e){let t=Ll.get(e.strings);return void 0===t&&Ll.set(e.strings,t=new $l(e)),t}S(e){Bl(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const i of e)r===t.length?t.push(n=new ql(this.M(Tl()),this.M(Tl()),this,this.options)):n=t[r],n._$AI(i),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cg=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class Vl{constructor(e,t,n,r,i){this.type=1,this._$AH=Hl,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=i,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Hl}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,n,r){const i=this.strings;let a=!1;if(void 0===i)e=Xl(this,e,t,0),a=!Sl(e)||e!==this._$AH&&e!==Ul,a&&(this._$AH=e);else{const r=e;let o,s;for(e=i[0],o=0;o<i.length-1;o++)s=Xl(this,r[n+o],t,o),s===Ul&&(s=this._$AH[o]),a||(a=!Sl(s)||s!==this._$AH[o]),s===Hl?e=Hl:e!==Hl&&(e+=(null!=s?s:"")+i[o+1]),this._$AH[o]=s}a&&!r&&this.C(e)}C(e){e===Hl?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class Yl extends Vl{constructor(){super(...arguments),this.type=3}C(e){this.element[this.name]=e===Hl?void 0:e}}const Kl=xl?xl.emptyScript:"";class Jl extends Vl{constructor(){super(...arguments),this.type=4}C(e){e&&e!==Hl?this.element.setAttribute(this.name,Kl):this.element.removeAttribute(this.name)}}class Ql extends Vl{constructor(e,t,n,r,i){super(e,t,n,r,i),this.type=5}_$AI(e,t=this){var n;if((e=null!==(n=Xl(this,e,t,0))&&void 0!==n?n:Hl)===Ul)return;const r=this._$AH,i=e===Hl&&r!==Hl||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,a=e!==Hl&&(r===Hl||i);i&&this.element.removeEventListener(this.name,this,r),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==n?n:this.element,e):this._$AH.handleEvent(e)}}class Wl{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){Xl(this,e)}}const Zl=window.litHtmlPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var eu,tu;null==Zl||Zl($l,ql),(null!==(bl=globalThis.litHtmlVersions)&&void 0!==bl?bl:globalThis.litHtmlVersions=[]).push("2.2.5");class nu extends wl{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,t;const n=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=n.firstChild),n}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=((e,t,n)=>{var r,i;const a=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:t;let o=a._$litPart$;if(void 0===o){const e=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:null;a._$litPart$=o=new ql(t.insertBefore(Tl(),e),e,void 0,null!=n?n:{})}return o._$AI(e),o})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!1)}render(){return Ul}}nu.finalized=!0,nu._$litElement$=!0,null===(eu=globalThis.litElementHydrateSupport)||void 0===eu||eu.call(globalThis,{LitElement:nu});const ru=globalThis.litElementPolyfillSupport;
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var iu;null==ru||ru({LitElement:nu}),(null!==(tu=globalThis.litElementVersions)&&void 0!==tu?tu:globalThis.litElementVersions=[]).push("3.2.0"),null===(iu=window.HTMLSlotElement)||void 0===iu||iu.prototype.assignedElements;class au extends al{static get properties(){return{...super.properties,collapse:{type:Boolean,reflect:!0}}}constructor(){super(),this.collapse=!1}render(){return Fl`<slot></slot>`}handleModelItemProperties(){this.handleRelevant()}initializeChildren(e){Array.from(e.children).forEach((e=>{if(bs.isUiElement(e.nodeName))e.init(this.model);else if(0!==e.children.length){Array.from(e.children).forEach((e=>{this.initializeChildren(e)}))}}))}}customElements.get("fx-group")||window.customElements.define("fx-group",au);class ou extends nl{static get styles(){return cl`:host{display:block;height:auto;font-size:.8em;font-weight:400;font-style:italic}`}static get properties(){return{...super.properties}}render(){return Fl`<slot></slot>`}}customElements.get("fx-hint")||customElements.define("fx-hint",ou);class su extends nl{static get properties(){return{...super.properties,valueAttr:{type:String}}}constructor(){super(),this.attachShadow({mode:"open"}),this.valueAttr=this.hasAttribute("value")?this.getAttribute("value"):null,this.readonly=!0}connectedCallback(){this.shadowRoot.innerHTML='\n            <style>\n                \n          :host {\n            display: inline-block;\n          }\n          #widget {\n            display: inline-block;\n          }\n          .label{\n            display: inline-block;\n          }\n          table,tbody{\n            width:100%;\n          }\n          th{\n            text-align:left;\n          }\n          td{\n            padding-right:1rem;\n          }\n        \n            </style>\n            \n            <slot name="label"></slot>\n            <span id="value">\n                <slot id="main"></slot>\n            </span>\n        \n        ',this.mediatype=this.hasAttribute("mediatype")?this.getAttribute("mediatype"):null,this.addEventListener("slotchange",(e=>{}))}async refresh(){this.ref&&await super.refresh(),this.valueAttr&&(this.value=this.getValue(),await this.updateWidgetValue())}getValue(){try{const e=zs(this,this.valueAttr);return this.hasAttribute("html")?Is(this.valueAttr,e,this)[0]:function(e,t,n,r=null,i=n){const a=Ts(e,t,n);return ps(e,t,r,{},{currentContext:{formElement:n},functionNameResolver:Bs,moduleImports:{xf:xs},namespaceResolver:a})}(this.valueAttr,e,this)[0]}catch(e){bs.dispatch(this,"error",{message:e})}return null}getWidget(){return this.shadowRoot.getElementById("value")}handleReadonly(){this.setAttribute("readonly","readonly")}async updateWidgetValue(){const e=this.shadowRoot.getElementById("value");if("markdown"===this.mediatype){const e=markdown(this.nodeset);this.innerHtml=e}if("html"!==this.mediatype)e.innerHTML=this.value;else{if(this.modelItem.node){const{node:e}=this.modelItem;return e.nodeType?void this.appendChild(e):void Object.entries(e).map((e=>{this.appendChild(e[1])}))}e.innerHTML=this.value.outerHTML}}isReadonly(){return!0}}customElements.get("fx-output")||customElements.define("fx-output",su);class lu extends(qs(HTMLElement)){static get properties(){return{inited:{type:Boolean}}}constructor(){super(),this.inited=!1,this.addEventListener("click",this._dispatchIndexChange),this.addEventListener("focusin",this._dispatchIndexChange),this.attachShadow({mode:"open",delegatesFocus:!0})}_handleFocus(){this.parentNode.setIndex(this.index)}_dispatchIndexChange(){this.parentNode&&this.parentNode.dispatchEvent(new CustomEvent("item-changed",{composed:!0,bubbles:!0,detail:{item:this}}))}connectedCallback(){this.display=this.style.display;this.shadowRoot.innerHTML="\n            \n           <slot></slot>\n        \n        ",this.getOwnerForm().registerLazyElement(this)}disconnectedCallback(){this.removeEventListener("click",this._dispatchIndexChange()),this.removeEventListener("focusin",this._handleFocus)}init(){this.inited=!0}refresh(e){this.modelItem=this.getModelItem(),this.modelItem.boundControls.includes(this)||this.modelItem.boundControls.push(this),this.modelItem&&!this.modelItem.relevant?this.style.display="none":this.style.display=this.display,bs.refreshChildren(this,e)}}customElements.get("fx-repeatitem")||window.customElements.define("fx-repeatitem",lu);class uu extends(qs(HTMLElement)){static get properties(){return{...super.properties,index:{type:Number},template:{type:Object},focusOnCreate:{type:String},initDone:{type:Boolean},repeatIndex:{type:Number},nodeset:{type:Array}}}constructor(){super(),this.ref="",this.dataTemplate=[],this.focusOnCreate="",this.initDone=!1,this.repeatIndex=1,this.nodeset=[],this.inited=!1,this.index=1,this.repeatSize=0,this.attachShadow({mode:"open",delegatesFocus:!0})}get repeatSize(){return this.querySelectorAll(":scope > fx-repeatitem").length}set repeatSize(e){this.size=e}setIndex(e){this.index=e;const t=this.querySelectorAll(":scope > fx-repeatitem");this.applyIndex(t[this.index-1])}applyIndex(e){this._removeIndexMarker(),e&&e.setAttribute("repeat-index","")}get index(){return this.getAttribute("index")}set index(e){this.setAttribute("index",e)}connectedCallback(){this.ref=this.getAttribute("ref"),this.addEventListener("item-changed",(e=>{const{item:t}=e.detail,n=Array.from(this.children).indexOf(t);this.applyIndex(this.children[n]),this.index=n+1})),document.addEventListener("index-changed",(e=>{if(e.stopPropagation(),!e.target===this)return;const{index:t}=e.detail;this.index=Number(t),this.applyIndex(this.children[t-1])})),this.mutationObserver=new MutationObserver((e=>{if("childList"===e[0].type){const t=e[0].addedNodes[0];if(t){const e=ys.getPath(t);bs.dispatch(this,"path-mutated",{path:e,index:this.index})}}})),this.getOwnerForm().registerLazyElement(this);this.shadowRoot.innerHTML='\n            <style>\n                \n      :host{\n      }\n       .fade-out-bottom {\n          -webkit-animation: fade-out-bottom 0.7s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;\n          animation: fade-out-bottom 0.7s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;\n      }\n      .fade-out-bottom {\n          -webkit-animation: fade-out-bottom 0.7s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;\n          animation: fade-out-bottom 0.7s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;\n      }\n   \n            </style>\n            \n          <slot name="header"></slot>\n          <slot></slot>\n        \n        '}init(){this._evalNodeset(),this._initTemplate(),this._initRepeatItems(),this.setAttribute("index",this.index),this.inited=!0}_evalNodeset(){const e=zs(this.getAttributeNode("ref")||this,this.ref);this.mutationObserver&&e.nodeName&&this.mutationObserver.observe(e,{childList:!0,subtree:!0});const t=Is(this.ref,e,this);1===t.length&&Array.isArray(t[0])?this.nodeset=t[0]:this.nodeset=t}async refresh(e){this.inited||this.init(),this._evalNodeset();const t=this.querySelectorAll(":scope > fx-repeatitem"),n=t.length;let r=1;Array.isArray(this.nodeset)&&(r=this.nodeset.length);const i=r;if(i<n)for(let e=n;e>i;e-=1){const n=t[e-1];n.parentNode.removeChild(n),this.getOwnerForm().unRegisterLazyElement(n)}if(i>n)for(let e=n+1;e<=i;e+=1){const t=document.createElement("fx-repeatitem"),n=this._clone();t.appendChild(n),this.appendChild(t),this._initVariables(t),t.nodeset=this.nodeset[e-1],t.index=e,this.getOwnerForm().someInstanceDataStructureChanged=!0}for(let e=0;e<n;e+=1){const n=t[e];this.getOwnerForm().registerLazyElement(n),n.nodeset!==this.nodeset[e]&&(n.nodeset=this.nodeset[e])}this.getOwnerForm().lazyRefresh&&!e||bs.refreshChildren(this,e),this.setIndex(this.index)}_fadeOut(e){e.style.opacity=1,function t(){(e.style.opacity-=.1)<0?e.style.display="none":requestAnimationFrame(t)}()}_fadeIn(e){e&&(e.style.opacity=0,e.style.display=this.display,function t(){let n=parseFloat(e.style.opacity);(n+=.1)>1||(e.style.opacity=n,requestAnimationFrame(t))}())}_initTemplate(){this.template=this.querySelector("template"),null===this.template&&this.dispatchEvent(new CustomEvent("no-template-error",{composed:!0,bubbles:!0,detail:{message:`no template found for repeat:${this.id}`}})),this.shadowRoot.appendChild(this.template)}_initRepeatItems(){this.nodeset.forEach(((e,t)=>{const n=document.createElement("fx-repeatitem");n.nodeset=this.nodeset[t],n.index=t+1;const r=this._clone();n.appendChild(r),this.appendChild(n),1===n.index&&this.applyIndex(n),this._initVariables(n)}))}_initVariables(e){const t=new Map(this.inScopeVariables);e.setInScopeVariables(t),function e(n){for(const r of n.children)"setInScopeVariables"in r&&r.setInScopeVariables(t),e(r)}(e)}_clone(){this.template=this.shadowRoot.querySelector("template");const e=this.template.content.cloneNode(!0);return document.importNode(e,!0)}_removeIndexMarker(){Array.from(this.children).forEach((e=>{e.removeAttribute("repeat-index")}))}setInScopeVariables(e){this.inScopeVariables=new Map(e)}}customElements.get("fx-repeat")||window.customElements.define("fx-repeat",uu);class cu extends al{connectedCallback(){super.connectedCallback&&super.connectedCallback();this.shadowRoot.innerHTML="\n        <style>\n            \n       :host ::slotted(fx-case.selected-case){\n        display: block !important;\n    }\n    \n        </style>\n        \n       <slot></slot>\n    \n    "}refresh(){super.refresh();const e=this.querySelectorAll("fx-case");if(this.isBound())Array.from(e).forEach((e=>{e.getAttribute("name")===this.modelItem.value?e.classList.add("selected-case"):e.classList.remove("selected-case")}));else{this.querySelector(".selected-case")||e[0].classList.add("selected-case")}bs.refreshChildren(this)}toggle(e){const t=this.querySelectorAll("fx-case");Array.from(t).forEach((t=>{e===t?t.classList.add("selected-case"):t.classList.remove("selected-case")}))}}customElements.get("fx-switch")||window.customElements.define("fx-switch",cu);class pu extends nl{connectedCallback(){this.attachShadow({mode:"open"}),this.ref=this.hasAttribute("ref")?this.getAttribute("ref"):null;this.shadowRoot.innerHTML=`\n                <style>\n                    \n          :host {\n            cursor:pointer;\n          }\n        \n                </style>\n                ${this.renderHTML()}\n        `;const e=this.shadowRoot.querySelector("slot");e.addEventListener("slotchange",(()=>{const t=e.assignedElements({flatten:!0});t[0].setAttribute("tabindex","0"),t[0].setAttribute("role","button");const n=t[0];n.addEventListener("click",(e=>this.performActions(e))),this.widget=n,"BUTTON"!==n.nodeName&&n.addEventListener("keypress",(e=>{"Space"!==e.code&&"Enter"!==e.code||this.performActions(e)}))}))}renderHTML(){return"\n            <slot></slot>\n    "}getWidget(){return this.widget}async updateWidgetValue(){return null}handleReadonly(){super.handleReadonly(),this.widget.hasAttribute("readonly")?this.widget.setAttribute("disabled","disabled"):this.widget.removeAttribute("disabled")}async performActions(e){const t=this.closest("fx-repeatitem");t&&t.click(),this.querySelectorAll("fx-var").forEach((e=>e.refresh()));(async()=>{for(let t=0;t<this.children.length;t+=1){const n=this.children[t];"function"==typeof n.execute&&await n.execute(e)}})()}}customElements.get("fx-trigger")||customElements.define("fx-trigger",pu);class hu extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.hasAttribute("label")&&(this.label=this.getAttribute("label")),this.hasAttribute("name")&&(this.name=this.getAttribute("name")),this.hasAttribute("selected")&&(this.selected=this.getAttribute("selected"));const e=`\n           ${this.label?`<span>${this.label}</span>`:""}\n           <slot></slot>\n        `;this.shadowRoot.innerHTML=`\n            <style>\n                \n            :host {\n                display: none;\n            }\n        \n            </style>\n            ${e}\n    `,this.style.display="none"}}customElements.get("fx-case")||window.customElements.define("fx-case",hu);class du extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const e=this.closest("fx-fore");this.render("\n          :host {\n            position:absolute;\n            display: block;\n            width:var(--inspector-handle-width);\n            background:var(--inspector-bg);\n            top:0;\n            right:0;\n            bottom:0;\n            height: 100%;\n            background: var(--inspector-bg);\n            color: white;\n            /*max-height: 33%;*/\n            overflow: scroll;\n            transition:width 0.3s ease;\n          }\n          :host([open]){\n            width: 30%;\n          }\n          details{\n            margin:1rem;\n          }\n          .main{\n            padding-left:var(--inspector-handle-width);\n            color:var(--inspector-color);\n            overflow:scroll;\n          }\n          pre{\n            background:var(--inspector-pre-bg);\n            color:var(--inspector-color);\n            overflow:scroll;\n            padding:0.2rem;\n          }\n          .handle{\n            display:block;\n            height:100vh;\n            width:var(--inspector-handle-width);\n            background:var(--inspector-handle-bg);\n            opacity:0.7;\n            position:absolute;\n            left:0;\n            color:white;\n            cursor:pointer;\n          }\n          .handle:hover{\n            opacity:1;\n          }\n          .handle::before{\n            content: 'Data Inspector';\n            white-space: nowrap;\n            transform: rotate(-90deg);\n            display: inline-block;\n            position: absolute;\n            left: -85px;\n            width: 200px;\n            top: 40px;\n          }\n          summary{\n            cursor:pointer;\n          }\n        "),e.addEventListener("refresh-done",(()=>{this.update()}))}update(){const e=this.shadowRoot.querySelectorAll("pre"),t=this.closest("fx-fore");Array.from(e).forEach((e=>{const n=t.getModel().getInstance(e.getAttribute("id"));"xml"===n.type&&(e.innerText=this.serializeDOM(n.instanceData)),"json"===n.type&&(e.innerText=JSON.stringify(n.instanceData,void 0,2))}))}render(e){const t=this.closest("fx-fore"),n=Array.from(t.querySelectorAll("fx-instance"));this.shadowRoot.innerHTML=`\n            <style>\n                ${e}\n            </style>\n            <div class="main">\n            <slot></slot>\n            <span class="handle"></span>\n                ${n.map(((e,t)=>`\n                  <details open>\n                      <summary>${e.id}</summary>\n                      <pre id="${e.id}"></pre>\n                  </details>\n                `))}\n            </div>\n        `;this.shadowRoot.querySelector(".handle").addEventListener("click",(e=>{this.hasAttribute("open")?this.removeAttribute("open"):this.setAttribute("open","open")}))}serializeDOM(e){const t=(new XMLSerializer).serializeToString(e);return bs.prettifyXml(t)}}customElements.get("fx-inspector")||customElements.define("fx-inspector",du);class fu extends HTMLElement{static get properties(){return{id:String}}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot.innerHTML=this.render("\n          :host {\n            display:none;\n            height: 100vh;\n            width:100vw;\n            position:fixed;\n            left:0;\n            top:0;\n            right:0;\n            bottom:0;\n            transition:opacity 0.4s linear;\n          }\n\n        "),this.id=this.getAttribute("id");const e=this.querySelector(".close-dialog");e&&e.addEventListener("click",(()=>{this.classList.remove("show")})),this.addEventListener("transitionend",(()=>{})),this.focus()}render(e){return`\n      <style>\n          ${e}\n      </style>\n      <slot></slot>\n    `}open(){window.addEventListener("keyup",(e=>{"Escape"===e.key&&this.hide()}),{once:!0}),this.classList.add("show")}async hide(){await bs.fadeOutElement(this,400),this.classList.remove("show")}}customElements.get("fx-dialog")||customElements.define("fx-dialog",fu);class mu extends il{static get properties(){return{...super.properties,valueAttr:{type:String}}}constructor(){super(),this.valueAttr=this.hasAttribute("value")?this.getAttribute("value"):null}connectedCallback(){super.connectedCallback(),this.addEventListener("click",(e=>{const t=this.querySelectorAll("[value]");let n;"LABEL"===e.target.nodeName&&(n=Cs(e.target.getAttribute("for"),this),n.checked=!n.checked);let r="";Array.from(t).forEach((e=>{e.checked&&(r+=` ${e.getAttribute("value")}`)})),this.setAttribute("value",r.trim());const i=bs.getClosest("[ref]",this.parentNode);if(!i)return;const a=i.getModelItem(),o=this.shadowRoot.getElementById("setvalue");o.setValue(a,r.trim()),o.actionPerformed()}))}getWidget(){return this}async updateWidgetValue(){const e=bs.getClosest("[ref]",this.parentNode);e&&(this.value=e.value),this.setAttribute("value",this.value)}updateEntry(e,t){const n=e.querySelector("label");n.textContent=t.textContent;const r=bs.createUUID();n.setAttribute("for",r);const i=e.querySelector("[value]"),a=i.value,o=Ds(a.substring(1,a.length-1),t,e),s=` ${o} `,l=` ${this.getAttribute("value")} `;i.value=o,i.setAttribute("id",r),-1!==l.indexOf(s)&&(i.checked=!0)}}async function gu(e){return new Promise((t=>setTimeout((()=>t()),e)))}customElements.get("fx-items")||customElements.define("fx-items",mu);class yu extends(qs(HTMLElement)){static get properties(){return{...super.properties,detail:{type:Object},needsUpdate:{type:Boolean},event:{type:Object},target:{type:String},ifExpr:{type:String},whileExpr:{type:String},delay:{type:Number}}}constructor(){super(),this.detail={},this.needsUpdate=!1}connectedCallback(){this.style.display="none",this.repeatContext=void 0,this.hasAttribute("event")?this.event=this.getAttribute("event"):this.event="activate",this.target=this.getAttribute("target"),this.target?"#window"===this.target?window.addEventListener(this.event,(e=>this.execute(e))):"#document"===this.target?document.addEventListener(this.event,(e=>this.execute(e))):(this.targetElement=Cs(this.target,this),this.targetElement.addEventListener(this.event,(e=>this.execute(e)))):(this.targetElement=this.parentNode,this.targetElement.addEventListener(this.event,(e=>this.execute(e)))),this.ifExpr=this.hasAttribute("if")?this.getAttribute("if"):null,this.whileExpr=this.hasAttribute("while")?this.getAttribute("while"):null,this.delay=this.hasAttribute("delay")?Number(this.getAttribute("delay")):0}async execute(e){if(e&&e.detail&&(this.detail=e.detail),this.needsUpdate=!1,this.evalInContext(),this.targetElement&&this.targetElement.nodeset&&(this.nodeset=this.targetElement.nodeset),!this.ifExpr||Rs(this.ifExpr,zs(this),this)){if(this.whileExpr){const e=async()=>{await gu(this.delay||0),this.ownerDocument.contains(this)&&Rs(this.whileExpr,zs(this),this)&&(this.perform(),await e())};return await e(),void this.actionPerformed()}!this.delay||(await gu(this.delay),this.ownerDocument.contains(this))?(this.perform(),this.actionPerformed()):this.actionPerformed()}}perform(){(this.isBound()||"FX-ACTION"===this.nodeName)&&this.evalInContext()}actionPerformed(){if(this.needsUpdate){const e=this.getModel();e.recalculate(),e.revalidate(),e.parentNode.refresh(!0),this.dispatchActionPerformed()}}dispatchActionPerformed(){bs.dispatch(this,"action-performed",{})}}customElements.get("abstract-action")||window.customElements.define("abstract-action",yu);class vu extends yu{static get properties(){return{ref:{type:String},repeat:{type:String},clear:{type:String}}}constructor(){super(),this.repeat=""}connectedCallback(){super.connectedCallback(),this.ref=this.getAttribute("ref"),this.repeat=this.getAttribute("repeat")}perform(){super.perform(),this._dataFromTemplate(),this.needsUpdate=!0}actionPerformed(){super.actionPerformed(),this._dispatch()}_dataFromTemplate(){const e=this.getInScopeContext(),t=this.getOwnerForm().querySelector(`#${this.repeat}`),n=t.shadowRoot.querySelector("template"),r=e.ownerDocument.createElement(t.ref),i=this._generateInstance(n.content,r);e.appendChild(i)}_dispatch(){const e=Cs(this.repeat,this);bs.dispatch(e,"index-changed",{index:e.nodeset.length})}_clear(e){let t=e.firstChild;const n=e.attributes;for(let e=0;e<n.length;e+=1)n[e].value="";for(;t;)1===t.nodeType&&t.hasAttributes()&&(t.textContent=""),this._clear(t),t=t.nextSibling}_generateInstance(e,t){if(1===e.nodeType&&e.hasAttribute("ref")){const n=e.getAttribute("ref");let r;"."===n||(n.startsWith("@")?t.setAttribute(n.substring(1),""):(r=document.createElement(n),t.appendChild(r),0===e.children.length&&(r.textContent=e.textContent)))}if(e.hasChildNodes()){const n=e.children;for(let e=0;e<n.length;e+=1)this._generateInstance(n[e],t)}return t}getInstanceId(){return this.ref.startsWith("instance(")?"not implemented":"default"}}customElements.get("fx-append")||window.customElements.define("fx-append",vu);class wu extends yu{constructor(){super(),this.repeatId=""}perform(){if(super.perform(),""===this.repeatId){const e=bs.getClosest("fx-repeatitem",this.parentNode),t=Array.from(e.parentNode.children).indexOf(e)+1;this.model=this.getModel();const n=bs.getClosest("fx-repeat",this.parentNode);let r;r=Array.isArray(this.nodeset)?this.nodeset[t-1]:this.nodeset;r.parentNode.removeChild(r),e.parentNode.removeChild(e);const{repeatSize:i}=n;1===t||1===i?n.setIndex(1):t>i?n.setIndex(i):n.setIndex(t)}this.needsUpdate=!0}actionPerformed(){this.getModel().rebuild(),super.actionPerformed()}}customElements.get("fx-delete")||window.customElements.define("fx-delete",wu);class bu extends yu{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){super.connectedCallback&&super.connectedCallback();this.shadowRoot.innerHTML="\n        <style>\n            \n        :host{\n            display:none;\n        }\n    \n        </style>\n        <slot></slot>\n    ",this.at=Number(this.hasAttribute("at")?this.getAttribute("at"):0),this.position=this.hasAttribute("position")?this.getAttribute("position"):"after",this.origin=this.hasAttribute("origin")?this.getAttribute("origin"):null,this.keepValues=!!this.hasAttribute("keep-values")}_cloneOriginSequence(e,t){let n;if(this.origin){let t;try{t=Ps(this.origin,e,this.getOwnerForm()),Array.isArray(t)&&0===t.length&&(n=null),n=t.cloneNode(!0)}catch(e){}}else t&&(n=this._cloneTargetSequence(t),n&&!this.keepValues&&this._clear(n));return n}_getInsertIndex(e,t){return 0===t.length?null:this.hasAttribute("at")?Ms(this.getAttribute("at"),e,this.getOwnerForm()):t.length}perform(){let e,t;this.hasAttribute("context")&&(e=zs(this.getAttributeNode("context"),this.getAttribute("context")),t=Os(this.getAttribute("context"),e,this.getOwnerForm())),this.hasAttribute("ref")&&(e||(e=zs(this.getAttributeNode("ref"),this.ref)),t=Os(this.ref,e,this.getOwnerForm()));const n=this._cloneOriginSequence(e,t);if(!n)return;let r,i;if(0===t.length)r=e,e.appendChild(n),i=1;else{if(this.hasAttribute("at")?(i=Ms(this.getAttribute("at"),e,this.getOwnerForm()),r=t[i-1]):(i=t.length,r=t[t.length-1]),!r){i=1,r=t;i=Ms("count(preceding::*)",t,this.getOwnerForm())+1}this.position&&"before"===this.position&&r.parentNode.insertBefore(n,r),this.position&&"after"===this.position&&(i+=1,this.hasAttribute("context")&&this.hasAttribute("ref")?e.append(n):this.hasAttribute("context")?(i=1,r.prepend(n)):r.insertAdjacentElement("afterend",n))}document.dispatchEvent(new CustomEvent("index-changed",{composed:!0,bubbles:!0,detail:{insertedNodes:n,index:i}})),this.needsUpdate=!0}_cloneTargetSequence(e){return Array.isArray(e)&&0!==e.length?e[e.length-1].cloneNode(!0):!Array.isArray(e)&&e?e.cloneNode(!0):null}actionPerformed(){this.getModel().rebuild(),super.actionPerformed()}_clear(e){const t=e.attributes;for(let e=0;e<t.length;e+=1)t[e].value="";e.textContent&&(e.textContent="");let n=e.firstChild;for(;n;)1===n.nodeType&&n.hasAttributes()&&(n.textContent=""),this._clear(n),n=n.nextSibling}}customElements.get("fx-insert")||window.customElements.define("fx-insert",bu);class xu extends yu{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){super.connectedCallback(),this.event=this.hasAttribute("event")?this.getAttribute("event"):"",this.level=this.hasAttribute("level")?this.getAttribute("level"):"ephemeral";this.shadowRoot.innerHTML=`\n        <style>\n            \n        :host{\n            display:none;\n        }\n    \n        </style>\n        ${this.renderHTML()}\n    `}disconnectedCallback(){this.targetElement.removeEventListener(this.event,(e=>this.execute(e)))}renderHTML(){return"\n        <slot></slot>\n    "}perform(){let e;super.perform(),e=this.hasAttribute("value")?this.getValue():this.textContent,this.dispatchEvent(new CustomEvent("message",{composed:!0,bubbles:!0,detail:{level:this.level,message:e}}))}}customElements.get("fx-message")||window.customElements.define("fx-message",xu);class _u extends yu{static get properties(){return{...super.properties,ref:{type:String},valueAttr:{type:String}}}constructor(){super(),this.ref="",this.valueAttr=""}connectedCallback(){if(super.connectedCallback&&super.connectedCallback(),!this.hasAttribute("ref"))throw new Error('fx-setvalue must specify a "ref" attribute');this.ref=this.getAttribute("ref"),this.valueAttr=this.getAttribute("value")}perform(){super.perform();let{value:e}=this;null!==this.valueAttr?[e]=Is(this.valueAttr,this.nodeset,this,this.detail):e=""!==this.textContent?this.textContent:"",e.nodeType===Node.ATTRIBUTE_NODE&&(e=e.nodeValue);const t=this.getModelItem();this.setValue(t,e)}setValue(e,t){const n=e;n&&n.value!==t&&(n.value=t,this.getModel().changed.push(e),this.needsUpdate=!0)}}customElements.get("fx-setvalue")||window.customElements.define("fx-setvalue",_u);class Au extends yu{constructor(){super(),this.value=""}connectedCallback(){super.connectedCallback(),this.submission=this.getAttribute("submission")}perform(){super.perform();const e=this.getModel().querySelector(`#${this.submission}`);if(null===e)throw this.dispatchEvent(new CustomEvent("error",{composed:!0,bubbles:!0,detail:{message:`fx-submission element with id: '${this.submission}' not found`}})),new Error(`submission with id: ${this.submission} not found`);e.submit()}}customElements.get("fx-send")||window.customElements.define("fx-send",Au);class Eu extends yu{connectedCallback(){super.connectedCallback(),this.hasAttribute("case")&&(this.case=this.getAttribute("case"))}perform(){if(super.perform(),this.case){const e=this.getOwnerForm().querySelector(`#${this.case}`);e.parentNode.toggle(e)}}}customElements.get("fx-toggle")||window.customElements.define("fx-toggle",Eu);class Cu extends yu{constructor(){super(),this.name=null,this.targetid=null,this.details=null,this.attachShadow({mode:"open"})}connectedCallback(){if(super.connectedCallback(),this.name=this.getAttribute("name"),!this.name)throw new Error("no event specified for dispatch",this);this.targetid=this.hasAttribute("targetid")?this.getAttribute("targetid"):null}perform(){const e=this.querySelectorAll("fx-property"),t={};if(Array.from(e).forEach((e=>{const n=e.getAttribute("name"),r=e.getAttribute("value"),i=e.getAttribute("expr");if(i){if(r)throw new Error('if "expr" is given there must not be a "value" attribute');const[e]=Is(i,this.getInScopeContext(),this.getOwnerForm());let a=null;if(e.nodeName){a=(new XMLSerializer).serializeToString(e)}t[n]=a||e}r&&(t[n]=r)})),this.targetid){let e=Cs(this.targetid,this.parentNode,null);if(e||(e=document.getElementById(this.targetid)),!e)throw new Error(`targetid ${this.targetid} does not exist in document`);e.dispatchEvent(new CustomEvent(this.name,{composed:!0,bubbles:!0,detail:t}))}else document.dispatchEvent(new CustomEvent(this.name,{composed:!0,bubbles:!0,detail:t}))}}customElements.get("fx-dispatch")||window.customElements.define("fx-dispatch",Cu);class Nu extends yu{perform(){this.getModel().updateModel()}}customElements.get("fx-update")||window.customElements.define("fx-update",Nu);class Tu extends yu{perform(){if(this.hasAttribute("self")){const e=bs.getClosest("fx-control",this);if(e)return void e.refresh()}this.getOwnerForm().refresh()}}customElements.get("fx-refresh")||window.customElements.define("fx-refresh",Tu);class Su extends yu{static get properties(){return{...super.properties,with:{type:String},replaceNode:Object}}constructor(){super(),this.with=""}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this.with=this.getAttribute("with")}perform(){if(super.perform(),!this.nodeset)return;const e=Ps(this.with,this.nodeset,this);e&&this.replace(this.nodeset,e)}replace(e,t){if(e&&t&&e.nodeName&&t.nodeName){if(e.nodeType===Node.ATTRIBUTE_NODE){const{ownerElement:n}=e;n.setAttribute(t.nodeName,t.textContent),n.removeAttribute(e.nodeName)}else if(e.nodeType===Node.ELEMENT_NODE){const n=t.cloneNode(!0);e.replaceWith(n)}this.needsUpdate=!0}}}customElements.get("fx-replace")||window.customElements.define("fx-replace",Su);class Bu extends yu{connectedCallback(){super.connectedCallback&&super.connectedCallback()}perform(){super.perform();const e=new CustomEvent("return",{composed:!0,bubbles:!0,detail:{nodeset:this.nodeset}});this.getOwnerForm().dispatchEvent(e)}}customElements.get("fx-return")||window.customElements.define("fx-return",Bu);class ku extends yu{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this.src=this.hasAttribute("src")?this.getAttribute("src"):null;this.shadowRoot.innerHTML="\n        <style>\n            \n        :host{\n            display:none;\n        }\n    \n        </style>\n        <slot></slot>\n    "}perform(){const{children:e}=this;if(this.src){this.innerHTML="";const e=document.createElement("script");e.src=this.src,this.appendChild(e)}else Array.from(e).forEach((e=>{if("fx-var"===e.localName)return;const t=e;t.detail=this.detail,t.perform()})),this.dispatchActionPerformed(),this.needsUpdate=!0}}customElements.get("fx-action")||window.customElements.define("fx-action",ku);class Iu extends ku{connectedCallback(){this.message=this.hasAttribute("message")?this.getAttribute("message"):null}perform(){window.confirm(this.message)&&super.perform()}}customElements.get("fx-confirm")||window.customElements.define("fx-confirm",Iu);class Pu extends ku{connectedCallback(){this.dialog=this.getAttribute("dialog"),this.dialog||bs.dispatch(this,"error",{message:"dialog does not exist"})}perform(){Cs(this.dialog,this).open()}}customElements.get("fx-show")||window.customElements.define("fx-show",Pu);class Ou extends yu{connectedCallback(){this.dialog=this.getAttribute("dialog"),this.dialog||bs.dispatch(this,"error",{message:"dialog does not exist"})}perform(){Cs(this.dialog,this).hide()}}customElements.get("fx-hide")||window.customElements.define("fx-hide",Ou);class Ru extends(qs(HTMLElement)){constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.style.display="none",this.signature=this.hasAttribute("signature")?this.getAttribute("signature"):null,this.signature,this.type=this.hasAttribute("type")?this.getAttribute("type"):null,this.shadowRoot.innerHTML="<slot></slot>",this.override=this.hasAttribute("override")?this.getAttribute("override"):"true",this.functionBody=this.innerText;const e=this.getAttribute("type")||"text/xpath",t=this.signature.match(/(?:(?<prefix>[^:]*):)?(?<localName>[^(]+)\((?<params>(?:\(\)|[^)])*)\)(?: as (?<returnType>.*))?/);if(!t)throw new Error(`Function signature ${this.signature} could not be parsed`);const{prefix:n,localName:r,params:i,returnType:a}=t.groups,o="local"!==n&&n?`${n}:${r}`:{namespaceURI:"http://www.w3.org/2005/xquery-local-functions",localName:r};n||Ss.push(r);const s=i?i.split(",").map((e=>{const t=e.match(/(?<variableName>\$[^\s]+)(?:\sas\s(?<varType>.+))/);if(!t)throw new Error(`Param ${e} could not be parsed`);const{variableName:n,varType:r}=t.groups;return{variableName:n,variableType:r||"item()*"}})):[];switch(e){case"text/javascript":{const e=new Function("_domFacade",...s.map((e=>e.variableName)),"form",this.functionBody);fs(o,s.map((e=>e.variableType)),a||"item()*",((...t)=>e.apply(this.getInScopeContext(),[...t,this.getOwnerForm()])));break}case"text/xpath":{const e=(e,...t)=>Is(this.functionBody,this.getInScopeContext(),this.getOwnerForm(),s.reduce(((e,n,r)=>(e[n.variableName.replace("$","")]=t[r],e)),{}));fs(o,s.map((e=>e.variableType)),a||"item()*",e);break}default:throw new Error(`Unexpected mimetype ${e} for function`)}}}customElements.get("fx-function")||customElements.define("fx-function",Ru);
