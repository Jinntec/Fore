/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
window.JSCompiler_renameProperty=function(e,t){return e};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let e,t,n=/(url\()([^)]*)(\))/g,r=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function i(n,i){if(n&&r.test(n))return n;if("//"===n)return n;if(void 0===e){e=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",e="http://a/c%20d"===t.href}catch(e){}}if(i||(i=document.baseURI||window.location.href),e)try{return new URL(n,i).href}catch(e){return n}return t||(t=document.implementation.createHTMLDocument("temp"),t.base=t.createElement("base"),t.head.appendChild(t.base),t.anchor=t.createElement("a"),t.body.appendChild(t.anchor)),t.base.href=i,t.anchor.href=n,t.anchor.href||n}function a(e,t){return e.replace(n,(function(e,n,r,a){return n+"'"+i(r.replace(/["']/g,""),t)+"'"+a}))}function o(e){return e.substring(0,e.lastIndexOf("/")+1)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const s=!window.ShadyDOM||!window.ShadyDOM.inUse,l=(Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss),s&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const e=new CSSStyleSheet;e.replaceSync("");const t=document.createElement("div");return t.attachShadow({mode:"open"}),t.shadowRoot.adoptedStyleSheets=[e],t.shadowRoot.adoptedStyleSheets[0]===e}catch(e){return!1}})());let u=window.Polymer&&window.Polymer.rootPath||o(document.baseURI||window.location.href),c=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0,p=window.Polymer&&window.Polymer.setPassiveTouchGestures||!1,h=window.Polymer&&window.Polymer.strictTemplatePolicy||!1,d=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1,f=window.Polymer&&window.Polymer.legacyOptimizations||!1,m=window.Polymer&&window.Polymer.legacyWarnings||!1,g=window.Polymer&&window.Polymer.syncInitialRender||!1,y=window.Polymer&&window.Polymer.legacyUndefined||!1,v=window.Polymer&&window.Polymer.orderedComputed||!1,b=window.Polymer&&window.Polymer.removeNestedTemplates||!1,w=window.Polymer&&window.Polymer.fastDomIf||!1,x=window.Polymer&&window.Polymer.suppressTemplateNotifications||!1,A=window.Polymer&&window.Polymer.legacyNoObservedAttributes||!1,_=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1,E=0;const C=function(e){let t=e.__mixinApplications;t||(t=new WeakMap,e.__mixinApplications=t);let n=E++;return function(r){let i=r.__mixinSet;if(i&&i[n])return r;let a=t,o=a.get(r);if(!o){o=e(r),a.set(r,o);let t=Object.create(o.__mixinSet||i||null);t[n]=!0,o.__mixinSet=t}return o}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let N={},T={};function B(e,t){N[e]=T[e.toLowerCase()]=t}function S(e){return N[e]||T[e.toLowerCase()]}class I extends HTMLElement{static get observedAttributes(){return["id"]}static import(e,t){if(e){let n=S(e);return n&&t?n.querySelector(t):n}return null}attributeChangedCallback(e,t,n,r){t!==n&&this.register()}get assetpath(){if(!this.__assetpath){const e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,t=i(this.getAttribute("assetpath")||"",e.baseURI);this.__assetpath=o(t)}return this.__assetpath}register(e){if(e=e||this.id){if(h&&void 0!==S(e))throw B(e,null),new Error(`strictTemplatePolicy: dom-module ${e} re-registered`);this.id=e,B(e,this),(t=this).querySelector("style")&&console.warn("dom-module %s has style outside template",t.id)}var t}}I.prototype.modules=N,customElements.define("dom-module",I);function k(e){return I.import(e)}function O(e){const t=a((e.body?e.body:e).textContent,e.baseURI),n=document.createElement("style");return n.textContent=t,n}function P(e){const t=e.trim().split(/\s+/),n=[];for(let e=0;e<t.length;e++)n.push(...D(t[e]));return n}function D(e){const t=k(e);if(!t)return console.warn("Could not find style data in module named",e),[];if(void 0===t._styles){const e=[];e.push(...M(t));const n=t.querySelector("template");n&&e.push(...R(n,t.assetpath)),t._styles=e}return t._styles}function R(e,t){if(!e._styles){const n=[],r=e.content.querySelectorAll("style");for(let e=0;e<r.length;e++){let i=r[e],o=i.getAttribute("include");o&&n.push(...P(o).filter((function(e,t,n){return n.indexOf(e)===t}))),t&&(i.textContent=a(i.textContent,t)),n.push(i)}e._styles=n}return e._styles}function M(e){const t=[],n=e.querySelectorAll("link[rel=import][type~=css]");for(let e=0;e<n.length;e++){let r=n[e];if(r.import){const e=r.import,n=r.hasAttribute("shady-unscoped");if(n&&!e._unscopedStyle){const t=O(e);t.setAttribute("shady-unscoped",""),e._unscopedStyle=t}else e._style||(e._style=O(e));t.push(n?e._unscopedStyle:e._style)}}return t}function F(e){let t=k(e);if(t&&void 0===t._cssText){let e=function(e){let t="",n=M(e);for(let e=0;e<n.length;e++)t+=n[e].textContent;return t}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/(t),n=t.querySelector("template");n&&(e+=function(e,t){let n="";const r=R(e,t);for(let e=0;e<r.length;e++){let t=r[e];t.parentNode&&t.parentNode.removeChild(t),n+=t.textContent}return n}(n,t.assetpath)),t._cssText=e||null}return t||console.warn("Could not find style data in module named",e),t&&t._cssText||""}const U=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?e=>ShadyDOM.patch(e):e=>e
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/;function H(e){return e.indexOf(".")>=0}function G(e){let t=e.indexOf(".");return-1===t?e:e.slice(0,t)}function L(e,t){return 0===e.indexOf(t+".")}function j(e,t){return 0===t.indexOf(e+".")}function X(e,t,n){return t+n.slice(e.length)}function q(e){if(Array.isArray(e)){let t=[];for(let n=0;n<e.length;n++){let r=e[n].toString().split(".");for(let e=0;e<r.length;e++)t.push(r[e])}return t.join(".")}return e}function V(e){return Array.isArray(e)?q(e).split("."):e.toString().split(".")}function z(e,t,n){let r=e,i=V(t);for(let e=0;e<i.length;e++){if(!r)return;r=r[i[e]]}return n&&(n.path=i.join(".")),r}function $(e,t,n){let r=e,i=V(t),a=i[i.length-1];if(i.length>1){for(let e=0;e<i.length-1;e++){if(r=r[i[e]],!r)return}r[a]=n}else r[t]=n;return i.join(".")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Y={},K=/-[a-z]/g,J=/([A-Z])/g;function Q(e){return Y[e]||(Y[e]=e.indexOf("-")<0?e:e.replace(K,e=>e[1].toUpperCase()))}function Z(e){return Y[e]||(Y[e]=e.replace(J,"-$1").toLowerCase())}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let W=0,ee=0,te=[],ne=0,re=!1,ie=document.createTextNode("");new window.MutationObserver((function(){re=!1;const e=te.length;for(let t=0;t<e;t++){let e=te[t];if(e)try{e()}catch(e){setTimeout(()=>{throw e})}}te.splice(0,e),ee+=e})).observe(ie,{characterData:!0});const ae={after:e=>({run:t=>window.setTimeout(t,e),cancel(e){window.clearTimeout(e)}}),run:(e,t)=>window.setTimeout(e,t),cancel(e){window.clearTimeout(e)}},oe={run:e=>(re||(re=!0,ie.textContent=ne++),te.push(e),W++),cancel(e){const t=e-ee;if(t>=0){if(!te[t])throw new Error("invalid async handle: "+e);te[t]=null}}},se=oe,le=C(e=>class extends e{static createProperties(e){const t=this.prototype;for(let n in e)n in t||t._createPropertyAccessor(n)}static attributeNameForProperty(e){return e.toLowerCase()}static typeForProperty(e){}_createPropertyAccessor(e,t){this._addPropertyToAttributeMap(e),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[e]||(this.__dataHasAccessor[e]=!0,this._definePropertyAccessor(e,t))}_addPropertyToAttributeMap(e){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let t=this.__dataAttributes[e];return t||(t=this.constructor.attributeNameForProperty(e),this.__dataAttributes[t]=e),t}_definePropertyAccessor(e,t){Object.defineProperty(this,e,{get(){return this.__data[e]},set:t?function(){}:function(t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let e in this.__dataHasAccessor)this.hasOwnProperty(e)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[e]=this[e],delete this[e])}_initializeInstanceProperties(e){Object.assign(this,e)}_setProperty(e,t){this._setPendingProperty(e,t)&&this._invalidateProperties()}_getProperty(e){return this.__data[e]}_setPendingProperty(e,t,n){let r=this.__data[e],i=this._shouldPropertyChange(e,t,r);return i&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(e in this.__dataOld)&&(this.__dataOld[e]=r),this.__data[e]=t,this.__dataPending[e]=t),i}_isPropertyPending(e){return!(!this.__dataPending||!this.__dataPending.hasOwnProperty(e))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,se.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const e=this.__data,t=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(e,t,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(e,t,n)),this.__dataCounter--}_shouldPropertiesChange(e,t,n){return Boolean(t)}_propertiesChanged(e,t,n){}_shouldPropertyChange(e,t,n){return n!==t&&(n==n||t==t)}attributeChangedCallback(e,t,n,r){t!==n&&this._attributeToProperty(e,n),super.attributeChangedCallback&&super.attributeChangedCallback(e,t,n,r)}_attributeToProperty(e,t,n){if(!this.__serializing){const r=this.__dataAttributes,i=r&&r[e]||e;this[i]=this._deserializeValue(t,n||this.constructor.typeForProperty(i))}}_propertyToAttribute(e,t,n){this.__serializing=!0,n=arguments.length<3?this[e]:n,this._valueToNodeAttribute(this,n,t||this.constructor.attributeNameForProperty(e)),this.__serializing=!1}_valueToNodeAttribute(e,t,n){const r=this._serializeValue(t);"class"!==n&&"name"!==n&&"slot"!==n||(e=U(e)),void 0===r?e.removeAttribute(n):e.setAttribute(n,r)}_serializeValue(e){switch(typeof e){case"boolean":return e?"":void 0;default:return null!=e?e.toString():void 0}}_deserializeValue(e,t){switch(t){case Boolean:return null!==e;case Number:return Number(e);default:return e}}}),ue={};let ce=HTMLElement.prototype;for(;ce;){let e=Object.getOwnPropertyNames(ce);for(let t=0;t<e.length;t++)ue[e[t]]=!0;ce=Object.getPrototypeOf(ce)}const pe=C(e=>{const t=le(e);return class extends t{static createPropertiesForAttributes(){let e=this.observedAttributes;for(let t=0;t<e.length;t++)this.prototype._createPropertyAccessor(Q(e[t]))}static attributeNameForProperty(e){return Z(e)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(e){for(let t in e)this._setProperty(t,e[t])}_ensureAttribute(e,t){const n=this;n.hasAttribute(e)||this._valueToNodeAttribute(n,t,e)}_serializeValue(e){switch(typeof e){case"object":if(e instanceof Date)return e.toString();if(e)try{return JSON.stringify(e)}catch(e){return""}default:return super._serializeValue(e)}}_deserializeValue(e,t){let n;switch(t){case Object:try{n=JSON.parse(e)}catch(t){n=e}break;case Array:try{n=JSON.parse(e)}catch(t){n=null,console.warn("Polymer::Attributes: couldn't decode Array as JSON: "+e)}break;case Date:n=isNaN(e)?String(e):Number(e),n=new Date(n);break;default:n=super._deserializeValue(e,t)}return n}_definePropertyAccessor(e,t){!function(e,t){if(!ue[t]){let n=e[t];void 0!==n&&(e.__data?e._setPendingProperty(t,n):(e.__dataProto?e.hasOwnProperty(JSCompiler_renameProperty("__dataProto",e))||(e.__dataProto=Object.create(e.__dataProto)):e.__dataProto={},e.__dataProto[t]=n))}}(this,e),super._definePropertyAccessor(e,t)}_hasAccessor(e){return this.__dataHasAccessor&&this.__dataHasAccessor[e]}_isPropertyPending(e){return Boolean(this.__dataPending&&e in this.__dataPending)}}}),he={"dom-if":!0,"dom-repeat":!0};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let de=!1,fe=!1;function me(e){(function(){if(!de){de=!0;const e=document.createElement("textarea");e.placeholder="a",fe=e.placeholder===e.textContent}return fe})()&&"textarea"===e.localName&&e.placeholder&&e.placeholder===e.textContent&&(e.textContent=null)}function ge(e){let t=e.getAttribute("is");if(t&&he[t]){let n=e;for(n.removeAttribute("is"),e=n.ownerDocument.createElement(t),n.parentNode.replaceChild(e,n),e.appendChild(n);n.attributes.length;)e.setAttribute(n.attributes[0].name,n.attributes[0].value),n.removeAttribute(n.attributes[0].name)}return e}function ye(e,t){let n=t.parentInfo&&ye(e,t.parentInfo);if(!n)return e;for(let e=n.firstChild,r=0;e;e=e.nextSibling)if(t.parentIndex===r++)return e}function ve(e,t,n,r){r.id&&(t[r.id]=n)}function be(e,t,n){if(n.events&&n.events.length)for(let r,i=0,a=n.events;i<a.length&&(r=a[i]);i++)e._addMethodEventListenerToNode(t,r.name,r.value,e)}function we(e,t,n,r){n.templateInfo&&(t._templateInfo=n.templateInfo,t._parentTemplateInfo=r)}const xe=C(e=>class extends e{static _parseTemplate(e,t){if(!e._templateInfo){let n=e._templateInfo={};n.nodeInfoList=[],n.nestedTemplate=Boolean(t),n.stripWhiteSpace=t&&t.stripWhiteSpace||e.hasAttribute("strip-whitespace"),this._parseTemplateContent(e,n,{parent:null})}return e._templateInfo}static _parseTemplateContent(e,t,n){return this._parseTemplateNode(e.content,t,n)}static _parseTemplateNode(e,t,n){let r=!1,i=e;return"template"!=i.localName||i.hasAttribute("preserve-content")?"slot"===i.localName&&(t.hasInsertionPoint=!0):r=this._parseTemplateNestedTemplate(i,t,n)||r,me(i),i.firstChild&&this._parseTemplateChildNodes(i,t,n),i.hasAttributes&&i.hasAttributes()&&(r=this._parseTemplateNodeAttributes(i,t,n)||r),r||n.noted}static _parseTemplateChildNodes(e,t,n){if("script"!==e.localName&&"style"!==e.localName)for(let r,i=e.firstChild,a=0;i;i=r){if("template"==i.localName&&(i=ge(i)),r=i.nextSibling,i.nodeType===Node.TEXT_NODE){let n=r;for(;n&&n.nodeType===Node.TEXT_NODE;)i.textContent+=n.textContent,r=n.nextSibling,e.removeChild(n),n=r;if(t.stripWhiteSpace&&!i.textContent.trim()){e.removeChild(i);continue}}let o={parentIndex:a,parentInfo:n};this._parseTemplateNode(i,t,o)&&(o.infoIndex=t.nodeInfoList.push(o)-1),i.parentNode&&a++}}static _parseTemplateNestedTemplate(e,t,n){let r=e,i=this._parseTemplate(r,t);return(i.content=r.content.ownerDocument.createDocumentFragment()).appendChild(r.content),n.templateInfo=i,!0}static _parseTemplateNodeAttributes(e,t,n){let r=!1,i=Array.from(e.attributes);for(let a,o=i.length-1;a=i[o];o--)r=this._parseTemplateNodeAttribute(e,t,n,a.name,a.value)||r;return r}static _parseTemplateNodeAttribute(e,t,n,r,i){return"on-"===r.slice(0,3)?(e.removeAttribute(r),n.events=n.events||[],n.events.push({name:r.slice(3),value:i}),!0):"id"===r&&(n.id=i,!0)}static _contentForTemplate(e){let t=e._templateInfo;return t&&t.content||e.content}_stampTemplate(e,t){e&&!e.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e);let n=(t=t||this.constructor._parseTemplate(e)).nodeInfoList,r=t.content||e.content,i=document.importNode(r,!0);i.__noInsertionPoint=!t.hasInsertionPoint;let a=i.nodeList=new Array(n.length);i.$={};for(let e,r=0,o=n.length;r<o&&(e=n[r]);r++){let n=a[r]=ye(i,e);ve(0,i.$,n,e),we(0,n,e,t),be(this,n,e)}return i=i,i}_addMethodEventListenerToNode(e,t,n,r){let i=function(e,t,n){return e=e._methodHost||e,function(t){e[n]?e[n](t,t.detail):console.warn("listener method `"+n+"` not defined")}}(r=r||e,0,n);return this._addEventListenerToNode(e,t,i),i}_addEventListenerToNode(e,t,n){e.addEventListener(t,n)}_removeEventListenerFromNode(e,t,n){e.removeEventListener(t,n)}});
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let Ae=0;const _e=[],Ee={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},Ce=/[A-Z]/;function Ne(e,t,n){let r=e[t];if(r){if(!e.hasOwnProperty(t)&&(r=e[t]=Object.create(e[t]),n))for(let e in r){let t=r[e],n=r[e]=Array(t.length);for(let e=0;e<t.length;e++)n[e]=t[e]}}else r=e[t]={};return r}function Te(e,t,n,r,i,a){if(t){let o=!1;const s=Ae++;for(let l in n){let u=t[i?G(l):l];if(u)for(let t,c=0,p=u.length;c<p&&(t=u[c]);c++)t.info&&t.info.lastRun===s||i&&!Se(l,t.trigger)||(t.info&&(t.info.lastRun=s),t.fn(e,l,n,r,t.info,i,a),o=!0)}return o}return!1}function Be(e,t,n,r,i,a,o,s){let l=!1,u=t[o?G(r):r];if(u)for(let t,c=0,p=u.length;c<p&&(t=u[c]);c++)t.info&&t.info.lastRun===n||o&&!Se(r,t.trigger)||(t.info&&(t.info.lastRun=n),t.fn(e,r,i,a,t.info,o,s),l=!0);return l}function Se(e,t){if(t){let n=t.name;return n==e||!(!t.structured||!L(n,e))||!(!t.wildcard||!j(n,e))}return!0}function Ie(e,t,n,r,i){let a="string"==typeof i.method?e[i.method]:i.method,o=i.property;a?a.call(e,e.__data[o],r[o]):i.dynamicFn||console.warn("observer method `"+i.method+"` not defined")}function ke(e,t,n){let r=G(t);if(r!==t){return Oe(e,Z(r)+"-changed",n[t],t),!0}return!1}function Oe(e,t,n,r){let i={value:n,queueProperty:!0};r&&(i.path=r),U(e).dispatchEvent(new CustomEvent(t,{detail:i}))}function Pe(e,t,n,r,i,a){let o=(a?G(t):t)!=t?t:null,s=o?z(e,o):e.__data[t];o&&void 0===s&&(s=n[t]),Oe(e,i.eventName,s,o)}function De(e,t,n,r,i){let a=e.__data[t];c&&(a=c(a,i.attrName,"attribute",e)),e._propertyToAttribute(t,i.attrName,a)}function Re(e,t,n,r){let i=e[Ee.COMPUTE];if(i)if(v){Ae++;const a=function(e){let t=e.constructor.__orderedComputedDeps;if(!t){t=new Map;const n=e[Ee.COMPUTE];let r,{counts:i,ready:a,total:o}=function(e){const t=e.__computeInfo,n={},r=e[Ee.COMPUTE],i=[];let a=0;for(let e in t){const r=t[e];a+=n[e]=r.args.filter(e=>!e.literal).length+(r.dynamicFn?1:0)}for(let e in r)t[e]||i.push(e);return{counts:n,ready:i,total:a}}(e);for(;r=a.shift();){t.set(r,t.size);const e=n[r];e&&e.forEach(e=>{const t=e.info.methodInfo;--o,0==--i[t]&&a.push(t)})}if(0!==o){const t=e;console.warn(`Computed graph for ${t.localName} incomplete; circular?`)}e.constructor.__orderedComputedDeps=t}return t}(e),o=[];for(let e in t)Fe(e,i,o,a,r);let s;for(;s=o.shift();)Ue(e,"",t,n,s)&&Fe(s.methodInfo,i,o,a,r);Object.assign(n,e.__dataOld),Object.assign(t,e.__dataPending),e.__dataPending=null}else{let a=t;for(;Te(e,i,a,n,r);)Object.assign(n,e.__dataOld),Object.assign(t,e.__dataPending),a=e.__dataPending,e.__dataPending=null}}const Me=(e,t,n)=>{let r=0,i=t.length-1,a=-1;for(;r<=i;){const o=r+i>>1,s=n.get(t[o].methodInfo)-n.get(e.methodInfo);if(s<0)r=o+1;else{if(!(s>0)){a=o;break}i=o-1}}a<0&&(a=i+1),t.splice(a,0,e)},Fe=(e,t,n,r,i)=>{const a=t[i?G(e):e];if(a)for(let t=0;t<a.length;t++){const o=a[t];o.info.lastRun===Ae||i&&!Se(e,o.trigger)||(o.info.lastRun=Ae,Me(o.info,n,r))}};function Ue(e,t,n,r,i){let a=Ve(e,t,n,r,i);if(a===_e)return!1;let o=i.methodInfo;return e.__dataHasAccessor&&e.__dataHasAccessor[o]?e._setPendingProperty(o,a,!0):(e[o]=a,!1)}function He(e,t,n,r,i,a,o){n.bindings=n.bindings||[];let s={kind:r,target:i,parts:a,literal:o,isCompound:1!==a.length};if(n.bindings.push(s),function(e){return Boolean(e.target)&&"attribute"!=e.kind&&"text"!=e.kind&&!e.isCompound&&"{"===e.parts[0].mode}(s)){let{event:e,negate:t}=s.parts[0];s.listenerEvent=e||Z(i)+"-changed",s.listenerNegate=t}let l=t.nodeInfoList.length;for(let n=0;n<s.parts.length;n++){let r=s.parts[n];r.compoundIndex=n,Ge(e,t,s,r,l)}}function Ge(e,t,n,r,i){if(!r.literal)if("attribute"===n.kind&&"-"===n.target[0])console.warn("Cannot set attribute "+n.target+' because "-" is not a valid attribute starting character');else{let a=r.dependencies,o={index:i,binding:n,part:r,evaluator:e};for(let n=0;n<a.length;n++){let r=a[n];"string"==typeof r&&(r=Je(r),r.wildcard=!0),e._addTemplatePropertyEffect(t,r.rootProperty,{fn:Le,info:o,trigger:r})}}}function Le(e,t,n,r,i,a,o){let s=o[i.index],l=i.binding,u=i.part;if(a&&u.source&&t.length>u.source.length&&"property"==l.kind&&!l.isCompound&&s.__isPropertyEffectsClient&&s.__dataHasAccessor&&s.__dataHasAccessor[l.target]){let r=n[t];t=X(u.source,l.target,t),s._setPendingPropertyOrPath(t,r,!1,!0)&&e._enqueueClient(s)}else{let o=i.evaluator._evaluateBinding(e,u,t,n,r,a);o!==_e&&function(e,t,n,r,i){i=function(e,t,n,r){if(n.isCompound){let i=e.__dataCompoundStorage[n.target];i[r.compoundIndex]=t,t=i.join("")}"attribute"!==n.kind&&("textContent"!==n.target&&("value"!==n.target||"input"!==e.localName&&"textarea"!==e.localName)||(t=null==t?"":t));return t}(t,i,n,r),c&&(i=c(i,n.target,n.kind,t));if("attribute"==n.kind)e._valueToNodeAttribute(t,i,n.target);else{let r=n.target;t.__isPropertyEffectsClient&&t.__dataHasAccessor&&t.__dataHasAccessor[r]?t[Ee.READ_ONLY]&&t[Ee.READ_ONLY][r]||t._setPendingProperty(r,i)&&e._enqueueClient(t):e._setUnmanagedPropertyToNode(t,r,i)}}(e,s,l,u,o)}}function je(e,t){if(t.isCompound){let n=e.__dataCompoundStorage||(e.__dataCompoundStorage={}),r=t.parts,i=new Array(r.length);for(let e=0;e<r.length;e++)i[e]=r[e].literal;let a=t.target;n[a]=i,t.literal&&"property"==t.kind&&("className"===a&&(e=U(e)),e[a]=t.literal)}}function Xe(e,t,n){if(n.listenerEvent){let r=n.parts[0];e.addEventListener(n.listenerEvent,(function(e){!function(e,t,n,r,i){let a,o=e.detail,s=o&&o.path;s?(r=X(n,r,s),a=o&&o.value):a=e.currentTarget[n],a=i?!a:a,t[Ee.READ_ONLY]&&t[Ee.READ_ONLY][r]||!t._setPendingPropertyOrPath(r,a,!0,Boolean(s))||o&&o.queueProperty||t._invalidateProperties()}(e,t,n.target,r.source,r.negate)}))}}function qe(e,t,n,r,i,a){a=t.static||a&&("object"!=typeof a||a[t.methodName]);let o={methodName:t.methodName,args:t.args,methodInfo:i,dynamicFn:a};for(let i,a=0;a<t.args.length&&(i=t.args[a]);a++)i.literal||e._addPropertyEffect(i.rootProperty,n,{fn:r,info:o,trigger:i});return a&&e._addPropertyEffect(t.methodName,n,{fn:r,info:o}),o}function Ve(e,t,n,r,i){let a=e._methodHost||e,o=a[i.methodName];if(o){let r=e._marshalArgs(i.args,t,n);return r===_e?_e:o.apply(a,r)}i.dynamicFn||console.warn("method `"+i.methodName+"` not defined")}const ze=[],$e=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function Ye(e){let t="";for(let n=0;n<e.length;n++){t+=e[n].literal||""}return t}function Ke(e){let t=e.match(/([^\s]+?)\(([\s\S]*)\)/);if(t){let e={methodName:t[1],static:!0,args:ze};if(t[2].trim()){return function(e,t){return t.args=e.map((function(e){let n=Je(e);return n.literal||(t.static=!1),n}),this),t}(t[2].replace(/\\,/g,"&comma;").split(","),e)}return e}return null}function Je(e){let t=e.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),n={name:t,value:"",literal:!1},r=t[0];switch("-"===r&&(r=t[1]),r>="0"&&r<="9"&&(r="#"),r){case"'":case'"':n.value=t.slice(1,-1),n.literal=!0;break;case"#":n.value=Number(t),n.literal=!0}return n.literal||(n.rootProperty=G(t),n.structured=H(t),n.structured&&(n.wildcard=".*"==t.slice(-2),n.wildcard&&(n.name=t.slice(0,-2)))),n}function Qe(e,t,n){let r=z(e,n);return void 0===r&&(r=t[n]),r}function Ze(e,t,n,r){const i={indexSplices:r};y&&!e._overrideLegacyUndefined&&(t.splices=i),e.notifyPath(n+".splices",i),e.notifyPath(n+".length",t.length),y&&!e._overrideLegacyUndefined&&(i.indexSplices=[])}function We(e,t,n,r,i,a){Ze(e,t,n,[{index:r,addedCount:i,removed:a,object:t,type:"splice"}])}const et=C(e=>{const t=xe(pe(e));return class extends t{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__computeInfo,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo,this._overrideLegacyUndefined}get PROPERTY_EFFECT_TYPES(){return Ee}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(tt.length){let e=tt[tt.length-1];e._enqueueClient(this),this.__dataHost=e}}_initializeProtoProperties(e){this.__data=Object.create(e),this.__dataPending=Object.create(e),this.__dataOld={}}_initializeInstanceProperties(e){let t=this[Ee.READ_ONLY];for(let n in e)t&&t[n]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[n]=this.__dataPending[n]=e[n])}_addPropertyEffect(e,t,n){this._createPropertyAccessor(e,t==Ee.READ_ONLY);let r=Ne(this,t,!0)[e];r||(r=this[t][e]=[]),r.push(n)}_removePropertyEffect(e,t,n){let r=Ne(this,t,!0)[e],i=r.indexOf(n);i>=0&&r.splice(i,1)}_hasPropertyEffect(e,t){let n=this[t];return Boolean(n&&n[e])}_hasReadOnlyEffect(e){return this._hasPropertyEffect(e,Ee.READ_ONLY)}_hasNotifyEffect(e){return this._hasPropertyEffect(e,Ee.NOTIFY)}_hasReflectEffect(e){return this._hasPropertyEffect(e,Ee.REFLECT)}_hasComputedEffect(e){return this._hasPropertyEffect(e,Ee.COMPUTE)}_setPendingPropertyOrPath(e,t,n,r){if(r||G(Array.isArray(e)?e[0]:e)!==e){if(!r){let n=z(this,e);if(!(e=$(this,e,t))||!super._shouldPropertyChange(e,t,n))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(e,t,n))return function(e,t,n){let r=e.__dataLinkedPaths;if(r){let i;for(let a in r){let o=r[a];j(a,t)?(i=X(a,o,t),e._setPendingPropertyOrPath(i,n,!0,!0)):j(o,t)&&(i=X(o,a,t),e._setPendingPropertyOrPath(i,n,!0,!0))}}}(this,e,t),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[e])return this._setPendingProperty(e,t,n);this[e]=t}return!1}_setUnmanagedPropertyToNode(e,t,n){n===e[t]&&"object"!=typeof n||("className"===t&&(e=U(e)),e[t]=n)}_setPendingProperty(e,t,n){let r=this.__dataHasPaths&&H(e),i=r?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(e,t,i[e])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),e in this.__dataOld||(this.__dataOld[e]=this.__data[e]),r?this.__dataTemp[e]=t:this.__data[e]=t,this.__dataPending[e]=t,(r||this[Ee.NOTIFY]&&this[Ee.NOTIFY][e])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[e]=n),!0)}_setProperty(e,t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(e){this.__dataPendingClients=this.__dataPendingClients||[],e!==this&&this.__dataPendingClients.push(e)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let e=this.__dataPendingClients;if(e){this.__dataPendingClients=null;for(let t=0;t<e.length;t++){let n=e[t];n.__dataEnabled?n.__dataPending&&n._flushProperties():n._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(e,t){for(let n in e)!t&&this[Ee.READ_ONLY]&&this[Ee.READ_ONLY][n]||this._setPendingPropertyOrPath(n,e[n],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(e,t,n){let r,i=this.__dataHasPaths;this.__dataHasPaths=!1,Re(this,t,n,i),r=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(t,n,i),this._flushClients(),Te(this,this[Ee.REFLECT],t,n,i),Te(this,this[Ee.OBSERVE],t,n,i),r&&function(e,t,n,r,i){let a,o,s=e[Ee.NOTIFY],l=Ae++;for(let o in t)t[o]&&(s&&Be(e,s,l,o,n,r,i)||i&&ke(e,o,n))&&(a=!0);a&&(o=e.__dataHost)&&o._invalidateProperties&&o._invalidateProperties()}(this,r,t,n,i),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(e,t,n){this[Ee.PROPAGATE]&&Te(this,this[Ee.PROPAGATE],e,t,n),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,e,t,n)}_runEffectsForTemplate(e,t,n,r){const i=(t,r)=>{Te(this,e.propertyEffects,t,n,r,e.nodeList);for(let i=e.firstChild;i;i=i.nextSibling)this._runEffectsForTemplate(i,t,n,r)};e.runEffects?e.runEffects(i,t,r):i(t,r)}linkPaths(e,t){e=q(e),t=q(t),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[e]=t}unlinkPaths(e){e=q(e),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[e]}notifySplices(e,t){let n={path:""};Ze(this,z(this,e,n),n.path,t)}get(e,t){return z(t||this,e)}set(e,t,n){n?$(n,e,t):this[Ee.READ_ONLY]&&this[Ee.READ_ONLY][e]||this._setPendingPropertyOrPath(e,t,!0)&&this._invalidateProperties()}push(e,...t){let n={path:""},r=z(this,e,n),i=r.length,a=r.push(...t);return t.length&&We(this,r,n.path,i,t.length,[]),a}pop(e){let t={path:""},n=z(this,e,t),r=Boolean(n.length),i=n.pop();return r&&We(this,n,t.path,n.length,0,[i]),i}splice(e,t,n,...r){let i,a={path:""},o=z(this,e,a);return t<0?t=o.length-Math.floor(-t):t&&(t=Math.floor(t)),i=2===arguments.length?o.splice(t):o.splice(t,n,...r),(r.length||i.length)&&We(this,o,a.path,t,r.length,i),i}shift(e){let t={path:""},n=z(this,e,t),r=Boolean(n.length),i=n.shift();return r&&We(this,n,t.path,0,0,[i]),i}unshift(e,...t){let n={path:""},r=z(this,e,n),i=r.unshift(...t);return t.length&&We(this,r,n.path,0,t.length,[]),i}notifyPath(e,t){let n;if(1==arguments.length){let r={path:""};t=z(this,e,r),n=r.path}else n=Array.isArray(e)?q(e):e;this._setPendingPropertyOrPath(n,t,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(e,t){var n;this._addPropertyEffect(e,Ee.READ_ONLY),t&&(this["_set"+(n=e,n[0].toUpperCase()+n.substring(1))]=function(t){this._setProperty(e,t)})}_createPropertyObserver(e,t,n){let r={property:e,method:t,dynamicFn:Boolean(n)};this._addPropertyEffect(e,Ee.OBSERVE,{fn:Ie,info:r,trigger:{name:e}}),n&&this._addPropertyEffect(t,Ee.OBSERVE,{fn:Ie,info:r,trigger:{name:t}})}_createMethodObserver(e,t){let n=Ke(e);if(!n)throw new Error("Malformed observer expression '"+e+"'");qe(this,n,Ee.OBSERVE,Ve,null,t)}_createNotifyingProperty(e){this._addPropertyEffect(e,Ee.NOTIFY,{fn:Pe,info:{eventName:Z(e)+"-changed",property:e}})}_createReflectedProperty(e){let t=this.constructor.attributeNameForProperty(e);"-"===t[0]?console.warn("Property "+e+" cannot be reflected to attribute "+t+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(e,Ee.REFLECT,{fn:De,info:{attrName:t}})}_createComputedProperty(e,t,n){let r=Ke(t);if(!r)throw new Error("Malformed computed expression '"+t+"'");const i=qe(this,r,Ee.COMPUTE,Ue,e,n);Ne(this,"__computeInfo")[e]=i}_marshalArgs(e,t,n){const r=this.__data,i=[];for(let a=0,o=e.length;a<o;a++){let{name:o,structured:s,wildcard:l,value:u,literal:c}=e[a];if(!c)if(l){const e=j(o,t),i=Qe(r,n,e?t:o);u={path:e?t:o,value:i,base:e?z(r,o):i}}else u=s?Qe(r,n,o):r[o];if(y&&!this._overrideLegacyUndefined&&void 0===u&&e.length>1)return _e;i[a]=u}return i}static addPropertyEffect(e,t,n){this.prototype._addPropertyEffect(e,t,n)}static createPropertyObserver(e,t,n){this.prototype._createPropertyObserver(e,t,n)}static createMethodObserver(e,t){this.prototype._createMethodObserver(e,t)}static createNotifyingProperty(e){this.prototype._createNotifyingProperty(e)}static createReadOnlyProperty(e,t){this.prototype._createReadOnlyProperty(e,t)}static createReflectedProperty(e){this.prototype._createReflectedProperty(e)}static createComputedProperty(e,t,n){this.prototype._createComputedProperty(e,t,n)}static bindTemplate(e){return this.prototype._bindTemplate(e)}_bindTemplate(e,t){let n=this.constructor._parseTemplate(e),r=this.__preBoundTemplateInfo==n;if(!r)for(let e in n.propertyEffects)this._createPropertyAccessor(e);if(t)if(n=Object.create(n),n.wasPreBound=r,this.__templateInfo){const t=e._parentTemplateInfo||this.__templateInfo,r=t.lastChild;n.parent=t,t.lastChild=n,n.previousSibling=r,r?r.nextSibling=n:t.firstChild=n}else this.__templateInfo=n;else this.__preBoundTemplateInfo=n;return n}static _addTemplatePropertyEffect(e,t,n){(e.hostProps=e.hostProps||{})[t]=!0;let r=e.propertyEffects=e.propertyEffects||{};(r[t]=r[t]||[]).push(n)}_stampTemplate(e,t){t=t||this._bindTemplate(e,!0),tt.push(this);let n=super._stampTemplate(e,t);if(tt.pop(),t.nodeList=n.nodeList,!t.wasPreBound){let e=t.childNodes=[];for(let t=n.firstChild;t;t=t.nextSibling)e.push(t)}return n.templateInfo=t,function(e,t){let{nodeList:n,nodeInfoList:r}=t;if(r.length)for(let t=0;t<r.length;t++){let i=r[t],a=n[t],o=i.bindings;if(o)for(let t=0;t<o.length;t++){let n=o[t];je(a,n),Xe(a,e,n)}a.__dataHost=e}}(this,t),this.__dataClientsReady&&(this._runEffectsForTemplate(t,this.__data,null,!1),this._flushClients()),n}_removeBoundDom(e){const t=e.templateInfo,{previousSibling:n,nextSibling:r,parent:i}=t;n?n.nextSibling=r:i&&(i.firstChild=r),r?r.previousSibling=n:i&&(i.lastChild=n),t.nextSibling=t.previousSibling=null;let a=t.childNodes;for(let e=0;e<a.length;e++){let t=a[e];U(U(t).parentNode).removeChild(t)}}static _parseTemplateNode(e,n,r){let i=t._parseTemplateNode.call(this,e,n,r);if(e.nodeType===Node.TEXT_NODE){let t=this._parseBindings(e.textContent,n);t&&(e.textContent=Ye(t)||" ",He(this,n,r,"text","textContent",t),i=!0)}return i}static _parseTemplateNodeAttribute(e,n,r,i,a){let o=this._parseBindings(a,n);if(o){let t=i,a="property";Ce.test(i)?a="attribute":"$"==i[i.length-1]&&(i=i.slice(0,-1),a="attribute");let s=Ye(o);return s&&"attribute"==a&&("class"==i&&e.hasAttribute("class")&&(s+=" "+e.getAttribute(i)),e.setAttribute(i,s)),"attribute"==a&&"disable-upgrade$"==t&&e.setAttribute(i,""),"input"===e.localName&&"value"===t&&e.setAttribute(t,""),e.removeAttribute(t),"property"===a&&(i=Q(i)),He(this,n,r,a,i,o,s),!0}return t._parseTemplateNodeAttribute.call(this,e,n,r,i,a)}static _parseTemplateNestedTemplate(e,n,r){let i=t._parseTemplateNestedTemplate.call(this,e,n,r);const a=e.parentNode,o=r.templateInfo,s="dom-if"===a.localName,l="dom-repeat"===a.localName;b&&(s||l)&&(a.removeChild(e),(r=r.parentInfo).templateInfo=o,r.noted=!0,i=!1);let u=o.hostProps;if(w&&s)u&&(n.hostProps=Object.assign(n.hostProps||{},u),b||(r.parentInfo.noted=!0));else{let e="{";for(let t in u){He(this,n,r,"property","_host_"+t,[{mode:e,source:t,dependencies:[t],hostProp:!0}])}}return i}static _parseBindings(e,t){let n,r=[],i=0;for(;null!==(n=$e.exec(e));){n.index>i&&r.push({literal:e.slice(i,n.index)});let a=n[1][0],o=Boolean(n[2]),s=n[3].trim(),l=!1,u="",c=-1;"{"==a&&(c=s.indexOf("::"))>0&&(u=s.substring(c+2),s=s.substring(0,c),l=!0);let p=Ke(s),h=[];if(p){let{args:e,methodName:n}=p;for(let t=0;t<e.length;t++){let n=e[t];n.literal||h.push(n)}let r=t.dynamicFns;(r&&r[n]||p.static)&&(h.push(n),p.dynamicFn=!0)}else h.push(s);r.push({source:s,mode:a,negate:o,customEvent:l,signature:p,dependencies:h,event:u}),i=$e.lastIndex}if(i&&i<e.length){let t=e.substring(i);t&&r.push({literal:t})}return r.length?r:null}static _evaluateBinding(e,t,n,r,i,a){let o;return o=t.signature?Ve(e,n,r,0,t.signature):n!=t.source?z(e,t.source):a&&H(n)?z(e,n):e.__data[n],t.negate&&(o=!o),o}}}),tt=[];const nt=C(e=>{const t=le(e);function n(e){const t=Object.getPrototypeOf(e);return t.prototype instanceof i?t:null}function r(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",e))){let t=null;if(e.hasOwnProperty(JSCompiler_renameProperty("properties",e))){const n=e.properties;n&&(t=
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function(e){const t={};for(let n in e){const r=e[n];t[n]="function"==typeof r?{type:r}:r}return t}(n))}e.__ownProperties=t}return e.__ownProperties}class i extends t{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){this.prototype;const e=this._properties;this.__observedAttributes=e?Object.keys(e).map(e=>this.prototype._addPropertyToAttributeMap(e)):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const e=n(this);e&&e.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const e=r(this);e&&this.createProperties(e)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const e=n(this);this.__properties=Object.assign({},e&&e._properties,r(this))}return this.__properties}static typeForProperty(e){const t=this._properties[e];return t&&t.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return i}),rt=window.ShadyCSS&&window.ShadyCSS.cssBuild,it=C(e=>{const t=nt(et(e));function n(e,t,n,r){n.computed&&(n.readOnly=!0),n.computed&&(e._hasReadOnlyEffect(t)?console.warn(`Cannot redefine computed property '${t}'.`):e._createComputedProperty(t,n.computed,r)),n.readOnly&&!e._hasReadOnlyEffect(t)?e._createReadOnlyProperty(t,!n.computed):!1===n.readOnly&&e._hasReadOnlyEffect(t)&&console.warn(`Cannot make readOnly property '${t}' non-readOnly.`),n.reflectToAttribute&&!e._hasReflectEffect(t)?e._createReflectedProperty(t):!1===n.reflectToAttribute&&e._hasReflectEffect(t)&&console.warn(`Cannot make reflected property '${t}' non-reflected.`),n.notify&&!e._hasNotifyEffect(t)?e._createNotifyingProperty(t):!1===n.notify&&e._hasNotifyEffect(t)&&console.warn(`Cannot make notify property '${t}' non-notify.`),n.observer&&e._createPropertyObserver(t,n.observer,r[n.observer]),e._addPropertyToAttributeMap(t)}function r(e,t,n,r){if(!rt){const i=t.content.querySelectorAll("style"),a=R(t),o=function(e){let t=k(e);return t?M(t):[]}(n),s=t.content.firstElementChild;for(let n=0;n<o.length;n++){let i=o[n];i.textContent=e._processStyleText(i.textContent,r),t.content.insertBefore(i,s)}let l=0;for(let t=0;t<a.length;t++){let n=a[t],o=i[l];o!==n?(n=n.cloneNode(!0),o.parentNode.insertBefore(n,o)):l++,n.textContent=e._processStyleText(n.textContent,r)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(t,n),_&&rt&&l){const n=t.content.querySelectorAll("style");if(n){let t="";Array.from(n).forEach(e=>{t+=e.textContent,e.parentNode.removeChild(e)}),e._styleSheet=new CSSStyleSheet,e._styleSheet.replaceSync(t)}}}return class extends t{static get polymerElementVersion(){return"3.4.1"}static _finalizeClass(){t._finalizeClass.call(this);const e=((n=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",n))||(n.__ownObservers=n.hasOwnProperty(JSCompiler_renameProperty("observers",n))?n.observers:null),n.__ownObservers);var n;e&&this.createObservers(e,this._properties),this._prepareTemplate()}static _prepareTemplate(){let e=this.template;e&&("string"==typeof e?(console.error("template getter must return HTMLTemplateElement"),e=null):f||(e=e.cloneNode(!0))),this.prototype._template=e}static createProperties(e){for(let t in e)n(this.prototype,t,e[t],e)}static createObservers(e,t){const n=this.prototype;for(let r=0;r<e.length;r++)n._createMethodObserver(e[r],t)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){const e=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;this._template=void 0!==e?e:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&function(e){let t=null;if(e&&(!h||d)&&(t=I.import(e,"template"),h&&!t))throw new Error("strictTemplatePolicy: expecting dom-module or null template for "+e);return t}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(e){this._template=e}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const e=this.importMeta;if(e)this._importPath=o(e.url);else{const e=I.import(this.is);this._importPath=e&&e.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=u,this.importPath=this.constructor.importPath;let e=function(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",e))){e.__propertyDefaults=null;let t=e._properties;for(let n in t){let r=t[n];"value"in r&&(e.__propertyDefaults=e.__propertyDefaults||{},e.__propertyDefaults[n]=r)}}return e.__propertyDefaults}(this.constructor);if(e)for(let t in e){let n=e[t];if(this._canApplyPropertyDefault(t)){let e="function"==typeof n.value?n.value.call(this):n.value;this._hasAccessor(t)?this._setPendingProperty(t,e,!0):this[t]=e}}}_canApplyPropertyDefault(e){return!this.hasOwnProperty(e)}static _processStyleText(e,t){return a(e,t)}static _finalizeTemplate(e){const t=this.prototype._template;if(t&&!t.__polymerFinalized){t.__polymerFinalized=!0;const n=this.importPath;r(this,t,e,n?i(n):""),this.prototype._bindTemplate(t)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(e){const t=U(this);if(t.attachShadow)return e?(t.shadowRoot||(t.attachShadow({mode:"open",shadyUpgradeFragment:e}),t.shadowRoot.appendChild(e),this.constructor._styleSheet&&(t.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),g&&window.ShadyDOM&&window.ShadyDOM.flushInitial(t.shadowRoot),t.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(e){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,e)}resolveUrl(e,t){return!t&&this.importPath&&(t=i(this.importPath)),i(e,t)}static _parseTemplateContent(e,n,r){return n.dynamicFns=n.dynamicFns||this._properties,t._parseTemplateContent.call(this,e,n,r)}static _addTemplatePropertyEffect(e,n,r){return!m||n in this._properties||r.info.part.signature&&r.info.part.signature.static||r.info.part.hostProp||e.nestedTemplate||console.warn(`Property '${n}' used in template but not declared in 'properties'; attribute will not be observed.`),t._addTemplatePropertyEffect.call(this,e,n,r)}}});
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class at{constructor(e){this.value=e.toString()}toString(){return this.value}}function ot(e){if(e instanceof HTMLTemplateElement)return e.innerHTML;if(e instanceof at)return function(e){if(e instanceof at)return e.value;throw new Error("non-literal value passed to Polymer's htmlLiteral function: "+e)}(e);throw new Error("non-template value passed to Polymer's html function: "+e)}const st=function(e,...t){const n=document.createElement("template");return n.innerHTML=t.reduce((t,n,r)=>t+ot(n)+e[r+1],e[0]),n},lt=it(HTMLElement),ut=!(window.ShadyDOM&&window.ShadyDOM.inUse);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let ct,pt;function ht(e){ct=(!e||!e.shimcssproperties)&&(ut||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(pt=window.ShadyCSS.cssBuild);const dt=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?ct=window.ShadyCSS.nativeCss:window.ShadyCSS?(ht(window.ShadyCSS),window.ShadyCSS=void 0):ht(window.WebComponents&&window.WebComponents.flags);const ft=ct;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class mt{constructor(){this.start=0,this.end=0,this.previous=null,this.parent=null,this.rules=null,this.parsedCssText="",this.cssText="",this.atRule=!1,this.type=0,this.keyframesName="",this.selector="",this.parsedSelector=""}}function gt(e){return function e(t,n){let r=n.substring(t.start,t.end-1);if(t.parsedCssText=t.cssText=r.trim(),t.parent){let e=t.previous?t.previous.end:t.parent.start;r=n.substring(e,t.start-1),r=function(e){return e.replace(/\\([0-9a-f]{1,6})\s/gi,(function(){let e=arguments[1],t=6-e.length;for(;t--;)e="0"+e;return"\\"+e}))}(r),r=r.replace(xt.multipleSpaces," "),r=r.substring(r.lastIndexOf(";")+1);let i=t.parsedSelector=t.selector=r.trim();t.atRule=0===i.indexOf(Et),t.atRule?0===i.indexOf(_t)?t.type=vt.MEDIA_RULE:i.match(xt.keyframesRule)&&(t.type=vt.KEYFRAMES_RULE,t.keyframesName=t.selector.split(xt.multipleSpaces).pop()):0===i.indexOf(At)?t.type=vt.MIXIN_RULE:t.type=vt.STYLE_RULE}let i=t.rules;if(i)for(let t,r=0,a=i.length;r<a&&(t=i[r]);r++)e(t,n);return t}(function(e){let t=new mt;t.start=0,t.end=e.length;let n=t;for(let r=0,i=e.length;r<i;r++)if(e[r]===bt){n.rules||(n.rules=[]);let e=n,t=e.rules[e.rules.length-1]||null;n=new mt,n.start=r+1,n.parent=e,n.previous=t,e.rules.push(n)}else e[r]===wt&&(n.end=r+1,n=n.parent||t);return t}(e=e.replace(xt.comments,"").replace(xt.port,"")),e)}function yt(e,t,n=""){let r="";if(e.cssText||e.rules){let n=e.rules;if(n&&!function(e){let t=e[0];return Boolean(t)&&Boolean(t.selector)&&0===t.selector.indexOf(At)}(n))for(let e,i=0,a=n.length;i<a&&(e=n[i]);i++)r=yt(e,t,r);else r=t?e.cssText:function(e){return function(e){return e.replace(xt.mixinApply,"").replace(xt.varApply,"")}(e=function(e){return e.replace(xt.customProp,"").replace(xt.mixinProp,"")}(e))}(e.cssText),r=r.trim(),r&&(r="  "+r+"\n")}return r&&(e.selector&&(n+=e.selector+" "+bt+"\n"),n+=r,e.selector&&(n+=wt+"\n\n")),n}const vt={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},bt="{",wt="}",xt={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},At="--",_t="@media",Et="@",Ct=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,Nt=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,Tt=/@media\s(.*)/,Bt=new Set;function St(e){const t=e.textContent;if(!Bt.has(t)){Bt.add(t);const e=document.createElement("style");e.setAttribute("shady-unscoped",""),e.textContent=t,document.head.appendChild(e)}}function It(e){return e.hasAttribute("shady-unscoped")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function kt(e,t){return e?("string"==typeof e&&(e=gt(e)),t&&Pt(e,t),yt(e,ft)):""}function Ot(e){return!e.__cssRules&&e.textContent&&(e.__cssRules=gt(e.textContent)),e.__cssRules||null}function Pt(e,t,n,r){if(!e)return;let i=!1,a=e.type;if(r&&a===vt.MEDIA_RULE){let t=e.selector.match(Tt);t&&(window.matchMedia(t[1]).matches||(i=!0))}a===vt.STYLE_RULE?t(e):n&&a===vt.KEYFRAMES_RULE?n(e):a===vt.MIXIN_RULE&&(i=!0);let o=e.rules;if(o&&!i)for(let e,i=0,a=o.length;i<a&&(e=o[i]);i++)Pt(e,t,n,r)}window.ShadyDOM&&window.ShadyDOM.wrap;function Dt(e){if(void 0!==pt)return pt;if(void 0===e.__cssBuild){const t=e.getAttribute("css-build");if(t)e.__cssBuild=t;else{const t=function(e){const t="template"===e.localName?e.content.firstChild:e.firstChild;if(t instanceof Comment){const e=t.textContent.trim().split(":");if("css-build"===e[0])return e[1]}return""}(e);""!==t&&function(e){const t="template"===e.localName?e.content.firstChild:e.firstChild;t.parentNode.removeChild(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/(e),e.__cssBuild=t}}return e.__cssBuild||""}function Rt(e){return""!==Dt(e)}function Mt(e,t){for(let n in t)null===n?e.style.removeProperty(n):e.style.setProperty(n,t[n])}function Ft(e,t){const n=window.getComputedStyle(e).getPropertyValue(t);return n?n.trim():""}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Ut=/;\s*/m,Ht=/^\s*(initial)|(inherit)\s*$/,Gt=/\s*!important/;class Lt{constructor(){this._map={}}set(e,t){e=e.trim(),this._map[e]={properties:t,dependants:{}}}get(e){return e=e.trim(),this._map[e]||null}}let jt=null;class Xt{constructor(){this._currentElement=null,this._measureElement=null,this._map=new Lt}detectMixin(e){return function(e){const t=Nt.test(e)||Ct.test(e);return Nt.lastIndex=0,Ct.lastIndex=0,t}(e)}gatherStyles(e){const t=function(e){const t=[],n=e.querySelectorAll("style");for(let e=0;e<n.length;e++){const r=n[e];It(r)?ut||(St(r),r.parentNode.removeChild(r)):(t.push(r.textContent),r.parentNode.removeChild(r))}return t.join("").trim()}(e.content);if(t){const n=document.createElement("style");return n.textContent=t,e.content.insertBefore(n,e.content.firstChild),n}return null}transformTemplate(e,t){void 0===e._gatheredStyle&&(e._gatheredStyle=this.gatherStyles(e));const n=e._gatheredStyle;return n?this.transformStyle(n,t):null}transformStyle(e,t=""){let n=Ot(e);return this.transformRules(n,t),e.textContent=kt(n),n}transformCustomStyle(e){let t=Ot(e);return Pt(t,e=>{":root"===e.selector&&(e.selector="html"),this.transformRule(e)}),e.textContent=kt(t),t}transformRules(e,t){this._currentElement=t,Pt(e,e=>{this.transformRule(e)}),this._currentElement=null}transformRule(e){e.cssText=this.transformCssText(e.parsedCssText,e),":root"===e.selector&&(e.selector=":host > *")}transformCssText(e,t){return e=e.replace(Ct,(e,n,r,i)=>this._produceCssProperties(e,n,r,i,t)),this._consumeCssProperties(e,t)}_getInitialValueForProperty(e){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.setAttribute("apply-shim-measure",""),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(e)}_fallbacksFromPreviousRules(e){let t=e;for(;t.parent;)t=t.parent;const n={};let r=!1;return Pt(t,t=>{r=r||t===e,r||t.selector===e.selector&&Object.assign(n,this._cssTextToMap(t.parsedCssText))}),n}_consumeCssProperties(e,t){let n=null;for(;n=Nt.exec(e);){let r=n[0],i=n[1],a=n.index,o=a+r.indexOf("@apply"),s=a+r.length,l=e.slice(0,o),u=e.slice(s),c=t?this._fallbacksFromPreviousRules(t):{};Object.assign(c,this._cssTextToMap(l));let p=this._atApplyToCssProperties(i,c);e=`${l}${p}${u}`,Nt.lastIndex=a+p.length}return e}_atApplyToCssProperties(e,t){e=e.replace(Ut,"");let n=[],r=this._map.get(e);if(r||(this._map.set(e,{}),r=this._map.get(e)),r){let i,a,o;this._currentElement&&(r.dependants[this._currentElement]=!0);const s=r.properties;for(i in s)o=t&&t[i],a=[i,": var(",e,"_-_",i],o&&a.push(",",o.replace(Gt,"")),a.push(")"),Gt.test(s[i])&&a.push(" !important"),n.push(a.join(""))}return n.join("; ")}_replaceInitialOrInherit(e,t){let n=Ht.exec(t);return n&&(t=n[1]?this._getInitialValueForProperty(e):"apply-shim-inherit"),t}_cssTextToMap(e,t=!1){let n,r,i=e.split(";"),a={};for(let e,o,s=0;s<i.length;s++)e=i[s],e&&(o=e.split(":"),o.length>1&&(n=o[0].trim(),r=o.slice(1).join(":"),t&&(r=this._replaceInitialOrInherit(n,r)),a[n]=r));return a}_invalidateMixinEntry(e){if(jt)for(let t in e.dependants)t!==this._currentElement&&jt(t)}_produceCssProperties(e,t,n,r,i){if(n&&function e(t,n){let r=t.indexOf("var(");if(-1===r)return n(t,"","","");let i=function(e,t){let n=0;for(let r=t,i=e.length;r<i;r++)if("("===e[r])n++;else if(")"===e[r]&&0==--n)return r;return-1}(t,r+3),a=t.substring(r+4,i),o=t.substring(0,r),s=e(t.substring(i+1),n),l=a.indexOf(",");return-1===l?n(o,a.trim(),"",s):n(o,a.substring(0,l).trim(),a.substring(l+1).trim(),s)}(n,(e,t)=>{t&&this._map.get(t)&&(r=`@apply ${t};`)}),!r)return e;let a=this._consumeCssProperties(""+r,i),o=e.slice(0,e.indexOf("--")),s=this._cssTextToMap(a,!0),l=s,u=this._map.get(t),c=u&&u.properties;c?l=Object.assign(Object.create(c),s):this._map.set(t,l);let p,h,d=[],f=!1;for(p in l)h=s[p],void 0===h&&(h="initial"),c&&!(p in c)&&(f=!0),d.push(`${t}_-_${p}: ${h}`);return f&&this._invalidateMixinEntry(u),u&&(u.properties=l),n&&(o=`${e};${o}`),`${o}${d.join("; ")};`}}Xt.prototype.detectMixin=Xt.prototype.detectMixin,Xt.prototype.transformStyle=Xt.prototype.transformStyle,Xt.prototype.transformCustomStyle=Xt.prototype.transformCustomStyle,Xt.prototype.transformRules=Xt.prototype.transformRules,Xt.prototype.transformRule=Xt.prototype.transformRule,Xt.prototype.transformTemplate=Xt.prototype.transformTemplate,Xt.prototype._separator="_-_",Object.defineProperty(Xt.prototype,"invalidCallback",{get:()=>jt,set(e){jt=e}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const qt={},Vt="_applyShimCurrentVersion",zt="_applyShimNextVersion",$t=Promise.resolve();
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Yt(e){let t=qt[e];t&&function(e){e[Vt]=e[Vt]||0,e._applyShimValidatingVersion=e._applyShimValidatingVersion||0,e[zt]=(e[zt]||0)+1}(t)}function Kt(e){return e[Vt]===e[zt]}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Jt,Qt=null,Zt=window.HTMLImports&&window.HTMLImports.whenReady||null;function Wt(e){requestAnimationFrame((function(){Zt?Zt(e):(Qt||(Qt=new Promise(e=>{Jt=e}),"complete"===document.readyState?Jt():document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&Jt()})),Qt.then((function(){e&&e()})))}))}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const en="__shadyCSSCachedStyle";let tn=null,nn=null;class rn{constructor(){this.customStyles=[],this.enqueued=!1,Wt(()=>{window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()})}enqueueDocumentValidation(){!this.enqueued&&nn&&(this.enqueued=!0,Wt(nn))}addCustomStyle(e){e.__seenByShadyCSS||(e.__seenByShadyCSS=!0,this.customStyles.push(e),this.enqueueDocumentValidation())}getStyleForCustomStyle(e){if(e[en])return e[en];let t;return t=e.getStyle?e.getStyle():e,t}processStyles(){const e=this.customStyles;for(let t=0;t<e.length;t++){const n=e[t];if(n[en])continue;const r=this.getStyleForCustomStyle(n);if(r){const e=r.__appliedElement||r;tn&&tn(e),n[en]=e}}return e}}rn.prototype.addCustomStyle=rn.prototype.addCustomStyle,rn.prototype.getStyleForCustomStyle=rn.prototype.getStyleForCustomStyle,rn.prototype.processStyles=rn.prototype.processStyles,Object.defineProperties(rn.prototype,{transformCallback:{get:()=>tn,set(e){tn=e}},validateCallback:{get:()=>nn,set(e){let t=!1;nn||(t=!0),nn=e,t&&this.enqueueDocumentValidation()}}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const an=new Xt;class on{constructor(){this.customStyleInterface=null,an.invalidCallback=Yt}ensure(){this.customStyleInterface||window.ShadyCSS.CustomStyleInterface&&(this.customStyleInterface=window.ShadyCSS.CustomStyleInterface,this.customStyleInterface.transformCallback=e=>{an.transformCustomStyle(e)},this.customStyleInterface.validateCallback=()=>{requestAnimationFrame(()=>{this.customStyleInterface.enqueued&&this.flushCustomStyles()})})}prepareTemplate(e,t){if(this.ensure(),Rt(e))return;qt[t]=e;let n=an.transformTemplate(e,t);e._styleAst=n}flushCustomStyles(){if(this.ensure(),!this.customStyleInterface)return;let e=this.customStyleInterface.processStyles();if(this.customStyleInterface.enqueued){for(let t=0;t<e.length;t++){let n=e[t],r=this.customStyleInterface.getStyleForCustomStyle(n);r&&an.transformCustomStyle(r)}this.customStyleInterface.enqueued=!1}}styleSubtree(e,t){if(this.ensure(),t&&Mt(e,t),e.shadowRoot){this.styleElement(e);let t=e.shadowRoot.children||e.shadowRoot.childNodes;for(let e=0;e<t.length;e++)this.styleSubtree(t[e])}else{let t=e.children||e.childNodes;for(let e=0;e<t.length;e++)this.styleSubtree(t[e])}}styleElement(e){this.ensure();let{is:t}=function(e){let t=e.localName,n="",r="";return t?t.indexOf("-")>-1?n=t:(r=t,n=e.getAttribute&&e.getAttribute("is")||""):(n=e.is,r=e.extends),{is:n,typeExtension:r}}(e),n=qt[t];if((!n||!Rt(n))&&n&&!Kt(n)){(function(e){return!Kt(e)&&e._applyShimValidatingVersion===e[zt]})(n)||(this.prepareTemplate(n,t),function(e){e._applyShimValidatingVersion=e[zt],e._validating||(e._validating=!0,$t.then((function(){e[Vt]=e[zt],e._validating=!1})))}(n));let r=e.shadowRoot;if(r){let e=r.querySelector("style");e&&(e.__cssRules=n._styleAst,e.textContent=kt(n._styleAst))}}}styleDocument(e){this.ensure(),this.styleSubtree(document.body,e)}}if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){const e=new on;let t=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate(t,n,r){e.flushCustomStyles(),e.prepareTemplate(t,n)},prepareTemplateStyles(e,t,n){window.ShadyCSS.prepareTemplate(e,t,n)},prepareTemplateDom(e,t){},styleSubtree(t,n){e.flushCustomStyles(),e.styleSubtree(t,n)},styleElement(t){e.flushCustomStyles(),e.styleElement(t)},styleDocument(t){e.flushCustomStyles(),e.styleDocument(t)},getComputedStyleValue:(e,t)=>Ft(e,t),flushCustomStyles(){e.flushCustomStyles()},nativeCss:ft,nativeShadow:ut,cssBuild:pt,disableRuntime:dt},t&&(window.ShadyCSS.CustomStyleInterface=t)}window.ShadyCSS.ApplyShim=an;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class sn{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(e,t){this._asyncModule=e,this._callback=t,this._timer=this._asyncModule.run(()=>{this._timer=null,ln.delete(this),this._callback()})}cancel(){this.isActive()&&(this._cancelAsync(),ln.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(e,t,n){return e instanceof sn?e._cancelAsync():e=new sn,e.setConfig(t,n),e}}let ln=new Set;const un=function(e){ln.add(e)},cn=function(){const e=Boolean(ln.size);return ln.forEach(e=>{try{e.flush()}catch(e){setTimeout(()=>{throw e})}}),e};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let pn="string"==typeof document.head.style.touchAction,hn="__polymerGesturesHandled",dn="__polymerGesturesTouchAction",fn=["mousedown","mousemove","mouseup","click"],mn=[0,1,4,2],gn=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return!1}}();function yn(e){return fn.indexOf(e)>-1}let vn=!1;function bn(e){if(!yn(e)&&"touchend"!==e)return pn&&vn&&p?{passive:!0}:void 0}!function(){try{let e=Object.defineProperty({},"passive",{get(){vn=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}}();let wn=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const xn=[],An={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},_n={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function En(e){let t=Array.prototype.slice.call(e.labels||[]);if(!t.length){t=[];let n=e.getRootNode();if(e.id){let r=n.querySelectorAll(`label[for = ${e.id}]`);for(let e=0;e<r.length;e++)t.push(r[e])}}return t}let Cn=function(e){let t=e.sourceCapabilities;var n;if((!t||t.firesTouchEvents)&&(e[hn]={skip:!0},"click"===e.type)){let t=!1,r=kn(e);for(let e=0;e<r.length;e++){if(r[e].nodeType===Node.ELEMENT_NODE)if("label"===r[e].localName)xn.push(r[e]);else if(n=r[e],An[n.localName]){let n=En(r[e]);for(let e=0;e<n.length;e++)t=t||xn.indexOf(n[e])>-1}if(r[e]===Bn.mouse.target)return}if(t)return;e.preventDefault(),e.stopPropagation()}};function Nn(e){let t=wn?["click"]:fn;for(let n,r=0;r<t.length;r++)n=t[r],e?(xn.length=0,document.addEventListener(n,Cn,!0)):document.removeEventListener(n,Cn,!0)}function Tn(e){let t=e.type;if(!yn(t))return!1;if("mousemove"===t){let t=void 0===e.buttons?1:e.buttons;return e instanceof window.MouseEvent&&!gn&&(t=mn[e.which]||0),Boolean(1&t)}return 0===(void 0===e.button?0:e.button)}let Bn={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function Sn(e,t,n){e.movefn=t,e.upfn=n,document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}function In(e){document.removeEventListener("mousemove",e.movefn),document.removeEventListener("mouseup",e.upfn),e.movefn=null,e.upfn=null}document.addEventListener("touchend",(function(e){Bn.mouse.mouseIgnoreJob||Nn(!0),Bn.mouse.target=kn(e)[0],Bn.mouse.mouseIgnoreJob=sn.debounce(Bn.mouse.mouseIgnoreJob,ae.after(2500),(function(){Nn(),Bn.mouse.target=null,Bn.mouse.mouseIgnoreJob=null}))}),!!vn&&{passive:!0});const kn=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:e=>e.composedPath&&e.composedPath()||[],On={},Pn=[];function Dn(e){const t=kn(e);return t.length>0?t[0]:e.target}function Rn(e){let t,n=e.type,r=e.currentTarget.__polymerGestures;if(!r)return;let i=r[n];if(i){if(!e[hn]&&(e[hn]={},"touch"===n.slice(0,5))){let t=(e=e).changedTouches[0];if("touchstart"===n&&1===e.touches.length&&(Bn.touch.id=t.identifier),Bn.touch.id!==t.identifier)return;pn||"touchstart"!==n&&"touchmove"!==n||function(e){let t=e.changedTouches[0],n=e.type;if("touchstart"===n)Bn.touch.x=t.clientX,Bn.touch.y=t.clientY,Bn.touch.scrollDecided=!1;else if("touchmove"===n){if(Bn.touch.scrollDecided)return;Bn.touch.scrollDecided=!0;let n=function(e){let t="auto",n=kn(e);for(let e,r=0;r<n.length;r++)if(e=n[r],e[dn]){t=e[dn];break}return t}(e),r=!1,i=Math.abs(Bn.touch.x-t.clientX),a=Math.abs(Bn.touch.y-t.clientY);e.cancelable&&("none"===n?r=!0:"pan-x"===n?r=a>i:"pan-y"===n&&(r=i>a)),r?e.preventDefault():Ln("track")}}(e)}if(t=e[hn],!t.skip){for(let n,r=0;r<Pn.length;r++)n=Pn[r],i[n.name]&&!t[n.name]&&n.flow&&n.flow.start.indexOf(e.type)>-1&&n.reset&&n.reset();for(let r,a=0;a<Pn.length;a++)r=Pn[a],i[r.name]&&!t[r.name]&&(t[r.name]=!0,r[n](e))}}}function Mn(e,t,n){return!!On[t]&&(function(e,t,n){let r=On[t],i=r.deps,a=r.name,o=e.__polymerGestures;o||(e.__polymerGestures=o={});for(let t,n,r=0;r<i.length;r++)t=i[r],wn&&yn(t)&&"click"!==t||(n=o[t],n||(o[t]=n={_count:0}),0===n._count&&e.addEventListener(t,Rn,bn(t)),n[a]=(n[a]||0)+1,n._count=(n._count||0)+1);e.addEventListener(t,n),r.touchAction&&Hn(e,r.touchAction)}(e,t,n),!0)}function Fn(e,t,n){return!!On[t]&&(function(e,t,n){let r=On[t],i=r.deps,a=r.name,o=e.__polymerGestures;if(o)for(let t,n,r=0;r<i.length;r++)t=i[r],n=o[t],n&&n[a]&&(n[a]=(n[a]||1)-1,n._count=(n._count||1)-1,0===n._count&&e.removeEventListener(t,Rn,bn(t)));e.removeEventListener(t,n)}(e,t,n),!0)}function Un(e){Pn.push(e);for(let t=0;t<e.emits.length;t++)On[e.emits[t]]=e}function Hn(e,t){pn&&e instanceof HTMLElement&&oe.run(()=>{e.style.touchAction=t}),e[dn]=t}function Gn(e,t,n){let r=new Event(t,{bubbles:!0,cancelable:!0,composed:!0});if(r.detail=n,U(e).dispatchEvent(r),r.defaultPrevented){let e=n.preventer||n.sourceEvent;e&&e.preventDefault&&e.preventDefault()}}function Ln(e){let t=function(e){for(let t,n=0;n<Pn.length;n++){t=Pn[n];for(let n,r=0;r<t.emits.length;r++)if(n=t.emits[r],n===e)return t}return null}(e);t.info&&(t.info.prevent=!0)}function jn(e,t,n,r){t&&Gn(t,e,{x:n.clientX,y:n.clientY,sourceEvent:n,preventer:r,prevent:function(e){return Ln(e)}})}function Xn(e,t,n){if(e.prevent)return!1;if(e.started)return!0;let r=Math.abs(e.x-t),i=Math.abs(e.y-n);return r>=5||i>=5}function qn(e,t,n){if(!t)return;let r,i=e.moves[e.moves.length-2],a=e.moves[e.moves.length-1],o=a.x-e.x,s=a.y-e.y,l=0;i&&(r=a.x-i.x,l=a.y-i.y),Gn(t,"track",{state:e.state,x:n.clientX,y:n.clientY,dx:o,dy:s,ddx:r,ddy:l,sourceEvent:n,hover:function(){return function(e,t){let n=document.elementFromPoint(e,t),r=n;for(;r&&r.shadowRoot&&!window.ShadyDOM;){let i=r;if(r=r.shadowRoot.elementFromPoint(e,t),i===r)break;r&&(n=r)}return n}(n.clientX,n.clientY)}})}function Vn(e,t,n){let r=Math.abs(t.clientX-e.x),i=Math.abs(t.clientY-e.y),a=Dn(n||t);!a||_n[a.localName]&&a.hasAttribute("disabled")||(isNaN(r)||isNaN(i)||r<=25&&i<=25||function(e){if("click"===e.type){if(0===e.detail)return!0;let t=Dn(e);if(!t.nodeType||t.nodeType!==Node.ELEMENT_NODE)return!0;let n=t.getBoundingClientRect(),r=e.pageX,i=e.pageY;return!(r>=n.left&&r<=n.right&&i>=n.top&&i<=n.bottom)}return!1}(t))&&(e.prevent||Gn(a,"tap",{x:t.clientX,y:t.clientY,sourceEvent:t,preventer:n}))}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/Un({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){In(this.info)},mousedown:function(e){if(!Tn(e))return;let t=Dn(e),n=this;Sn(this.info,(function(e){Tn(e)||(jn("up",t,e),In(n.info))}),(function(e){Tn(e)&&jn("up",t,e),In(n.info)})),jn("down",t,e)},touchstart:function(e){jn("down",Dn(e),e.changedTouches[0],e)},touchend:function(e){jn("up",Dn(e),e.changedTouches[0],e)}}),Un({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(e){this.moves.length>2&&this.moves.shift(),this.moves.push(e)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,In(this.info)},mousedown:function(e){if(!Tn(e))return;let t=Dn(e),n=this,r=function(e){let r=e.clientX,i=e.clientY;Xn(n.info,r,i)&&(n.info.state=n.info.started?"mouseup"===e.type?"end":"track":"start","start"===n.info.state&&Ln("tap"),n.info.addMove({x:r,y:i}),Tn(e)||(n.info.state="end",In(n.info)),t&&qn(n.info,t,e),n.info.started=!0)};Sn(this.info,r,(function(e){n.info.started&&r(e),In(n.info)})),this.info.x=e.clientX,this.info.y=e.clientY},touchstart:function(e){let t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchmove:function(e){let t=Dn(e),n=e.changedTouches[0],r=n.clientX,i=n.clientY;Xn(this.info,r,i)&&("start"===this.info.state&&Ln("tap"),this.info.addMove({x:r,y:i}),qn(this.info,t,n),this.info.state="track",this.info.started=!0)},touchend:function(e){let t=Dn(e),n=e.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:n.clientX,y:n.clientY}),qn(this.info,t,n))}}),Un({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(e){Tn(e)&&(this.info.x=e.clientX,this.info.y=e.clientY)},click:function(e){Tn(e)&&Vn(this.info,e)},touchstart:function(e){const t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchend:function(e){Vn(this.info,e.changedTouches[0],e)}});const zn=C(e=>class extends e{_addEventListenerToNode(e,t,n){Mn(e,t,n)||super._addEventListenerToNode(e,t,n)}_removeEventListenerFromNode(e,t,n){Fn(e,t,n)||super._removeEventListenerFromNode(e,t,n)}}),$n=/:host\(:dir\((ltr|rtl)\)\)/g,Yn=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,Kn=/:dir\((?:ltr|rtl)\)/,Jn=Boolean(window.ShadyDOM&&window.ShadyDOM.inUse),Qn=[];
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let Zn=null,Wn="";function er(){Wn=document.documentElement.getAttribute("dir")}function tr(e){if(!e.__autoDirOptOut){e.setAttribute("dir",Wn)}}function nr(){er(),Wn=document.documentElement.getAttribute("dir");for(let e=0;e<Qn.length;e++)tr(Qn[e])}const rr=C(e=>{Jn||Zn||(er(),Zn=new MutationObserver(nr),Zn.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const t=pe(e);class n extends t{static _processStyleText(e,n){return e=t._processStyleText.call(this,e,n),!Jn&&Kn.test(e)&&(e=this._replaceDirInCssText(e),this.__activateDir=!0),e}static _replaceDirInCssText(e){let t=e;return t=t.replace($n,':host([dir="$1"])'),t=t.replace(Yn,':host([dir="$2"]) $1'),t}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){t.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(Zn&&Zn.takeRecords().length&&nr(),Qn.push(this),tr(this))}disconnectedCallback(){if(t.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const e=Qn.indexOf(this);e>-1&&Qn.splice(e,1)}}}return n.__activateDir=!1,n});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let ir=!1,ar=[],or=[];function sr(){ir=!0,requestAnimationFrame((function(){ir=!1,function(e){for(;e.length;)lr(e.shift())}(ar),setTimeout((function(){!function(e){for(let t=0,n=e.length;t<n;t++)lr(e.shift())}(or)}))}))}function lr(e){const t=e[0],n=e[1],r=e[2];try{n.apply(t,r)}catch(e){setTimeout(()=>{throw e})}}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function ur(){document.body.removeAttribute("unresolved")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function cr(e,t,n){return{index:e,removed:t,addedCount:n}}"interactive"===document.readyState||"complete"===document.readyState?ur():window.addEventListener("DOMContentLoaded",ur);function pr(e,t,n,r,i,a){let o,s=0,l=0,u=Math.min(n-t,a-i);if(0==t&&0==i&&(s=function(e,t,n){for(let r=0;r<n;r++)if(!dr(e[r],t[r]))return r;return n}(e,r,u)),n==e.length&&a==r.length&&(l=function(e,t,n){let r=e.length,i=t.length,a=0;for(;a<n&&dr(e[--r],t[--i]);)a++;return a}(e,r,u-s)),i+=s,a-=l,(n-=l)-(t+=s)==0&&a-i==0)return[];if(t==n){for(o=cr(t,[],0);i<a;)o.removed.push(r[i++]);return[o]}if(i==a)return[cr(t,[],n-t)];let c=function(e){let t=e.length-1,n=e[0].length-1,r=e[t][n],i=[];for(;t>0||n>0;){if(0==t){i.push(2),n--;continue}if(0==n){i.push(3),t--;continue}let a,o=e[t-1][n-1],s=e[t-1][n],l=e[t][n-1];a=s<l?s<o?s:o:l<o?l:o,a==o?(o==r?i.push(0):(i.push(1),r=o),t--,n--):a==s?(i.push(3),t--,r=s):(i.push(2),n--,r=l)}return i.reverse(),i}(function(e,t,n,r,i,a){let o=a-i+1,s=n-t+1,l=new Array(o);for(let e=0;e<o;e++)l[e]=new Array(s),l[e][0]=e;for(let e=0;e<s;e++)l[0][e]=e;for(let n=1;n<o;n++)for(let a=1;a<s;a++)if(dr(e[t+a-1],r[i+n-1]))l[n][a]=l[n-1][a-1];else{let e=l[n-1][a]+1,t=l[n][a-1]+1;l[n][a]=e<t?e:t}return l}(e,t,n,r,i,a));o=void 0;let p=[],h=t,d=i;for(let e=0;e<c.length;e++)switch(c[e]){case 0:o&&(p.push(o),o=void 0),h++,d++;break;case 1:o||(o=cr(h,[],0)),o.addedCount++,h++,o.removed.push(r[d]),d++;break;case 2:o||(o=cr(h,[],0)),o.addedCount++,h++;break;case 3:o||(o=cr(h,[],0)),o.removed.push(r[d]),d++}return o&&p.push(o),p}function hr(e,t){return pr(e,0,e.length,t,0,t.length)}function dr(e,t){return e===t}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function fr(e){return"slot"===e.localName}let mr=class{static getFlattenedNodes(e){const t=U(e);return fr(e)?(e=e,t.assignedNodes({flatten:!0})):Array.from(t.childNodes).map(e=>fr(e)?U(e=e).assignedNodes({flatten:!0}):[e]).reduce((e,t)=>e.concat(t),[])}constructor(e,t){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=e,this.callback=t,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){fr(this._target)?this._listenSlots([this._target]):U(this._target).children&&(this._listenSlots(U(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=window.ShadyDOM.observeChildren(this._target,e=>{this._processMutations(e)}):(this._nativeChildrenObserver=new MutationObserver(e=>{this._processMutations(e)}),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){fr(this._target)?this._unlistenSlots([this._target]):U(this._target).children&&(this._unlistenSlots(U(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(window.ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,oe.run(()=>this.flush()))}_processMutations(e){this._processSlotMutations(e),this.flush()}_processSlotMutations(e){if(e)for(let t=0;t<e.length;t++){let n=e[t];n.addedNodes&&this._listenSlots(n.addedNodes),n.removedNodes&&this._unlistenSlots(n.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let e={target:this._target,addedNodes:[],removedNodes:[]},t=this.constructor.getFlattenedNodes(this._target),n=hr(t,this._effectiveNodes);for(let t,r=0;r<n.length&&(t=n[r]);r++)for(let n,r=0;r<t.removed.length&&(n=t.removed[r]);r++)e.removedNodes.push(n);for(let r,i=0;i<n.length&&(r=n[i]);i++)for(let n=r.index;n<r.index+r.addedCount;n++)e.addedNodes.push(t[n]);this._effectiveNodes=t;let r=!1;return(e.addedNodes.length||e.removedNodes.length)&&(r=!0,this.callback.call(this._target,e)),r}_listenSlots(e){for(let t=0;t<e.length;t++){let n=e[t];fr(n)&&n.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(e){for(let t=0;t<e.length;t++){let n=e[t];fr(n)&&n.removeEventListener("slotchange",this._boundSchedule)}}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const gr=function(){let e,t;do{e=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),t=cn()}while(e||t)},yr=Element.prototype,vr=yr.matches||yr.matchesSelector||yr.mozMatchesSelector||yr.msMatchesSelector||yr.oMatchesSelector||yr.webkitMatchesSelector,br=function(e,t){return vr.call(e,t)};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class wr{constructor(e){window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.patch(e),this.node=e}observeNodes(e){return new mr(this.node,e)}unobserveNodes(e){e.disconnect()}notifyObserver(){}deepContains(e){if(U(this.node).contains(e))return!0;let t=e,n=e.ownerDocument;for(;t&&t!==n&&t!==this.node;)t=U(t).parentNode||U(t).host;return t===this.node}getOwnerRoot(){return U(this.node).getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?U(this.node).assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let e=[],t=U(this.node).assignedSlot;for(;t;)e.push(t),t=U(t).assignedSlot;return e}importNode(e,t){let n=this.node instanceof Document?this.node:this.node.ownerDocument;return U(n).importNode(e,t)}getEffectiveChildNodes(){return mr.getFlattenedNodes(this.node)}queryDistributedElements(e){let t=this.getEffectiveChildNodes(),n=[];for(let r,i=0,a=t.length;i<a&&(r=t[i]);i++)r.nodeType===Node.ELEMENT_NODE&&br(r,e)&&n.push(r);return n}get activeElement(){let e=this.node;return void 0!==e._activeElement?e._activeElement:e.activeElement}}function xr(e,t){for(let n=0;n<t.length;n++){let r=t[n];Object.defineProperty(e,r,{get:function(){return this.node[r]},configurable:!0})}}class Ar{constructor(e){this.event=e}get rootTarget(){return this.path[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}wr.prototype.cloneNode,wr.prototype.appendChild,wr.prototype.insertBefore,wr.prototype.removeChild,wr.prototype.replaceChild,wr.prototype.setAttribute,wr.prototype.removeAttribute,wr.prototype.querySelector,wr.prototype.querySelectorAll,wr.prototype.parentNode,wr.prototype.firstChild,wr.prototype.lastChild,wr.prototype.nextSibling,wr.prototype.previousSibling,wr.prototype.firstElementChild,wr.prototype.lastElementChild,wr.prototype.nextElementSibling,wr.prototype.previousElementSibling,wr.prototype.childNodes,wr.prototype.children,wr.prototype.classList,wr.prototype.textContent,wr.prototype.innerHTML;let _r=wr;if(window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch&&window.ShadyDOM.Wrapper){class e extends window.ShadyDOM.Wrapper{}Object.getOwnPropertyNames(wr.prototype).forEach(t=>{"activeElement"!=t&&(e.prototype[t]=wr.prototype[t])}),xr(e.prototype,["classList"]),_r=e,Object.defineProperties(Ar.prototype,{localTarget:{get(){const e=this.event.currentTarget,t=e&&Er(e).getOwnerRoot(),n=this.path;for(let e=0;e<n.length;e++){const r=n[e];if(Er(r).getOwnerRoot()===t)return r}},configurable:!0},path:{get(){return window.ShadyDOM.composedPath(this.event)},configurable:!0}})}else!function(e,t){for(let n=0;n<t.length;n++){let r=t[n];e[r]=function(){return this.node[r].apply(this.node,arguments)}}}(wr.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]),xr(wr.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]),function(e,t){for(let n=0;n<t.length;n++){let r=t[n];Object.defineProperty(e,r,{get:function(){return this.node[r]},set:function(e){this.node[r]=e},configurable:!0})}}(wr.prototype,["textContent","innerHTML","className"]);const Er=function(e){if((e=e||document)instanceof _r)return e;if(e instanceof Ar)return e;let t=e.__domApi;return t||(t=e instanceof Event?new Ar(e):new _r(e),e.__domApi=t),t},Cr=window.ShadyDOM,Nr=window.ShadyCSS;
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Tr(e,t){return U(e).getRootNode()===t}
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
const Br=e=>{for(;e;){const t=Object.getOwnPropertyDescriptor(e,"observedAttributes");if(t)return t.get;e=Object.getPrototypeOf(e.prototype).constructor}return()=>[]};C(e=>{const t=it(e);let n=Br(t);return class extends t{constructor(){super(),this.__isUpgradeDisabled}static get observedAttributes(){return n.call(this).concat("disable-upgrade")}_initializeProperties(){this.hasAttribute("disable-upgrade")?this.__isUpgradeDisabled=!0:super._initializeProperties()}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(e){return super._canApplyPropertyDefault(e)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(e))}attributeChangedCallback(e,t,n,r){"disable-upgrade"==e?this.__isUpgradeDisabled&&null==n&&(super._initializeProperties(),this.__isUpgradeDisabled=!1,U(this).isConnected&&super.connectedCallback()):super.attributeChangedCallback(e,t,n,r)}connectedCallback(){this.__isUpgradeDisabled||super.connectedCallback()}disconnectedCallback(){this.__isUpgradeDisabled||super.disconnectedCallback()}}});let Sr=window.ShadyCSS;const Ir=C(e=>{const t=zn(it(e)),n=rt?t:rr(t),r=Br(n),i={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class a extends n{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers,this.__isUpgradeDisabled,this.__needsAttributesAtConnected,this._legacyForceObservedAttributes}static get importMeta(){return this.prototype.importMeta}created(){}__attributeReaction(e,t,n){(this.__dataAttributes&&this.__dataAttributes[e]||"disable-upgrade"===e)&&this.attributeChangedCallback(e,t,n,null)}setAttribute(e,t){if(A&&!this._legacyForceObservedAttributes){const n=this.getAttribute(e);super.setAttribute(e,t),this.__attributeReaction(e,n,String(t))}else super.setAttribute(e,t)}removeAttribute(e){if(A&&!this._legacyForceObservedAttributes){const t=this.getAttribute(e);super.removeAttribute(e),this.__attributeReaction(e,t,null)}else super.removeAttribute(e)}static get observedAttributes(){return A&&!this.prototype._legacyForceObservedAttributes?(this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))||(this.__observedAttributes=[],this.prototype),this.__observedAttributes):r.call(this).concat("disable-upgrade")}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(e){return super._canApplyPropertyDefault(e)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(e))}connectedCallback(){this.__needsAttributesAtConnected&&this._takeAttributes(),this.__isUpgradeDisabled||(super.connectedCallback(),this.isAttached=!0,this.attached())}attached(){}disconnectedCallback(){this.__isUpgradeDisabled||(super.disconnectedCallback(),this.isAttached=!1,this.detached())}detached(){}attributeChangedCallback(e,t,n,r){t!==n&&("disable-upgrade"==e?this.__isUpgradeDisabled&&null==n&&(this._initializeProperties(),this.__isUpgradeDisabled=!1,U(this).isConnected&&this.connectedCallback()):(super.attributeChangedCallback(e,t,n,r),this.attributeChanged(e,t,n)))}attributeChanged(e,t,n){}_initializeProperties(){if(f&&this.hasAttribute("disable-upgrade"))this.__isUpgradeDisabled=!0;else{let e=Object.getPrototypeOf(this);e.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",e))||(this._registered(),e.__hasRegisterFinished=!0),super._initializeProperties(),this.root=this,this.created(),A&&!this._legacyForceObservedAttributes&&(this.hasAttributes()?this._takeAttributes():this.parentNode||(this.__needsAttributesAtConnected=!0)),this._applyListeners()}}_takeAttributes(){const e=this.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];this.__attributeReaction(n.name,null,n.value)}}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(e){return this._serializeValue(e)}deserialize(e,t){return this._deserializeValue(e,t)}reflectPropertyToAttribute(e,t,n){this._propertyToAttribute(e,t,n)}serializeValueToAttribute(e,t,n){this._valueToNodeAttribute(n||this,e,t)}extend(e,t){if(!e||!t)return e||t;let n=Object.getOwnPropertyNames(t);for(let r,i=0;i<n.length&&(r=n[i]);i++){let n=Object.getOwnPropertyDescriptor(t,r);n&&Object.defineProperty(e,r,n)}return e}mixin(e,t){for(let n in t)e[n]=t[n];return e}chainObject(e,t){return e&&t&&e!==t&&(e.__proto__=t),e}instanceTemplate(e){let t=this.constructor._contentForTemplate(e);return document.importNode(t,!0)}fire(e,t,n){n=n||{},t=null==t?{}:t;let r=new Event(e,{bubbles:void 0===n.bubbles||n.bubbles,cancelable:Boolean(n.cancelable),composed:void 0===n.composed||n.composed});r.detail=t;let i=n.node||this;return U(i).dispatchEvent(r),r}listen(e,t,n){e=e||this;let r=this.__boundListeners||(this.__boundListeners=new WeakMap),i=r.get(e);i||(i={},r.set(e,i));let a=t+n;i[a]||(i[a]=this._addMethodEventListenerToNode(e,t,n,this))}unlisten(e,t,n){e=e||this;let r=this.__boundListeners&&this.__boundListeners.get(e),i=t+n,a=r&&r[i];a&&(this._removeEventListenerFromNode(e,t,a),r[i]=null)}setScrollDirection(e,t){Hn(t||this,i[e]||"auto")}$$(e){return this.root.querySelector(e)}get domHost(){let e=U(this).getRootNode();return e instanceof DocumentFragment?e.host:e}distributeContent(){const e=Er(this);window.ShadyDOM&&e.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return Er(this).getEffectiveChildNodes()}queryDistributedElements(e){return Er(this).queryDistributedElements(e)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))}getEffectiveTextContent(){let e=this.getEffectiveChildNodes(),t=[];for(let n,r=0;n=e[r];r++)n.nodeType!==Node.COMMENT_NODE&&t.push(n.textContent);return t.join("")}queryEffectiveChildren(e){let t=this.queryDistributedElements(e);return t&&t[0]}queryAllEffectiveChildren(e){return this.queryDistributedElements(e)}getContentChildNodes(e){let t=this.root.querySelector(e||"slot");return t?Er(t).getDistributedNodes():[]}getContentChildren(e){return this.getContentChildNodes(e).filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))}isLightDescendant(e){return this!==e&&U(this).contains(e)&&U(this).getRootNode()===U(e).getRootNode()}isLocalDescendant(e){return this.root===U(e).getRootNode()}scopeSubtree(e,t=!1){return function(e,t=!1){if(!Cr||!Nr)return null;if(!Cr.handlesDynamicScoping)return null;const n=Nr.ScopingShim;if(!n)return null;const r=n.scopeForNode(e),i=U(e).getRootNode(),a=e=>{if(!Tr(e,i))return;const t=Array.from(Cr.nativeMethods.querySelectorAll.call(e,"*"));t.push(e);for(let e=0;e<t.length;e++){const a=t[e];if(!Tr(a,i))continue;const o=n.currentScopeForNode(a);o!==r&&(""!==o&&n.unscopeNode(a,o),n.scopeNode(a,r))}};if(a(e),t){const t=new MutationObserver(e=>{for(let t=0;t<e.length;t++){const n=e[t];for(let e=0;e<n.addedNodes.length;e++){const t=n.addedNodes[e];t.nodeType===Node.ELEMENT_NODE&&a(t)}}});return t.observe(e,{childList:!0,subtree:!0}),t}return null}(e,t)}getComputedStyleValue(e){return Sr.getComputedStyleValue(this,e)}debounce(e,t,n){return this._debouncers=this._debouncers||{},this._debouncers[e]=sn.debounce(this._debouncers[e],n>0?ae.after(n):oe,t.bind(this))}isDebouncerActive(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];return!(!t||!t.isActive())}flushDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.flush()}cancelDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.cancel()}async(e,t){return t>0?ae.run(e.bind(this),t):~oe.run(e.bind(this))}cancelAsync(e){e<0?oe.cancel(~e):ae.cancel(e)}create(e,t){let n=document.createElement(e);if(t)if(n.setProperties)n.setProperties(t);else for(let e in t)n[e]=t[e];return n}elementMatches(e,t){return br(t||this,e)}toggleAttribute(e,t){let n=this;return 3===arguments.length&&(n=arguments[2]),1==arguments.length&&(t=!n.hasAttribute(e)),t?(U(n).setAttribute(e,""),!0):(U(n).removeAttribute(e),!1)}toggleClass(e,t,n){n=n||this,1==arguments.length&&(t=!n.classList.contains(e)),t?n.classList.add(e):n.classList.remove(e)}transform(e,t){(t=t||this).style.webkitTransform=e,t.style.transform=e}translate3d(e,t,n,r){r=r||this,this.transform("translate3d("+e+","+t+","+n+")",r)}arrayDelete(e,t){let n;if(Array.isArray(e)){if(n=e.indexOf(t),n>=0)return e.splice(n,1)}else{if(n=z(this,e).indexOf(t),n>=0)return this.splice(e,n,1)}return null}_logger(e,t){switch(Array.isArray(t)&&1===t.length&&Array.isArray(t[0])&&(t=t[0]),e){case"log":case"warn":case"error":console[e](...t)}}_log(...e){this._logger("log",e)}_warn(...e){this._logger("warn",e)}_error(...e){this._logger("error",e)}_logf(e,...t){return["[%s::%s]",this.is,e,...t]}}return a.prototype.is="",a}),kr={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},Or={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},Pr=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},Or);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Dr(e,t,n,r){!function(e,t,n){const r=e._noAccessors,i=Object.getOwnPropertyNames(e);for(let a=0;a<i.length;a++){let o=i[a];if(!(o in n))if(r)t[o]=e[o];else{let n=Object.getOwnPropertyDescriptor(e,o);n&&(n.configurable=!0,Object.defineProperty(t,o,n))}}}(t,e,r);for(let e in kr)t[e]&&(n[e]=n[e]||[],n[e].push(t[e]))}function Rr(e,t){for(const n in t){const r=e[n],i=t[n];e[n]=!("value"in i)&&r&&"value"in r?Object.assign({value:r.value},i):i}}const Mr=Ir(HTMLElement);function Fr(e,t,n){let r;const i={};class a extends t{static _finalizeClass(){if(this.hasOwnProperty(JSCompiler_renameProperty("generatedFrom",this))){if(r)for(let e,t=0;t<r.length;t++)e=r[t],e.properties&&this.createProperties(e.properties),e.observers&&this.createObservers(e.observers,e.properties);e.properties&&this.createProperties(e.properties),e.observers&&this.createObservers(e.observers,e.properties),this._prepareTemplate()}else t._finalizeClass.call(this)}static get properties(){const t={};if(r)for(let e=0;e<r.length;e++)Rr(t,r[e].properties);return Rr(t,e.properties),t}static get observers(){let t=[];if(r)for(let e,n=0;n<r.length;n++)e=r[n],e.observers&&(t=t.concat(e.observers));return e.observers&&(t=t.concat(e.observers)),t}created(){super.created();const e=i.created;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}_registered(){const e=a.prototype;if(!e.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",e))){e.__hasRegisterFinished=!0,super._registered(),f&&o(e);const t=Object.getPrototypeOf(this);let n=i.beforeRegister;if(n)for(let e=0;e<n.length;e++)n[e].call(t);if(n=i.registered,n)for(let e=0;e<n.length;e++)n[e].call(t)}}_applyListeners(){super._applyListeners();const e=i.listeners;if(e)for(let t=0;t<e.length;t++){const n=e[t];if(n)for(let e in n)this._addMethodEventListenerToNode(this,e,n[e])}}_ensureAttributes(){const e=i.hostAttributes;if(e)for(let t=e.length-1;t>=0;t--){const n=e[t];for(let e in n)this._ensureAttribute(e,n[e])}super._ensureAttributes()}ready(){super.ready();let e=i.ready;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}attached(){super.attached();let e=i.attached;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}detached(){super.detached();let e=i.detached;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}attributeChanged(e,t,n){super.attributeChanged();let r=i.attributeChanged;if(r)for(let i=0;i<r.length;i++)r[i].call(this,e,t,n)}}if(n){Array.isArray(n)||(n=[n]);let e=t.prototype.behaviors;r=function e(t,n,r){n=n||[];for(let i=t.length-1;i>=0;i--){let a=t[i];a?Array.isArray(a)?e(a,n):n.indexOf(a)<0&&(!r||r.indexOf(a)<0)&&n.unshift(a):console.warn("behavior is null, check for missing or 404 import")}return n}(n,null,e),a.prototype.behaviors=e?e.concat(n):r}const o=t=>{r&&function(e,t,n){for(let r=0;r<t.length;r++)Dr(e,t[r],n,Pr)}(t,r,i),Dr(t,e,i,Or)};return f||o(a.prototype),a.generatedFrom=e,a}const Ur=function(e){let t;return t="function"==typeof e?e:Ur.Class(e),e._legacyForceObservedAttributes&&(t.prototype._legacyForceObservedAttributes=e._legacyForceObservedAttributes),customElements.define(t.is,t),t};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function Hr(e,t,n,r,i){let a;i&&(a="object"==typeof n&&null!==n,a&&(r=e.__dataTemp[t]));let o=r!==n&&(r==r||n==n);return a&&o&&(e.__dataTemp[t]=n),o}Ur.Class=function(e,t){e||console.warn("Polymer.Class requires `info` argument");let n=t?t(Mr):Mr;return n=Fr(e,n,e.behaviors),n.is=n.prototype.is=e.is,n};const Gr=C(e=>class extends e{_shouldPropertyChange(e,t,n){return Hr(this,e,t,n,!0)}}),Lr=C(e=>class extends e{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(e,t,n){return Hr(this,e,t,n,this.mutableData)}});Gr._mutablePropertyChange=Hr;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let jr=null;function Xr(){return jr}Xr.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:Xr,writable:!0}});const qr=et(Xr),Vr=Gr(qr);const zr=et(class{});function $r(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(Boolean(e)!=Boolean(r.__hideTemplateChildren__))if(r.nodeType===Node.TEXT_NODE)e?(r.__polymerTextContent__=r.textContent,r.textContent=""):r.textContent=r.__polymerTextContent__;else if("slot"===r.localName)if(e)r.__polymerReplaced__=document.createComment("hidden-slot"),U(U(r).parentNode).replaceChild(r.__polymerReplaced__,r);else{const e=r.__polymerReplaced__;e&&U(U(e).parentNode).replaceChild(r,e)}else r.style&&(e?(r.__polymerDisplay__=r.style.display,r.style.display="none"):r.style.display=r.__polymerDisplay__);r.__hideTemplateChildren__=e,r._showHideChildren&&r._showHideChildren(e)}}class Yr extends zr{constructor(e){super(),this._configureProperties(e),this.root=this._stampTemplate(this.__dataHost);let t=[];this.children=t;for(let e=this.root.firstChild;e;e=e.nextSibling)t.push(e),e.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let n=this.__templatizeOptions;(e&&n.instanceProps||!n.instanceProps)&&this._enableProperties()}_configureProperties(e){if(this.__templatizeOptions.forwardHostProp)for(let e in this.__hostProps)this._setPendingProperty(e,this.__dataHost["_host_"+e]);for(let t in e)this._setPendingProperty(t,e[t])}forwardHostProp(e,t){this._setPendingPropertyOrPath(e,t,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(e,t,n){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(e,t,e=>{e.model=this,n(e)});else{let r=this.__dataHost.__dataHost;r&&r._addEventListenerToNode(e,t,n)}}_showHideChildren(e){$r(e,this.children)}_setUnmanagedPropertyToNode(e,t,n){e.__hideTemplateChildren__&&e.nodeType==Node.TEXT_NODE&&"textContent"==t?e.__polymerTextContent__=n:super._setUnmanagedPropertyToNode(e,t,n)}get parentModel(){let e=this.__parentModel;if(!e){let t;e=this;do{e=e.__dataHost.__dataHost}while((t=e.__templatizeOptions)&&!t.parentModel);this.__parentModel=e}return e}dispatchEvent(e){return!0}}Yr.prototype.__dataHost,Yr.prototype.__templatizeOptions,Yr.prototype._methodHost,Yr.prototype.__templatizeOwner,Yr.prototype.__hostProps;const Kr=Gr(Yr);function Jr(e){let t=e.__dataHost;return t&&t._methodHost||t}function Qr(e,t,n){let r=n.mutableData?Kr:Yr;ti.mixin&&(r=ti.mixin(r));let i=class extends r{};return i.prototype.__templatizeOptions=n,i.prototype._bindTemplate(e),function(e,t,n,r){let i=n.hostProps||{};for(let t in r.instanceProps){delete i[t];let n=r.notifyInstanceProp;n&&e.prototype._addPropertyEffect(t,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:ei(t,n)})}if(r.forwardHostProp&&t.__dataHost)for(let t in i)n.hasHostProps||(n.hasHostProps=!0),e.prototype._addPropertyEffect(t,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(e,t,n){e.__dataHost._setPendingPropertyOrPath("_host_"+t,n[t],!0,!0)}})}(i,e,t,n),i}function Zr(e,t,n,r){let i=n.forwardHostProp;if(i&&t.hasHostProps){const a="template"==e.localName;let o=t.templatizeTemplateClass;if(!o){if(a){let e=n.mutableData?Vr:qr;class r extends e{}o=t.templatizeTemplateClass=r}else{const n=e.constructor;class r extends n{}o=t.templatizeTemplateClass=r}let s=t.hostProps;for(let e in s)o.prototype._addPropertyEffect("_host_"+e,o.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:Wr(e,i)}),o.prototype._createNotifyingProperty("_host_"+e);m&&r&&function(e,t,n){const r=n.constructor._properties,{propertyEffects:i}=e,{instanceProps:a}=t;for(let e in i)if(!(r[e]||a&&a[e])){const t=i[e];for(let n=0;n<t.length;n++){const{part:r}=t[n].info;if(!r.signature||!r.signature.static){console.warn(`Property '${e}' used in template but not declared in 'properties'; attribute will not be observed.`);break}}}}(t,n,r)}if(e.__dataProto&&Object.assign(e.__data,e.__dataProto),a)!function(e,t){jr=e,Object.setPrototypeOf(e,t.prototype),new t,jr=null}(e,o),e.__dataTemp={},e.__dataPending=null,e.__dataOld=null,e._enableProperties();else{Object.setPrototypeOf(e,o.prototype);const n=t.hostProps;for(let t in n)if(t="_host_"+t,t in e){const n=e[t];delete e[t],e.__data[t]=n}}}}function Wr(e,t){return function(e,n,r){t.call(e.__templatizeOwner,n.substring("_host_".length),r[n])}}function ei(e,t){return function(e,n,r){t.call(e.__templatizeOwner,e,n,r[n])}}function ti(e,t,n){if(h&&!Jr(e))throw new Error("strictTemplatePolicy: template owner not trusted");if(n=n||{},e.__templatizeOwner)throw new Error("A <template> can only be templatized once");e.__templatizeOwner=t;let r=(t?t.constructor:Yr)._parseTemplate(e),i=r.templatizeInstanceClass;i||(i=Qr(e,r,n),r.templatizeInstanceClass=i);const a=Jr(e);Zr(e,r,n,a);let o=class extends i{};return o.prototype._methodHost=a,o.prototype.__dataHost=e,o.prototype.__templatizeOwner=t,o.prototype.__hostProps=r.hostProps,o=o,o}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ni=!1;function ri(){if(f&&!s){if(!ni){ni=!0;const e=document.createElement("style");e.textContent="dom-bind,dom-if,dom-repeat{display:none;}",document.head.appendChild(e)}return!0}return!1}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const ii=zn(Lr(et(HTMLElement)));customElements.define("dom-bind",class extends ii{static get observedAttributes(){return["mutable-data"]}constructor(){if(super(),h)throw new Error("strictTemplatePolicy: dom-bind not allowed");this.root=null,this.$=null,this.__children=null}attributeChangedCallback(e,t,n,r){this.mutableData=!0}connectedCallback(){ri()||(this.style.display="none"),this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){U(U(this).parentNode).insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let e=0;e<this.__children.length;e++)this.root.appendChild(this.__children[e])}render(){let e;if(!this.__children){if(e=e||this.querySelector("template"),!e){let t=new MutationObserver(()=>{if(e=this.querySelector("template"),!e)throw new Error("dom-bind requires a <template> child");t.disconnect(),this.render()});return void t.observe(this,{childList:!0})}this.root=this._stampTemplate(e),this.$=this.root.$,this.__children=[];for(let e=this.root.firstChild;e;e=e.nextSibling)this.__children[this.__children.length]=e;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const ai=Lr(lt);class oi extends ai{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!x,readOnly:!0},initialCount:{type:Number},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"},notifyDomChange:{type:Boolean},reuseChunkedInstances:{type:Boolean}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__renderStartTime=null,this.__itemsArrayChanged=!1,this.__shouldMeasureChunk=!1,this.__shouldContinueChunking=!1,this.__chunkingId=0,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null,this._templateInfo}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let e=0;e<this.__instances.length;e++)this.__detachInstance(e)}connectedCallback(){if(super.connectedCallback(),ri()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let e=U(U(this).parentNode);for(let t=0;t<this.__instances.length;t++)this.__attachInstance(t,e)}}__ensureTemplatized(){if(!this.__ctor){const e=this;let t=this.template=e._templateInfo?e:this.querySelector("template");if(!t){let e=new MutationObserver(()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");e.disconnect(),this.__render()});return e.observe(this,{childList:!0}),!1}let n={};n[this.as]=!0,n[this.indexAs]=!0,n[this.itemsIndexAs]=!0,this.__ctor=ti(t,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:n,forwardHostProp:function(e,t){let n=this.__instances;for(let r,i=0;i<n.length&&(r=n[i]);i++)r.forwardHostProp(e,t)},notifyInstanceProp:function(e,t,n){if((r=this.as)===(i=t)||L(r,i)||j(r,i)){let r=e[this.itemsIndexAs];t==this.as&&(this.items[r]=n);let i=X(this.as,`${JSCompiler_renameProperty("items",this)}.${r}`,t);this.notifyPath(i,n)}var r,i}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(e){if("string"==typeof e){let t=e,n=this.__getMethodHost();return function(){return n[t].apply(n,arguments)}}return e}__sortChanged(e){this.__sortFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__filterChanged(e){this.__filterFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(e){return Math.ceil(1e3/e)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__handleObservedPaths(e){if(this.__sortFn||this.__filterFn)if(e){if(this.__observePaths){let t=this.__observePaths;for(let n=0;n<t.length;n++)0===e.indexOf(t[n])&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__itemsChanged(e){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(e.path,e.value)||("items"===e.path&&(this.__itemsArrayChanged=!0),this.__debounceRender(this.__render))}__debounceRender(e,t=0){this.__renderDebouncer=sn.debounce(this.__renderDebouncer,t>0?ae.after(t):oe,e.bind(this)),un(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),gr()}__render(){if(!this.__ensureTemplatized())return;let e=this.items||[];const t=this.__sortAndFilterItems(e),n=this.__calculateLimit(t.length);this.__updateInstances(e,n,t),this.initialCount&&(this.__shouldMeasureChunk||this.__shouldContinueChunking)&&(cancelAnimationFrame(this.__chunkingId),this.__chunkingId=requestAnimationFrame(()=>this.__continueChunking())),this._setRenderedItemCount(this.__instances.length),x&&!this.notifyDomChange||this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}__sortAndFilterItems(e){let t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=n;return this.__filterFn&&(t=t.filter((t,n,r)=>this.__filterFn(e[t],n,r))),this.__sortFn&&t.sort((t,n)=>this.__sortFn(e[t],e[n])),t}__calculateLimit(e){let t=e;const n=this.__instances.length;if(this.initialCount){let r;!this.__chunkCount||this.__itemsArrayChanged&&!this.reuseChunkedInstances?(t=Math.min(e,this.initialCount),r=Math.max(t-n,0),this.__chunkCount=r||1):(r=Math.min(Math.max(e-n,0),this.__chunkCount),t=Math.min(n+r,e)),this.__shouldMeasureChunk=r===this.__chunkCount,this.__shouldContinueChunking=t<e,this.__renderStartTime=performance.now()}return this.__itemsArrayChanged=!1,t}__continueChunking(){if(this.__shouldMeasureChunk){const e=performance.now()-this.__renderStartTime,t=this._targetFrameTime/e;this.__chunkCount=Math.round(this.__chunkCount*t)||1}this.__shouldContinueChunking&&this.__debounceRender(this.__render)}__updateInstances(e,t,n){const r=this.__itemsIdxToInstIdx={};let i;for(i=0;i<t;i++){let t=this.__instances[i],a=n[i],o=e[a];r[a]=i,t?(t._setPendingProperty(this.as,o),t._setPendingProperty(this.indexAs,i),t._setPendingProperty(this.itemsIndexAs,a),t._flushProperties()):this.__insertInstance(o,i,a)}for(let e=this.__instances.length-1;e>=i;e--)this.__detachAndRemoveInstance(e)}__detachInstance(e){let t=this.__instances[e];const n=U(t.root);for(let e=0;e<t.children.length;e++){let r=t.children[e];n.appendChild(r)}return t}__attachInstance(e,t){let n=this.__instances[e];t.insertBefore(n.root,this)}__detachAndRemoveInstance(e){this.__detachInstance(e),this.__instances.splice(e,1)}__stampInstance(e,t,n){let r={};return r[this.as]=e,r[this.indexAs]=t,r[this.itemsIndexAs]=n,new this.__ctor(r)}__insertInstance(e,t,n){const r=this.__stampInstance(e,t,n);let i=this.__instances[t+1],a=i?i.children[0]:this;return U(U(this).parentNode).insertBefore(r.root,a),this.__instances[t]=r,r}_showHideChildren(e){for(let t=0;t<this.__instances.length;t++)this.__instances[t]._showHideChildren(e)}__handleItemPath(e,t){let n=e.slice(6),r=n.indexOf("."),i=r<0?n:n.substring(0,r);if(i==parseInt(i,10)){let e=r<0?"":n.substring(r+1);this.__handleObservedPaths(e);let a=this.__itemsIdxToInstIdx[i],o=this.__instances[a];if(o){let n=this.as+(e?"."+e:"");o._setPendingPropertyOrPath(n,t,!1,!0),o._flushProperties()}return!0}}itemForElement(e){let t=this.modelForElement(e);return t&&t[this.as]}indexForElement(e){let t=this.modelForElement(e);return t&&t[this.indexAs]}modelForElement(e){return function(e,t){let n;for(;t;)if(n=t.__dataHost?t:t.__templatizeInstance){if(n.__dataHost==e)return n;t=n.__dataHost}else t=U(t).parentNode;return null}(this.template,e)}}customElements.define(oi.is,oi);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class si extends lt{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"},notifyDomChange:{type:Boolean}}}constructor(){super(),this.__renderDebouncer=null,this._lastIf=!1,this.__hideTemplateChildren__=!1,this.__template,this._templateInfo}__debounceRender(){this.__renderDebouncer=sn.debounce(this.__renderDebouncer,oe,()=>this.__render()),un(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();const e=U(this).parentNode;e&&(e.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||U(e).host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),ri()||(this.style.display="none"),this.if&&this.__debounceRender()}__ensureTemplate(){if(!this.__template){const e=this;let t=e._templateInfo?e:U(e).querySelector("template");if(!t){let e=new MutationObserver(()=>{if(!U(this).querySelector("template"))throw new Error("dom-if requires a <template> child");e.disconnect(),this.__render()});return e.observe(this,{childList:!0}),!1}this.__template=t}return!0}__ensureInstance(){let e=U(this).parentNode;if(this.__hasInstance()){let t=this.__getInstanceNodes();if(t&&t.length){if(U(this).previousSibling!==t[t.length-1])for(let n,r=0;r<t.length&&(n=t[r]);r++)U(e).insertBefore(n,this)}}else{if(!e)return!1;if(!this.__ensureTemplate())return!1;this.__createAndInsertInstance(e)}return!0}render(){gr()}__render(){if(this.if){if(!this.__ensureInstance())return}else this.restamp&&this.__teardownInstance();this._showHideChildren(),x&&!this.notifyDomChange||this.if==this._lastIf||(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}__hasInstance(){}__getInstanceNodes(){}__createAndInsertInstance(e){}__teardownInstance(){}_showHideChildren(){}}const li=w?class extends si{constructor(){super(),this.__instance=null,this.__syncInfo=null}__hasInstance(){return Boolean(this.__instance)}__getInstanceNodes(){return this.__instance.templateInfo.childNodes}__createAndInsertInstance(e){const t=this.__dataHost||this;if(h&&!this.__dataHost)throw new Error("strictTemplatePolicy: template owner not trusted");const n=t._bindTemplate(this.__template,!0);n.runEffects=(e,t,n)=>{let r=this.__syncInfo;if(this.if)r&&(this.__syncInfo=null,this._showHideChildren(),t=Object.assign(r.changedProps,t)),e(t,n);else if(this.__instance)if(r||(r=this.__syncInfo={runEffects:e,changedProps:{}}),n)for(const e in t){const t=G(e);r.changedProps[t]=this.__dataHost[t]}else Object.assign(r.changedProps,t)},this.__instance=t._stampTemplate(this.__template,n),U(e).insertBefore(this.__instance,this)}__syncHostProperties(){const e=this.__syncInfo;e&&(this.__syncInfo=null,e.runEffects(e.changedProps,!1))}__teardownInstance(){const e=this.__dataHost||this;this.__instance&&(e._removeBoundDom(this.__instance),this.__instance=null,this.__syncInfo=null)}_showHideChildren(){const e=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==e&&(this.__instance.__hidden=e,$r(e,this.__instance.templateInfo.childNodes)),e||this.__syncHostProperties()}}:class extends si{constructor(){super(),this.__ctor=null,this.__instance=null,this.__invalidProps=null}__hasInstance(){return Boolean(this.__instance)}__getInstanceNodes(){return this.__instance.children}__createAndInsertInstance(e){this.__ctor||(this.__ctor=ti(this.__template,this,{mutableData:!0,forwardHostProp:function(e,t){this.__instance&&(this.if?this.__instance.forwardHostProp(e,t):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[G(e)]=!0))}})),this.__instance=new this.__ctor,U(e).insertBefore(this.__instance.root,this)}__teardownInstance(){if(this.__instance){let e=this.__instance.children;if(e&&e.length){let t=U(e[0]).parentNode;if(t){t=U(t);for(let n,r=0;r<e.length&&(n=e[r]);r++)t.removeChild(n)}}this.__invalidProps=null,this.__instance=null}}__syncHostProperties(){let e=this.__invalidProps;if(e){this.__invalidProps=null;for(let t in e)this.__instance._setPendingProperty(t,this.__dataHost[t]);this.__instance._flushProperties()}}_showHideChildren(){const e=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==e&&(this.__instance.__hidden=e,this.__instance._showHideChildren(e)),e||this.__syncHostProperties()}};customElements.define(li.is,li);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ui=C(e=>{let t=it(e);return class extends t{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(e,t){let n=t.path;if(n==JSCompiler_renameProperty("items",this)){let n=t.base||[],r=this.__lastItems;if(e!==this.__lastMulti&&this.clearSelection(),r){let e=hr(n,r);this.__applySplices(e)}this.__lastItems=n,this.__lastMulti=e}else if(t.path==JSCompiler_renameProperty("items",this)+".splices")this.__applySplices(t.value.indexSplices);else{let e=n.slice((JSCompiler_renameProperty("items",this)+".").length),t=parseInt(e,10);e.indexOf(".")<0&&e==t&&this.__deselectChangedIdx(t)}}__applySplices(e){let t=this.__selectedMap;for(let n=0;n<e.length;n++){let r=e[n];t.forEach((e,n)=>{e<r.index||(e>=r.index+r.removed.length?t.set(n,e+r.addedCount-r.removed.length):t.set(n,-1))});for(let e=0;e<r.addedCount;e++){let n=r.index+e;t.has(this.items[n])&&t.set(this.items[n],n)}}this.__updateLinks();let n=0;t.forEach((e,r)=>{e<0?(this.multi?this.splice(JSCompiler_renameProperty("selected",this),n,1):this.selected=this.selectedItem=null,t.delete(r)):n++})}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let e=0;this.__selectedMap.forEach(t=>{t>=0&&this.linkPaths(`${JSCompiler_renameProperty("items",this)}.${t}`,`${JSCompiler_renameProperty("selected",this)}.${e++}`)})}else this.__selectedMap.forEach(e=>{this.linkPaths(JSCompiler_renameProperty("selected",this),`${JSCompiler_renameProperty("items",this)}.${e}`),this.linkPaths(JSCompiler_renameProperty("selectedItem",this),`${JSCompiler_renameProperty("items",this)}.${e}`)})}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(e){return this.__selectedMap.has(e)}isIndexSelected(e){return this.isSelected(this.items[e])}__deselectChangedIdx(e){let t=this.__selectedIndexForItemIndex(e);if(t>=0){let e=0;this.__selectedMap.forEach((n,r)=>{t==e++&&this.deselect(r)})}}__selectedIndexForItemIndex(e){let t=this.__dataLinkedPaths[`${JSCompiler_renameProperty("items",this)}.${e}`];if(t)return parseInt(t.slice((JSCompiler_renameProperty("selected",this)+".").length),10)}deselect(e){let t=this.__selectedMap.get(e);if(t>=0){let n;this.__selectedMap.delete(e),this.multi&&(n=this.__selectedIndexForItemIndex(t)),this.__updateLinks(),this.multi?this.splice(JSCompiler_renameProperty("selected",this),n,1):this.selected=this.selectedItem=null}}deselectIndex(e){this.deselect(this.items[e])}select(e){this.selectIndex(this.items.indexOf(e))}selectIndex(e){let t=this.items[e];this.isSelected(t)?this.toggle&&this.deselectIndex(e):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(t,e),this.__updateLinks(),this.multi?this.push(JSCompiler_renameProperty("selected",this),t):this.selected=this.selectedItem=t)}}})(lt);class ci extends ui{static get is(){return"array-selector"}static get template(){return null}}customElements.define(ci.is,ci);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const pi=new rn;window.ShadyCSS||(window.ShadyCSS={prepareTemplate(e,t,n){},prepareTemplateDom(e,t){},prepareTemplateStyles(e,t,n){},styleSubtree(e,t){pi.processStyles(),Mt(e,t)},styleElement(e){pi.processStyles()},styleDocument(e){pi.processStyles(),Mt(document.body,e)},getComputedStyleValue:(e,t)=>Ft(e,t),flushCustomStyles(){},nativeCss:ft,nativeShadow:ut,cssBuild:pt,disableRuntime:dt}),window.ShadyCSS.CustomStyleInterface=pi;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const hi=window.ShadyCSS.CustomStyleInterface;class di extends HTMLElement{constructor(){super(),this._style=null,hi.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const e=this.querySelector("style");if(!e)return null;this._style=e;const t=e.getAttribute("include");return t&&(e.removeAttribute("include"),e.textContent=function(e){let t=e.trim().split(/\s+/),n="";for(let e=0;e<t.length;e++)n+=F(t[e]);return n}(t)+e.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}window.customElements.define("custom-style",di);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const fi=Ir(HTMLElement).prototype,mi=Ur({_template:st`<style>:host{display:inline-block;position:fixed;clip:rect(0,0,0,0)}</style><div aria-live$="[[mode]]">[[_text]]</div>`,is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},timeout:{type:Number,value:150},_text:{type:String,value:""}},created:function(){mi.instance||(mi.instance=this),document.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(e){this._text="",this.async((function(){this._text=e}),this.timeout)},_onIronAnnounce:function(e){e.detail&&e.detail.text&&this.announce(e.detail.text)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/mi.instance=null,mi.requestAvailability=function(){mi.instance||(mi.instance=document.createElement("iron-a11y-announcer")),document.body?document.body.appendChild(mi.instance):document.addEventListener("load",(function(){document.body.appendChild(mi.instance)}))};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
class gi{constructor(e){gi[" "](e),this.type=e&&e.type||"default",this.key=e&&e.key,e&&"value"in e&&(this.value=e.value)}get value(){var e=this.type,t=this.key;if(e&&t)return gi.types[e]&&gi.types[e][t]}set value(e){var t=this.type,n=this.key;t&&n&&(t=gi.types[t]=gi.types[t]||{},null==e?delete t[n]:t[n]=e)}get list(){if(this.type){var e=gi.types[this.type];return e?Object.keys(e).map((function(e){return yi[this.type][e]}),this):[]}}byKey(e){return this.key=e,this.value}}gi[" "]=function(){},gi.types={};var yi=gi.types;Ur({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(e,t,n){var r=new gi({type:e,key:t});return void 0!==n&&n!==r.value?r.value=n:this.value!==r.value&&(this.value=r.value),r},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(e){e&&(this.value=this)},byKey:function(e){return new gi({type:this.type,key:e}).value}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
let vi=null;const bi={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:"_invalidChanged"}},registered:function(){vi=new gi({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},get _validator(){return vi&&vi.byKey(this.validator)},hasValidator:function(){return null!=this._validator},validate:function(e){return void 0===e&&void 0!==this.value?this.invalid=!this._getValidity(this.value):this.invalid=!this._getValidity(e),!this.invalid},_getValidity:function(e){return!this.hasValidator()||this._validator.validate(e)}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
if(Ur({_template:st`<style>:host{display:inline-block}</style><slot id="content"></slot>`,is:"iron-input",behaviors:[bi],properties:{bindValue:{type:String,value:""},value:{type:String,computed:"_computeValue(bindValue)"},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChanged(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},created:function(){mi.requestAvailability(),this._previousValidInput="",this._patternAlreadyChecked=!1},attached:function(){this._observer=Er(this).observeNodes(function(e){this._initSlottedInput()}.bind(this))},detached:function(){this._observer&&(Er(this).unobserveNodes(this._observer),this._observer=null)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0],this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value),this.fire("iron-input-ready")},get _patternRegExp(){var e;if(this.allowedPattern)e=new RegExp(this.allowedPattern);else switch(this.inputElement.type){case"number":e=/[0-9.,e-]/}return e},_bindValueChanged:function(e,t){t&&(void 0===e?t.value=null:e!==t.value&&(this.inputElement.value=e),this.autoValidate&&this.validate(),this.fire("bind-value-changed",{value:e}))},_onInput:function(){this.allowedPattern&&!this._patternAlreadyChecked&&(this._checkPatternValidity()||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.inputElement.value=this._previousValidInput));this.bindValue=this._previousValidInput=this.inputElement.value,this._patternAlreadyChecked=!1},_isPrintable:function(e){var t=8==e.keyCode||9==e.keyCode||13==e.keyCode||27==e.keyCode,n=19==e.keyCode||20==e.keyCode||45==e.keyCode||46==e.keyCode||144==e.keyCode||145==e.keyCode||e.keyCode>32&&e.keyCode<41||e.keyCode>111&&e.keyCode<124;return!(t||0==e.charCode&&n)},_onKeypress:function(e){if(this.allowedPattern||"number"===this.inputElement.type){var t=this._patternRegExp;if(t&&!(e.metaKey||e.ctrlKey||e.altKey)){this._patternAlreadyChecked=!0;var n=String.fromCharCode(e.charCode);this._isPrintable(e)&&!t.test(n)&&(e.preventDefault(),this._announceInvalidCharacter("Invalid character "+n+" not entered."))}}},_checkPatternValidity:function(){var e=this._patternRegExp;if(!e)return!0;for(var t=0;t<this.inputElement.value.length;t++)if(!e.test(this.inputElement.value[t]))return!1;return!0},validate:function(){if(!this.inputElement)return this.invalid=!1,!0;var e=this.inputElement.checkValidity();return e&&(this.required&&""===this.bindValue?e=!1:this.hasValidator()&&(e=bi.validate.call(this,this.bindValue))),this.invalid=!e,this.fire("iron-input-validate"),e},_announceInvalidCharacter:function(e){this.fire("iron-announce",{text:e})},_computeValue:function(e){return e}}),!window.polymerSkipLoadingFontRoboto){const e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.crossOrigin="anonymous",e.href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,300,300italic,400italic,500,500italic,700,700italic",document.head.appendChild(e)}
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const wi=st`<custom-style><style is="custom-style">html{--paper-font-common-base:{font-family:Roboto,Noto,sans-serif;-webkit-font-smoothing:antialiased};--paper-font-common-code:{font-family:'Roboto Mono',Consolas,Menlo,monospace;-webkit-font-smoothing:antialiased};--paper-font-common-expensive-kerning:{text-rendering:optimizeLegibility};--paper-font-common-nowrap:{white-space:nowrap;overflow:hidden;text-overflow:ellipsis};--paper-font-display4:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:112px;font-weight:300;letter-spacing:-.044em;line-height:120px};--paper-font-display3:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:56px;font-weight:400;letter-spacing:-.026em;line-height:60px};--paper-font-display2:{@apply --paper-font-common-base;font-size:45px;font-weight:400;letter-spacing:-.018em;line-height:48px};--paper-font-display1:{@apply --paper-font-common-base;font-size:34px;font-weight:400;letter-spacing:-.01em;line-height:40px};--paper-font-headline:{@apply --paper-font-common-base;font-size:24px;font-weight:400;letter-spacing:-.012em;line-height:32px};--paper-font-title:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:20px;font-weight:500;line-height:28px};--paper-font-subhead:{@apply --paper-font-common-base;font-size:16px;font-weight:400;line-height:24px};--paper-font-body2:{@apply --paper-font-common-base;font-size:14px;font-weight:500;line-height:24px};--paper-font-body1:{@apply --paper-font-common-base;font-size:14px;font-weight:400;line-height:20px};--paper-font-caption:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:12px;font-weight:400;letter-spacing:.011em;line-height:20px};--paper-font-menu:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:13px;font-weight:500;line-height:24px};--paper-font-button:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:14px;font-weight:500;letter-spacing:.018em;line-height:24px;text-transform:uppercase};--paper-font-code2:{@apply --paper-font-common-code;font-size:14px;font-weight:700;line-height:20px};--paper-font-code1:{@apply --paper-font-common-code;font-size:14px;font-weight:500;line-height:20px};}</style></custom-style>`;wi.setAttribute("style","display: none;"),document.head.appendChild(wi.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const xi={attached:function(){this.fire("addon-attached")},update:function(e){}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/Ur({_template:st`<style>:host{display:inline-block;float:right;@apply --paper-font-caption;@apply --paper-input-char-counter;}:host([hidden]){display:none!important}:host(:dir(rtl)){float:left}</style><span>[[_charCounterStr]]</span>`,is:"paper-input-char-counter",behaviors:[xi],properties:{_charCounterStr:{type:String,value:"0"}},update:function(e){if(e.inputElement){e.value=e.value||"";var t=e.value.toString().length.toString();e.inputElement.hasAttribute("maxlength")&&(t+="/"+e.inputElement.getAttribute("maxlength")),this._charCounterStr=t}}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Ai=st`<custom-style><style is="custom-style">[hidden]{display:none!important}</style></custom-style><custom-style><style is="custom-style">html{--layout:{display:-ms-flexbox;display:-webkit-flex;display:flex};--layout-inline:{display:-ms-inline-flexbox;display:-webkit-inline-flex;display:inline-flex};--layout-horizontal:{@apply --layout;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row};--layout-horizontal-reverse:{@apply --layout;-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse};--layout-vertical:{@apply --layout;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column};--layout-vertical-reverse:{@apply --layout;-ms-flex-direction:column-reverse;-webkit-flex-direction:column-reverse;flex-direction:column-reverse};--layout-wrap:{-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap};--layout-wrap-reverse:{-ms-flex-wrap:wrap-reverse;-webkit-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse};--layout-flex-auto:{-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto};--layout-flex-none:{-ms-flex:none;-webkit-flex:none;flex:none};--layout-flex:{-ms-flex:1 1 .000000001px;-webkit-flex:1;flex:1;-webkit-flex-basis:.000000001px;flex-basis:.000000001px};--layout-flex-2:{-ms-flex:2;-webkit-flex:2;flex:2};--layout-flex-3:{-ms-flex:3;-webkit-flex:3;flex:3};--layout-flex-4:{-ms-flex:4;-webkit-flex:4;flex:4};--layout-flex-5:{-ms-flex:5;-webkit-flex:5;flex:5};--layout-flex-6:{-ms-flex:6;-webkit-flex:6;flex:6};--layout-flex-7:{-ms-flex:7;-webkit-flex:7;flex:7};--layout-flex-8:{-ms-flex:8;-webkit-flex:8;flex:8};--layout-flex-9:{-ms-flex:9;-webkit-flex:9;flex:9};--layout-flex-10:{-ms-flex:10;-webkit-flex:10;flex:10};--layout-flex-11:{-ms-flex:11;-webkit-flex:11;flex:11};--layout-flex-12:{-ms-flex:12;-webkit-flex:12;flex:12};--layout-start:{-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start};--layout-center:{-ms-flex-align:center;-webkit-align-items:center;align-items:center};--layout-end:{-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end};--layout-baseline:{-ms-flex-align:baseline;-webkit-align-items:baseline;align-items:baseline};--layout-start-justified:{-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start};--layout-center-justified:{-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center};--layout-end-justified:{-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end};--layout-around-justified:{-ms-flex-pack:distribute;-webkit-justify-content:space-around;justify-content:space-around};--layout-justified:{-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between};--layout-center-center:{@apply --layout-center;@apply --layout-center-justified;};--layout-self-start:{-ms-align-self:flex-start;-webkit-align-self:flex-start;align-self:flex-start};--layout-self-center:{-ms-align-self:center;-webkit-align-self:center;align-self:center};--layout-self-end:{-ms-align-self:flex-end;-webkit-align-self:flex-end;align-self:flex-end};--layout-self-stretch:{-ms-align-self:stretch;-webkit-align-self:stretch;align-self:stretch};--layout-self-baseline:{-ms-align-self:baseline;-webkit-align-self:baseline;align-self:baseline};--layout-start-aligned:{-ms-flex-line-pack:start;-ms-align-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start};--layout-end-aligned:{-ms-flex-line-pack:end;-ms-align-content:flex-end;-webkit-align-content:flex-end;align-content:flex-end};--layout-center-aligned:{-ms-flex-line-pack:center;-ms-align-content:center;-webkit-align-content:center;align-content:center};--layout-between-aligned:{-ms-flex-line-pack:justify;-ms-align-content:space-between;-webkit-align-content:space-between;align-content:space-between};--layout-around-aligned:{-ms-flex-line-pack:distribute;-ms-align-content:space-around;-webkit-align-content:space-around;align-content:space-around};--layout-block:{display:block};--layout-invisible:{visibility:hidden!important};--layout-relative:{position:relative};--layout-fit:{position:absolute;top:0;right:0;bottom:0;left:0};--layout-scroll:{-webkit-overflow-scrolling:touch;overflow:auto};--layout-fullbleed:{margin:0;height:100vh};--layout-fixed-top:{position:fixed;top:0;left:0;right:0};--layout-fixed-right:{position:fixed;top:0;right:0;bottom:0};--layout-fixed-bottom:{position:fixed;right:0;bottom:0;left:0};--layout-fixed-left:{position:fixed;top:0;bottom:0;left:0};}</style></custom-style>`;Ai.setAttribute("style","display: none;"),document.head.appendChild(Ai.content);var _i=document.createElement("style");_i.textContent="[hidden] { display: none !important; }",document.head.appendChild(_i);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Ei=st`<custom-style><style is="custom-style">html{--google-red-100:#f4c7c3;--google-red-300:#e67c73;--google-red-500:#db4437;--google-red-700:#c53929;--google-blue-100:#c6dafc;--google-blue-300:#7baaf7;--google-blue-500:#4285f4;--google-blue-700:#3367d6;--google-green-100:#b7e1cd;--google-green-300:#57bb8a;--google-green-500:#0f9d58;--google-green-700:#0b8043;--google-yellow-100:#fce8b2;--google-yellow-300:#f7cb4d;--google-yellow-500:#f4b400;--google-yellow-700:#f09300;--google-grey-100:#f5f5f5;--google-grey-300:#e0e0e0;--google-grey-500:#9e9e9e;--google-grey-700:#616161;--paper-red-50:#ffebee;--paper-red-100:#ffcdd2;--paper-red-200:#ef9a9a;--paper-red-300:#e57373;--paper-red-400:#ef5350;--paper-red-500:#f44336;--paper-red-600:#e53935;--paper-red-700:#d32f2f;--paper-red-800:#c62828;--paper-red-900:#b71c1c;--paper-red-a100:#ff8a80;--paper-red-a200:#ff5252;--paper-red-a400:#ff1744;--paper-red-a700:#d50000;--paper-pink-50:#fce4ec;--paper-pink-100:#f8bbd0;--paper-pink-200:#f48fb1;--paper-pink-300:#f06292;--paper-pink-400:#ec407a;--paper-pink-500:#e91e63;--paper-pink-600:#d81b60;--paper-pink-700:#c2185b;--paper-pink-800:#ad1457;--paper-pink-900:#880e4f;--paper-pink-a100:#ff80ab;--paper-pink-a200:#ff4081;--paper-pink-a400:#f50057;--paper-pink-a700:#c51162;--paper-purple-50:#f3e5f5;--paper-purple-100:#e1bee7;--paper-purple-200:#ce93d8;--paper-purple-300:#ba68c8;--paper-purple-400:#ab47bc;--paper-purple-500:#9c27b0;--paper-purple-600:#8e24aa;--paper-purple-700:#7b1fa2;--paper-purple-800:#6a1b9a;--paper-purple-900:#4a148c;--paper-purple-a100:#ea80fc;--paper-purple-a200:#e040fb;--paper-purple-a400:#d500f9;--paper-purple-a700:#aa00ff;--paper-deep-purple-50:#ede7f6;--paper-deep-purple-100:#d1c4e9;--paper-deep-purple-200:#b39ddb;--paper-deep-purple-300:#9575cd;--paper-deep-purple-400:#7e57c2;--paper-deep-purple-500:#673ab7;--paper-deep-purple-600:#5e35b1;--paper-deep-purple-700:#512da8;--paper-deep-purple-800:#4527a0;--paper-deep-purple-900:#311b92;--paper-deep-purple-a100:#b388ff;--paper-deep-purple-a200:#7c4dff;--paper-deep-purple-a400:#651fff;--paper-deep-purple-a700:#6200ea;--paper-indigo-50:#e8eaf6;--paper-indigo-100:#c5cae9;--paper-indigo-200:#9fa8da;--paper-indigo-300:#7986cb;--paper-indigo-400:#5c6bc0;--paper-indigo-500:#3f51b5;--paper-indigo-600:#3949ab;--paper-indigo-700:#303f9f;--paper-indigo-800:#283593;--paper-indigo-900:#1a237e;--paper-indigo-a100:#8c9eff;--paper-indigo-a200:#536dfe;--paper-indigo-a400:#3d5afe;--paper-indigo-a700:#304ffe;--paper-blue-50:#e3f2fd;--paper-blue-100:#bbdefb;--paper-blue-200:#90caf9;--paper-blue-300:#64b5f6;--paper-blue-400:#42a5f5;--paper-blue-500:#2196f3;--paper-blue-600:#1e88e5;--paper-blue-700:#1976d2;--paper-blue-800:#1565c0;--paper-blue-900:#0d47a1;--paper-blue-a100:#82b1ff;--paper-blue-a200:#448aff;--paper-blue-a400:#2979ff;--paper-blue-a700:#2962ff;--paper-light-blue-50:#e1f5fe;--paper-light-blue-100:#b3e5fc;--paper-light-blue-200:#81d4fa;--paper-light-blue-300:#4fc3f7;--paper-light-blue-400:#29b6f6;--paper-light-blue-500:#03a9f4;--paper-light-blue-600:#039be5;--paper-light-blue-700:#0288d1;--paper-light-blue-800:#0277bd;--paper-light-blue-900:#01579b;--paper-light-blue-a100:#80d8ff;--paper-light-blue-a200:#40c4ff;--paper-light-blue-a400:#00b0ff;--paper-light-blue-a700:#0091ea;--paper-cyan-50:#e0f7fa;--paper-cyan-100:#b2ebf2;--paper-cyan-200:#80deea;--paper-cyan-300:#4dd0e1;--paper-cyan-400:#26c6da;--paper-cyan-500:#00bcd4;--paper-cyan-600:#00acc1;--paper-cyan-700:#0097a7;--paper-cyan-800:#00838f;--paper-cyan-900:#006064;--paper-cyan-a100:#84ffff;--paper-cyan-a200:#18ffff;--paper-cyan-a400:#00e5ff;--paper-cyan-a700:#00b8d4;--paper-teal-50:#e0f2f1;--paper-teal-100:#b2dfdb;--paper-teal-200:#80cbc4;--paper-teal-300:#4db6ac;--paper-teal-400:#26a69a;--paper-teal-500:#009688;--paper-teal-600:#00897b;--paper-teal-700:#00796b;--paper-teal-800:#00695c;--paper-teal-900:#004d40;--paper-teal-a100:#a7ffeb;--paper-teal-a200:#64ffda;--paper-teal-a400:#1de9b6;--paper-teal-a700:#00bfa5;--paper-green-50:#e8f5e9;--paper-green-100:#c8e6c9;--paper-green-200:#a5d6a7;--paper-green-300:#81c784;--paper-green-400:#66bb6a;--paper-green-500:#4caf50;--paper-green-600:#43a047;--paper-green-700:#388e3c;--paper-green-800:#2e7d32;--paper-green-900:#1b5e20;--paper-green-a100:#b9f6ca;--paper-green-a200:#69f0ae;--paper-green-a400:#00e676;--paper-green-a700:#00c853;--paper-light-green-50:#f1f8e9;--paper-light-green-100:#dcedc8;--paper-light-green-200:#c5e1a5;--paper-light-green-300:#aed581;--paper-light-green-400:#9ccc65;--paper-light-green-500:#8bc34a;--paper-light-green-600:#7cb342;--paper-light-green-700:#689f38;--paper-light-green-800:#558b2f;--paper-light-green-900:#33691e;--paper-light-green-a100:#ccff90;--paper-light-green-a200:#b2ff59;--paper-light-green-a400:#76ff03;--paper-light-green-a700:#64dd17;--paper-lime-50:#f9fbe7;--paper-lime-100:#f0f4c3;--paper-lime-200:#e6ee9c;--paper-lime-300:#dce775;--paper-lime-400:#d4e157;--paper-lime-500:#cddc39;--paper-lime-600:#c0ca33;--paper-lime-700:#afb42b;--paper-lime-800:#9e9d24;--paper-lime-900:#827717;--paper-lime-a100:#f4ff81;--paper-lime-a200:#eeff41;--paper-lime-a400:#c6ff00;--paper-lime-a700:#aeea00;--paper-yellow-50:#fffde7;--paper-yellow-100:#fff9c4;--paper-yellow-200:#fff59d;--paper-yellow-300:#fff176;--paper-yellow-400:#ffee58;--paper-yellow-500:#ffeb3b;--paper-yellow-600:#fdd835;--paper-yellow-700:#fbc02d;--paper-yellow-800:#f9a825;--paper-yellow-900:#f57f17;--paper-yellow-a100:#ffff8d;--paper-yellow-a200:#ffff00;--paper-yellow-a400:#ffea00;--paper-yellow-a700:#ffd600;--paper-amber-50:#fff8e1;--paper-amber-100:#ffecb3;--paper-amber-200:#ffe082;--paper-amber-300:#ffd54f;--paper-amber-400:#ffca28;--paper-amber-500:#ffc107;--paper-amber-600:#ffb300;--paper-amber-700:#ffa000;--paper-amber-800:#ff8f00;--paper-amber-900:#ff6f00;--paper-amber-a100:#ffe57f;--paper-amber-a200:#ffd740;--paper-amber-a400:#ffc400;--paper-amber-a700:#ffab00;--paper-orange-50:#fff3e0;--paper-orange-100:#ffe0b2;--paper-orange-200:#ffcc80;--paper-orange-300:#ffb74d;--paper-orange-400:#ffa726;--paper-orange-500:#ff9800;--paper-orange-600:#fb8c00;--paper-orange-700:#f57c00;--paper-orange-800:#ef6c00;--paper-orange-900:#e65100;--paper-orange-a100:#ffd180;--paper-orange-a200:#ffab40;--paper-orange-a400:#ff9100;--paper-orange-a700:#ff6500;--paper-deep-orange-50:#fbe9e7;--paper-deep-orange-100:#ffccbc;--paper-deep-orange-200:#ffab91;--paper-deep-orange-300:#ff8a65;--paper-deep-orange-400:#ff7043;--paper-deep-orange-500:#ff5722;--paper-deep-orange-600:#f4511e;--paper-deep-orange-700:#e64a19;--paper-deep-orange-800:#d84315;--paper-deep-orange-900:#bf360c;--paper-deep-orange-a100:#ff9e80;--paper-deep-orange-a200:#ff6e40;--paper-deep-orange-a400:#ff3d00;--paper-deep-orange-a700:#dd2c00;--paper-brown-50:#efebe9;--paper-brown-100:#d7ccc8;--paper-brown-200:#bcaaa4;--paper-brown-300:#a1887f;--paper-brown-400:#8d6e63;--paper-brown-500:#795548;--paper-brown-600:#6d4c41;--paper-brown-700:#5d4037;--paper-brown-800:#4e342e;--paper-brown-900:#3e2723;--paper-grey-50:#fafafa;--paper-grey-100:#f5f5f5;--paper-grey-200:#eeeeee;--paper-grey-300:#e0e0e0;--paper-grey-400:#bdbdbd;--paper-grey-500:#9e9e9e;--paper-grey-600:#757575;--paper-grey-700:#616161;--paper-grey-800:#424242;--paper-grey-900:#212121;--paper-blue-grey-50:#eceff1;--paper-blue-grey-100:#cfd8dc;--paper-blue-grey-200:#b0bec5;--paper-blue-grey-300:#90a4ae;--paper-blue-grey-400:#78909c;--paper-blue-grey-500:#607d8b;--paper-blue-grey-600:#546e7a;--paper-blue-grey-700:#455a64;--paper-blue-grey-800:#37474f;--paper-blue-grey-900:#263238;--dark-divider-opacity:0.12;--dark-disabled-opacity:0.38;--dark-secondary-opacity:0.54;--dark-primary-opacity:0.87;--light-divider-opacity:0.12;--light-disabled-opacity:0.3;--light-secondary-opacity:0.7;--light-primary-opacity:1.0}</style></custom-style>`;Ei.setAttribute("style","display: none;"),document.head.appendChild(Ei.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Ci=st`<custom-style><style is="custom-style">html{--primary-text-color:var(--light-theme-text-color);--primary-background-color:var(--light-theme-background-color);--secondary-text-color:var(--light-theme-secondary-color);--disabled-text-color:var(--light-theme-disabled-color);--divider-color:var(--light-theme-divider-color);--error-color:var(--paper-deep-orange-a700);--primary-color:var(--paper-indigo-500);--light-primary-color:var(--paper-indigo-100);--dark-primary-color:var(--paper-indigo-700);--accent-color:var(--paper-pink-a200);--light-accent-color:var(--paper-pink-a100);--dark-accent-color:var(--paper-pink-a400);--light-theme-background-color:#ffffff;--light-theme-base-color:#000000;--light-theme-text-color:var(--paper-grey-900);--light-theme-secondary-color:#737373;--light-theme-disabled-color:#9b9b9b;--light-theme-divider-color:#dbdbdb;--dark-theme-background-color:var(--paper-grey-900);--dark-theme-base-color:#ffffff;--dark-theme-text-color:#ffffff;--dark-theme-secondary-color:#bcbcbc;--dark-theme-disabled-color:#646464;--dark-theme-divider-color:#3c3c3c;--text-primary-color:var(--dark-theme-text-color);--default-primary-color:var(--primary-color)}</style></custom-style>`;Ci.setAttribute("style","display: none;"),document.head.appendChild(Ci.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Ni=st`<custom-style><style is="custom-style">html{--paper-input-container-shared-input-style:{position:relative;outline:0;box-shadow:none;padding:0;margin:0;width:100%;max-width:100%;background:0 0;border:none;color:var(--paper-input-container-input-color,var(--primary-text-color));-webkit-appearance:none;text-align:inherit;vertical-align:var(--paper-input-container-input-align,bottom);@apply --paper-font-subhead;};}</style></custom-style>`;Ni.setAttribute("style","display: none;"),document.head.appendChild(Ni.content),Ur({_template:st`<style>:host{display:block;padding:8px 0;@apply --paper-input-container;}:host([inline]){display:inline-block}:host([disabled]){pointer-events:none;opacity:.33;@apply --paper-input-container-disabled;}:host([hidden]){display:none!important}[hidden]{display:none!important}.floated-label-placeholder{@apply --paper-font-caption;}.underline{height:2px;position:relative}.focused-line{@apply --layout-fit;border-bottom:2px solid var(--paper-input-container-focus-color,var(--primary-color));-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:scale3d(0,1,1);transform:scale3d(0,1,1);@apply --paper-input-container-underline-focus;}.underline.is-highlighted .focused-line{-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform .25s;transition:transform .25s;@apply --paper-transition-easing;}.underline.is-invalid .focused-line{border-color:var(--paper-input-container-invalid-color,var(--error-color));-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform .25s;transition:transform .25s;@apply --paper-transition-easing;}.unfocused-line{@apply --layout-fit;border-bottom:1px solid var(--paper-input-container-color,var(--secondary-text-color));@apply --paper-input-container-underline;}:host([disabled]) .unfocused-line{border-bottom:1px dashed;border-color:var(--paper-input-container-color,var(--secondary-text-color));@apply --paper-input-container-underline-disabled;}.input-wrapper{@apply --layout-horizontal;@apply --layout-center;position:relative}.input-content{@apply --layout-flex-auto;@apply --layout-relative;max-width:100%}.input-content ::slotted(.paper-input-label),.input-content ::slotted(label){position:absolute;top:0;left:0;width:100%;font:inherit;color:var(--paper-input-container-color,var(--secondary-text-color));-webkit-transition:-webkit-transform .25s,width .25s;transition:transform .25s,width .25s;-webkit-transform-origin:left top;transform-origin:left top;min-height:1px;@apply --paper-font-common-nowrap;@apply --paper-font-subhead;@apply --paper-input-container-label;@apply --paper-transition-easing;}.input-content ::slotted(.paper-input-label):before,.input-content ::slotted(label):before{@apply --paper-input-container-label-before;}.input-content ::slotted(.paper-input-label):after,.input-content ::slotted(label):after{@apply --paper-input-container-label-after;}.input-content.label-is-floating ::slotted(.paper-input-label),.input-content.label-is-floating ::slotted(label){-webkit-transform:translateY(-75%) scale(.75);transform:translateY(-75%) scale(.75);width:133%;@apply --paper-input-container-label-floating;}:host(:dir(rtl)) .input-content.label-is-floating ::slotted(.paper-input-label),:host(:dir(rtl)) .input-content.label-is-floating ::slotted(label){right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top}.input-content.label-is-highlighted ::slotted(.paper-input-label),.input-content.label-is-highlighted ::slotted(label){color:var(--paper-input-container-focus-color,var(--primary-color));@apply --paper-input-container-label-focus;}.input-content.is-invalid ::slotted(.paper-input-label),.input-content.is-invalid ::slotted(label){color:var(--paper-input-container-invalid-color,var(--error-color))}.input-content.label-is-hidden ::slotted(.paper-input-label),.input-content.label-is-hidden ::slotted(label){visibility:hidden}.input-content ::slotted(.paper-input-input),.input-content ::slotted(input),.input-content ::slotted(iron-autogrow-textarea),.input-content ::slotted(iron-input),.input-content ::slotted(textarea){@apply --paper-input-container-shared-input-style;color:var(--paper-input-container-input-color,var(--primary-text-color));@apply --paper-input-container-input;}.input-content ::slotted(input)::-webkit-inner-spin-button,.input-content ::slotted(input)::-webkit-outer-spin-button{@apply --paper-input-container-input-webkit-spinner;}.input-content.focused ::slotted(.paper-input-input),.input-content.focused ::slotted(input),.input-content.focused ::slotted(iron-autogrow-textarea),.input-content.focused ::slotted(iron-input),.input-content.focused ::slotted(textarea){@apply --paper-input-container-input-focus;}.input-content.is-invalid ::slotted(.paper-input-input),.input-content.is-invalid ::slotted(input),.input-content.is-invalid ::slotted(iron-autogrow-textarea),.input-content.is-invalid ::slotted(iron-input),.input-content.is-invalid ::slotted(textarea){@apply --paper-input-container-input-invalid;}.prefix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-prefix;}.suffix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-suffix;}.input-content ::slotted(input){min-width:0}.input-content ::slotted(textarea){resize:none}.add-on-content{position:relative}.add-on-content.is-invalid ::slotted(*){color:var(--paper-input-container-invalid-color,var(--error-color))}.add-on-content.is-highlighted ::slotted(*){color:var(--paper-input-container-focus-color,var(--primary-color))}</style><div class="floated-label-placeholder" aria-hidden="true" hidden="[[noLabelFloat]]"> </div><div class="input-wrapper"><span class="prefix"><slot name="prefix"></slot></span><div class$="[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]" id="labelAndInputContainer"><slot name="label"></slot><slot name="input"></slot></div><span class="suffix"><slot name="suffix"></slot></span></div><div class$="[[_computeUnderlineClass(focused,invalid)]]"><div class="unfocused-line"></div><div class="focused-line"></div></div><div class$="[[_computeAddOnContentClass(focused,invalid)]]"><slot name="add-on"></slot></div>`,is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,iron-input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Q(this.attrForValue)},get _inputElement(){return Er(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this.__isFirstValueUpdate=!0,this._addons||(this._addons=[]),this.addEventListener("focus",this._boundOnFocus,!0),this.addEventListener("blur",this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput),this._inputElementValue&&""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):this._handleValue(this._inputElement)},_onAddonAttached:function(e){this._addons||(this._addons=[]);var t=e.target;-1===this._addons.indexOf(t)&&(this._addons.push(t),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1),this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(e){this._handleValueAndAutoValidate(e.target)},_onValueChanged:function(e){var t=e.target;this.__isFirstValueUpdate&&(this.__isFirstValueUpdate=!1,void 0===t.value||""===t.value)||this._handleValueAndAutoValidate(e.target)},_handleValue:function(e){var t=this._inputElementValue;t||0===t||"number"===e.type&&!e.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1,this.updateAddons({inputElement:e,value:t,invalid:this.invalid})},_handleValueAndAutoValidate:function(e){var t;this.autoValidate&&e&&(t=e.validate?e.validate(this._inputElementValue):e.checkValidity(),this.invalid=!t);this._handleValue(e)},_onIronInputValidate:function(e){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},updateAddons:function(e){for(var t,n=0;t=this._addons[n];n++)t.update(e)},_computeInputContentClass:function(e,t,n,r,i){var a="input-content";if(e)i&&(a+=" label-is-hidden"),r&&(a+=" is-invalid");else{var o=this.querySelector("label");t||i?(a+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",r?a+=" is-invalid":n&&(a+=" label-is-highlighted")):(o&&(this.$.labelAndInputContainer.style.position="relative"),r&&(a+=" is-invalid"))}return n&&(a+=" focused"),a},_computeUnderlineClass:function(e,t){var n="underline";return t?n+=" is-invalid":e&&(n+=" is-highlighted"),n},_computeAddOnContentClass:function(e,t){var n="add-on-content";return t?n+=" is-invalid":e&&(n+=" is-highlighted"),n}}),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Ur({_template:st`<style>:host{display:inline-block;visibility:hidden;color:var(--paper-input-container-invalid-color,var(--error-color));@apply --paper-font-caption;@apply --paper-input-error;position:absolute;left:0;right:0}:host([invalid]){visibility:visible}#a11yWrapper{visibility:hidden}:host([invalid]) #a11yWrapper{visibility:visible}</style><div id="a11yWrapper"><slot></slot></div>`,is:"paper-input-error",behaviors:[xi],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(e){this._setInvalid(e.invalid)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Ti={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1}},attached:function(){},detached:function(){}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var Bi={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},Si={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},Ii={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},ki=/[a-z0-9*]/,Oi=/U\+/,Pi=/^arrow/,Di=/^space(bar)?/,Ri=/^escape$/;function Mi(e,t){var n="";if(e){var r=e.toLowerCase();" "===r||Di.test(r)?n="space":Ri.test(r)?n="esc":1==r.length?t&&!ki.test(r)||(n=r):n=Pi.test(r)?r.replace("arrow",""):"multiply"==r?"*":r}return n}function Fi(e,t){return e.key?Mi(e.key,t):e.detail&&e.detail.key?Mi(e.detail.key,t):(n=e.keyIdentifier,r="",n&&(n in Bi?r=Bi[n]:Oi.test(n)?(n=parseInt(n.replace("U+","0x"),16),r=String.fromCharCode(n).toLowerCase()):r=n.toLowerCase()),r||function(e){var t="";return Number(e)&&(t=e>=65&&e<=90?String.fromCharCode(32+e):e>=112&&e<=123?"f"+(e-112+1):e>=48&&e<=57?String(e-48):e>=96&&e<=105?String(e-96):Si[e]),t}(e.keyCode)||"");var n,r}function Ui(e,t){return Fi(t,e.hasModifiers)===e.key&&(!e.hasModifiers||!!t.shiftKey==!!e.shiftKey&&!!t.ctrlKey==!!e.ctrlKey&&!!t.altKey==!!e.altKey&&!!t.metaKey==!!e.metaKey)}function Hi(e){return e.trim().split(" ").map((function(e){return function(e){return 1===e.length?{combo:e,key:e,event:"keydown"}:e.split("+").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n[1];return r in Ii?(e[Ii[r]]=!0,e.hasModifiers=!0):(e.key=r,e.event=i||"keydown"),e}),{combo:e.split(":").shift()})}(e)}))}const Gi={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(e,t){this._imperativeKeyBindings[e]=t,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(e,t){for(var n=Hi(t),r=0;r<n.length;++r)if(Ui(n[r],e))return!0;return!1},_collectKeyBindings:function(){var e=this.behaviors.map((function(e){return e.keyBindings}));return-1===e.indexOf(this.keyBindings)&&e.push(this.keyBindings),e},_prepKeyBindings:function(){for(var e in this._keyBindings={},this._collectKeyBindings().forEach((function(e){for(var t in e)this._addKeyBinding(t,e[t])}),this),this._imperativeKeyBindings)this._addKeyBinding(e,this._imperativeKeyBindings[e]);for(var t in this._keyBindings)this._keyBindings[t].sort((function(e,t){var n=e[0].hasModifiers;return n===t[0].hasModifiers?0:n?-1:1}))},_addKeyBinding:function(e,t){Hi(e).forEach((function(e){this._keyBindings[e.event]=this._keyBindings[e.event]||[],this._keyBindings[e.event].push([e,t])}),this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach((function(e){var t=this._keyBindings[e],n=this._onKeyBindingEvent.bind(this,t);this._boundKeyHandlers.push([this.keyEventTarget,e,n]),this.keyEventTarget.addEventListener(e,n)}),this)},_unlistenKeyEventListeners:function(){for(var e,t,n,r;this._boundKeyHandlers.length;)t=(e=this._boundKeyHandlers.pop())[0],n=e[1],r=e[2],t.removeEventListener(n,r)},_onKeyBindingEvent:function(e,t){if(this.stopKeyboardEventPropagation&&t.stopPropagation(),!t.defaultPrevented)for(var n=0;n<e.length;n++){var r=e[n][0],i=e[n][1];if(Ui(r,t)&&(this._triggerKeyHandler(r,i,t),t.defaultPrevented))return}},_triggerKeyHandler:function(e,t,n){var r=Object.create(e);r.keyboardEvent=n;var i=new CustomEvent(e.event,{detail:r,cancelable:!0});this[t].call(this,i),i.defaultPrevented&&n.preventDefault()}},Li={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0),this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(e){this._setFocused("focus"===e.type)},_disabledChanged:function(e,t){this.setAttribute("aria-disabled",e?"true":"false"),this.style.pointerEvents=e?"none":"",e?(this._oldTabIndex=this.getAttribute("tabindex"),this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(null===this._oldTabIndex?this.removeAttribute("tabindex"):this.setAttribute("tabindex",this._oldTabIndex))},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}},ji={NextLabelID:1,NextAddonID:1,NextInputID:1},Xi={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""},_inputId:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){return this.$||(this.$={}),this.$.input||(this._generateInputId(),this.$.input=this.$$("#"+this._inputId)),this.$.input},get _focusableElement(){return this.inputElement},created:function(){this._typesThatHaveText=["date","datetime","datetime-local","month","time","week","file"]},attached:function(){this._updateAriaLabelledBy(),!lt&&this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(e,t){return e=e?e+" "+t:t},_onAddonAttached:function(e){var t=Er(e).rootTarget;if(t.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,t.id);else{var n="paper-input-add-on-"+ji.NextAddonID++;t.id=n,this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,n)}},validate:function(){return this.inputElement.validate()},_focusBlurHandler:function(e){Li._focusBlurHandler.call(this,e),this.focused&&!this._shiftTabPressed&&this._focusableElement&&this._focusableElement.focus()},_onShiftTabDown:function(e){var t=this.getAttribute("tabindex");this._shiftTabPressed=!0,this.setAttribute("tabindex","-1"),this.async((function(){this.setAttribute("tabindex",t),this._shiftTabPressed=!1}),1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(e){try{var t=this.inputElement.selectionStart;this.value=e,this.inputElement.selectionStart=t,this.inputElement.selectionEnd=t}catch(t){this.value=e}},_computeAlwaysFloatLabel:function(e,t){return t||e},_updateAriaLabelledBy:function(){var e,t=Er(this.root).querySelector("label");t?(t.id?e=t.id:(e="paper-input-label-"+ji.NextLabelID++,t.id=e),this._ariaLabelledBy=e):this._ariaLabelledBy=""},_generateInputId:function(){this._inputId&&""!==this._inputId||(this._inputId="input-"+ji.NextInputID++)},_onChange:function(e){this.shadowRoot&&this.fire(e.type,{sourceEvent:e},{node:this,bubbles:e.bubbles,cancelable:e.cancelable})},_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var e=document.activeElement;e instanceof HTMLElement&&e!==document.body&&e!==document.documentElement||this._focusableElement.focus()}}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Ur({is:"paper-input",_template:st`<style>:host{display:block}:host([focused]){outline:0}:host([hidden]){display:none!important}input{min-width:0}iron-input>input{@apply --paper-input-container-shared-input-style;font-family:inherit;font-weight:inherit;font-size:inherit;letter-spacing:inherit;word-spacing:inherit;line-height:inherit;text-shadow:inherit;color:inherit;cursor:inherit}input:disabled{@apply --paper-input-container-input-disabled;}input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{@apply --paper-input-container-input-webkit-spinner;}input::-webkit-clear-button{@apply --paper-input-container-input-webkit-clear;}input::-webkit-calendar-picker-indicator{@apply --paper-input-container-input-webkit-calendar-picker-indicator;}input::-webkit-input-placeholder{color:var(--paper-input-container-color,var(--secondary-text-color))}input:-moz-placeholder{color:var(--paper-input-container-color,var(--secondary-text-color))}input::-moz-placeholder{color:var(--paper-input-container-color,var(--secondary-text-color))}input::-ms-clear{@apply --paper-input-container-ms-clear;}input::-ms-reveal{@apply --paper-input-container-ms-reveal;}input:-ms-input-placeholder{color:var(--paper-input-container-color,var(--secondary-text-color))}label{pointer-events:none}</style><paper-input-container id="container" no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]"><slot name="prefix" slot="prefix"></slot><label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label><iron-input bind-value="{{value}}" slot="input" class="input-element" id$="[[_inputId]]" maxlength$="[[maxlength]]" allowed-pattern="[[allowedPattern]]" invalid="{{invalid}}" validator="[[validator]]"><input aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]" role$="[[inputRole]]" aria-haspopup$="[[inputAriaHaspopup]]"></iron-input><slot name="suffix" slot="suffix"></slot><template is="dom-if" if="[[errorMessage]]"><paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error></template><template is="dom-if" if="[[charCounter]]"><paper-input-char-counter slot="add-on"></paper-input-char-counter></template></paper-input-container>`,behaviors:[[Li,Gi,Xi],Ti],properties:{value:{type:String},inputRole:{type:String,value:void 0},inputAriaHaspopup:{type:String,value:void 0}},get _focusableElement(){return this.inputElement._inputElement},listeners:{"iron-input-ready":"_onIronInputReady"},_onIronInputReady:function(){this.$.nativeInput||(this.$.nativeInput=this.$$("input")),this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.$.nativeInput.type)&&(this.alwaysFloatLabel=!0),this.inputElement.bindValue&&this.$.container._handleValueAndAutoValidate(this.inputElement)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const qi={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(e){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute("aria-required","true"):this.removeAttribute("aria-required")},_checkedChanged:function(){this.active=this.checked,this.fire("iron-change")},_valueChanged:function(){void 0!==this.value&&null!==this.value||(this.value="on")}},Vi=[Ti,bi,qi],zi={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(e){this._detectKeyboardFocus(e),e||this._setPressed(!1)},_detectKeyboardFocus:function(e){this._setReceivedFocusFromKeyboard(!this.pointerDown&&e)},_userActivate:function(e){this.active!==e&&(this.active=e,this.fire("change"))},_downHandler:function(e){this._setPointerDown(!0),this._setPressed(!0),this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1),this._setPressed(!1)},_spaceKeyDownHandler:function(e){var t=e.detail.keyboardEvent,n=Er(t).localTarget;this.isLightDescendant(n)||(t.preventDefault(),t.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(e){var t=e.detail.keyboardEvent,n=Er(t).localTarget;this.isLightDescendant(n)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async((function(){this.click()}),1)},_pressedChanged:function(e){this._changedButtonState()},_ariaActiveAttributeChanged:function(e,t){t&&t!=e&&this.hasAttribute(t)&&this.removeAttribute(t)},_activeChanged:function(e,t){this.toggles?this.setAttribute(this.ariaActiveAttribute,e?"true":"false"):this.removeAttribute(this.ariaActiveAttribute),this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}},$i=[Gi,zi];
/**
@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var Yi={distance:function(e,t,n,r){var i=e-n,a=t-r;return Math.sqrt(i*i+a*a)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};function Ki(e){this.element=e,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=Math.max(this.width,this.height)}function Ji(e){this.element=e,this.color=window.getComputedStyle(e).color,this.wave=document.createElement("div"),this.waveContainer=document.createElement("div"),this.wave.style.backgroundColor=this.color,this.wave.classList.add("wave"),this.waveContainer.classList.add("wave-container"),Er(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}Ki.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(e,t){var n=Yi.distance(e,t,0,0),r=Yi.distance(e,t,this.width,0),i=Yi.distance(e,t,0,this.height),a=Yi.distance(e,t,this.width,this.height);return Math.max(n,r,i,a)}},Ji.MAX_RADIUS=300,Ji.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var e;return this.mouseDownStart?(e=Yi.now()-this.mouseDownStart,this.mouseUpStart&&(e-=this.mouseUpElapsed),e):0},get mouseUpElapsed(){return this.mouseUpStart?Yi.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var e=this.containerMetrics.width*this.containerMetrics.width,t=this.containerMetrics.height*this.containerMetrics.height,n=1.1*Math.min(Math.sqrt(e+t),Ji.MAX_RADIUS)+5,r=1.1-n/Ji.MAX_RADIUS*.2,i=this.mouseInteractionSeconds/r,a=n*(1-Math.pow(80,-i));return Math.abs(a)},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){var e=.3*this.mouseUpElapsedSeconds,t=this.opacity;return Math.max(0,Math.min(e,t))},get isOpacityFullyDecayed(){return this.opacity<.01&&this.radius>=Math.min(this.maxRadius,Ji.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,Ji.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new Ki(this.element)},draw:function(){var e,t,n;this.wave.style.opacity=this.opacity,e=this.radius/(this.containerMetrics.size/2),t=this.xNow-this.containerMetrics.width/2,n=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform="translate("+t+"px, "+n+"px)",this.waveContainer.style.transform="translate3d("+t+"px, "+n+"px, 0)",this.wave.style.webkitTransform="scale("+e+","+e+")",this.wave.style.transform="scale3d("+e+","+e+",1)"},downAction:function(e){var t=this.containerMetrics.width/2,n=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=Yi.now(),this.center?(this.xStart=t,this.yStart=n,this.slideDistance=Yi.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=e?e.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=e?e.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=t,this.yEnd=n,this.slideDistance=Yi.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px",this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px",this.waveContainer.style.width=this.containerMetrics.size+"px",this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(e){this.isMouseDown&&(this.mouseUpStart=Yi.now())},remove:function(){Er(Er(this.waveContainer).parentNode).removeChild(this.waveContainer)}},Ur({_template:st`<style>:host{display:block;position:absolute;border-radius:inherit;overflow:hidden;top:0;left:0;right:0;bottom:0;pointer-events:none}:host([animating]){-webkit-transform:translate(0,0);transform:translate3d(0,0,0)}#background,#waves,.wave,.wave-container{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%}#background,.wave{opacity:0}#waves,.wave{overflow:hidden}.wave,.wave-container{border-radius:50%}:host(.circle) #background,:host(.circle) #waves{border-radius:50%}:host(.circle) .wave-container{overflow:hidden}</style><div id="background"></div><div id="waves"></div>`,is:"paper-ripple",behaviors:[Gi],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){11==Er(this).parentNode.nodeType?this.keyEventTarget=Er(this).getOwnerRoot().host:this.keyEventTarget=Er(this).parentNode;var e=this.keyEventTarget;this.listen(e,"up","uiUpAction"),this.listen(e,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction"),this.unlisten(this.keyEventTarget,"down","uiDownAction"),this.keyEventTarget=null},get shouldKeepAnimating(){for(var e=0;e<this.ripples.length;++e)if(!this.ripples[e].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null),this.async((function(){this.upAction()}),1)},uiDownAction:function(e){this.noink||this.downAction(e)},downAction:function(e){this.holdDown&&this.ripples.length>0||(this.addRipple().downAction(e),this._animating||(this._animating=!0,this.animate()))},uiUpAction:function(e){this.noink||this.upAction(e)},upAction:function(e){this.holdDown||(this.ripples.forEach((function(t){t.upAction(e)})),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor="",this.fire("transitionend")},addRipple:function(){var e=new Ji(this);return Er(this.$.waves).appendChild(e.waveContainer),this.$.background.style.backgroundColor=e.color,this.ripples.push(e),this._setAnimating(!0),e},removeRipple:function(e){var t=this.ripples.indexOf(e);t<0||(this.ripples.splice(t,1),e.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){if(this._animating){var e,t;for(e=0;e<this.ripples.length;++e)(t=this.ripples[e]).draw(),this.$.background.style.opacity=t.outerOpacity,t.isOpacityFullyDecayed&&!t.isRestingAtMaxRadius&&this.removeRipple(t);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()}},animateRipple:function(){return this.animate()},_onEnterKeydown:function(){this.uiDownAction(),this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(e,t){void 0!==t&&(e?this.downAction():this.upAction())}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Qi={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(e){zi._downHandler.call(this,e),this.pressed&&this.ensureRipple(e)},ensureRipple:function(e){if(!this.hasRipple()){this._ripple=this._createRipple(),this._ripple.noink=this.noink;var t=this._rippleContainer||this.root;if(t&&Er(t).appendChild(this._ripple),e){var n=Er(this._rippleContainer||this),r=Er(e).rootTarget;n.deepContains(r)&&this._ripple.uiDownAction(e)}}},getRipple:function(){return this.ensureRipple(),this._ripple},hasRipple:function(){return Boolean(this._ripple)},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(e){this.hasRipple()&&(this._ripple.noink=e)}},Zi={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(e){e&&this.ensureRipple(),this.hasRipple()&&(this._ripple.holdDown=e)},_createRipple:function(){var e=Qi._createRipple();return e.id="ink",e.setAttribute("center",""),e.classList.add("circle"),e}},Wi=[[$i,Li,Qi,Zi],Vi,{_checkedChanged:function(){qi._checkedChanged.call(this),this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},_buttonStateChanged:function(){Qi._buttonStateChanged.call(this),this.disabled||this.isAttached&&(this.checked=this.active)}}],ea=st`<style>:host{display:inline-block;white-space:nowrap;cursor:pointer;--calculated-paper-checkbox-size:var(--paper-checkbox-size, 18px);--calculated-paper-checkbox-ink-size:var(--paper-checkbox-ink-size, -1px);@apply --paper-font-common-base;line-height:0;-webkit-tap-highlight-color:transparent}:host([hidden]){display:none!important}:host(:focus){outline:0}.hidden{display:none}#checkboxContainer{display:inline-block;position:relative;width:var(--calculated-paper-checkbox-size);height:var(--calculated-paper-checkbox-size);min-width:var(--calculated-paper-checkbox-size);margin:var(--paper-checkbox-margin,initial);vertical-align:var(--paper-checkbox-vertical-align,middle);background-color:var(--paper-checkbox-unchecked-background-color,transparent)}#ink{position:absolute;top:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size))/ 2);left:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size))/ 2);width:var(--calculated-paper-checkbox-ink-size);height:var(--calculated-paper-checkbox-ink-size);color:var(--paper-checkbox-unchecked-ink-color,var(--primary-text-color));opacity:.6;pointer-events:none}#ink:dir(rtl){right:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size))/ 2);left:auto}#ink[checked]{color:var(--paper-checkbox-checked-ink-color,var(--primary-color))}#checkbox{position:relative;box-sizing:border-box;height:100%;border:solid 2px;border-color:var(--paper-checkbox-unchecked-color,var(--primary-text-color));border-radius:2px;pointer-events:none;-webkit-transition:background-color 140ms,border-color 140ms;transition:background-color 140ms,border-color 140ms;-webkit-transition-duration:var(--paper-checkbox-animation-duration,140ms);transition-duration:var(--paper-checkbox-animation-duration,140ms)}#checkbox.checked #checkmark{-webkit-animation:checkmark-expand 140ms ease-out forwards;animation:checkmark-expand 140ms ease-out forwards;-webkit-animation-duration:var(--paper-checkbox-animation-duration,140ms);animation-duration:var(--paper-checkbox-animation-duration,140ms)}@-webkit-keyframes checkmark-expand{0%{-webkit-transform:scale(0,0) rotate(45deg)}100%{-webkit-transform:scale(1,1) rotate(45deg)}}@keyframes checkmark-expand{0%{transform:scale(0,0) rotate(45deg)}100%{transform:scale(1,1) rotate(45deg)}}#checkbox.checked{background-color:var(--paper-checkbox-checked-color,var(--primary-color));border-color:var(--paper-checkbox-checked-color,var(--primary-color))}#checkmark{position:absolute;width:36%;height:70%;border-style:solid;border-top:none;border-left:none;border-right-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-bottom-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-color:var(--paper-checkbox-checkmark-color,#fff);-webkit-transform-origin:97% 86%;transform-origin:97% 86%;box-sizing:content-box}#checkmark:dir(rtl){-webkit-transform-origin:50% 14%;transform-origin:50% 14%}#checkboxLabel{position:relative;display:inline-block;vertical-align:middle;padding-left:var(--paper-checkbox-label-spacing,8px);white-space:normal;line-height:normal;color:var(--paper-checkbox-label-color,var(--primary-text-color));@apply --paper-checkbox-label;}:host([checked]) #checkboxLabel{color:var(--paper-checkbox-label-checked-color,var(--paper-checkbox-label-color,var(--primary-text-color)));@apply --paper-checkbox-label-checked;}#checkboxLabel:dir(rtl){padding-right:var(--paper-checkbox-label-spacing,8px);padding-left:0}#checkboxLabel[hidden]{display:none}:host([disabled]) #checkbox{opacity:.5;border-color:var(--paper-checkbox-unchecked-color,var(--primary-text-color))}:host([disabled][checked]) #checkbox{background-color:var(--paper-checkbox-unchecked-color,var(--primary-text-color));opacity:.5}:host([disabled]) #checkboxLabel{opacity:.65}#checkbox.invalid:not(.checked){border-color:var(--paper-checkbox-error-color,var(--error-color))}</style><div id="checkboxContainer"><div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]"><div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div></div></div><div id="checkboxLabel"><slot></slot></div>`;
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/ea.setAttribute("strip-whitespace",""),Ur({_template:ea,is:"paper-checkbox",behaviors:[Wi],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){var e,t,n;e=this,t=function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var e=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),t="px",n=e.match(/[A-Za-z]+$/);null!==n&&(t=n[0]);var r=parseFloat(e),i=8/3*r;"px"===t&&(i=Math.floor(i))%2!=r%2&&i++,this.updateStyles({"--paper-checkbox-ink-size":i+t})}},ir||sr(),or.push([e,t,n])},_computeCheckboxClass:function(e,t){var n="";return e&&(n+="checked "),t&&(n+="invalid"),n},_computeCheckmarkClass:function(e){return e?"":"hidden"},_createRipple:function(){return this._rippleContainer=this.$.checkboxContainer,Zi._createRipple.call(this)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const ta=st`<custom-style><style is="custom-style">html{--shadow-transition:{transition:box-shadow .28s cubic-bezier(.4,0,.2,1)};--shadow-none:{box-shadow:none};--shadow-elevation-2dp:{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2)};--shadow-elevation-3dp:{box-shadow:0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12),0 3px 3px -2px rgba(0,0,0,.4)};--shadow-elevation-4dp:{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.4)};--shadow-elevation-6dp:{box-shadow:0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12),0 3px 5px -1px rgba(0,0,0,.4)};--shadow-elevation-8dp:{box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.4)};--shadow-elevation-12dp:{box-shadow:0 12px 16px 1px rgba(0,0,0,.14),0 4px 22px 3px rgba(0,0,0,.12),0 6px 7px -4px rgba(0,0,0,.4)};--shadow-elevation-16dp:{box-shadow:0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12),0 8px 10px -5px rgba(0,0,0,.4)};--shadow-elevation-24dp:{box-shadow:0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12),0 11px 15px -7px rgba(0,0,0,.4)};}</style></custom-style>`;ta.setAttribute("style","display: none;"),document.head.appendChild(ta.content);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const na=st`<dom-module id="paper-material-styles"><template><style>html{--paper-material:{display:block;position:relative};--paper-material-elevation-1:{@apply --shadow-elevation-2dp;};--paper-material-elevation-2:{@apply --shadow-elevation-4dp;};--paper-material-elevation-3:{@apply --shadow-elevation-6dp;};--paper-material-elevation-4:{@apply --shadow-elevation-8dp;};--paper-material-elevation-5:{@apply --shadow-elevation-16dp;};}.paper-material{@apply --paper-material;}.paper-material[elevation="1"]{@apply --paper-material-elevation-1;}.paper-material[elevation="2"]{@apply --paper-material-elevation-2;}.paper-material[elevation="3"]{@apply --paper-material-elevation-3;}.paper-material[elevation="4"]{@apply --paper-material-elevation-4;}.paper-material[elevation="5"]{@apply --paper-material-elevation-5;}:host{--paper-material:{display:block;position:relative};--paper-material-elevation-1:{@apply --shadow-elevation-2dp;};--paper-material-elevation-2:{@apply --shadow-elevation-4dp;};--paper-material-elevation-3:{@apply --shadow-elevation-6dp;};--paper-material-elevation-4:{@apply --shadow-elevation-8dp;};--paper-material-elevation-5:{@apply --shadow-elevation-16dp;};}:host(.paper-material){@apply --paper-material;}:host(.paper-material[elevation="1"]){@apply --paper-material-elevation-1;}:host(.paper-material[elevation="2"]){@apply --paper-material-elevation-2;}:host(.paper-material[elevation="3"]){@apply --paper-material-elevation-3;}:host(.paper-material[elevation="4"]){@apply --paper-material-elevation-4;}:host(.paper-material[elevation="5"]){@apply --paper-material-elevation-5;}</style></template></dom-module>`;na.setAttribute("style","display: none;"),document.head.appendChild(na.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const ra={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var e=1;this.disabled?e=0:this.active||this.pressed?e=4:this.receivedFocusFromKeyboard&&(e=3),this._setElevation(e)},_computeKeyboardClass:function(e){this.toggleClass("keyboard-focus",e)},_spaceKeyDownHandler:function(e){zi._spaceKeyDownHandler.call(this,e),this.hasRipple()&&this.getRipple().ripples.length<1&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(e){zi._spaceKeyUpHandler.call(this,e),this.hasRipple()&&this._ripple.uiUpAction()}},ia=[$i,Li,Qi,ra],aa=st`<style include="paper-material-styles">:host{@apply --layout-inline;@apply --layout-center-center;position:relative;box-sizing:border-box;min-width:5.14em;margin:0 .29em;background:0 0;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;font:inherit;text-transform:uppercase;outline-width:0;border-radius:3px;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;cursor:pointer;z-index:0;padding:.7em .57em;@apply --paper-font-common-base;@apply --paper-button;}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}:host([hidden]){display:none!important}:host([raised].keyboard-focus){font-weight:700;@apply --paper-button-raised-keyboard-focus;}:host(:not([raised]).keyboard-focus){font-weight:700;@apply --paper-button-flat-keyboard-focus;}:host([disabled]){background:0 0;color:#a8a8a8;cursor:auto;pointer-events:none;@apply --paper-button-disabled;}:host([disabled][raised]){background:#eaeaea}:host([animated]){@apply --shadow-transition;}paper-ripple{color:var(--paper-button-ink-color)}</style><slot></slot>`;aa.setAttribute("strip-whitespace",""),Ur({_template:aa,is:"paper-button",behaviors:[ia],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?ra._calculateElevation.apply(this):this._setElevation(0)}}),function(e){var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:f,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:f,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:f,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};function n(e){this.tokens=[],this.tokens.links={},this.options=e||g.defaults,this.rules=t.normal,this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}t._label=/(?:\\[\[\]]|[^\[\]])+/,t._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,t.def=c(t.def).replace("label",t._label).replace("title",t._title).getRegex(),t.bullet=/(?:[*+-]|\d+\.)/,t.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,t.item=c(t.item,"gm").replace(/bull/g,t.bullet).getRegex(),t.list=c(t.list).replace(/bull/g,t.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+t.def.source+")").getRegex(),t._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",t.html=c(t.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,t._tag).getRegex(),t.paragraph=c(t.paragraph).replace("hr",t.hr).replace("heading",t.heading).replace("lheading",t.lheading).replace("tag","<"+t._tag).getRegex(),t.blockquote=c(t.blockquote).replace("paragraph",t.paragraph).getRegex(),t.normal=m({},t),t.gfm=m({},t.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),t.gfm.paragraph=c(t.paragraph).replace("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|").getRegex(),t.tables=m({},t.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),n.rules=t,n.lex=function(e,t){return new n(t).lex(e)},n.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},n.prototype.token=function(e,n){var r,i,a,o,s,l,u,c,p,h,d;for(e=e.replace(/^ +$/gm,"");e;)if((a=this.rules.newline.exec(e))&&(e=e.substring(a[0].length),a[0].length>1&&this.tokens.push({type:"space"})),a=this.rules.code.exec(e))e=e.substring(a[0].length),a=a[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?a:a.replace(/\n+$/,"")});else if(a=this.rules.fences.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"code",lang:a[2],text:a[3]||""});else if(a=this.rules.heading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:a[1].length,text:a[2]});else if(n&&(a=this.rules.nptable.exec(e))){for(e=e.substring(a[0].length),l={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(a=this.rules.hr.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"hr"});else if(a=this.rules.blockquote.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"blockquote_start"}),a=a[0].replace(/^ *> ?/gm,""),this.token(a,n),this.tokens.push({type:"blockquote_end"});else if(a=this.rules.list.exec(e)){for(e=e.substring(a[0].length),d=(o=a[2]).length>1,this.tokens.push({type:"list_start",ordered:d,start:d?+o:""}),r=!1,h=(a=a[0].match(this.rules.item)).length,c=0;c<h;c++)u=(l=a[c]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==h-1&&(o===(s=t.bullet.exec(a[c+1])[0])||o.length>1&&s.length>1||(e=a.slice(c+1).join("\n")+e,c=h-1)),i=r||/\n\n(?!\s*$)/.test(l),c!==h-1&&(r="\n"===l.charAt(l.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(l,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(a=this.rules.html.exec(e))e=e.substring(a[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===a[1]||"script"===a[1]||"style"===a[1]),text:a[0]});else if(n&&(a=this.rules.def.exec(e)))e=e.substring(a[0].length),a[3]&&(a[3]=a[3].substring(1,a[3].length-1)),p=a[1].toLowerCase(),this.tokens.links[p]||(this.tokens.links[p]={href:a[2],title:a[3]});else if(n&&(a=this.rules.table.exec(e))){for(e=e.substring(a[0].length),l={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(a=this.rules.lheading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:"="===a[2]?1:2,text:a[1]});else if(n&&(a=this.rules.paragraph.exec(e)))e=e.substring(a[0].length),this.tokens.push({type:"paragraph",text:"\n"===a[1].charAt(a[1].length-1)?a[1].slice(0,-1):a[1]});else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"text",text:a[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var r={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:f,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:f,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function i(e,t){if(this.options=t||g.defaults,this.links=e,this.rules=r.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=r.breaks:this.rules=r.gfm:this.options.pedantic&&(this.rules=r.pedantic)}function a(e){this.options=e||{}}function o(){}function s(e){this.tokens=[],this.token=null,this.options=e||g.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options}function l(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}function c(e,t){return e=e.source,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function p(e,t){return h[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?h[" "+e]=e+"/":h[" "+e]=e.replace(/[^/]*$/,"")),e=h[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=c(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,r._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,r.link=c(r.link).replace("inside",r._inside).replace("href",r._href).getRegex(),r.reflink=c(r.reflink).replace("inside",r._inside).getRegex(),r.normal=m({},r),r.pedantic=m({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),r.gfm=m({},r.normal,{escape:c(r.escape).replace("])","~|])").getRegex(),url:c(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",r._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:c(r.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),r.breaks=m({},r.gfm,{br:c(r.br).replace("{2,}","*").getRegex(),text:c(r.gfm.text).replace("{2,}","*").getRegex()}),i.rules=r,i.output=function(e,t,n){return new i(t,n).output(e)},i.prototype.output=function(e){for(var t,n,r,i,a="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),a+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),r="@"===i[2]?"mailto:"+(n=l(this.mangle(i[1]))):n=l(i[1]),a+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):l(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,a+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){a+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),a+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),a+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),a+=this.renderer.codespan(l(i[2].trim(),!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),a+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),a+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),a+=this.renderer.text(l(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else i[0]=this.rules._backpedal.exec(i[0])[0],e=e.substring(i[0].length),"@"===i[2]?r="mailto:"+(n=l(i[0])):(n=l(i[0]),r="www."===i[1]?"http://"+n:n),a+=this.renderer.link(r,null,n);return a},i.prototype.outputLink=function(e,t){var n=l(t.href),r=t.title?l(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,l(e[1]))},i.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},i.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},a.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+l(t,!0)+'">'+(n?e:l(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:l(e,!0))+"\n</code></pre>"},a.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},a.prototype.html=function(e){return e},a.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},a.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},a.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},a.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},a.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},a.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},a.prototype.strong=function(e){return"<strong>"+e+"</strong>"},a.prototype.em=function(e){return"<em>"+e+"</em>"},a.prototype.codespan=function(e){return"<code>"+e+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(e){return"<del>"+e+"</del>"},a.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(u(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return n}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return n}this.options.baseUrl&&!d.test(e)&&(e=p(this.options.baseUrl,e));var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},a.prototype.image=function(e,t,n){this.options.baseUrl&&!d.test(e)&&(e=p(this.options.baseUrl,e));var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},a.prototype.text=function(e){return e},o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(e){return e},o.prototype.link=o.prototype.image=function(e,t,n){return""+n},o.prototype.br=function(){return""},s.parse=function(e,t){return new s(t).parse(e)},s.prototype.parse=function(e){this.inline=new i(e.links,this.options),this.inlineText=new i(e.links,m({},this.options,{renderer:new o})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},s.prototype.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},s.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,u(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i="",a="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});a+=this.renderer.tablerow(n)}return this.renderer.table(i,a);case"blockquote_start":for(a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":a="";for(var o=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,o,s);case"list_item_start":for(a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var h={},d=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function f(){}function m(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function g(e,t,r){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(r||"function"==typeof t){r||(r=t,t=null);var i,a,o=(t=m({},g.defaults,t||{})).highlight,u=0;try{i=n.lex(e,t)}catch(e){return r(e)}a=i.length;var c=function(e){if(e)return t.highlight=o,r(e);var n;try{n=s.parse(i,t)}catch(t){e=t}return t.highlight=o,e?r(e):r(null,n)};if(!o||o.length<3)return c();if(delete t.highlight,!a)return c();for(;u<i.length;u++)!function(e){"code"!==e.type?--a||c():o(e.text,e.lang,(function(t,n){return t?c(t):null==n||n===e.text?--a||c():(e.text=n,e.escaped=!0,void(--a||c()))}))}(i[u])}else try{return t&&(t=m({},g.defaults,t)),s.parse(n.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||g.defaults).silent)return"<p>An error occurred:</p><pre>"+l(e.message+"",!0)+"</pre>";throw e}}f.exec=f,g.options=g.setOptions=function(e){return m(g.defaults,e),g},g.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new a,xhtml:!1,baseUrl:null},g.Parser=s,g.parser=s.parse,g.Renderer=a,g.TextRenderer=o,g.Lexer=n,g.lexer=n.lex,g.InlineLexer=i,g.inlineLexer=i.output,g.parse=g,"undefined"!=typeof module&&"object"==typeof exports?module.exports=g:"function"==typeof define&&define.amd?define((function(){return g})):e.marked=g}("undefined"!=typeof window?window:global);var oa=Object.freeze({__proto__:null});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/window.marked||(window.marked=oa)
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/,Ur({_template:st`<style>:host{display:block}</style><slot name="markdown-html"><div id="content"></div></slot>`,is:"marked-element",properties:{markdown:{type:String,value:null},breaks:{type:Boolean,value:!1},pedantic:{type:Boolean,value:!1},renderer:{type:Function,value:null},sanitize:{type:Boolean,value:!1},sanitizer:{type:Function,value:null},disableRemoteSanitization:{type:Boolean,value:!1},smartypants:{type:Boolean,value:!1},callback:{type:Function,value:null},xhr:{type:Object,notify:!0,readOnly:!0}},observers:["render(markdown, breaks, pedantic, renderer, sanitize, sanitizer, smartypants, callback)"],ready:function(){this.markdown||(this._markdownElement=Er(this).querySelector('[type="text/markdown"]'),this._markdownElement&&(this._markdownElement.src&&this._request(this._markdownElement.src),""!==this._markdownElement.textContent.trim()&&(this.markdown=this._unindent(this._markdownElement.textContent)),new MutationObserver(this._onScriptAttributeChanged.bind(this)).observe(this._markdownElement,{attributes:!0})))},attached:function(){this._attached=!0,this._outputElement=this.outputElement,this.render()},detached:function(){this._attached=!1},unindent:function(e){return this._unindent(e)},get outputElement(){return Er(this).queryDistributedElements('[slot="markdown-html"]')[0]||this.$.content},render:function(){if(this._attached)if(this.markdown){var e=new marked.Renderer;this.renderer&&this.renderer(e);var t={renderer:e,highlight:this._highlight.bind(this),breaks:this.breaks,sanitize:this.sanitize,sanitizer:this.sanitizer,pedantic:this.pedantic,smartypants:this.smartypants};Er(this._outputElement).innerHTML=marked(this.markdown,t,this.callback),this.fire("marked-render-complete",{},{composed:!0})}else Er(this._outputElement).innerHTML=""},_highlight:function(e,t){return this.fire("syntax-highlight",{code:e,lang:t},{composed:!0}).detail.code||e},_unindent:function(e){if(!e)return e;var t=e.replace(/\t/g,"  ").split("\n"),n=t.reduce((function(e,t){if(/^\s*$/.test(t))return e;var n=t.match(/^(\s*)/)[0].length;return null===e||n<e?n:e}),null);return t.map((function(e){return e.substr(n)})).join("\n")},_request:function(e){this._setXhr(new XMLHttpRequest);var t=this.xhr;if(t.readyState>0)return null;t.addEventListener("error",this._handleError.bind(this)),t.addEventListener("loadend",function(e){var t=this.xhr.status||0;0===t||t>=200&&t<300?(this.sanitize=!this.disableRemoteSanitization,this.markdown=e.target.response):this._handleError(e),this.fire("marked-loadend",e)}.bind(this)),t.open("GET",e),t.setRequestHeader("Accept","text/markdown"),t.send()},_handleError:function(e){this.fire("marked-request-error",e,{cancelable:!0}).defaultPrevented||(this.markdown="Failed loading markdown source")},_onScriptAttributeChanged:function(e){"src"===e[0].attributeName&&this._request(this._markdownElement.src)}});var sa=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={},i={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,a;switch(n=n||{},i.util.type(t)){case"Object":if(a=i.util.objId(t),n[a])return n[a];for(var o in r={},n[a]=r,t)t.hasOwnProperty(o)&&(r[o]=e(t[o],n));return r;case"Array":return a=i.util.objId(t),n[a]?n[a]:(r=[],n[a]=r,t.forEach((function(t,i){r[i]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e&&!t.test(e.className);)e=e.parentElement;return e?(e.className.match(t)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var i=e.classList;if(i.contains(t))return!0;if(i.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=i.util.clone(i.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var a=(r=r||i.languages)[e],o={};for(var s in a)if(a.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(o[l]=n[l]);n.hasOwnProperty(s)||(o[s]=a[s])}var u=r[e];return r[e]=o,i.languages.DFS(i.languages,(function(t,n){n===u&&t!=e&&(this[t]=o)})),o},DFS:function e(t,n,r,a){a=a||{};var o=i.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var l=t[s],u=i.util.type(l);"Object"!==u||a[o(l)]?"Array"!==u||a[o(l)]||(a[o(l)]=!0,e(l,n,s,a)):(a[o(l)]=!0,e(l,n,null,a))}}},plugins:{},highlightAll:function(e,t){i.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),i.hooks.run("before-all-elements-highlight",r);for(var a,o=0;a=r.elements[o++];)i.highlightElement(a,!0===t,r.callback)},highlightElement:function(n,r,a){var o=i.util.getLanguage(n),s=i.languages[o];n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+o;var l=n.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+o);var u={element:n,language:o,grammar:s,code:n.textContent};function c(e){u.highlightedCode=e,i.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,i.hooks.run("after-highlight",u),i.hooks.run("complete",u),a&&a.call(u.element)}if(i.hooks.run("before-sanity-check",u),(l=u.element.parentElement)&&"pre"===l.nodeName.toLowerCase()&&!l.hasAttribute("tabindex")&&l.setAttribute("tabindex","0"),!u.code)return i.hooks.run("complete",u),void(a&&a.call(u.element));if(i.hooks.run("before-highlight",u),u.grammar)if(r&&e.Worker){var p=new Worker(i.filename);p.onmessage=function(e){c(e.data)},p.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else c(i.highlight(u.code,u.grammar,u.language));else c(i.util.encode(u.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};return i.hooks.run("before-tokenize",r),r.tokens=i.tokenize(r.code,r.grammar),i.hooks.run("after-tokenize",r),a.stringify(i.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var c=new s;return l(c,c.head,e),function e(t,n,r,s,c,p){for(var h in r)if(r.hasOwnProperty(h)&&r[h]){var d=r[h];d=Array.isArray(d)?d:[d];for(var f=0;f<d.length;++f){if(p&&p.cause==h+","+f)return;var m=d[f],g=m.inside,y=!!m.lookbehind,v=!!m.greedy,b=m.alias;if(v&&!m.pattern.global){var w=m.pattern.toString().match(/[imsuy]*$/)[0];m.pattern=RegExp(m.pattern.source,w+"g")}for(var x=m.pattern||m,A=s.next,_=c;A!==n.tail&&!(p&&_>=p.reach);_+=A.value.length,A=A.next){var E=A.value;if(n.length>t.length)return;if(!(E instanceof a)){var C,N=1;if(v){if(!(C=o(x,_,t,y)))break;var T=C.index,B=C.index+C[0].length,S=_;for(S+=A.value.length;T>=S;)A=A.next,S+=A.value.length;if(S-=A.value.length,_=S,A.value instanceof a)continue;for(var I=A;I!==n.tail&&(S<B||"string"==typeof I.value);I=I.next)N++,S+=I.value.length;N--,E=t.slice(_,S),C.index-=_}else if(!(C=o(x,0,E,y)))continue;T=C.index;var k=C[0],O=E.slice(0,T),P=E.slice(T+k.length),D=_+E.length;p&&D>p.reach&&(p.reach=D);var R=A.prev;O&&(R=l(n,R,O),_+=O.length),u(n,R,N);var M=new a(h,g?i.tokenize(k,g):k,b,k);if(A=l(n,R,M),P&&l(n,A,P),N>1){var F={cause:h+","+f,reach:D};e(t,n,r,A.prev,_,F),p&&F.reach>p.reach&&(p.reach=F.reach)}}}}}}(e,c,t,c.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(c)},hooks:{all:{},add:function(e,t){var n=i.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=i.hooks.all[e];if(n&&n.length)for(var r,a=0;r=n[a++];)r(t)}},Token:a};function a(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function o(e,t,n,r){e.lastIndex=t;var i=e.exec(n);if(i&&r&&i[1]){var a=i[1].length;i.index+=a,i[0]=i[0].slice(a)}return i}function s(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function l(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}function u(e,t,n){for(var r=t.next,i=0;i<n&&r!==e.tail;i++)r=r.next;t.next=r,r.prev=t,e.length-=i}if(e.Prism=i,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},o=t.alias;o&&(Array.isArray(o)?Array.prototype.push.apply(a.classes,o):a.classes.push(o)),i.hooks.run("wrap",a);var s="";for(var l in a.attributes)s+=" "+l+'="'+(a.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+s+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(i.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,a=n.code,o=n.immediateClose;e.postMessage(i.highlight(a,i.languages[r],r)),o&&e.close()}),!1),i):i;var c=i.util.currentScript();function p(){i.manual||i.highlightAll()}if(c&&(i.filename=c.src,c.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var h=document.readyState;"loading"===h||"interactive"===h&&c&&c.defer?document.addEventListener("DOMContentLoaded",p):window.requestAnimationFrame?window.requestAnimationFrame(p):window.setTimeout(p,16)}return i}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});
/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */"undefined"!=typeof module&&module.exports&&(module.exports=sa),"undefined"!=typeof global&&(global.Prism=sa),sa.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?\]\]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},sa.languages.markup.tag.inside["attr-value"].inside.entity=sa.languages.markup.entity,sa.languages.markup.doctype.inside["internal-subset"].inside=sa.languages.markup,sa.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(sa.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:sa.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:sa.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},sa.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(sa.languages.markup.tag,"addAttribute",{value:function(e,t){sa.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:sa.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),sa.languages.html=sa.languages.markup,sa.languages.mathml=sa.languages.markup,sa.languages.svg=sa.languages.markup,sa.languages.xml=sa.languages.extend("markup",{}),sa.languages.ssml=sa.languages.xml,sa.languages.atom=sa.languages.xml,sa.languages.rss=sa.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(sa),sa.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},sa.languages.javascript=sa.languages.extend("clike",{"class-name":[sa.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),sa.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,sa.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:sa.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:sa.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:sa.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:sa.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:sa.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),sa.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:sa.languages.javascript}},string:/[\s\S]+/}}}),sa.languages.markup&&(sa.languages.markup.tag.addInlined("script","javascript"),sa.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),sa.languages.js=sa.languages.javascript,function(){if(void 0!==sa&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},t='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',n=/\blang(?:uage)?-([\w-]+)\b/i;sa.hooks.add("before-highlightall",(function(e){e.selector+=", "+t})),sa.hooks.add("before-sanity-check",(function(n){var r=n.element;if(r.matches(t)){n.code="",r.setAttribute("data-src-status","loading");var a=r.appendChild(document.createElement("CODE"));a.textContent="Loading…";var o=r.getAttribute("data-src"),s=n.language;if("none"===s){var l=(/\.(\w+)$/.exec(o)||[,"none"])[1];s=e[l]||l}i(a,s),i(r,s);var u=sa.plugins.autoloader;u&&u.loadLanguages(s);var c=new XMLHttpRequest;c.open("GET",o,!0),c.onreadystatechange=function(){var e,t;4==c.readyState&&(c.status<400&&c.responseText?(r.setAttribute("data-src-status","loaded"),a.textContent=c.responseText,sa.highlightElement(a)):(r.setAttribute("data-src-status","failed"),c.status>=400?a.textContent=(e=c.status,t=c.statusText,"✖ Error "+e+" while fetching file: "+t):a.textContent="✖ Error: File does not exist or is empty"))},c.send(null)}})),sa.plugins.fileHighlight={highlight:function(e){for(var n,r=(e||document).querySelectorAll(t),i=0;n=r[i++];)sa.highlightElement(n)}};var r=!1;sa.fileHighlight=function(){r||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),r=!0),sa.plugins.fileHighlight.highlight.apply(this,arguments)}}function i(e,t){var r=e.className;r=r.replace(n," ")+" language-"+t,e.className=r.replace(/\s+/g," ").trim()}}();Ur({is:"prism-highlighter",properties:{languages:{type:Object,value:function(){return{}}}},ready:function(){this._handler=this._highlight.bind(this)},attached:function(){(this.parentNode.host||this.parentElement).addEventListener("syntax-highlight",this._handler)},detached:function(){(this.parentNode.host||this.parentElement).removeEventListener("syntax-highlight",this._handler)},_highlight:function(e){if(e.detail&&e.detail.code){e.stopPropagation();var t=e.detail;t.code=Prism.highlight(t.code,this._detectLang(t.code,t.lang))}else fi._warn("Malformed","syntax-highlight","event:",e.detail)},_detectLang:function(e,t){if(!t)return e.match(/^\s*</)?Prism.languages.markup:Prism.languages.javascript;if(this.languages[t])return this.languages[t];if(Prism.languages[t])return Prism.languages[t];switch(t.substr(0,2)){case"js":case"es":return Prism.languages.javascript;case"c":return Prism.languages.clike;default:return Prism.languages.markup}}});
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const la=st`<dom-module id="prism-theme-default"><template><style>code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></template></dom-module>`;document.head.appendChild(la.content),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
Ur({_template:st`<style include="prism-theme-default">:host{display:block;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);margin-bottom:40px;@apply --demo-snippet;}.demo{display:block;border-bottom:1px solid #e0e0e0;background-color:#fff;margin:0;padding:20px;@apply --demo-snippet-demo;}.code-container{margin:0;background-color:#f5f5f5;font-size:13px;overflow:auto;position:relative;padding:0 20px;@apply --demo-snippet-code;}.code{padding:20px;margin:0;background-color:var(--google-grey-100);font-size:13px;overflow:auto;@apply --demo-snippet-code;}.code>pre{margin:0;padding:0 0 10px 0}button{position:absolute;top:0;right:0;text-transform:uppercase;border:none;cursor:pointer;background:#e0e0e0}</style><prism-highlighter></prism-highlighter><div class="demo"><slot id="content"></slot></div><div class="code-container"><marked-element markdown="[[_markdown]]" id="marked"><div class="code" slot="markdown-html" id="code"></div></marked-element><button id="copyButton" title="copy to clipboard" on-tap="_copyToClipboard">Copy</button></div>`,is:"demo-snippet",properties:{_markdown:{type:String}},attached:function(){this._observer=Er(this.$.content).observeNodes(function(e){this._updateMarkdown()}.bind(this))},detached:function(){this._observer&&(Er(this.$.content).unobserveNodes(this._observer),this._observer=null)},_updateMarkdown:function(){var e=Er(this).queryDistributedElements("template")[0];if(e){var t=this.$.marked.unindent(e.innerHTML);t=(t=t.replace(/ class=""/g,"")).replace(/=""/g,""),this._markdown="```\n"+t+"\n```",e.hasAttribute("is")||(Er(this.$.content).unobserveNodes(this._observer),this._observer=null,Er(this).appendChild(document.importNode(e.content,!0))),this.dispatchEvent(new CustomEvent("dom-ready"))}else this._markdown=""},_copyToClipboard:function(){var e=document.createRange();e.selectNodeContents(this.$.code);var t=window.getSelection();t.removeAllRanges(),t.addRange(e);var n=!1;try{n=document.execCommand("copy"),this.$.copyButton.textContent="done"}catch(e){console.error(e),this.$.copyButton.textContent="error"}return setTimeout(this._resetCopyButtonState.bind(this),1e3),t.removeAllRanges(),n},_resetCopyButtonState:function(){this.$.copyButton.textContent="copy"}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const ua=st`<dom-module id="demo-pages-shared-styles"><template><style>body{font-family:Roboto,Noto,sans-serif;font-size:14px;margin:0;padding:24px;background-color:#fafafa}.horizontal-section-container{@apply --layout-horizontal;@apply --layout-center-justified;@apply --layout-wrap;}.vertical-section-container{@apply --layout-vertical;@apply --center-justified;}.centered{max-width:600px;margin-left:auto;margin-right:auto}demo-snippet.centered-demo{--demo-snippet-demo:{@apply --layout-horizontal;@apply --layout-wrap;@apply --layout-center-justified;};}</style></template></dom-module>`;function ca(e,t,n,r){const i={op:t,func:n,data:r};return e.push(i),i}function pa(e,t){return e}ua.setAttribute("style","display: none;"),document.head.appendChild(ua.content);class ha{constructor(){this.program=[]}test(e,t){return ca(this.program,5,e,void 0===t?null:t)}jump(e){return ca(this.program,3,null,e)}record(e,t){return ca(this.program,4,void 0===t?pa:t,e)}bad(e=1){return ca(this.program,1,null,e)}accept(){return ca(this.program,0,null,null)}fail(e){return ca(this.program,2,e||null,null)}}class da{constructor(e,t,n){this.programLength=e,this.maxFromByPc=t,this.maxSurvivorFromByPc=n}static fromProgram(e){const t=e.length,n=[],r=[];return e.forEach(e=>{n.push(0),r.push(0)}),e.forEach((e,i)=>{switch(e.op){case 2:if(null===e.func)return;if(i+1>=t)throw new Error("Invalid program: program could run past end");n[i+1]+=1;break;case 1:case 4:if(i+1>=t)throw new Error("Invalid program: program could run past end");n[i+1]+=1;break;case 3:e.data.forEach(e=>{if(e<0||e>=t)throw new Error("Invalid program: program could run past end");n[e]+=1});break;case 5:if(i+1>=t)throw new Error("Invalid program: program could run past end");r[i+1]+=1;break;case 0:r[i]+=1}}),new da(t,n,r)}static createStub(e){const t=[],n=[];for(let r=0;r<e;++r)t.push(e),n.push(e);return new da(e,t,n)}}class fa{constructor(e){this.acceptingTraces=e,this.success=e.length>0}}class ma{constructor(e){this.t=0,this.i=0,this.h=new Uint16Array(e),this.l=new Uint8Array(e)}getBadness(e){return this.l[e]}add(e,t){this.l[e]=t>255?255:t;const n=function(e,t,n,r,i){let a=r,o=i;for(;a<o;){const r=a+o>>>1;n<t[e[r]]?o=r:a=r+1}return a}(this.h,this.l,t,this.i,this.t);this.h.copyWithin(n+1,n,this.t),this.h[n]=e,this.t+=1}reschedule(e,t){const n=Math.max(this.l[e],t>255?255:t);if(this.l[e]!==n){const t=this.h.indexOf(e,this.i);if(t<0||t>=this.t)return void(this.l[e]=n);this.h.copyWithin(t,t+1,this.t),this.t-=1,this.add(e,n)}}getNextPc(){return this.i>=this.t?null:this.h[this.i++]}reset(){this.t=0,this.i=0,this.l.fill(0)}}class ga{constructor(e){this.o=[];let t=e.length;e.forEach(e=>{this.o.push(e>0?t:-1),t+=e}),this.u=new Uint16Array(t)}clear(){this.u.fill(0,0,this.o.length)}add(e,t){const n=this.u[t],r=this.o[t];this.u[t]+=1,this.u[r+n]=e}has(e){return this.u[e]>0}forEach(e,t){const n=this.u[e],r=this.o[e];for(let e=r;e<r+n;++e)t(this.u[e])}}function ya(e,t,n=!1){return null===e?t:Array.isArray(e)?(-1===e.indexOf(t)&&(n&&(e=e.slice()),e.push(t)),e):e===t?e:[e,t]}class va{constructor(e,t){this.prefixes=e,this.record=t}}function ba(e,t){let n;if(null===t){if(!Array.isArray(e))return e;n=e}else n=e===va.EMPTY?[]:Array.isArray(e)?e:[e];return new va(n,t)}va.EMPTY=new va([],null);class wa{constructor(e){this.p=[],this.v=[];for(let t=0;t<e;++t)this.p.push(0),this.v.push(null)}mergeTraces(e,t,n,r,i,a){let o=!1;return n.forEach(t,t=>{const n=this.trace(t,r,i,a);var s,l,u;l=n,u=o,e=null===(s=e)?l:null===l?s:Array.isArray(l)?l.reduce((e,t)=>ya(e,t,e===l),s):ya(s,l,u),o=e===n}),e}trace(e,t,n,r){switch(this.p[e]){case 2:return this.v[e];case 1:return null}this.p[e]=1;let i=null;const a=t[e];if(null!==a)i=a;else if(!n.has(e))throw new Error("Trace without source at pc "+e);if(i=this.mergeTraces(i,e,n,t,n,r),null!==i){const t=r[e];null!==t&&(i=ba(i,t))}return this.v[e]=i,this.p[e]=2,i}buildSurvivorTraces(e,t,n,r,i){for(let a=0,o=e.length;a<o;++a){if(!n.has(a)){t[a]=null;continue}this.v.fill(null),this.p.fill(0);const o=this.mergeTraces(null,a,n,e,r,i);if(null===o)throw new Error("No non-cyclic paths found to survivor "+a);t[a]=ba(o,null)}this.v.fill(null)}}class xa{constructor(e){this.g=[],this.k=[],this.m=[],this.A=new ga(e.maxFromByPc),this.T=new ga(e.maxSurvivorFromByPc),this.S=new wa(e.programLength);for(let t=0;t<e.programLength;++t)this.g.push(null),this.k.push(null),this.m.push(null);this.k[0]=va.EMPTY}reset(e){this.A.clear(),this.T.clear(),this.g.fill(null),e&&(this.k.fill(null),this.m.fill(null),this.k[0]=va.EMPTY)}record(e,t){this.g[e]=t}has(e){return this.A.has(e)||null!==this.k[e]}add(e,t){this.A.add(e,t)}hasSurvivor(e){return this.T.has(e)}addSurvivor(e,t){this.T.add(e,t)}buildSurvivorTraces(){const e=this.k;this.S.buildSurvivorTraces(e,this.m,this.T,this.A,this.g),this.k=this.m,this.m=e}getTraces(e){const t=e.reduce((e,t)=>ya(e,this.k[t]),null);return null===t?[]:Array.isArray(t)?t:[t]}}class Aa{constructor(e){this.I=[],this.N=new ma(e.programLength),this.M=new ma(e.programLength),this.P=new xa(e)}reset(){this.N.reset(),this.N.add(0,0),this.I.length=0,this.P.reset(!0)}getNextThreadPc(){return this.N.getNextPc()}step(e,t,n){const r=this.P.has(t);this.P.add(e,t);const i=this.N.getBadness(e)+n;r?this.N.reschedule(t,i):this.N.add(t,i)}stepToNextGeneration(e,t){const n=this.P.hasSurvivor(t);this.P.addSurvivor(e,t);const r=this.N.getBadness(e);n?this.M.reschedule(t,r):this.M.add(t,r)}accept(e){this.I.push(e),this.P.addSurvivor(e,e)}fail(e){}record(e,t){this.P.record(e,t)}nextGeneration(){this.P.buildSurvivorTraces(),this.P.reset(!1);const e=this.N;e.reset(),this.N=this.M,this.M=e}getAcceptingTraces(){return this.P.getTraces(this.I)}}class _a{constructor(e){this.U=[],this.G=e,this.V=da.fromProgram(e),this.U.push(new Aa(this.V))}execute(e,t){const n=this.U.pop()||new Aa(this.V);n.reset();const r=e.length;let i,a=-1;do{let o=n.getNextThreadPc();if(null===o)break;for(++a,i=a>=r?null:e[a];null!==o;){const e=this.G[o];switch(e.op){case 0:null===i?n.accept(o):n.fail(o);break;case 2:{const r=e.func;if(null===r||r(t)){n.fail(o);break}n.step(o,o+1,0);break}case 1:n.step(o,o+1,e.data);break;case 5:if(null===i){n.fail(o);break}if(!(0,e.func)(i,e.data,t)){n.fail(o);break}n.stepToNextGeneration(o,o+1);break;case 3:{const t=e.data,r=t.length;if(0===r){n.fail(o);break}for(let e=0;e<r;++e)n.step(o,t[e],0);break}case 4:{const r=(0,e.func)(e.data,a,t);null!=r&&n.record(o,r),n.step(o,o+1,0);break}}o=n.getNextThreadPc()}n.nextGeneration()}while(null!==i);const o=new fa(n.getAcceptingTraces());return n.reset(),this.U.push(n),o}}function Ea(e){return t=>t===e}function Ca(e,t){if(null===e||null===t)throw new Error("unescaped hyphen may not be used as a range endpoint");if(t<e)throw new Error("character range is in the wrong order");return n=>e<=n&&n<=t}function Na(e){return!0}function Ta(){return!1}function Ba(e,t){return n=>e(n)||t(n)}function Sa(e,t){switch(t.kind){case"predicate":return void e.test(t.value);case"regexp":return void Ia(e,t.value,!1)}}function Ia(e,t,n){const r=e.program.length,i=e.jump([]);n&&(i.data.push(e.program.length),e.test(()=>!0),e.jump([r]));const a=[];if(t.forEach(t=>{i.data.push(e.program.length),function(e,t){t.forEach(t=>{!function(e,t){const[n,{min:r,max:i}]=t;if(null!==i){for(let t=0;t<r;++t)Sa(e,n);for(let t=r;t<i;++t){const t=e.jump([]);t.data.push(e.program.length),Sa(e,n),t.data.push(e.program.length)}}else if(r>0){for(let t=0;t<r-1;++t)Sa(e,n);const t=e.program.length;Sa(e,n),e.jump([t]).data.push(e.program.length)}else{const t=e.program.length,r=e.jump([]);r.data.push(e.program.length),Sa(e,n),e.jump([t]),r.data.push(e.program.length)}}(e,t)})}(e,t),a.push(e.jump([]))}),a.forEach(t=>{t.data.push(e.program.length)}),n){const t=e.program.length,n=e.jump([]);n.data.push(e.program.length),e.test(()=>!0),e.jump([t]),n.data.push(e.program.length)}}function ka(e,t){return{success:!0,offset:e,value:t}}function Oa(e){return ka(e,void 0)}function Pa(e,t,n=!1){return{success:!1,offset:e,expected:t,fatal:n}}function Da(e){return(t,n)=>{const r=n+e.length;return t.slice(n,r)===e?ka(r,e):Pa(n,[e])}}function Ra(e,t){return(n,r)=>{const i=e(n,r);return i.success?ka(i.offset,t(i.value)):i}}function Ma(e,t,n){return(r,i)=>{const a=e(r,i);return a.success?t(a.value)?a:Pa(i,n):a.offset===i?Pa(i,n):a}}function Fa(e){return(t,n)=>{let r=null;for(const i of e){const e=i(t,n);if(e.success)return e;if(null===r||e.offset>r.offset?r=e:e.offset===r.offset&&(r.expected=r.expected.concat(e.expected)),e.fatal)break}return r||Pa(n,[])}}function Ua(e){return(t,n)=>{const r=e(t,n);return r.success||r.fatal?r:ka(n,null)}}function Ha(e){return(t,n)=>{let r=[],i=n;for(;;){const n=e(t,i);if(!n.success){if(n.fatal)return n;break}r.push(n.value),i=n.offset}return ka(i,r)}}function Ga(e,t,n){return(r,i)=>{const a=e(r,i);if(!a.success)return a;const o=t(r,a.offset);return o.success?ka(o.offset,n(a.value,o.value)):o}}function La(e){return Ga(e,Ha(e),(e,t)=>[e].concat(t))}function ja(e,t){return e}function Xa(e,t){return t}function qa(e,t){return Ga(e,t,Xa)}function Va(e,t){return Ga(e,t,ja)}function za(e,t,n,r=!1){return qa(e,r?Ya(Va(t,n)):Va(t,n))}function $a(e,t){return(n,r)=>e(n,r).success?Pa(r,t):Oa(r)}function Ya(e){return(t,n)=>{const r=e(t,n);return r.success?r:Pa(r.offset,r.expected,!0)}}const Ka=(e,t)=>e.length===t?Oa(t):Pa(t,["end of input"]),Ja=["Lu","Ll","Lt","Lm","Lo","Mn","Mc","Me","Nd","Nl","No","Pc","Pd","Ps","Pe","Pi","Pf","Po","Zs","Zl","Zp","Sm","Sc","Sk","So","Cc","Cf","Co","Cn"],Qa={};function Za(e){return e.codePointAt(0)}"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach((e,t)=>{Qa[e]=t});const Wa=e=>-1===e||-2===e;function eo(e){return t=>!Wa(t)&&!e(t)}function to(e,t){return null===t?e:n=>e(n)&&!t(n)}const no=function(e,t){const n=new Map;let r=0;return["BasicLatin","Latin-1Supplement","LatinExtended-A","LatinExtended-B","IPAExtensions","SpacingModifierLetters","CombiningDiacriticalMarks","GreekandCoptic|Greek","Cyrillic","CyrillicSupplement","Armenian","Hebrew","Arabic","Syriac","ArabicSupplement","Thaana","NKo","Samaritan","Mandaic","SyriacSupplement",null,"ArabicExtended-A","Devanagari","Bengali","Gurmukhi","Gujarati","Oriya","Tamil","Telugu","Kannada","Malayalam","Sinhala","Thai","Lao","Tibetan","Myanmar","Georgian","HangulJamo","Ethiopic","EthiopicSupplement","Cherokee","UnifiedCanadianAboriginalSyllabics","Ogham","Runic","Tagalog","Hanunoo","Buhid","Tagbanwa","Khmer","Mongolian","UnifiedCanadianAboriginalSyllabicsExtended","Limbu","TaiLe","NewTaiLue","KhmerSymbols","Buginese","TaiTham","CombiningDiacriticalMarksExtended","Balinese","Sundanese","Batak","Lepcha","OlChiki","CyrillicExtended-C","GeorgianExtended","SundaneseSupplement","VedicExtensions","PhoneticExtensions","PhoneticExtensionsSupplement","CombiningDiacriticalMarksSupplement","LatinExtendedAdditional","GreekExtended","GeneralPunctuation","SuperscriptsandSubscripts","CurrencySymbols","CombiningDiacriticalMarksforSymbols|CombiningMarksforSymbols","LetterlikeSymbols","NumberForms","Arrows","MathematicalOperators","MiscellaneousTechnical","ControlPictures","OpticalCharacterRecognition","EnclosedAlphanumerics","BoxDrawing","BlockElements","GeometricShapes","MiscellaneousSymbols","Dingbats","MiscellaneousMathematicalSymbols-A","SupplementalArrows-A","BraillePatterns","SupplementalArrows-B","MiscellaneousMathematicalSymbols-B","SupplementalMathematicalOperators","MiscellaneousSymbolsandArrows","Glagolitic","LatinExtended-C","Coptic","GeorgianSupplement","Tifinagh","EthiopicExtended","CyrillicExtended-A","SupplementalPunctuation","CJKRadicalsSupplement","KangxiRadicals",null,"IdeographicDescriptionCharacters","CJKSymbolsandPunctuation","Hiragana","Katakana","Bopomofo","HangulCompatibilityJamo","Kanbun","BopomofoExtended","CJKStrokes","KatakanaPhoneticExtensions","EnclosedCJKLettersandMonths","CJKCompatibility","CJKUnifiedIdeographsExtensionA","YijingHexagramSymbols","CJKUnifiedIdeographs","YiSyllables","YiRadicals","Lisu","Vai","CyrillicExtended-B","Bamum","ModifierToneLetters","LatinExtended-D","SylotiNagri","CommonIndicNumberForms","Phags-pa","Saurashtra","DevanagariExtended","KayahLi","Rejang","HangulJamoExtended-A","Javanese","MyanmarExtended-B","Cham","MyanmarExtended-A","TaiViet","MeeteiMayekExtensions","EthiopicExtended-A","LatinExtended-E","CherokeeSupplement","MeeteiMayek","HangulSyllables","HangulJamoExtended-B","HighSurrogates","HighPrivateUseSurrogates","LowSurrogates","PrivateUseArea|PrivateUse","CJKCompatibilityIdeographs","AlphabeticPresentationForms","ArabicPresentationForms-A","VariationSelectors","VerticalForms","CombiningHalfMarks","CJKCompatibilityForms","SmallFormVariants","ArabicPresentationForms-B","HalfwidthandFullwidthForms","Specials","LinearBSyllabary","LinearBIdeograms","AegeanNumbers","AncientGreekNumbers","AncientSymbols","PhaistosDisc",null,"Lycian","Carian","CopticEpactNumbers","OldItalic","Gothic","OldPermic","Ugaritic","OldPersian",null,"Deseret","Shavian","Osmanya","Osage","Elbasan","CaucasianAlbanian",null,"LinearA",null,"CypriotSyllabary","ImperialAramaic","Palmyrene","Nabataean",null,"Hatran","Phoenician","Lydian",null,"MeroiticHieroglyphs","MeroiticCursive","Kharoshthi","OldSouthArabian","OldNorthArabian",null,"Manichaean","Avestan","InscriptionalParthian","InscriptionalPahlavi","PsalterPahlavi",null,"OldTurkic",null,"OldHungarian","HanifiRohingya",null,"RumiNumeralSymbols",null,"OldSogdian","Sogdian",null,"Elymaic","Brahmi","Kaithi","SoraSompeng","Chakma","Mahajani","Sharada","SinhalaArchaicNumbers","Khojki",null,"Multani","Khudawadi","Grantha",null,"Newa","Tirhuta",null,"Siddham","Modi","MongolianSupplement","Takri",null,"Ahom",null,"Dogra",null,"WarangCiti",null,"Nandinagari","ZanabazarSquare","Soyombo",null,"PauCinHau",null,"Bhaiksuki","Marchen",null,"MasaramGondi","GunjalaGondi",null,"Makasar",null,"TamilSupplement","Cuneiform","CuneiformNumbersandPunctuation","EarlyDynasticCuneiform",null,"EgyptianHieroglyphs","EgyptianHieroglyphFormatControls",null,"AnatolianHieroglyphs",null,"BamumSupplement","Mro",null,"BassaVah","PahawhHmong",null,"Medefaidrin",null,"Miao",null,"IdeographicSymbolsandPunctuation","Tangut","TangutComponents",null,"KanaSupplement","KanaExtended-A","SmallKanaExtension","Nushu",null,"Duployan","ShorthandFormatControls",null,"ByzantineMusicalSymbols","MusicalSymbols","AncientGreekMusicalNotation",null,"MayanNumerals","TaiXuanJingSymbols","CountingRodNumerals",null,"MathematicalAlphanumericSymbols","SuttonSignWriting",null,"GlagoliticSupplement",null,"NyiakengPuachueHmong",null,"Wancho",null,"MendeKikakui",null,"Adlam",null,"IndicSiyaqNumbers",null,"OttomanSiyaqNumbers",null,"ArabicMathematicalAlphabeticSymbols",null,"MahjongTiles","DominoTiles","PlayingCards","EnclosedAlphanumericSupplement","EnclosedIdeographicSupplement","MiscellaneousSymbolsandPictographs","Emoticons","OrnamentalDingbats","TransportandMapSymbols","AlchemicalSymbols","GeometricShapesExtended","SupplementalArrows-C","SupplementalSymbolsandPictographs","ChessSymbols","SymbolsandPictographsExtended-A",null,"CJKUnifiedIdeographsExtensionB",null,"CJKUnifiedIdeographsExtensionC","CJKUnifiedIdeographsExtensionD","CJKUnifiedIdeographsExtensionE","CJKUnifiedIdeographsExtensionF",null,"CJKCompatibilityIdeographsSupplement",null,"Tags",null,"VariationSelectorsSupplement",null,"SupplementaryPrivateUseArea-A|PrivateUse","SupplementaryPrivateUseArea-B|PrivateUse"].forEach((e,i)=>{const a=t[i];null!==e&&e.split("|").forEach(e=>{const t=n.get(e),i=Ca(r,r+a-1);n.set(e,t?Ba(t,i):i)}),r+=a}),n}(0,[128,128,128,208,96,80,112,144,256,48,96,112,256,80,48,64,64,64,32,16,48,96,128,128,128,128,128,128,128,128,128,128,128,128,256,160,96,256,384,32,96,640,32,96,32,32,32,32,128,176,80,80,48,96,32,32,144,80,128,64,64,80,48,16,48,16,48,128,64,64,256,256,112,48,48,48,80,64,112,256,256,64,32,160,128,32,96,256,192,48,16,256,128,128,256,256,96,32,128,48,80,96,32,128,128,224,16,16,64,96,96,48,96,16,32,48,16,256,256,6592,64,20992,1168,64,48,320,96,96,32,224,48,16,64,96,32,48,48,32,96,32,96,32,96,32,48,64,80,64,11184,80,896,128,1024,6400,512,80,688,16,16,16,32,32,144,240,16,128,128,64,80,64,48,128,32,64,32,48,32,48,32,64,32,80,48,48,80,48,64,144,384,128,64,32,32,48,48,32,32,32,64,32,96,96,32,32,32,64,64,32,32,48,80,80,48,128,64,288,32,128,48,64,112,32,128,80,48,80,48,96,32,80,48,48,80,128,128,128,96,160,128,96,32,80,48,64,192,80,80,96,160,96,80,96,16,64,256,112,80,64,96,80,304,32,192,64,1024,128,208,2736,1072,16,4032,640,8576,576,48,96,48,144,688,96,96,160,64,32,6144,768,9472,256,48,64,400,2304,160,16,4944,256,256,80,144,32,96,32,128,1024,688,1360,48,208,80,368,64,1280,224,32,96,784,80,64,80,176,256,256,48,112,96,256,256,768,80,48,128,128,128,256,256,112,144,1280,42720,32,4160,224,5776,7488,3088,544,722400,128,128,240,65040,65536,65536]),ro=function(e){const t=new Map,n="bfUATCYATCPAQATAXATAOATBKJTBXCTBCZPATAQAZANAZADZPAXAQAXAbgUATAYDaATAZAaAGARAXAcAaAZAaAXAMBZADATBZAMAGASAMCTACWXACGDXXADHA3DAAPDAAtCAAFDBCAADCAABCCDBCCABCAABCCDCCAABCAAFCAADDAABCAABCBADCBDBGACADCGDCAEADACAEADACAEADAAPDAARDACAEADAABCBA7DFCAABCBDBABCCAJjDBAAGADaFRZDFLZNFEZGFAZAFAZQnvBAAADFAZACADABBFADCTACABDZBCATACCBACABACAABCQBACIDiCADBCCDCAXDDCADAXAABCBDBCyDvAhaAHEJBA1CAANDAgfBAABAClBBFATFDoTAOABBaBYABAHsOAHATAHBTAHBTAHABHGaBDGDTBBKcFXCTBYATBaBHKTAcABATBGfFAGJHUKJTDGBHAmiBAATAGAHGcAaAHFFBHBaAHDGBKJGCaBGATNBAcAGAHAGdHaBBmYBAAHKGABNKJGgHIFBaATCFABBHAYBGVHDFAHIFAHCFAHEBBTOBAGYHCBBTABAGKB0GUBAGHBUHOcAHfIAG1HAIAHAGAICHHIDHAIBGAHGGJHBTBKJTAFAGOHAIBBAGHBBGBBBGVBAGGBAGABCGDBBHAGAICHDBBIBBBIBHAGABHIABDGBBAGCHBBBKJGBYBMFaAYAGATAHABBHBIABAGFBDGBBBGVBAGGBAGBBAGBBAGBBBHABAICHBBDHBBBHCBCHABGGDBAGABGKJHBGCHATABJHBIABAGIBAGCBAGVBAGGBAGBBAGEBBHAGAICHEBAHBIABAIBHABBGABOGBHBBBKJTAYABGGAHFBAHAIBBAGHBBGBBBGVBAGGBAGBBAGEBBHAGAIAHAIAHDBBIBBBIBHABHHAIABDGBBAGCHBBBKJaAGAMFBJHAGABAGFBCGCBAGDBCGBBAGABAGBBCGBBCGCBCGLBDIBHAIBBCICBAICHABBGABFIABNKJMCaFYAaABEHAICHAGHBAGCBAGWBAGPBCGAHCIDBAHCBAHDBGHBBAGCBEGBHBBBKJBGTAMGaAGAHAIBTAGHBAGCBAGWBAGJBAGEBBHAGAIAHAIEBAHAIBBAIBHBBGIBBGGABAGBHBBBKJBAGBBMHBIBBAGHBAGCBAGoHBGAICHDBAICBAICHAGAaABDGCIAMGGCHBBBKJMIaAGFBBIBBAGRBCGXBAGIBAGABBGGBCHABDICHCBAHABAIHBFKJBBIBTABLGvHAGBHGBDYAGFFAHHTAKJTBBkGBBAGABAGEBAGXBAGABAGJHAGBHIGABBGEBAFABAHFBBKJBBGDBfGAaCTOaATAaCHBaFKJMJaAHAaAHAaAHAPAQAPAQAIBGHBAGjBDHNIAHETAHBGEHKBAHjBAaHHAaFBAaBTEaDTBBkGqIBHDIAHFIAHBIBHBGAKJTFGFIBHBGDHCGAICGBIGGCHDGMHAIBHBIFHAGAIAKJICHAaBClBACABECABBDqTAFADCmIFAABAGDBBGGBAGABAGDBBGoBAGDBBGgBAGDBBGGBAGABAGDBBGOBAG4BAGDBBmCBAABBHCTIMTBCGPaJBFiVBAABBDFBBOAmrJAAaATAGQUAGZPAQABCmKBAATCLCGHBGGMBAGDHCBKGRHCTBBIGRHBBLGMBAGCBAHBBLGzHBIAHGIHHAIBHKTCFATCYAGAHABBKJBFMJBFTFOATDHCcABAKJBFGiFAG0BGGEHBGhHAGABEmFBAABJGeBAHCIDHBICBDIBHAIFHCBDaABCTBKJGdBBGEBKGrBDGZBFKJMABCahGWHBIBHABBTBG0IAHAIAHGBAHAIAHAIBHHIFHJBBHAKJBFKJBFTGFATFBBHNJAhABAAHDIAGuHAIAHEIAHAIEHAIBGGBDKJTGaJHIaIBCHBIAGdIAHDIBHBIAHCGBKJGrHAIAHBICHAIAHCIBBHTDGjIHHHIBHBBCTEKJBCGCKJGdFFTBDIBGCqBBCCTHBHHCTAHMIAHGGDHAGFHAGBIAHBGABEDrF+DMFADhFkH5BAHEgVCAADHghBAADHCHDFBBCFBBDHCHDHCHDFBBCFBBDHBACABACABACABACADHCHDNBBDHEHDHEHDHEHDEBADBCDEAZADAZCDCBADBCDEAZCDDBBDBCDBAZCDHCEZCBBDCBADBCDEAZBBAUKcEOFTBRASAPARBSAPARATHVAWAcEUATIRASATDNBTCXAPAQATKXATANATJUAcEBAcJMAFABBMFXCPAQAFAMJXCPAQABAFMBCYfBPHMJDHAJCHLBOaBCAaDCAaBDACCDBCCDAaACAaBXACEaFCAaACAaACAaACDaADACDDAGDDAaBDBCBXECADDaAXAaBDAaAMPLiCADALDMAaBBDXEaEXBaDXAaBXAaBXAaGXAaeXBaBXAaAXAae3LEAAaHPAQAPAQAaTXBaGPAQA6QBAAXAadXYanXF6EBAABYaKBUM76NBAAMV62CAAXAaIXAa1XH6uBAAXA63DAAPAQAPAQAPAQAPAQAPAQAPAQAPAQAMdarXEPAQAXePAQAPAQAPAQAPAQAPAQAXP6/DAA3CCAAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAX+PAQAPAQAXfPAQA3BEAAavXUaBXFamBBafBB6nBAACuBADuBAABCCDBAFCCADDACADFFBCBgjBAADAaFADHCCADABETDMATBDlBADABEDABBG3BGFATABNHAGWBIGGBAGGBAGGBAGGBAGGBAGGBAGGBAGGBAHfTBRASARASATCRASATARASATIOATBOATARASATBRASAPAQAPAQAPAQAPAQATEFATJOBTDOATAPATMBvaZBA6YBAABL6VDAABZaLBDUATCaAFAGALAPAQAPAQAPAQAPAQAPAQAaBPAQAPAQAPAQAPAQAOAPAQBaALIHDIBOAFEaBLCFAGATAaBBAmVBAABBHBZBFBGAOAmZBAATAFCGABEGqBAmdBAABAaBMDaJGaBEajBLGPaeBAMJadMHaAMOafMJamMO6/EAAm1mBABJa/mvHFABPGUFAm2RAABCa2BIGnFFTBmLEAAFATCGPKJGBBTAtGAHAJCTAHJTAFAAbFBHBmFBAALJHBTFBHZWFIZBANDBA9FADHADCAAJFAZBADGAADDBATCDABCDALBBABCCBvGAFBDAGGHAGCHAGDHAGWIBHBIAaDBDMFaBYAaABFGzTDBHIBGxIPHBBHTBKJBFHRGFTCGATAGBHAKJGbHHTBGWHKIBBKTAGcBCHCIAGuHAIBHDIBHBICTMBAFAKJBDTBGEHAFAGIKJGEBAGoHFIBHBIBHBBIGCHAGHHAIABBKJBBTDGPFAGFaCGAIAHAIAGxHAGAHCGBHBGEHBGAHAGABXGBFATBGKIAHBIBTBGAFBIAHABJGFBBGFBBGFBIGGBAGGBADqZAFDDHBHjPBAAGiIBHAIBHAIBTAIAHABBKJBFmjuCABLGWBDGwhDgAA9/jBAmtFAABBmpBAABlDGBLDEBEGAHAGJXAGMBAGEBAGABAGBBAGBBAmrBAAZPBQmqFAAQAPABPG/BBG1BnGLYAaABBHPTGPAQATABFHPTAOBNBPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQATBPAQATDNCTCBATDOAPAQAPAQAPAQATCXAOAXCBATAYATBBDGEBAmGCAABBcABATCYATCPAQATAXATAOATBKJTBXCTBCZPATAQAZANAZADZPAXAQAXAPAQATAPAQATBGJFAGsFBGeBCGFBBGFBBGFBBGCBCYBXAZAaAYBBAaAXDaBBJcCaBBBGLBAGZBAGSBAGBBAGOBBGNBhm6BAABETCBDMsBCaIL0MDaQMBaCBAaLBDaABuasHAhBCAAGcBCGwBOHAMaBDGfMDBIGTLAGHLABEGlHEBEGdBATAGjBDGHTALEBpCnDnmNBAABBKJBFCjBDDjBDGnBHGzBKTAhPCAAm2EAABIGVBJGHhXCAAGFBBGABAGrBAGBBCGABBGWBATAMHGWaBMGGeBHMIBvGSBAGBBEMEGVMFBCTAGZBETAB/G3BDMBGBMPBBMtGAHCBAHBBEHDGDBAGCBAGcBBHCBDHAMIBGTIBGGcMBTAGcMCBfGHaAGbHBBDMETGBIG1BCTGGVBBMHGSBEMHGRBGTDBLMGhPBAAmIBAAB2CyBMDyBGMFGjHDBHKJhlEAAMehACAAGcMJGABHGVHKMDTEhFCAAGWBIIAHAIAG0HOTGBDMTKJBOHCIAGsICHDIBHBTBcATDBKcABBGYBGKJBFHCGjHEIAHHBAKJTDGAIBBIGiHATBGABIHBIAGvICHIIBGDTDHDTABBKJGATAGATCBAMTBKGRBAGYICHCIBHAIAHBTFHAhABAAGGBAGABAGDBAGOBAGJTABFGuHAICHHBEKJBFHBIBBAGHBBGBBBGVBAGGBAGBBAGEBAHBGAIBHAIDBBIBBBICBBGABFIABEGEIBBBHGBCHEhKCAAG0ICHHIBHCIAHAGDTEKJBATABATAHAGABfGvICHFIAHAIDHBIAHBGBTAGABHKJhlCAAGuICHDBBIDHBIAHBTWGDHBBhGvICHHIBHAIAHBTCGABKKJBFTMBSGqHAIAHAIBHFIAHAGABGKJB1GaBBHCIBHDIAHEBDKJMBTCaAh/CAAGrICHIIAHBTAhjBAACfDfKJMIBLGAhfCAAGHBBGmICHDBBHBIDHAGATAGAIABaGAHJGnHFIAGAHDTHHABHGAHFIBHCGtHMIAHBTCGATEBcG4hGEAAGIBAGkIAHGBAHFIAHAGATEBJKJMSBCTBGdBBHVBAIAHGIAHBIAHBhIBAAGGBAGBBAGlHFBCHABAHBBAHGGAHABHKJBFGFBAGBBAGfIEBAHBBAIBHAIAHAGABGKJh1EAAGSHBIBTBhGDAAMUaHYDaQBMTAmZOAAhlBAAruBAABATEBKmDDAAh7qAAmuQAABAcIhG/AAmGJAAh4GCAm4IAABGGeBAKJBDTBhfBAAGdBBHETABJGvHGTEaDFDTAaABJKJBAMGBAGUBEGShvKAACfDfMWTDhkBAAmKBAABDHAGAI2BGHDFMB/FBTAFABbm3fBABHmyLAAhMUCAmeEAABwGCBQGDBHmLGAAhDkAAmqBAABEGMBCGIBGGJBBaAHBTAcDhbNBA61DAABJamBBa7IBHCaCIFcHHHaBHGadHDa6BW6BBAAHCaAhZCAAMTBL6WBAABIMYhGCAACZDZCZDGBADRCZDZCABACBBBCABBCBBBCDBACHDDBADABADGBADKCZDZCBBACDBBCHBACGBADZCBBACDBACEBACABCCGBADZCZDZCZDZCZDZCZDZCZDZCZDbBBCYXADYXADFCYXADYXADFCYXADYXADFCYXADYXADFCYXADYXADFCADABBKx6/HAAH2aDHxaHHAaNHAaBTEBOHEBAHOhPVAAHGBAHQBBHGBAHBBAHEhUDAAGsBCHGFGBBKJBDGAaAhvFAAGrHDKJBEYAh/TAAmEDAABBMIHGBoChDhHGFABDKJBDTBhQMAAM6aAMCYAMDhLBAAMsaAMOhBDAAGDBAGaBAGBBAGABBGABAGJBAGDBAGABAGABFGABDGABAGABAGABAGCBAGBBAGABBGABAGABAGABAGABAGABAGBBAGABBGDBAGGBAGDBAGDBAGABAGJBAGQBEGCBAGEBAGQBzXBhNEAAarBD6jBAABLaOBBaOBAaOBAakBJMMBC6cBAABCa8B4acBMarBDaIBGaBBNaFhZCAA66DAAZE6VLAABJaMBCaKBE6zBAABL6YBAABGaLBTaLBDa3BHaJBFanBHadhRBAAaLBA6kBAABAaDBCaoBBaFBCacBB6GCAABLaNBBaDBDaCBEaCBMaFhpVAAmWbKABom0ABABKmdDAABBmBaBABNmw0BAhewAAmdIAAhiXwCcABd8fBAAh/BAAnvDAAhP4PA99/PABB99/PA".split(""),r=Ja.map(()=>[]);let i=0,a=0;for(;a<n.length;){const e=Qa[n[a]],t=(31&e)-2;let o=1+Qa[n[a+1]];switch(32&e?(o+=Qa[n[a+2]]<<6,o+=Qa[n[a+3]]<<12,o+=Qa[n[a+4]]<<18,a+=5):a+=2,t){case-2:{let e=0;for(let t=i;t<i+o;++t)r[e].push(Ea(t)),e=(e+1)%2;break}case-1:break;default:{const e=r[t];1===o?e.push(Ea(i)):e.push(Ca(i,i+o-1));break}}i+=o}const o=new Map;return Ja.forEach((e,n)=>{const i=r[n].reduce(Ba,Ta);t.set(e,i);const a=e.charAt(0),s=o.get(a)||[];o.set(a,s),s.push(i)}),o.forEach((e,n)=>{t.set(n,e.reduce(Ba,Ta))}),t}();function io(e){return 32===e||9===e||10===e||13===e}const ao=[Ea(Za(":")),Ca(Za("A"),Za("Z")),Ea(Za("_")),Ca(Za("a"),Za("z")),Ca(192,214),Ca(216,246),Ca(192,214),Ca(216,246),Ca(248,767),Ca(880,893),Ca(895,8191),Ca(8204,8205),Ca(8304,8591),Ca(11264,12271),Ca(12289,55295),Ca(63744,64975),Ca(65008,65533),Ca(65536,983039)].reduce(Ba),oo=[ao,Ea(Za("-")),Ea(Za(".")),Ca(Za("0"),Za("9")),Ea(183),Ca(768,879),Ca(8255,8256)].reduce(Ba),so=ro.get("Nd"),lo=eo(so),uo=to(Ca(0,1114111),[ro.get("P"),ro.get("Z"),ro.get("C")].reduce(Ba)),co=eo(uo);function po(e){return 10!==e&&13!==e&&!Wa(e)}const ho={s:io,S:eo(io),i:ao,I:eo(ao),c:oo,C:eo(oo),d:so,D:lo,w:uo,W:co},fo=Da("*"),mo=Da("\\"),go=Da("{"),yo=Da("}"),vo=Da("["),bo=Da("]"),wo=Da("^"),xo=Da("$"),Ao=Da(","),_o=Da("-"),Eo=Da("("),Co=Da(")"),No=Da("."),To=Da("|"),Bo=Da("+"),So=Da("?"),Io=Da("-["),ko=Za("0");function Oo(e){function t(e){return new Set(e.split("").map(e=>Za(e)))}function n(e,t){const n=e.codePointAt(t);return void 0===n?Pa(t,["any character"]):ka(t+String.fromCodePoint(n).length,n)}const r="xpath"===e.language?qa(mo,Fa([Ra(Da("n"),()=>10),Ra(Da("r"),()=>13),Ra(Da("t"),()=>9),Ra(Fa([mo,To,No,_o,wo,So,fo,Bo,go,yo,xo,Eo,Co,vo,bo]),e=>Za(e))])):qa(mo,Fa([Ra(Da("n"),()=>10),Ra(Da("r"),()=>13),Ra(Da("t"),()=>9),Ra(Fa([mo,To,No,_o,wo,So,fo,Bo,go,yo,Eo,Co,vo,bo]),e=>Za(e))]));function i(e,r){const i=t(r);return Ga(Da(e),Ua(Ma(n,e=>i.has(e),r.split(""))),(e,t)=>function(e){const t=ro.get(e);if(null==t)throw new Error(e+" is not a valid unicode category");return t}(null===t?e:e+String.fromCodePoint(t)))}const a=Fa([i("L","ultmo"),i("M","nce"),i("N","dlo"),i("P","cdseifo"),i("Z","slp"),i("S","mcko"),i("C","cfon")]),o=[Ca(Za("a"),Za("z")),Ca(Za("A"),Za("Z")),Ca(Za("0"),Za("9")),Ea(45)].reduce(Ba),s=Fa([a,Ra(qa(Da("Is"),function(e){return(t,n)=>{const r=e(t,n);return r.success?ka(r.offset,t.slice(n,r.offset)):r}}(La(Ma(n,o,["block identifier"])))),t=>function(e,t){const n=no.get(e);if(void 0===n){if(t)return Na;throw new Error(`The unicode block identifier "${e}" is not known.`)}return n}(t,"xpath"!==e.language))]),l=za(Da("\\p{"),s,yo,!0),u=Ra(za(Da("\\P{"),s,yo,!0),eo),c=qa(mo,Ra(Fa("sSiIcCdDwW".split("").map(e=>Da(e))),e=>ho[e])),p=Ra(No,()=>po),h=Fa([c,l,u]),d=t("\\[]"),f=Fa([r,Ma(n,e=>!d.has(e),["unescaped character"])]),m=Fa([Ra(_o,()=>null),f]),g=Ga(m,qa(_o,m),Ca);function y(e,t){return[e].concat(t||[])}const v=Ra(function(e){return(t,n)=>{const r=e(t,n);return r.success?ka(n,r.value):r}}(Fa([bo,Io])),()=>null),b=Za("-"),w=Fa([Ra(Va(Va(_o,$a(vo,["not ["])),v),()=>b),qa($a(_o,["not -"]),f)]),x=Fa([Ga(Ra(w,Ea),Fa([function(e,t){return x(e,t)},v]),y),Ga(Fa([g,h]),Fa([_,v]),y)]),A=Fa([Ga(Ra(f,Ea),Fa([x,v]),y),Ga(Fa([g,h]),Fa([_,v]),y)]);function _(e,t){return A(e,t)}const E=Ra(A,e=>e.reduce(Ba)),C=Ra(qa(wo,E),eo),N=Ga(Fa([qa($a(wo,["not ^"]),E),C]),Ua(qa(_o,(function(e,t){return T(e,t)}))),to),T=za(vo,N,bo,!0),B="xpath"===e.language?Fa([Ra(r,Ea),h,T,p,Ra(wo,()=>e=>-1===e),Ra(xo,()=>e=>-2===e)]):Fa([Ra(r,Ea),h,T,p]),S="xpath"===e.language?t(".\\?*+{}()|^$[]"):t(".\\?*+{}()|[]"),I=Ma(n,e=>!S.has(e),["NormalChar"]),k=Ra(qa(mo,Ga(Ra(Ma(n,Ca(Za("1"),Za("9")),["digit"]),e=>e-ko),Ha(Ra(Ma(n,Ca(ko,Za("9")),["digit"]),e=>e-ko)),(e,t)=>{t.reduce((e,t)=>10*e+t,e)})),e=>{throw new Error("Backreferences in XPath patterns are not yet implemented.")}),O="xpath"===e.language?Fa([Ra(I,e=>({kind:"predicate",value:Ea(e)})),Ra(B,e=>({kind:"predicate",value:e})),Ra(za(Eo,qa(Ua(Da("?:")),U),Co,!0),e=>({kind:"regexp",value:e})),k]):Fa([Ra(I,e=>({kind:"predicate",value:Ea(e)})),Ra(B,e=>({kind:"predicate",value:e})),Ra(za(Eo,U,Co,!0),e=>({kind:"regexp",value:e}))]),P=Ra(La(Ra(Ma(n,Ca(ko,Za("9")),["digit"]),e=>e-ko)),e=>e.reduce((e,t)=>10*e+t)),D=Fa([Ga(P,qa(Ao,P),(e,t)=>{if(t<e)throw new Error("quantifier range is in the wrong order");return{min:e,max:t}}),Ga(P,Ao,e=>({min:e,max:null})),Ra(P,e=>({min:e,max:e}))]),R="xpath"===e.language?Ga(Fa([Ra(So,()=>({min:0,max:1})),Ra(fo,()=>({min:0,max:null})),Ra(Bo,()=>({min:1,max:null})),za(go,D,yo,!0)]),Ua(So),(e,t)=>e):Fa([Ra(So,()=>({min:0,max:1})),Ra(fo,()=>({min:0,max:null})),Ra(Bo,()=>({min:1,max:null})),za(go,D,yo,!0)]),M=Ha(Ga(O,Ra(Ua(R),e=>null===e?{min:1,max:1}:e),(e,t)=>[e,t])),F=Ga(M,Ha(qa(To,Ya(M))),(e,t)=>[e].concat(t));function U(e,t){return F(e,t)}const H=function(e){return Ga(e,Ka,ja)}(F);return function(e){let t;try{t=H(e,0)}catch(t){throw new Error(`Error parsing pattern "${e}": ${t.message}`)}return t.success?t.value:function(e,t,n){const r=n.map(e=>`"${e}"`);throw new Error(`Error parsing pattern "${e}" at offset ${t}: expected ${r.length>1?"one of "+r.join(", "):r[0]} but found "${e.slice(t,t+1)}"`)}(e,t.offset,t.expected)}}function Po(e){return[...e].map(e=>e.codePointAt(0))}const Do=function(e){const t={};var n;function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var i="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var a=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=a;e=e.split(".");for(var r=0;r<e.length-1;r++){var o=e[r];if(!(o in n))break e;n=n[o]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&i(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function l(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}function u(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function c(e){return e instanceof Array?e:u(l(e))}o("Symbol",(function(e){function t(e,t){this.h=e,i(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.h};var n=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t("jscomp_symbol_"+(r||"")+"_"+n++,r)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var o=a[t[n]];"function"==typeof o&&"function"!=typeof o.prototype[e]&&i(o.prototype,e,{configurable:!0,writable:!0,value:function(){return s(r(this))}})}return e})),o("Symbol.asyncIterator",(function(e){return e||Symbol("Symbol.asyncIterator")}));var p,h="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)p=Object.setPrototypeOf;else{var d;e:{var f={};try{f.__proto__={a:!0},d=f.a;break e}catch(e){}d=!1}p=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var m=p;function g(e,t){if(e.prototype=h(t.prototype),e.prototype.constructor=e,m)m(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.Bc=t.prototype}function y(){this.J=!1,this.o=null,this.v=void 0,this.h=1,this.N=0,this.B=null}function v(e){if(e.J)throw new TypeError("Generator is already running");e.J=!0}function b(e,t){e.B={kc:t,nc:!0},e.h=e.N}function w(e){this.h=new y,this.o=e}function x(e,t,n,r){try{var i=t.call(e.h.o,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.h.J=!1,i;var a=i.value}catch(t){return e.h.o=null,b(e.h,t),A(e)}return e.h.o=null,r.call(e.h,a),A(e)}function A(e){for(;e.h.h;)try{var t=e.o(e.h);if(t)return e.h.J=!1,{value:t.value,done:!1}}catch(t){e.h.v=void 0,b(e.h,t)}if(e.h.J=!1,e.h.B){if(t=e.h.B,e.h.B=null,t.nc)throw t.kc;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function _(e){this.next=function(t){return v(e.h),e.h.o?t=x(e,e.h.o.next,t,e.h.C):(e.h.C(t),t=A(e)),t},this.throw=function(t){return v(e.h),e.h.o?t=x(e,e.h.o.throw,t,e.h.C):(b(e.h,t),t=A(e)),t},this.return=function(t){return function(e,t){v(e.h);var n=e.h.o;return n?x(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.h.return):(e.h.return(t),A(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}y.prototype.C=function(e){this.v=e},y.prototype.return=function(e){this.B={return:e},this.h=this.N},o("Promise",(function(e){function t(e){this.o=0,this.B=void 0,this.h=[],this.N=!1;var t=this.J();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.h=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.o=function(e){if(null==this.h){this.h=[];var t=this;this.B((function(){t.v()}))}this.h.push(e)};var i=a.setTimeout;n.prototype.B=function(e){i(e,0)},n.prototype.v=function(){for(;this.h&&this.h.length;){var e=this.h;this.h=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.J(e)}}}this.h=null},n.prototype.J=function(e){this.B((function(){throw e}))},t.prototype.J=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.mb),reject:e(this.v)}},t.prototype.mb=function(e){if(e===this)this.v(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.wb(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.ua(e):this.C(e)}},t.prototype.ua=function(e){var t=void 0;try{t=e.then}catch(e){return void this.v(e)}"function"==typeof t?this.Wb(t,e):this.C(e)},t.prototype.v=function(e){this.ka(2,e)},t.prototype.C=function(e){this.ka(1,e)},t.prototype.ka=function(e,t){if(0!=this.o)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.o);this.o=e,this.B=t,2===this.o&&this.vb(),this.na()},t.prototype.vb=function(){var e=this;i((function(){if(e.Ya()){var t=a.console;void 0!==t&&t.error(e.B)}}),1)},t.prototype.Ya=function(){if(this.N)return!1;var e=a.CustomEvent,t=a.Event,n=a.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=a.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.B,n(e))},t.prototype.na=function(){if(null!=this.h){for(var e=0;e<this.h.length;++e)o.o(this.h[e]);this.h=null}};var o=new n;return t.prototype.wb=function(e){var t=this.J();e.nb(t.resolve,t.reject)},t.prototype.Wb=function(e,t){var n=this.J();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){a(e)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.nb(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.nb=function(e,t){function n(){switch(r.o){case 1:e(r.B);break;case 2:t(r.B);break;default:throw Error("Unexpected state: "+r.o)}}var r=this;null==this.h?o.o(n):this.h.push(n),this.N=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=l(e),a=i.next();!a.done;a=i.next())r(a.value).nb(t,n)}))},t.all=function(e){var n=l(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).nb(a(o.length-1),t),i=n.next()}while(!i.done)}))},t}));var C="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)E(r,i)&&(e[i]=r[i])}return e};function N(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}function T(e,t){return e=void 0!==e?String(e):" ",0<t&&e?e.repeat(Math.ceil(t/e.length)).substring(0,t):""}function B(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return{Hb:i,Pb:a}}return{Hb:-1,Pb:void 0}}function S(e){return e||Array.prototype.fill}function I(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}function k(e,t){if(!("0"!==e&&"-0"!==e||"0"!==t&&"-0"!==t))return 0;var n=/(?:\+|(-))?(\d+)?(?:\.(\d+))?/;e=n.exec(e+"");var r=n.exec(t+""),i=!e[1],a=!r[1];return t=(e[2]||"").replace(/^0*/,""),n=(r[2]||"").replace(/^0*/,""),e=e[3]||"",r=r[3]||"",i&&!a?1:!i&&a?-1:(i=i&&a,t.length>n.length?i?1:-1:t.length<n.length?i?-1:1:t>n?i?1:-1:t<n?i?-1:1:(t=Math.max(e.length,r.length),(n=e.padEnd(t,"0"))>(t=r.padEnd(t,"0"))?i?1:-1:n<t?i?-1:1:0))}function O(e,t){return!(-1<(e=e.toString()).indexOf(".")&&0===t)&&(!(e=/^[-+]?0*([1-9]\d*)?(?:\.((?:\d*[1-9])*)0*)?$/.exec(e))[2]||e[2].length<=t)}function P(e,t){switch(t){case"required":return/(Z)|([+-])([01]\d):([0-5]\d)$/.test(e.toString());case"prohibited":return!/(Z)|([+-])([01]\d):([0-5]\d)$/.test(e.toString());case"optional":return!0}}function D(e){switch(e){case 1:case 0:case 6:case 3:return{};case 4:return{la:O,ra:function(e,t){return 1>k(e,t)},zc:function(e,t){return 0>k(e,t)},sa:function(e,t){return-1<k(e,t)},Ac:function(e,t){return 0<k(e,t)}};case 18:return{};case 9:case 8:case 7:case 11:case 12:case 13:case 15:case 14:return{xa:P};case 22:case 21:case 20:case 23:case 44:return{};default:return null}}o("Object.assign",(function(e){return e||C})),o("String.prototype.repeat",(function(e){return e||function(e){var t=N(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}})),o("String.prototype.padEnd",(function(e){return e||function(e,t){var n=N(this,null,"padStart");return n+T(t,e-n.length)}})),o("WeakMap",(function(e){function t(e){if(this.h=(u+=Math.random()+1).toString(),e){e=l(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function a(e){if(!E(e,s)){var t=new n;i(e,s,{value:t})}}function o(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&a(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(e){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var u=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(a(e),!E(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.h]=t,this},t.prototype.get=function(e){return r(e)&&E(e,s)?e[s][this.h]:void 0},t.prototype.has=function(e){return r(e)&&E(e,s)&&E(e[s],this.h)},t.prototype.delete=function(e){return!!(r(e)&&E(e,s)&&E(e[s],this.h))&&delete e[s][this.h]},t})),o("Map",(function(e){function t(){var e={};return e.Ba=e.next=e.head=e}function n(e,t){var n=e.h;return s((function(){if(n){for(;n.head!=e.h;)n=n.Ba;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++o,a.set(t,n)):n="p_"+t;var r=e.o[n];if(r&&E(e.o,n))for(e=0;e<r.length;e++){var i=r[e];if(t!=t&&i.key!=i.key||t===i.key)return{id:n,list:r,index:e,ja:i}}return{id:n,list:r,index:-1,ja:void 0}}function i(e){if(this.o={},this.h=t(),this.size=0,e){e=l(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(l([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(e){return!1}}())return e;var a=new WeakMap;i.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this.o[n.id]=[]),n.ja?n.ja.value=t:(n.ja={next:this.h,Ba:this.h.Ba,head:this.h,key:e,value:t},n.list.push(n.ja),this.h.Ba.next=n.ja,this.h.Ba=n.ja,this.size++),this},i.prototype.delete=function(e){return!(!(e=r(this,e)).ja||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.o[e.id],e.ja.Ba.next=e.ja.next,e.ja.next.Ba=e.ja.Ba,e.ja.head=null,this.size--,!0)},i.prototype.clear=function(){this.o={},this.h=this.h.Ba=t(),this.size=0},i.prototype.has=function(e){return!!r(this,e).ja},i.prototype.get=function(e){return(e=r(this,e).ja)&&e.value},i.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return n(this,(function(e){return e.key}))},i.prototype.values=function(){return n(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var o=0;return i})),o("Array.prototype.find",(function(e){return e||function(e,t){return B(this,e,t).Pb}})),o("String.prototype.startsWith",(function(e){return e||function(e,t){var n=N(this,e,"startsWith"),r=n.length,i=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var a=0;a<i&&t<r;)if(n[t++]!=e[a++])return!1;return a>=i}})),o("Array.prototype.fill",(function(e){return e||function(e,t,n){var r=this.length||0;for(0>t&&(t=Math.max(0,r+t)),(null==n||n>r)&&(n=r),0>(n=Number(n))&&(n=Math.max(0,r+n)),t=Number(t||0);t<n;t++)this[t]=e;return this}})),o("Int8Array.prototype.fill",S),o("Uint8Array.prototype.fill",S),o("Uint8ClampedArray.prototype.fill",S),o("Int16Array.prototype.fill",S),o("Uint16Array.prototype.fill",S),o("Int32Array.prototype.fill",S),o("Uint32Array.prototype.fill",S),o("Float32Array.prototype.fill",S),o("Float64Array.prototype.fill",S),o("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)r.push(t.call(n,i.value,a++))}else for(i=e.length,a=0;a<i;a++)r.push(t.call(n,e[a],a));return r}})),o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),o("String.prototype.includes",(function(e){return e||function(e,t){return-1!==N(this,e,"includes").indexOf(e,t||0)}})),o("Number.MAX_SAFE_INTEGER",(function(){return 9007199254740991})),o("Number.MIN_SAFE_INTEGER",(function(){return-9007199254740991})),o("Math.trunc",(function(e){return e||function(e){if(e=Number(e),isNaN(e)||1/0===e||-1/0===e||0===e)return e;var t=Math.floor(Math.abs(e));return 0>e?-t:t}})),o("Number.isFinite",(function(e){return e||function(e){return"number"==typeof e&&(!isNaN(e)&&1/0!==e&&-1/0!==e)}})),o("String.prototype.padStart",(function(e){return e||function(e,t){var n=N(this,null,"padStart");return T(t,e-n.length)+n}})),o("Array.prototype.keys",(function(e){return e||function(){return I(this,(function(e){return e}))}})),o("Number.isInteger",(function(e){return e||function(e){return!!Number.isFinite(e)&&e===Math.floor(e)}})),o("Number.isSafeInteger",(function(e){return e||function(e){return Number.isInteger(e)&&Math.abs(e)<=Number.MAX_SAFE_INTEGER}})),o("Array.prototype.findIndex",(function(e){return e||function(e,t){return B(this,e,t).Hb}})),o("String.prototype.endsWith",(function(e){return e||function(e,t){var n=N(this,e,"endsWith");void 0===t&&(t=n.length),t=Math.max(0,Math.min(0|t,n.length));for(var r=e.length;0<r&&0<t;)if(n[--t]!=e[--r])return!1;return 0>=r}})),o("String.fromCodePoint",(function(e){return e||function(e){for(var t="",n=0;n<arguments.length;n++){var r=Number(arguments[n]);if(0>r||1114111<r||r!==Math.floor(r))throw new RangeError("invalid_code_point "+r);65535>=r?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(r>>>10&1023|55296),t+=String.fromCharCode(1023&r|56320))}return t}})),o("String.prototype.codePointAt",(function(e){return e||function(e){var t=N(this,null,"codePointAt"),n=t.length;if(0<=(e=Number(e)||0)&&e<n){e|=0;var r=t.charCodeAt(e);return 55296>r||56319<r||e+1===n||(56320>(e=t.charCodeAt(e+1))||57343<e)?r:1024*(r-55296)+e+9216}}})),o("Set",(function(e){function t(e){if(this.h=new Map,e){e=l(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.h.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(l([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=r.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(e){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.h.set(e,e),this.size=this.h.size,this},t.prototype.delete=function(e){return e=this.h.delete(e),this.size=this.h.size,e},t.prototype.clear=function(){this.h.clear(),this.size=0},t.prototype.has=function(e){return this.h.has(e)},t.prototype.entries=function(){return this.h.entries()},t.prototype.values=function(){return this.h.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.h.forEach((function(r){return e.call(t,r,r,n)}))},t)})),o("Math.log10",(function(e){return e||function(e){return Math.log(e)/Math.LN10}})),o("Number.isNaN",(function(e){return e||function(e){return"number"==typeof e&&isNaN(e)}})),o("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)E(e,t)&&n.push(e[t]);return n}})),o("Array.prototype.values",(function(e){return e||function(){return I(this,(function(e,t){return t}))}})),o("Object.getOwnPropertySymbols",(function(e){return e||function(){return[]}}));var R={},M={};function F(e){return/^([+-]?(\d*(\.\d*)?([eE][+-]?\d*)?|INF)|NaN)$/.test(e)}function U(e){return/^[_:A-Za-z][-._:A-Za-z0-9]*$/.test(e)}function H(e){return U(e)&&/^[_A-Za-z]([-._A-Za-z0-9])*$/.test(e)}function G(e){return 1===(e=e.split(":")).length?H(e[0]):2===e.length&&(H(e[0])&&H(e[1]))}function L(e){return!/[\u0009\u000A\u000D]/.test(e)}function j(e){return H(e)}var X=new Map([[45,function(){return!0}],[46,function(){return!0}],[1,function(){return!0}],[0,function(e){return/^(0|1|true|false)$/.test(e)}],[6,function(e){return F(e)}],[3,F],[4,function(e){return/^[+-]?\d*(\.\d*)?$/.test(e)}],[18,function(e){return/^(-)?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d*)?S)?)?$/.test(e)}],[9,function(e){return/^-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?|(24:00:00(\.0+)?))(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[8,function(e){return/^(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?|(24:00:00(\.0+)?))(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[7,function(e){return/^-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[11,function(e){return/^-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[12,function(e){return/^-?([1-9][0-9]{3,}|0[0-9]{3})(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[13,function(e){return/^--(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[15,function(e){return/^---(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[14,function(e){return/^--(0[1-9]|1[0-2])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(e)}],[22,function(e){return/^([0-9A-Fa-f]{2})*$/.test(e)}],[21,function(e){return new RegExp(/^((([A-Za-z0-9+/] ?){4})*((([A-Za-z0-9+/] ?){3}[A-Za-z0-9+/])|(([A-Za-z0-9+/] ?){2}[AEIMQUYcgkosw048] ?=)|(([A-Za-z0-9+/] ?)[AQgw] ?= ?=)))?$/).test(e)}],[20,function(){return!0}],[44,G],[48,L],[52,function(e){return L(e)&&!/^ | {2,}| $/.test(e)}],[51,function(e){return/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/.test(e)}],[50,function(e){return/^[-._:A-Za-z0-9]+$/.test(e)}],[25,U],[23,G],[24,H],[42,j],[41,j],[26,function(e){return H(e)}],[5,function(e){return/^[+-]?\d+$/.test(e)}],[16,function(e){return/^-?P[0-9]+(Y([0-9]+M)?|M)$/.test(e)}],[17,function(e){return/^-?P([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9]+)?S)?)?$/.test(e)}]]),q=Object.create(null);function V(e,t){if(!q[t])throw Error("Unknown type");return{type:t,value:e}}[{D:0,name:59},{D:0,name:46,parent:59,L:{whiteSpace:"preserve"}},{D:0,name:19,parent:46},{D:0,name:1,parent:46},{D:0,name:0,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:4,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:6,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:3,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:18,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:9,parent:46,L:{xa:"optional",whiteSpace:"collapse"}},{D:0,name:8,parent:46,L:{xa:"optional",whiteSpace:"collapse"}},{D:0,name:7,parent:46,L:{xa:"optional",whiteSpace:"collapse"}},{D:0,name:11,parent:46,L:{xa:"optional",whiteSpace:"collapse"}},{D:0,name:12,parent:46,L:{xa:"optional",whiteSpace:"collapse"}},{D:0,name:13,parent:46,L:{xa:"optional",whiteSpace:"collapse"}},{D:0,name:15,parent:46,L:{xa:"optional",whiteSpace:"collapse"}},{D:0,name:14,parent:46,L:{xa:"optional",whiteSpace:"collapse"}},{D:0,name:22,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:21,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:20,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:23,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:44,parent:46,L:{whiteSpace:"collapse"}},{D:1,name:10,V:9,L:{whiteSpace:"collapse",xa:"required"}},{D:1,name:48,V:1,L:{whiteSpace:"replace"}},{D:1,name:52,V:48,L:{whiteSpace:"collapse"}},{D:1,name:51,V:52,L:{whiteSpace:"collapse"}},{D:1,name:50,V:52,L:{whiteSpace:"collapse"}},{D:2,name:49,type:50,L:{minLength:1,whiteSpace:"collapse"}},{D:1,name:25,V:52,L:{whiteSpace:"collapse"}},{D:1,name:24,V:25,L:{whiteSpace:"collapse"}},{D:1,name:42,V:24,L:{whiteSpace:"collapse"}},{D:1,name:41,V:24,L:{whiteSpace:"collapse"}},{D:2,name:43,type:41,L:{minLength:1,whiteSpace:"collapse"}},{D:1,name:26,V:24,L:{whiteSpace:"collapse"}},{D:2,name:40,type:26,L:{minLength:1,whiteSpace:"collapse"}},{D:0,name:5,parent:4,L:{la:0,whiteSpace:"collapse"}},{D:1,name:27,V:5,L:{la:0,ra:"0",whiteSpace:"collapse"}},{D:1,name:28,V:27,L:{la:0,ra:"-1",whiteSpace:"collapse"}},{D:1,name:31,V:5,L:{la:0,ra:"9223372036854775807",sa:"-9223372036854775808",whiteSpace:"collapse"}},{D:1,name:32,V:31,L:{la:0,ra:"2147483647",sa:"-2147483648",whiteSpace:"collapse"}},{D:1,name:33,V:32,L:{la:0,ra:"32767",sa:"-32768",whiteSpace:"collapse"}},{D:1,name:34,V:33,L:{la:0,ra:"127",sa:"-128",whiteSpace:"collapse"}},{D:1,name:30,V:5,L:{la:0,sa:"0",whiteSpace:"collapse"}},{D:1,name:36,V:30,L:{la:0,ra:"18446744073709551615",sa:"0",whiteSpace:"collapse"}},{D:1,name:35,V:36,L:{la:0,ra:"4294967295",sa:"0",whiteSpace:"collapse"}},{D:1,name:38,V:35,L:{la:0,ra:"65535",sa:"0",whiteSpace:"collapse"}},{D:1,name:37,V:38,L:{la:0,ra:"255",sa:"0",whiteSpace:"collapse"}},{D:1,name:29,V:30,L:{la:0,sa:"1",whiteSpace:"collapse"}},{D:1,name:16,V:18,L:{whiteSpace:"collapse"}},{D:1,name:17,V:18,L:{whiteSpace:"collapse"}},{D:1,name:60,V:59},{D:3,name:39,Ha:[]},{D:1,name:61,V:60},{D:1,name:62,V:60},{D:0,name:53,parent:59},{D:1,name:54,V:53},{D:1,name:58,V:53},{D:1,name:47,V:53},{D:1,name:56,V:53},{D:1,name:57,V:53},{D:1,name:55,V:53},{D:3,name:2,Ha:[4,5,6,3]}].forEach((function(e){var t=e.name,n=e.L||{};if(0===e.D){e=e.parent?q[e.parent]:null;var r=X.get(t)||null;q[t]={D:0,type:t,Ia:n,parent:e,fb:r,Ka:D(t),Ha:[]}}else 1===e.D?(e=q[e.V],r=X.get(t)||null,q[t]={D:1,type:t,Ia:n,parent:e,fb:r,Ka:e.Ka,Ha:[]}):2===e.D?q[t]={D:2,type:t,Ia:n,parent:q[e.type],fb:null,Ka:R,Ha:[]}:(e=e.Ha.map((function(e){return q[e]})),q[t]={D:3,type:t,Ia:n,parent:null,fb:null,Ka:M,Ha:e})}));var z=V(!0,0),$=V(!1,0);function Y(){return Error("FORG0006: A wrong argument type was specified in a function call.")}function K(e,t){this.done=e,this.value=t}var J=new K(!0,void 0);function Q(e){return new K(!1,e)}function Z(e,t){return e===t||function e(t,n){if(3===n.D)return!!n.Ha.find((function(n){return e(t,n)}));for(;t;){if(t.type===n.type)return!0;if(3===t.D)return!!t.Ha.find((function(e){return Z(e.type,n.type)}));t=t.parent}return!1}(q[e],q[t])}function W(e){this.o=se,this.h=e;var t=-1;this.value={next:function(){return++t>=e.length?J:Q(e[t])}}}function ee(){this.value={next:function(){return J}}}function te(e){var t=e.value;if(Z(e.type,53))return!0;if(Z(e.type,0))return t;if(Z(e.type,1)||Z(e.type,20)||Z(e.type,19))return 0!==t.length;if(Z(e.type,2))return!isNaN(t)&&0!==t;throw Y()}function ne(e,t){var n=this;this.J=se,this.value={next:function(t){return null!==n.o&&n.h>=n.o?J:void 0!==n.B[n.h]?Q(n.B[n.h++]):(t=e.next(t)).done?(n.o=n.h,t):((n.v||2>n.h)&&(n.B[n.h]=t.value),n.h++,t)}},this.v=!1,this.B=[],this.h=0,this.o=void 0===t?null:t}function re(e,t){e.h=void 0===t?0:t}function ie(e){this.B=se,this.h=e;var t=!1;this.value={next:function(){return t?J:(t=!0,Q(e))}},this.o=null}(n=W.prototype).pb=function(){return this},n.filter=function(e){var t=this,n=-1;return this.o.create({next:function(){for(n++;n<t.h.length&&!e(t.h[n],n,t);)n++;return n>=t.h.length?J:Q(t.h[n])}})},n.first=function(){return this.h[0]},n.S=function(){return this.h},n.getEffectiveBooleanValue=function(){if(Z(this.h[0].type,53))return!0;throw Y()},n.ya=function(){return this.h.length},n.F=function(){return!1},n.za=function(){return!1},n.map=function(e){var t=this,n=-1;return this.o.create({next:function(){return++n>=t.h.length?J:Q(e(t.h[n],n,t))}},this.h.length)},n.M=function(e){return e(this.h)},n.aa=function(e){return e.multiple?e.multiple(this):e.default(this)},(n=ee.prototype).pb=function(){return this},n.filter=function(){return this},n.first=function(){return null},n.S=function(){return[]},n.getEffectiveBooleanValue=function(){return!1},n.ya=function(){return 0},n.F=function(){return!0},n.za=function(){return!1},n.map=function(){return this},n.M=function(e){return e([])},n.aa=function(e){return e.empty?e.empty(this):e.default(this)},(n=ne.prototype).pb=function(){return this.J.create(this.S())},n.filter=function(e){var t=this,n=-1,r=this.value;return this.J.create({next:function(i){n++;for(var a=r.next(i);!a.done&&!e(a.value,n,t);)n++,a=r.next(i);return a}})},n.first=function(){if(void 0!==this.B[0])return this.B[0];var e=this.value.next(0);return re(this),e.done?null:e.value},n.S=function(){if(this.h>this.B.length&&this.o!==this.B.length)throw Error("Implementation error: Sequence Iterator has progressed.");var e=this.value;this.v=!0;for(var t=e.next(0);!t.done;)t=e.next(0);return this.B},n.getEffectiveBooleanValue=function(){var e=this.value,t=this.h;re(this);var n=e.next(0);if(n.done)return re(this,t),!1;if(Z((n=n.value).type,53))return re(this,t),!0;if(!e.next(0).done)throw Y();return re(this,t),te(n)},n.ya=function(e){if(null!==this.o)return this.o;if(void 0!==e&&e)return-1;e=this.h;var t=this.S().length;return re(this,e),t},n.F=function(){return 0===this.o||null===this.first()},n.za=function(){if(null!==this.o)return 1===this.o;var e=this.value,t=this.h;return re(this),e.next(0).done?(re(this,t),!1):(e=e.next(0),re(this,t),e.done)},n.map=function(e){var t=this,n=0,r=this.value;return this.J.create({next:function(i){return(i=r.next(i)).done?J:Q(e(i.value,n++,t))}},this.o)},n.M=function(e,t){var n,r=this.value,i=[],a=!0;return function(){for(var o=r.next(a?0:t);!o.done;o=r.next(t))a=!1,i.push(o.value);n=e(i).value}(),this.J.create({next:function(){return n.next(0)}})},n.aa=function(e){function t(e){r=e.value,-1!==(e=e.ya(!0))&&(n.o=e)}var n=this,r=null;return this.J.create({next:function(i){return r?r.next(i):n.F()?(t(e.empty?e.empty(n):e.default(n)),r.next(i)):n.za()?(t(e.s?e.s(n):e.default(n)),r.next(i)):(t(e.multiple?e.multiple(n):e.default(n)),r.next(i))}})},(n=ie.prototype).pb=function(){return this},n.filter=function(e){return e(this.h,0,this)?this:this.B.create()},n.first=function(){return this.h},n.S=function(){return[this.h]},n.getEffectiveBooleanValue=function(){return null===this.o&&(this.o=te(this.h)),this.o},n.ya=function(){return 1},n.F=function(){return!1},n.za=function(){return!0},n.map=function(e){return this.B.create(e(this.h,0,this))},n.M=function(e){return e([this.h])},n.aa=function(e){return e.s?e.s(this):e.default(this)};var ae=new ee;function oe(e,t){if(null===(e=void 0===e?null:e))return ae;if(Array.isArray(e))switch(e.length){case 0:return ae;case 1:return new ie(e[0]);default:return new W(e)}return e.next?new ne(e,void 0===t?null:t):new ie(e)}var se={create:oe,s:function(e){return new ie(e)},empty:function(){return oe()},$:function(){return oe(z)},U:function(){return oe($)}};function le(e){var t=[],n=e.value;return function(){var e=0;return se.create({next:function(){if(void 0!==t[e])return t[e++];var r=n.next(0);return r.done?r:t[e++]=r}})}}function ue(e,t){this.type=e,this.value=t}var ce={},pe=(ce[0]="xs:boolean",ce[1]="xs:string",ce[2]="xs:numeric",ce[3]="xs:double",ce[4]="xs:decimal",ce[5]="xs:integer",ce[6]="xs:float",ce[7]="xs:date",ce[8]="xs:time",ce[9]="xs:dateTime",ce[10]="xs:dateTimeStamp",ce[11]="xs:gYearMonth",ce[12]="xs:gYear",ce[13]="xs:gMonthDay",ce[14]="xs:gMonth",ce[15]="xs:gDay",ce[16]="xs:yearMonthDuration",ce[17]="xs:dayTimeDuration",ce[18]="xs:duration",ce[19]="xs:untypedAtomic",ce[20]="xs:anyURI",ce[21]="xs:base64Binary",ce[22]="xs:hexBinary",ce[23]="xs:QName",ce[24]="xs:NCName",ce[25]="xs:Name",ce[26]="xs:ENTITY",ce[27]="xs:nonPositiveInteger",ce[28]="xs:negativeInteger",ce[29]="xs:positiveInteger",ce[30]="xs:nonNegativeInteger",ce[31]="xs:long",ce[32]="xs:int",ce[33]="xs:short",ce[34]="xs:byte",ce[35]="xs:unsignedInt",ce[36]="xs:unsignedLong",ce[37]="xs:unsignedByte",ce[38]="xs:unsignedShort",ce[39]="xs:error",ce[40]="xs:ENTITIES",ce[41]="xs:IDREF",ce[42]="xs:ID",ce[43]="xs:IDFREFS",ce[44]="xs:NOTATION",ce[45]="xs:anySimpleType",ce[46]="xs:anyAtomicType",ce[47]="attribute()",ce[48]="xs:normalizedString",ce[49]="xs:NMTOKENS",ce[50]="xs:NMTOKEN",ce[51]="xs:language",ce[52]="xs:token",ce[53]="node()",ce[54]="element()",ce[55]="document-node()",ce[56]="text()",ce[57]="processing-instruction()",ce[58]="comment()",ce[59]="item()",ce[60]="function(*)",ce[61]="map(*)",ce[62]="array(*)",ce),he={"xs:boolean":0,"xs:string":1,"xs:numeric":2,"xs:double":3,"xs:decimal":4,"xs:integer":5,"xs:float":6,"xs:date":7,"xs:time":8,"xs:dateTime":9,"xs:dateTimeStamp":10,"xs:gYearMonth":11,"xs:gYear":12,"xs:gMonthDay":13,"xs:gMonth":14,"xs:gDay":15,"xs:yearMonthDuration":16,"xs:dayTimeDuration":17,"xs:duration":18,"xs:untypedAtomic":19,"xs:anyURI":20,"xs:base64Binary":21,"xs:hexBinary":22,"xs:QName":23,"xs:NCName":24,"xs:Name":25,"xs:ENTITY":26,"xs:nonPositiveInteger":27,"xs:negativeInteger":28,"xs:positiveInteger":29,"xs:nonNegativeInteger":30,"xs:long":31,"xs:int":32,"xs:short":33,"xs:byte":34,"xs:unsignedInt":35,"xs:unsignedLong":36,"xs:unsignedByte":37,"xs:unsignedShort":38,"xs:error":39,"xs:ENTITIES":40,"xs:IDREF":41,"xs:ID":42,"xs:IDREFS":43,"xs:NOTATION":44,"xs:anySimpleType":45,"xs:anyAtomicType":46,"attribute()":47,"xs:normalizedString":48,"xs:NMTOKENS":49,"xs:NMTOKEN":50,"xs:language":51,"xs:token":52,"node()":53,"element()":54,"document-node()":55,"text()":56,"processing-instruction()":57,"comment()":58,"item()":59,"function(*)":60,"map(*)":61,"array(*)":62};function de(e){return 2===e.g?pe[e.type]+"*":1===e.g?pe[e.type]+"+":0===e.g?pe[e.type]+"?":pe[e.type]}function fe(e){if(!e.startsWith("xs:")&&0<=e.indexOf(":"))throw Error("XPST0081: Invalid prefix for input "+e);var t=he[e];if(void 0===t)throw Error('XPST0051: The type "'+e+'" could not be found');return t}function me(e){switch(e[e.length-1]){case"*":return{type:fe(e.substr(0,e.length-1)),g:2};case"?":return{type:fe(e.substr(0,e.length-1)),g:0};case"+":return{type:fe(e.substr(0,e.length-1)),g:1};default:return{type:fe(e),g:3}}}function ge(e,t,n){this.namespaceURI=t||null,this.prefix=e||"",this.localName=n}function ye(e){var t=e.l,n=e.arity,r=void 0!==e.Oa&&e.Oa,i=void 0!==e.I&&e.I,a=e.localName,o=e.namespaceURI,s=e.j;for(e=e.value,ue.call(this,60,null),this.value=e,this.I=i,i=-1,e=0;e<t.length;e++)4===t[e]&&(i=e);-1<i&&(e=Array(n-(t.length-1)).fill(t[i-1]),t=t.slice(0,i).concat(e)),this.o=t,this.B=n,this.N=r,this.J=a,this.v=o,this.C=s}function ve(e,t){var n=[];return 2!==e&&1!==e||n.push("type-1-or-type-2"),n.push("type-"+e),t&&n.push("name-"+t),n}function be(e){var t=e.node.nodeType;if(2===t||1===t)var n=e.node.localName;return ve(t,n)}function we(e){var t=e.nodeType;if(2===t||1===t)var n=e.localName;return ve(t,n)}function xe(){}function Ae(){}ge.prototype.va=function(){return this.prefix?this.prefix+":"+this.localName:this.localName},g(ye,ue),ye.prototype.Oa=function(){return this.N},xe.prototype.getAllAttributes=function(e,t){return t=void 0===t?null:t,1!==e.nodeType?[]:(e=Array.from(e.attributes),null===t?e:e.filter((function(e){return we(e).includes(t)})))},xe.prototype.getAttribute=function(e,t){return 1!==e.nodeType?null:e.getAttribute(t)},xe.prototype.getChildNodes=function(e,t){return t=void 0===t?null:t,e=Array.from(e.childNodes),null===t?e:e.filter((function(e){return we(e).includes(t)}))},xe.prototype.getData=function(e){return 2===e.nodeType?e.value:e.data},xe.prototype.getFirstChild=function(e,t){for(t=void 0===t?null:t,e=e.firstChild;e;e=e.nextSibling)if(null===t||we(e).includes(t))return e;return null},xe.prototype.getLastChild=function(e,t){for(t=void 0===t?null:t,e=e.lastChild;e;e=e.previousSibling)if(null===t||we(e).includes(t))return e;return null},xe.prototype.getNextSibling=function(e,t){for(t=void 0===t?null:t,e=e.nextSibling;e;e=e.nextSibling)if(null===t||we(e).includes(t))return e;return null},xe.prototype.getParentNode=function(e,t){return t=void 0===t?null:t,(e=2===e.nodeType?e.ownerElement:e.parentNode)&&(null===t||we(e).includes(t))?e:null},xe.prototype.getPreviousSibling=function(e,t){for(t=void 0===t?null:t,e=e.previousSibling;e;e=e.previousSibling)if(null===t||we(e).includes(t))return e;return null},(n=Ae.prototype).insertBefore=function(e,t,n){return e.insertBefore(t,n)},n.removeAttributeNS=function(e,t,n){return e.removeAttributeNS(t,n)},n.removeChild=function(e,t){return e.removeChild(t)},n.setAttributeNS=function(e,t,n,r){e.setAttributeNS(t,n,r)},n.setData=function(e,t){e.data=t};var _e=new Ae;function Ee(e){this.h=e}function Ce(e){return void 0!==e.Pa}function Ne(e,t,n){var r=null;return t&&(Ce(t.node)?r={G:t.G,offset:n,parent:t.node}:t.G&&(r=t.G)),{node:e,G:r}}function Te(e){this.h=e,this.o=[]}function Be(e,t,n){return e.getAllAttributes(t.node,void 0===n?null:n).map((function(e){return Ne(e,t,e.nodeName)}))}function Se(e,t,n){return Ce(t=t.node)?(e=t.attributes.find((function(e){return n===e.name})))?e.value:null:(e=e.h.getAttribute(t,n))?e:null}function Ie(e,t,n){return e.getChildNodes(t.node,void 0===n?null:n).map((function(e,n){return Ne(e,t,n)}))}function ke(e,t){return e.getData(t.node)}function Oe(e,t,n){var r=t.node;return Ce(r)?e=r.childNodes[0]:((n=e.h.getFirstChild(r,void 0===n?null:n))&&10===n.nodeType&&(n=e.h.getNextSibling(n)),e=n),e?Ne(e,t,0):null}function Pe(e,t,n){n=void 0===n?null:n;var r=t.node;return Ce(r)?(e=r.childNodes.length-1,r=r.childNodes[e]):((r=e.h.getLastChild(r,n))&&10===r.nodeType&&(r=e.h.getPreviousSibling(r)),e=e.getChildNodes(t.node,n).length-1),r?Ne(r,t,e):null}function De(e,t,n){n=void 0===n?null:n;var r=t.node,i=t.G;if(Ce(r)){if(i)var a=i.offset+1,o=i.parent.childNodes[a]}else{if(!i){for(o=r;o&&(!(o=e.h.getNextSibling(o,n))||10===o.nodeType););return o?{node:o,G:null}:null}a=i.offset+1;var s=Re(e,t,null);o=e.getChildNodes(s.node,n)[a]}return o?Ne(o,s||Re(e,t,n),a):null}function Re(e,t,n){n=void 0===n?null:n;var r=t.node,i=t.G;if(i)"number"==typeof i.offset&&r===i.parent.childNodes[i.offset]||"string"==typeof i.offset&&r===i.parent.attributes.find((function(e){return i.offset===e.nodeName}))?(e=i.parent,t=i.G):(e=e.getParentNode(r,n),t=i);else{if(Ce(r))return null;e=e.getParentNode(r,n),t=null}return e?{node:e,G:t}:null}function Me(e,t,n){n=void 0===n?null:n;var r=t.node,i=t.G;if(Ce(r)){if(i)var a=i.offset-1,o=i.parent.childNodes[a]}else{if(!i){for(o=r;o&&(!(o=e.h.getPreviousSibling(o,n))||10===o.nodeType););return o?{node:o,G:null}:null}a=i.offset-1;var s=Re(e,t,null);o=e.getChildNodes(s.node,n)[a]}return o?Ne(o,s||Re(e,t,n),a):null}function Fe(e,t,n,r,i){return i.M((function(e){var t=l(e).next().value;return r.M((function(e){e=l(e).next().value;var n=t.value;if(0>=n||n>e.R.length)throw Error("FOAY0001: array position out of bounds.");return e.R[n-1]()}))}))}function Ue(e){ye.call(this,{value:function(e,n,r,i){return Fe(0,0,0,se.s(t),i)},localName:"get",namespaceURI:"http://www.w3.org/2005/xpath-functions/array",l:[{type:5,g:3}],arity:1,j:{type:59,g:2}});var t=this;this.type=62,this.R=e}function He(e){switch(e.node.nodeType){case 2:return 47;case 1:return 54;case 3:case 4:return 56;case 7:return 57;case 8:return 58;case 9:return 55;default:return 53}}function Ge(e){return{type:He(e),value:e}}function Le(e,t){return t(e=e.map((function(e){return e.first()})))}function je(e,t){var n=Z(e.type,1)||Z(e.type,20)||Z(e.type,19),r=Z(t.type,1)||Z(t.type,20)||Z(t.type,19);return n&&r?e.value===t.value:(n=Z(e.type,4)||Z(e.type,3)||Z(e.type,6),r=Z(t.type,4)||Z(t.type,3)||Z(t.type,6),n&&r?!(!isNaN(e.value)||!isNaN(t.value))||e.value===t.value:(n=Z(e.type,0)||Z(e.type,22)||Z(e.type,18)||Z(e.type,23)||Z(e.type,44),r=Z(t.type,0)||Z(t.type,22)||Z(t.type,18)||Z(t.type,23)||Z(t.type,44),!(!n||!r)&&e.value===t.value))}function Xe(e,t,n,r,i){return Le([r,i],(function(e){var t=(e=l(e)).next().value,n=e.next().value;return(e=t.h.find((function(e){return je(e.key,n)})))?e.value():se.empty()}))}function qe(e){ye.call(this,{l:[{type:59,g:3}],arity:1,localName:"get",namespaceURI:"http://www.w3.org/2005/xpath-functions/map",value:function(e,n,r,i){return Xe(0,0,0,se.s(t),i)},j:{type:59,g:2}});var t=this;this.type=61,this.h=e}function Ve(){}function ze(e,t){return e.ab()===t.ab()&&e.bb()===t.bb()}function $e(e){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw Error("FODT0002: Number of seconds given to construct DayTimeDuration overflows MAX_SAFE_INTEGER or MIN_SAFE_INTEGER");this.ea=e}function Ye(e){var t=Math.abs(e.Za()),n=Math.abs(e.getHours()),r=Math.abs(e.getMinutes());return n=(n?n+"H":"")+(r?r+"M":"")+((e=Math.abs(e.getSeconds()))?e+"S":""),(t=t?t+"D":"")&&n?t+"T"+n:t||(n?"T"+n:"T0S")}function Ke(e,t,n,r,i,a){return e=86400*e+3600*t+60*n+r+i,new $e(a||0===e?e:-e)}function Je(e){return(e=/^(-)?P(\d+Y)?(\d+M)?(\d+D)?(?:T(\d+H)?(\d+M)?(\d+(\.\d*)?S)?)?$/.exec(e))?Ke(e[4]?parseInt(e[4],10):0,e[5]?parseInt(e[5],10):0,e[6]?parseInt(e[6],10):0,e[7]?parseInt(e[7],10):0,e[8]?parseFloat(e[8]):0,!e[1]):null}function Qe(e){return"Z"===(e=/^(Z)|([+-])([01]\d):([0-5]\d)$/.exec(e))[1]?Ke(0,0,0,0,0,!0):Ke(0,e[3]?parseInt(e[3],10):0,e[4]?parseInt(e[4],10):0,0,0,"+"===e[2])}function Ze(e,t){if(isNaN(t))throw Error("FOCA0005: Cannot multiply xs:dayTimeDuration by NaN");if((e=e.ea*t)>Number.MAX_SAFE_INTEGER||!Number.isFinite(e))throw Error("FODT0002: Value overflow while multiplying xs:dayTimeDuration");return new $e(e<Number.MIN_SAFE_INTEGER||Object.is(-0,e)?0:e)}function We(e){return e?parseInt(e,10):null}function et(e){var t=(e+="").startsWith("-");return t&&(e=e.substring(1)),(t?"-":"")+e.padStart(4,"0")}function tt(e){return(e+"").padStart(2,"0")}function nt(e){return 1===(e+="").split(".")[0].length&&(e=e.padStart(e.length+1,"0")),e}function rt(e){return 0===e.getHours()&&0===e.getMinutes()?"Z":(e.oa()?"+":"-")+tt(Math.abs(e.getHours()))+":"+tt(Math.abs(e.getMinutes()))}function it(e,t,n,r,i,a,o,s,l){this.B=e,this.h=t,this.o=n+(24===r?1:0),this.v=24===r?0:r,this.C=i,this.J=a,this.pa=o,this.ba=s,this.type=void 0===l?9:l}function at(e,t){switch(t){case 15:return new it(1972,12,e.o,0,0,0,0,e.ba,15);case 14:return new it(1972,e.h,1,0,0,0,0,e.ba,14);case 12:return new it(e.B,1,1,0,0,0,0,e.ba,12);case 13:return new it(1972,e.h,e.o,0,0,0,0,e.ba,13);case 11:return new it(e.B,e.h,1,0,0,0,0,e.ba,11);case 8:return new it(1972,12,31,e.v,e.C,e.J,e.pa,e.ba,8);case 7:return new it(e.B,e.h,e.o,0,0,0,0,e.ba,7);default:return new it(e.B,e.h,e.o,e.v,e.C,e.J,e.pa,e.ba,9)}}function ot(e,t){return t=e.ba||t||Qe("Z"),new Date(Date.UTC(e.B,e.h-1,e.o,e.v-t.getHours(),e.C-t.getMinutes(),e.J+e.pa))}function st(e){var t=/^(?:(-?\d{4,}))?(?:--?(\d\d))?(?:-{1,3}(\d\d))?(T)?(?:(\d\d):(\d\d):(\d\d))?(\.\d+)?(Z|(?:[+-]\d\d:\d\d))?$/.exec(e);e=t[1]?parseInt(t[1],10):null;var n=We(t[2]),r=We(t[3]),i=t[4],a=We(t[5]),o=We(t[6]),s=We(t[7]),l=t[8]?parseFloat(t[8]):0;if(t=t[9]?Qe(t[9]):null,e&&(-271821>e||273860<e))throw Error("FODT0001: Datetime year is out of bounds");return i?new it(e,n,r,a,o,s,l,t,9):null!==a&&null!==o&&null!==s?new it(1972,12,31,a,o,s,l,t,8):null!==e&&null!==n&&null!==r?new it(e,n,r,0,0,0,0,t,7):null!==e&&null!==n?new it(e,n,1,0,0,0,0,t,11):null!==n&&null!==r?new it(1972,n,r,0,0,0,0,t,13):null!==e?new it(e,1,1,0,0,0,0,t,12):null!==n?new it(1972,n,1,0,0,0,0,t,14):new it(1972,12,r,0,0,0,0,t,15)}function lt(e,t,n){var r=ot(e,n).getTime();return r===(n=ot(t,n).getTime())?e.pa===t.pa?0:e.pa>t.pa?1:-1:r>n?1:-1}function ut(e,t,n){return 0===lt(e,t,n)}function ct(e,t,n){return new $e(e=(ot(e,n).getTime()-ot(t,n).getTime())/1e3)}function pt(e){throw Error("Not implemented: adding durations to "+pe[e.type])}function ht(e){throw Error("Not implemented: subtracting durations from "+pe[e.type])}function dt(e,t){if("number"!=typeof e&&("string"!=typeof e||!X.get(t)(e)))throw Error("Cannot convert JavaScript value '"+e+"' to the XPath type "+pe[t]+" since it is not valid.")}function ft(e,t,n){if(null===t)return null;switch(e){case 0:return t?z:$;case 1:return V(t+"",1);case 3:case 2:return dt(t,3),V(+t,3);case 4:return dt(t,e),V(+t,4);case 5:return dt(t,e),V(0|t,5);case 6:return dt(t,e),V(+t,6);case 7:case 8:case 9:case 11:case 12:case 13:case 14:case 15:if(!(t instanceof Date))throw Error("The JavaScript value "+t+" with type "+typeof t+" is not a valid type to be converted to an XPath "+pe[e]+".");return V(at(st(t.toISOString()),e),e);case 53:case 47:case 55:case 54:case 56:case 57:case 58:if("object"!=typeof t||!("nodeType"in t))throw Error("The JavaScript value "+t+" with type "+typeof t+" is not a valid type to be converted to an XPath "+pe[e]+".");return Ge({node:t,G:null});case 59:return function e(t,n){if(null===t)return null;switch(typeof t){case"boolean":return t?z:$;case"number":return V(t,3);case"string":return V(t,1);case"object":return"nodeType"in t?Ge({node:t,G:null}):Array.isArray(t)?new Ue(t.map((function(t){return void 0===t?function(){return se.empty()}:le(t=null===(t=e(t))?se.empty():se.s(t))}))):new qe(Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(n){var r=e(t[n]);return r=null===r?se.empty():se.s(r),{key:V(n,1),value:le(r)}})))}throw Error("Value "+String(t)+' of type "'+typeof t+'" is not adaptable to an XPath value.')}(t);default:throw Error('Values of the type "'+e+'" can not be adapted to equivalent XPath values.')}}function mt(e,t,n){if(0===n.g)return null===(t=ft(n.type,t))?[]:[t];if(2===n.g||1===n.g){if(!Array.isArray(t))throw Error("The JavaScript value "+t+" should be an array if it is to be converted to "+de(n)+".");return t.map((function(e){return ft(n.type,e)})).filter((function(e){return null!==e}))}var r=ft(n.type,t);if(null===r)throw Error("The JavaScript value "+t+" should be a single entry if it is to be converted to "+de(n)+".");return[r]}function gt(e,t,n){return n=void 0===n?{type:59,g:0}:n,se.create(mt(0,t,n))}function yt(e,t){this.h=t=void 0===t?{xb:null,Bb:null,qb:!1}:t,this.Ga=e.Ga,this.wa=e.wa,this.O=e.O,this.ta=e.ta||Object.create(null)}function vt(e,t){var n=0,r=t.value;return{next:function(i){return(i=r.next(i)).done?J:Q(xt(e,n++,i.value,t))}}}function bt(e){return e.h.qb||(e.h.qb=!0,e.h.xb=st((new Date).toISOString()),e.h.Bb=Je("PT0S")),e.h.xb}function wt(e){return e.h.qb||(e.h.qb=!0,e.h.xb=st((new Date).toISOString()),e.h.Bb=Je("PT0S")),e.h.Bb}function xt(e,t,n,r){return new yt({O:n,Ga:t,wa:r||e.wa,ta:e.ta},e.h)}function At(e,t){return new yt({O:e.O,Ga:e.Ga,wa:e.wa,ta:Object.assign(Object.create(null),e.ta,t)},e.h)}function _t(e,t,n,r,i,a){var o=new Map;this.debug=e,this.h=t,this.o=n,this.B=r,this.J=i,this.C=o,this.v=a,this.Ta=!0}function Et(e){var t=0,n=null,r=!0;return se.create({next:function(i){for(;t<e.length;){n||(n=e[t].value,r=!0);var a=n.next(r?0:i);if(r=!1,!a.done)return a;t++,n=null}return J}})}function Ct(e,t,n){return Error("FORG0001: Cannot cast "+e+" to "+pe[t]+(n?", "+n:""))}function Nt(e){return Error("XPTY0004: "+e)}function Tt(e){return Error("FOTY0013: Atomization is not supported for "+pe[e]+".")}function Bt(e){return Error("XPST0081: The prefix "+e+" could not be resolved.")}function St(e,t){if(Z(e.type,46)||Z(e.type,19)||Z(e.type,0)||Z(e.type,4)||Z(e.type,3)||Z(e.type,6)||Z(e.type,5)||Z(e.type,2)||Z(e.type,23)||Z(e.type,1))return se.create(e);var n=t.h;if(Z(e.type,53)){var r=e.value;if(2===r.node.nodeType||3===r.node.nodeType)return se.create(V(ke(n,r),19));if(8===r.node.nodeType||7===r.node.nodeType)return se.create(V(ke(n,r),1));var i=[];return function e(t){if(8!==r.node.nodeType&&7!==r.node.nodeType){var a=t.nodeType;3===a||4===a?i.push(n.getData(t)):1!==a&&9!==a||n.getChildNodes(t).forEach((function(t){e(t)}))}}(r.node),se.create(V(i.join(""),19))}if(Z(e.type,60)&&!Z(e.type,62))throw Tt(e.type);if(Z(e.type,62))return Et(e.R.map((function(e){return It(e(),t)})));throw Error("Atomizing "+e.type+" is not implemented.")}function It(e,t){var n=!1,r=e.value,i=null;return se.create({next:function(){for(;!n;){if(!i){var e=r.next(0);if(e.done){n=!0;break}i=St(e.value,t).value}if(!(e=i.next(0)).done)return e;i=null}return J}})}function kt(e){for(e=q[e];e&&0!==e.D;)e=e.parent;return e?e.type:null}function Ot(e,t){var n=(t=q[t]).Ia;if(!n||!n.whiteSpace)return t.parent?Ot(e,t.parent.type):e;switch(t.Ia.whiteSpace){case"replace":return e.replace(/[\u0009\u000A\u000D]/g," ");case"collapse":return e.replace(/[\u0009\u000A\u000D]/g," ").replace(/ {2,}/g," ").replace(/^ | $/g,"")}return e}function Pt(e,t){for(t=q[t];t&&null===t.fb;){if(2===t.D||3===t.D)return!0;t=t.parent}return!t||t.fb(e)}function Dt(e,t){for(;e;){if(e.Ka&&e.Ka[t])return e.Ka[t];e=e.parent}return function(){return!0}}function Rt(e,t){return e(2)?function(e){return{u:!0,value:e}}:e(0)?function(e){return{u:!0,value:e?1:0}}:e(1)||e(19)?function(e){switch(e){case"NaN":return{u:!0,value:NaN};case"INF":case"+INF":return{u:!0,value:1/0};case"-INF":return{u:!0,value:-1/0};case"0":case"+0":return{u:!0,value:0};case"-0":return{u:!0,value:-0}}var n=parseFloat(e);return isNaN(n)?{u:!1,error:Ct(e,t)}:{u:!0,value:n}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to "+t+" or any of its derived types.")}}}function Mt(e){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw Error("FODT0002: Number of months given to construct YearMonthDuration overflows MAX_SAFE_INTEGER or MIN_SAFE_INTEGER");this.ha=e}function Ft(e){var t=Math.abs(e.cb());return(t?t+"Y":"")+((e=Math.abs(e.$a()))?e+"M":"")||"0M"}function Ut(e){var t=/^(-)?P(\d+Y)?(\d+M)?(\d+D)?(?:T(\d+H)?(\d+M)?(\d+(\.\d*)?S)?)?$/.exec(e);if(t){if(e=!t[1],(t=12*(t[2]?parseInt(t[2],10):0)+(t[3]?parseInt(t[3],10):0))>Number.MAX_SAFE_INTEGER||!Number.isFinite(t))throw Error("FODT0002: Value overflow while constructing xs:yearMonthDuration");e=new Mt(e||0===t?t:-t)}else e=null;return e}function Ht(e,t){if(isNaN(t))throw Error("FOCA0005: Cannot multiply xs:yearMonthDuration by NaN");if((e=Math.round(e.ha*t))>Number.MAX_SAFE_INTEGER||!Number.isFinite(e))throw Error("FODT0002: Value overflow while constructing xs:yearMonthDuration");return new Mt(e<Number.MIN_SAFE_INTEGER||0===e?0:e)}function Gt(e,t){this.Sa=e,this.Fa=t}(n=Ee.prototype).insertBefore=function(e,t,n){return this.h.insertBefore(e,t,n)},n.removeAttributeNS=function(e,t,n){return this.h.removeAttributeNS(e,t,n)},n.removeChild=function(e,t){return this.h.removeChild(e,t)},n.setAttributeNS=function(e,t,n,r){this.h.setAttributeNS(e,t,n,r)},n.setData=function(e,t){this.h.setData(e,t)},Te.prototype.getAllAttributes=function(e,t){return Ce(e)?e.attributes:this.h.getAllAttributes(e,void 0===t?null:t)},Te.prototype.getChildNodes=function(e,t){return t=Ce(e)?e.childNodes:this.h.getChildNodes(e,void 0===t?null:t),9===e.nodeType?t.filter((function(e){return 10!==e.nodeType})):t},Te.prototype.getData=function(e){return Ce(e)?2===e.nodeType?e.value:e.data:this.h.getData(e)||""},Te.prototype.getParentNode=function(e,t){return this.h.getParentNode(e,void 0===t?null:t)},g(Ue,ye),g(qe,ye),(n=Ve.prototype).Za=function(){return 0},n.getHours=function(){return 0},n.getMinutes=function(){return 0},n.$a=function(){return 0},n.ab=function(){return 0},n.bb=function(){return 0},n.getSeconds=function(){return 0},n.cb=function(){return 0},n.oa=function(){return!0},g($e,Ve),(n=$e.prototype).Za=function(){return Math.trunc(this.ea/86400)},n.getHours=function(){return Math.trunc(this.ea%86400/3600)},n.getMinutes=function(){return Math.trunc(this.ea%3600/60)},n.bb=function(){return this.ea},n.getSeconds=function(){var e=this.ea%60;return Object.is(-0,e)?0:e},n.oa=function(){return!Object.is(-0,this.ea)&&0<=this.ea},n.toString=function(){return(this.oa()?"P":"-P")+Ye(this)},(n=it.prototype).getDay=function(){return this.o},n.getHours=function(){return this.v},n.getMinutes=function(){return this.C},n.getMonth=function(){return this.h},n.getSeconds=function(){return this.J},n.getYear=function(){return this.B},n.toString=function(){switch(this.type){case 9:return et(this.B)+"-"+tt(this.h)+"-"+tt(this.o)+"T"+tt(this.v)+":"+tt(this.C)+":"+nt(this.J+this.pa)+(this.ba?rt(this.ba):"");case 7:return et(this.B)+"-"+tt(this.h)+"-"+tt(this.o)+(this.ba?rt(this.ba):"");case 8:return tt(this.v)+":"+tt(this.C)+":"+nt(this.J+this.pa)+(this.ba?rt(this.ba):"");case 15:return"---"+tt(this.o)+(this.ba?rt(this.ba):"");case 14:return"--"+tt(this.h)+(this.ba?rt(this.ba):"");case 13:return"--"+tt(this.h)+"-"+tt(this.o)+(this.ba?rt(this.ba):"");case 12:return et(this.B)+(this.ba?rt(this.ba):"");case 11:return et(this.B)+"-"+tt(this.h)+(this.ba?rt(this.ba):"")}throw Error("Unexpected subType")},g(Mt,Ve),(n=Mt.prototype).$a=function(){var e=this.ha%12;return 0===e?0:e},n.ab=function(){return this.ha},n.cb=function(){return Math.trunc(this.ha/12)},n.oa=function(){return!Object.is(-0,this.ha)&&0<=this.ha},n.toString=function(){return(this.oa()?"P":"-P")+Ft(this)},g(Gt,Ve),(n=Gt.prototype).Za=function(){return this.Fa.Za()},n.getHours=function(){return this.Fa.getHours()},n.getMinutes=function(){return this.Fa.getMinutes()},n.$a=function(){return this.Sa.$a()},n.ab=function(){return this.Sa.ab()},n.bb=function(){return this.Fa.bb()},n.getSeconds=function(){return this.Fa.getSeconds()},n.cb=function(){return this.Sa.cb()},n.oa=function(){return this.Sa.oa()&&this.Fa.oa()},n.toString=function(){var e=this.oa()?"P":"-P",t=Ft(this.Sa),n=Ye(this.Fa);return"0M"===t?e+n:"T0S"===n?e+t:e+t+n};var Lt=[3,6,4,5];function jt(e){if(e(1)||e(19))return function(e){return{u:!0,value:e+""}};if(e(20))return function(e){return{u:!0,value:e}};if(e(23))return function(e){return{u:!0,value:e.prefix?e.prefix+":"+e.localName:e.localName}};if(e(44))return function(e){return{u:!0,value:e.toString()}};if(e(2)){if(e(5)||e(4))return function(e){return{u:!0,value:(e+"").replace("e","E")}};if(e(6)||e(3))return function(e){return isNaN(e)?{u:!0,value:"NaN"}:isFinite(e)?Object.is(e,-0)?{u:!0,value:"-0"}:{u:!0,value:(e+"").replace("e","E").replace("E+","E")}:{u:!0,value:(0>e?"-":"")+"INF"}}}return e(9)||e(7)||e(8)||e(15)||e(14)||e(13)||e(12)||e(11)||e(16)||e(17)||e(18)?function(e){return{u:!0,value:e.toString()}}:e(22)?function(e){return{u:!0,value:e.toUpperCase()}}:function(e){return{u:!0,value:e+""}}}var Xt=[2,5,17,16];function qt(e,t){function n(t){return Z(e,t)}if(39===t)return function(){return{u:!1,error:Error("FORG0001: Casting to xs:error is always invalid.")}};switch(t){case 19:return function(e){var t=jt(e);return function(e){return(e=t(e)).u?{u:!0,value:V(e.value,19)}:e}}(n);case 1:return function(e){var t=jt(e);return function(e){return(e=t(e)).u?{u:!0,value:V(e.value,1)}:e}}(n);case 6:return function(e){var t=Rt(e,6);return function(e){return(e=t(e)).u?{u:!0,value:V(e.value,6)}:e}}(n);case 3:return function(e){var t=Rt(e,3);return function(e){return(e=t(e)).u?{u:!0,value:V(e.value,3)}:e}}(n);case 4:return function(e){return e(5)?function(e){return{u:!0,value:V(e,4)}}:e(6)||e(3)?function(e){return isNaN(e)||!isFinite(e)?{u:!1,error:Error("FOCA0002: Can not cast "+e+" to xs:decimal")}:Math.abs(e)>Number.MAX_VALUE?{u:!1,error:Error("FOAR0002: Can not cast "+e+" to xs:decimal, it is out of bounds for JavaScript numbers")}:{u:!0,value:V(e,4)}}:e(0)?function(e){return{u:!0,value:V(e?1:0,4)}}:e(1)||e(19)?function(e){var t=parseFloat(e);return!isNaN(t)||isFinite(t)?{u:!0,value:V(t,4)}:{u:!1,error:Error("FORG0001: Can not cast "+e+" to xs:decimal")}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:decimal or any of its derived types.")}}}(n);case 5:return function(e){return e(0)?function(e){return{u:!0,value:V(e?1:0,5)}}:e(2)?function(e){var t=Math.trunc(e);return!isFinite(t)||isNaN(t)?{u:!1,error:Error("FOCA0002: can not cast "+e+" to xs:integer")}:Number.isSafeInteger(t)?{u:!0,value:V(t,5)}:{u:!1,error:Error("FOAR0002: can not cast "+e+" to xs:integer, it is out of bounds for JavaScript numbers.")}}:e(1)||e(19)?function(e){var t=parseInt(e,10);return isNaN(t)?{u:!1,error:Ct(e,5)}:Number.isSafeInteger(t)?{u:!0,value:V(t,5)}:{u:!1,error:Error("FOCA0003: can not cast "+e+" to xs:integer, it is out of bounds for JavaScript numbers.")}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:integer or any of its derived types.")}}}(n);case 2:return function(e){var t=qt;return function(n){for(var r=l(Lt),i=r.next();!i.done;i=r.next())if((i=t(e,i.value)(n)).u)return i;return{u:!1,error:Error('XPTY0004: Casting not supported from "'+n+'" given type to xs:numeric or any of its derived types.')}}}(e);case 18:return function(e){return e(16)?function(e){return{u:!0,value:V(new Gt(e,new $e(e.oa()?0:-0)),18)}}:e(17)?function(e){return{u:!0,value:V(e=new Gt(new Mt(e.oa()?0:-0),e),18)}}:e(18)?function(e){return{u:!0,value:V(e,18)}}:e(19)||e(1)?function(e){return{u:!0,value:V(new Gt(Ut(e),Je(e)),18)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:duration or any of its derived types.")}}}(n);case 16:return function(e){return e(18)&&!e(17)?function(e){return{u:!0,value:V(e.Sa,16)}}:e(17)?function(){return{u:!0,value:V(Ut("P0M"),16)}}:e(19)||e(1)?function(e){var t=Ut(e);return t?{u:!0,value:V(t,16)}:{u:!1,error:Ct(e,16)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:yearMonthDuration or any of its derived types.")}}}(n);case 17:return function(e){return e(18)&&!e(16)?function(e){return{u:!0,value:V(e.Fa,17)}}:e(16)?function(){return{u:!0,value:V(Je("PT0.0S"),17)}}:e(19)||e(1)?function(e){var t=Je(e);return t?{u:!0,value:V(t,17)}:{u:!1,error:Error("FORG0001: Can not cast "+e+" to xs:dayTimeDuration")}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:dayTimeDuration or any of its derived types.")}}}(n);case 9:return function(e){return e(7)?function(e){return{u:!0,value:V(at(e,9),9)}}:e(19)||e(1)?function(e){return{u:!0,value:V(st(e),9)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:dateTime or any of its derived types.")}}}(n);case 8:return function(e){return e(9)?function(e){return{u:!0,value:V(at(e,8),8)}}:e(19)||e(1)?function(e){return{u:!0,value:V(st(e),8)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:time or any of its derived types.")}}}(n);case 7:return function(e){return e(9)?function(e){return{u:!0,value:V(at(e,7),7)}}:e(19)||e(1)?function(e){return{u:!0,value:V(st(e),7)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:date or any of its derived types.")}}}(n);case 11:return function(e){return e(7)||e(9)?function(e){return{u:!0,value:V(at(e,11),11)}}:e(19)||e(1)?function(e){return{u:!0,value:V(st(e),11)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gYearMonth or any of its derived types.")}}}(n);case 12:return function(e){return e(7)||e(9)?function(e){return{u:!0,value:V(at(e,12),12)}}:e(19)||e(1)?function(e){return{u:!0,value:V(st(e),12)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gYear or any of its derived types.")}}}(n);case 13:return function(e){return e(7)||e(9)?function(e){return{u:!0,value:V(at(e,13),13)}}:e(19)||e(1)?function(e){return{u:!0,value:V(st(e),13)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gMonthDay or any of its derived types.")}}}(n);case 15:return function(e){return e(7)||e(9)?function(e){return{u:!0,value:V(at(e,15),15)}}:e(19)||e(1)?function(e){return{u:!0,value:V(st(e),15)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gDay or any of its derived types.")}}}(n);case 14:return function(e){return e(7)||e(9)?function(e){return{u:!0,value:V(at(e,14),14)}}:e(19)||e(1)?function(e){return{u:!0,value:V(st(e),14)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gMonth or any of its derived types.")}}}(n);case 0:return function(e){return e(2)?function(e){return{u:!0,value:0===e||isNaN(e)?$:z}}:e(1)||e(19)?function(e){switch(e){case"true":case"1":return{u:!0,value:z};case"false":case"0":return{u:!0,value:$};default:return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:boolean or any of its derived types.")}}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:boolean or any of its derived types.")}}}(n);case 21:return function(e){return e(22)?function(e){for(var t="",n=0;n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return{u:!0,value:V(btoa(t),21)}}:e(1)||e(19)?function(e){return{u:!0,value:V(e,21)}}:function(){return{error:Error("XPTY0004: Casting not supported from given type to xs:base64Binary or any of its derived types."),u:!1}}}(n);case 22:return function(e){return e(21)?function(e){for(var t="",n=0,r=(e=atob(e)).length;n<r;n++)t+=Number(e.charCodeAt(n)).toString(16);return{u:!0,value:V(t.toUpperCase(),22)}}:e(1)||e(19)?function(e){return{u:!0,value:V(e,22)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:hexBinary or any of its derived types.")}}}(n);case 20:return function(e){return e(1)||e(19)?function(e){return{u:!0,value:V(e,20)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:anyURI or any of its derived types.")}}}(n);case 23:throw Error("Casting to xs:QName is not implemented.")}return function(){return{u:!1,error:Error("XPTY0004: Casting not supported from "+e+" to "+t+".")}}}var Vt=Object.create(null);function zt(e,t){if(19===e&&1===t)return function(e){return{u:!0,value:V(e,1)}};if(44===t)return function(){return{u:!1,error:Error("XPST0080: Casting to xs:NOTATION is not permitted.")}};if(39===t)return function(){return{u:!1,error:Error("FORG0001: Casting to xs:error is not permitted.")}};if(45===e||45===t)return function(){return{u:!1,error:Error("XPST0080: Casting from or to xs:anySimpleType is not permitted.")}};if(46===e||46===t)return function(){return{u:!1,error:Error("XPST0080: Casting from or to xs:anyAtomicType is not permitted.")}};if(Z(e,60)&&1===t)return function(){return{u:!1,error:Error("FOTY0014: Casting from function item to xs:string is not permitted.")}};if(e===t)return function(e){return{u:!0,value:{type:t,value:e}}};var n=Xt.includes(e)?e:kt(e),r=Xt.includes(t)?t:kt(t);if(null===r||null===n)return function(){return{u:!1,error:Error("XPST0081: Can not cast: type "+(r?pe[e]:pe[t])+" is unknown.")}};var i=[];return 1!==n&&19!==n||i.push((function(e){var n=Ot(e,t);return Pt(n,t)?{u:!0,value:n}:{u:!1,error:Ct(e,t,"pattern validation failed.")}})),n!==r&&(i.push(qt(n,r)),i.push((function(e){return{u:!0,value:e.value}}))),19!==r&&1!==r||i.push((function(e){return Pt(e,t)?{u:!0,value:e}:{u:!1,error:Ct(e,t,"pattern validation failed.")}})),i.push((function(e){return function(e,t){for(var n=q[t];n;){if(n.Ia&&!Object.keys(n.Ia).every((function(t){if("whiteSpace"===t)return!0;var r=Dt(n,t);return!r||r(e,n.Ia[t])})))return!1;n=n.parent}return!0}(e,t)?{u:!0,value:e}:{u:!1,error:Ct(e,t,"pattern validation failed.")}})),i.push((function(e){return{u:!0,value:{type:t,value:e}}})),function(e){e={u:!0,value:e};for(var t=0,n=i.length;t<n&&!1!==(e=i[t](e.value)).u;++t);return e}}function $t(e,t){var n=e.type+1e4*t,r=Vt[n];return r||(r=Vt[n]=zt(e.type,t)),r.call(void 0,e.value,t)}function Yt(e,t){if(!0===(e=$t(e,t)).u)return e.value;throw e.error}function Kt(e){var t=!1;return{next:function(){return t?J:(t=!0,Q(e))}}}function Jt(e,t){return!!(e===t||e.node===t.node&&function e(t,n){return t===n||!(!t||!n||t.offset!==n.offset||t.parent!==n.parent)&&e(t.G,n.G)}(e.G,t.G))}function Qt(e,t){for(var n=[];t;t=Re(e,t,null))n.unshift(t);return n}function Zt(e,t){for(var n=[];t;t=e.getParentNode(t,null))n.unshift(t);return n}function Wt(e,t,n,r){if(n.G||r.G||Ce(n.node)||Ce(r.node)){if(Jt(n,r))return 0;n=Qt(t,n),r=Qt(t,r);var i=n[0],a=r[0];if(!Jt(i,a))return t=e.findIndex((function(e){return Jt(e,i)})),n=e.findIndex((function(e){return Jt(e,a)})),-1===t&&(t=e.push(i)),-1===n&&(n=e.push(a)),t-n;e=1;for(var o=Math.min(n.length,r.length);e<o&&Jt(n[e],r[e]);++e);return n[e]?r[e]?function(e,t,n){var r=Re(e,t,null);e=Ie(e,r,null),r=0;for(var i=e.length;r<i;++r){var a=e[r];if(Jt(a,t))return-1;if(Jt(a,n))return 1}}(t,n[e],r[e]):1:-1}if((n=n.node)===(r=r.node))return 0;if(n=Zt(t,n),r=Zt(t,r),n[0]!==r[0]){var s={node:n[0],G:null},l={node:r[0],G:null};return t=e.findIndex((function(e){return Jt(e,s)})),n=e.findIndex((function(e){return Jt(e,l)})),-1===t&&(t=e.push(s)),-1===n&&(n=e.push(l)),t-n}for(o=1,e=Math.min(n.length,r.length);o<e&&n[o]===r[o];++o);if(e=n[o],n=r[o],!e)return-1;if(!n)return 1;for(t=t.getChildNodes(r[o-1],null),r=0,o=t.length;r<o;++r){var u=t[r];if(u===e)return-1;if(u===n)return 1}}function en(e,t,n,r){var i=Z(n.type,47),a=Z(r.type,47);if(i&&!a){if(Jt(n=Re(t,n.value),r=r.value))return 1}else if(a&&!i){if(Jt(n=n.value,r=Re(t,r.value)))return-1}else if(i&&a){if(Jt(Re(t,r.value),Re(t,n.value)))return n.value.node.localName>r.value.node.localName?1:-1;n=Re(t,n.value),r=Re(t,r.value)}else n=n.value,r=r.value;return Wt(e,t,n,r)}function tn(e,t,n){return en(e.o,e,t,n)}function nn(e,t){return function e(t,n){if(n=void 0===n?rn:n,1>=t.length)return t;var r=Math.floor(t.length/2),i=e(t.slice(0,r),n);for(t=e(t.slice(r),n),r=[];i.length&&t.length;)0>n(i[0],t[0])?r.push(i.shift()):r.push(t.shift());return r.concat(i.concat(t))}(t,(function(t,n){return en(e.o,e,t,n)})).filter((function(e,t,n){return 0===t||!Jt(e.value,n[t-1].value)}))}function rn(e,t){return e<t?-1:0}var an=e;function on(e,t,n,r,i){if(Z(e.type,t.type))return e;if(Z(t.type,46)&&Z(e.type,53)&&(e=St(e,n).first()),Z(e.type,t.type)||46===t.type)return e;if(Z(e.type,19)){if(!(n=Yt(e,t.type)))throw Error("XPTY0004 Unable to convert "+(i?"return":"argument")+" of type "+pe[e.type]+" to type "+de(t)+" while calling "+r);return n}if(!(n=function(e,t){if(Z(e.type,2)){if(Z(e.type,6))return 3===t?V(e.value,3):null;if(Z(e.type,4)){if(6===t)return V(e.value,6);if(3===t)return V(e.value,3)}return null}return Z(e.type,20)&&1===t?V(e.value,1):null}(e,t.type)))throw Error("XPTY0004 Unable to cast "+(i?"return":"argument")+" of type "+pe[e.type]+" to type "+de(t)+" while calling "+r);return n}function sn(e,t,n,r,i){return 0===e.g?t.aa({default:function(){return t.map((function(t){return on(t,e,n,r,i)}))},multiple:function(){throw Error("XPTY0004: Multiplicity of "+(i?"function return value":"function argument")+" of type "+pe[e.type]+(e.type||"")+" for "+r+' is incorrect. Expected "?", but got "+".')}}):1===e.g?t.aa({empty:function(){throw Error("XPTY0004: Multiplicity of "+(i?"function return value":"function argument")+" of type "+pe[e.type]+(e.type||"")+" for "+r+' is incorrect. Expected "+", but got "empty-sequence()"')},default:function(){return t.map((function(t){return on(t,e,n,r,i)}))}}):2===e.g?t.map((function(t){return on(t,e,n,r,i)})):t.aa({s:function(){return t.map((function(t){return on(t,e,n,r,i)}))},default:function(){throw Error("XPTY0004: Multiplicity of "+(i?"function return value":"function argument")+" of type "+pe[e.type]+(e.type||"")+" for "+r+" is incorrect. Expected exactly one")}})}function ln(e,t){return Z(e,5)?V(t,5):Z(e,6)?V(t,6):Z(e,3)?V(t,3):V(t,4)}function un(e,t,n,r,i,a){var o=!1;return se.create({next:function(){if(o)return J;var t,n=i.first();if(!n)return o=!0,J;if((Z(n.type,6)||Z(n.type,3))&&(0===n.value||isNaN(n.value)||1/0===n.value||-1/0===n.value))return o=!0,Q(n);if(t=a?a.first().value:0,o=!0,function(e){if(Math.floor(e)===e||isNaN(e))return 0;var t=(e=/\d+(?:\.(\d*))?(?:[Ee](-)?(\d+))*/.exec(e+""))[1]?e[1].length:0;return e[3]?e[2]?t+parseInt(e[3],10):0>(e=t-parseInt(e[3],10))?0:e:t}(n.value)<t)return Q(n);var r=[5,4,3,6].find((function(e){return Z(n.type,e)}));switch(t=function(e,t,n){return t&&0==e*n%1%.5?0==Math.floor(e*n)%2?Math.floor(e*n)/n:Math.ceil(e*n)/n:Math.round(e*n)/n}(Yt(n,4).value,e,Math.pow(10,t)),r){case 4:return Q(V(t,4));case 3:return Q(V(t,3));case 6:return Q(V(t,6));case 5:return Q(V(t,5))}}})}function cn(e,t,n,r){return It(r,t).aa({empty:function(){return se.s(V(NaN,3))},s:function(){var e=$t(r.first(),3);return e.u?se.s(e.value):se.s(V(NaN,3))},multiple:function(){throw Error("fn:number may only be called with zero or one values")}})}function pn(e,t,n,r){return r.F()?r:(e=r.S(),se.s(e[Math.floor(Math.random()*e.length)]))}var hn=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"abs",l:[{type:2,g:0}],j:{type:2,g:0},m:function(e,t,n,r){return r.map((function(e){return ln(e.type,Math.abs(e.value))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"ceiling",l:[{type:2,g:0}],j:{type:2,g:0},m:function(e,t,n,r){return r.map((function(e){return ln(e.type,Math.ceil(e.value))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"floor",l:[{type:2,g:0}],j:{type:2,g:0},m:function(e,t,n,r){return r.map((function(e){return ln(e.type,Math.floor(e.value))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round",l:[{type:2,g:0}],j:{type:2,g:0},m:un.bind(null,!1)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round",l:[{type:2,g:0},{type:5,g:3}],j:{type:2,g:0},m:un.bind(null,!1)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round-half-to-even",l:[{type:2,g:0}],j:{type:2,g:0},m:un.bind(null,!0)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round-half-to-even",l:[{type:2,g:0},{type:5,g:3}],j:{type:2,g:0},m:un.bind(null,!0)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"number",l:[{type:46,g:0}],j:{type:3,g:3},m:cn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"number",l:[],j:{type:3,g:3},m:function(e,t,n){var r=e.O&&sn({type:46,g:0},se.s(e.O),t,"fn:number",!1);if(!r)throw Error("XPDY0002: fn:number needs an atomizable context item.");return cn(0,t,0,r)}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"random-number-generator",l:[],j:{type:61,g:3},m:function e(){return se.s(new qe([{key:V("number",1),value:function(){return se.s(V(Math.random(),3))}},{key:V("next",1),value:function(){return se.s(new ye({value:e,Oa:!0,localName:"",namespaceURI:"",l:[],arity:0,j:{type:61,g:3}}))}},{key:V("permute",1),value:function(){return se.s(new ye({value:pn,Oa:!0,localName:"",namespaceURI:"",l:[{type:59,g:2}],arity:1,j:{type:59,g:2}}))}}]))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"random-number-generator",l:[{type:46,g:0}],j:{type:61,g:3},m:function(){throw Error("Not implemented: Specifying a seed is not supported")}}];function dn(){throw Error("FOCH0002: No collations are supported")}function fn(e,t,n,r){if(null===t.O)throw Error("XPDY0002: The function which was called depends on dynamic context, which is absent.");return e(t,n,r,se.s(t.O))}function mn(e,t,n,r){return r.aa({empty:function(){return se.s(V("",1))},default:function(){return r.map((function(e){if(Z(e.type,53)){var n=St(e,t).first();return Z(e.type,47)?Yt(n,1):n}return Yt(e,1)}))}})}function gn(e,t,n,r,i){return Le([i],(function(e){var n=l(e).next().value;return It(r,t).M((function(e){return e=e.map((function(e){return Yt(e,1).value})).join(n.value),se.s(V(e,1))}))}))}function yn(e,t,n,r){return r.F()?se.s(V(0,5)):(e=r.first().value,se.s(V(Array.from(e).length,5)))}function vn(e,t,n,r,i,a){var o=un(!1,0,0,0,i,null),s=null!==a?un(!1,0,0,0,a,null):null,l=!1,u=null,c=null,p=null;return se.create({next:function(){return l?J:u||null!==(u=r.first())?(c||(c=o.first()),!p&&a&&(p=null,p=s.first()),l=!0,Q(V(Array.from(u.value).slice(Math.max(c.value-1,0),a?c.value+p.value-1:void 0).join(""),1))):(l=!0,Q(V("",1)))}})}function bn(e,t,n,r,i){if(r.F()||0===r.first().value.length)return se.empty();e=r.first().value,i=i.first().value;try{var a=new RegExp(i)}catch(e){throw Error("FORX0002: "+e)}return se.create(e.split(a).map((function(e){return V(e,1)})))}function wn(e,t,n,r){return r.F()?se.s(V("",1)):(e=r.first().value.trim(),se.s(V(e.replace(/\s+/g," "),1)))}var xn=new Map,An=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"compare",l:[{type:1,g:0},{type:1,g:0}],j:{type:5,g:0},m:function(e,t,n,r,i){return r.F()||i.F()?se.empty():(e=r.first().value)>(i=i.first().value)?se.s(V(1,5)):e<i?se.s(V(-1,5)):se.s(V(0,5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"compare",l:[{type:1,g:0},{type:1,g:0},{type:1,g:3}],j:{type:5,g:0},m:dn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"concat",l:[{type:46,g:0},{type:46,g:0},4],j:{type:1,g:3},m:function(e,t,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];return Le(i=i.map((function(e){return It(e,t).M((function(e){return se.s(V(e.map((function(e){return null===e?"":Yt(e,1).value})).join(""),1))}))})),(function(e){return se.s(V(e.map((function(e){return e.value})).join(""),1))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"contains",l:[{type:1,g:0},{type:1,g:0},{type:1,g:0}],j:{type:0,g:3},m:dn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"contains",l:[{type:1,g:0},{type:1,g:0}],j:{type:0,g:3},m:function(e,t,n,r,i){return e=r.F()?"":r.first().value,0===(i=i.F()?"":i.first().value).length?se.$():0===e.length?se.U():e.includes(i)?se.$():se.U()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"ends-with",l:[{type:1,g:0},{type:1,g:0}],j:{type:0,g:3},m:function(e,t,n,r,i){return 0===(e=i.F()?"":i.first().value).length?se.$():0===(r=r.F()?"":r.first().value).length?se.U():r.endsWith(e)?se.$():se.U()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"ends-with",l:[{type:1,g:0},{type:1,g:0},{type:1,g:3}],j:{type:0,g:3},m:dn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"normalize-space",l:[{type:1,g:0}],j:{type:1,g:3},m:wn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"normalize-space",l:[],j:{type:1,g:3},m:fn.bind(null,(function(e,t,n,r){return wn(e,0,0,mn(0,t,0,r))}))},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"starts-with",l:[{type:1,g:0},{type:1,g:0}],j:{type:0,g:3},m:function(e,t,n,r,i){return 0===(e=i.F()?"":i.first().value).length?se.$():0===(r=r.F()?"":r.first().value).length?se.U():r.startsWith(e)?se.$():se.U()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"starts-with",l:[{type:1,g:0},{type:1,g:0},{type:1,g:3}],j:{type:0,g:3},m:dn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string",l:[{type:59,g:0}],j:{type:1,g:3},m:mn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string",l:[],j:{type:1,g:3},m:fn.bind(null,mn)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring-before",l:[{type:1,g:0},{type:1,g:0}],j:{type:1,g:3},m:function(e,t,n,r,i){return e=r.F()?"":r.first().value,""===(i=i.F()?"":i.first().value)||-1===(i=e.indexOf(i))?se.s(V("",1)):se.s(V(e.substring(0,i),1))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring-after",l:[{type:1,g:0},{type:1,g:0}],j:{type:1,g:3},m:function(e,t,n,r,i){return e=r.F()?"":r.first().value,""===(i=i.F()?"":i.first().value)?se.s(V(e,1)):-1===(t=e.indexOf(i))?se.s(V("",1)):se.s(V(e.substring(t+i.length),1))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring",l:[{type:1,g:0},{type:3,g:3}],j:{type:1,g:3},m:vn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring",l:[{type:1,g:0},{type:3,g:3},{type:3,g:3}],j:{type:1,g:3},m:vn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"upper-case",l:[{type:1,g:0}],j:{type:1,g:3},m:function(e,t,n,r){return r.F()?se.s(V("",1)):r.map((function(e){return V(e.value.toUpperCase(),1)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"lower-case",l:[{type:1,g:0}],j:{type:1,g:3},m:function(e,t,n,r){return r.F()?se.s(V("",1)):r.map((function(e){return V(e.value.toLowerCase(),1)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-join",l:[{type:46,g:2},{type:1,g:3}],j:{type:1,g:3},m:gn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-join",l:[{type:46,g:2}],j:{type:1,g:3},m:function(e,t,n,r){return gn(0,t,0,r,se.s(V("",1)))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-length",l:[{type:1,g:0}],j:{type:5,g:3},m:yn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-length",l:[],j:{type:5,g:3},m:fn.bind(null,(function(e,t,n,r){return yn(e,0,0,mn(0,t,0,r))}))},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"tokenize",l:[{type:1,g:0},{type:1,g:3},{type:1,g:3}],j:{type:1,g:2},m:function(){throw Error("Not implemented: Using flags in tokenize is not supported")}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"tokenize",l:[{type:1,g:0},{type:1,g:3}],j:{type:1,g:2},m:bn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"tokenize",l:[{type:1,g:0}],j:{type:1,g:2},m:function(e,t,n,r){return bn(e,0,0,wn(e,0,0,r),se.s(V(" ",1)))}},{l:[{type:1,g:0},{type:1,g:3},{type:1,g:3}],m:function(e,t,n,r,i,a){return Le([r,i,a],(function(e){var t=l(e),n=t.next().value;e=t.next().value,t=t.next().value,n=Array.from(n?n.value:"");var r=Array.from(e.value),i=Array.from(t.value);return e=n.map((function(e){return r.includes(e)?(e=r.indexOf(e))<=i.length?i[e]:void 0:e})),se.s(V(e.join(""),1))}))},localName:"translate",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:1,g:3}},{l:[{type:5,g:2}],m:function(e,t,n,r){return r.M((function(e){return e=e.map((function(e){if(9===(e=e.value)||10===e||13===e||32<=e&&55295>=e||57344<=e&&65533>=e||65536<=e&&1114111>=e)return String.fromCodePoint(e);throw Error("FOCH0001")})).join(""),se.s(V(e,1))}))},localName:"codepoints-to-string",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:1,g:3}},{l:[{type:1,g:0}],m:function(e,t,n,r){return Le([r],(function(e){return 0===(e=(e=l(e).next().value)?e.value.split(""):[]).length?se.empty():se.create(e.map((function(e){return V(e.codePointAt(0),5)})))}))},localName:"string-to-codepoints",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:5,g:2}},{l:[{type:1,g:0}],m:function(e,t,n,r){return Le([r],(function(e){return null===(e=l(e).next().value)||0===e.value.length?se.create(V("",1)):se.create(V(encodeURIComponent(e.value).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})),1))}))},localName:"encode-for-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:1,g:3}},{l:[{type:1,g:0}],m:function(e,t,n,r){return Le([r],(function(e){return null===(e=l(e).next().value)||0===e.value.length?se.create(V("",1)):se.create(V(e.value.replace(/([\u00A0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFEF "<>{}|\\^`/\n\u007f\u0080-\u009f]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,(function(e){return encodeURI(e)})),1))}))},localName:"iri-to-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:1,g:3}},{l:[{type:1,g:0},{type:1,g:0}],m:function(e,t,n,r,i){return Le([r,i],(function(e){var t=l(e);if(e=t.next().value,t=t.next().value,null===e||null===t)return se.empty();if(e=e.value,t=t.value,e.length!==t.length)return se.U();e=e.split(""),t=t.split("");for(var n=0;n<e.length;n++)if(e[n].codePointAt(0)!==t[n].codePointAt(0))return se.U();return se.$()}))},localName:"codepoint-equal",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:0,g:0}},{l:[{type:1,g:0},{type:1,g:3}],m:function(e,t,n,r,i){return Le([r,i],(function(e){var t=(e=l(e)).next().value;e=e.next().value,t=t?t.value:"";var n=e.value,r=xn.get(n);if(!r)try{r=an.compile(e.value,{language:"xpath"}),xn.set(n,r)}catch(e){throw Error("FORX0002: "+e)}return r(t)?se.$():se.U()}))},localName:"matches",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:0,g:3}}];function _n(e,t,n,r){if(null===t.O)throw Error("XPDY0002: The function which was called depends on dynamic context, which is absent.");return e(t,n,r,se.s(t.O))}function En(e,t,n,r){return Le([r],(function(e){if(null===(e=l(e).next().value))return se.empty();switch((e=e.value).node.nodeType){case 1:case 2:return se.s(V(new ge(e.node.prefix,e.node.namespaceURI,e.node.localName),23));case 7:return se.s(V(new ge("","",e.node.target),23));default:return se.empty()}}))}function Cn(e,t,n,r){return r.aa({default:function(){return mn(0,t,0,En(0,0,0,r))},empty:function(){return se.empty()}})}function Nn(e,t,n,r){return It(r,t)}function Tn(e,t,n,r){return Le([r],(function(e){return null!==(e=(e=l(e).next().value)?e.value:null)&&Oe(t.h,e,null)?se.$():se.U()}))}function Bn(e,t,n,r){return Le([r],(function(e){function n(e){for(var t=0,n=e;null!==n;)(e.node.nodeType!==n.node.nodeType?0:1===n.node.nodeType?n.node.localName===e.node.localName&&n.node.namespaceURI===e.node.namespaceURI:7===n.node.nodeType?n.node.target===e.node.target:1)&&t++,n=Me(i,n,null);return t}var r=l(e).next().value;if(null===r)return se.empty();var i=t.h;for(e="",r=r.value;null!==Re(t.h,r,null);r=Re(t.h,r,null))switch(r.node.nodeType){case 1:var a=r;e="/Q{"+(a.node.namespaceURI||"")+"}"+a.node.localName+"["+n(a)+"]"+e;break;case 2:e="/@"+((a=r).node.namespaceURI?"Q{"+a.node.namespaceURI+"}":"")+a.node.localName+e;break;case 3:e="/text()["+n(r)+"]"+e;break;case 7:e="/processing-instruction("+(a=r).node.target+")["+n(a)+"]"+e;break;case 8:e="/comment()["+n(r)+"]"+e}return 9===r.node.nodeType?se.create(V(e||"/",1)):se.create(V("Q{http://www.w3.org/2005/xpath-functions}root()"+e,1))}))}function Sn(e,t,n,r){return r.map((function(e){return V(e.value.node.namespaceURI||"",20)}))}function In(e,t,n,r){return r.aa({default:function(){return r.map((function(e){return 7===e.value.node.nodeType?V(e.value.node.target,1):V(e.value.node.localName||"",1)}))},empty:function(){return se.s(V("",1))}})}function kn(e,t,n){if(2===t.node.nodeType)return Jt(t,n);for(;n;){if(Jt(t,n))return!0;if(9===n.node.nodeType)break;n=Re(e,n,null)}return!1}function On(e,t,n,r){return r.map((function(e){if(!Z(e.type,53))throw Error("XPTY0004 Argument passed to fn:root() should be of the type node()");for(e=e.value;e;){var n=e;e=Re(t.h,n,null)}return Ge(n)}))}var Pn=[{l:[{type:53,g:0}],m:Cn,localName:"name",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:1,g:0}},{l:[],m:_n.bind(null,Cn),localName:"name",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:1,g:3}},{l:[{type:53,g:3}],m:Sn,localName:"namespace-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:20,g:3}},{l:[],m:_n.bind(null,Sn),localName:"namespace-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:20,g:3}},{l:[{type:53,g:2}],m:function(e,t,n,r){return r.M((function(e){return e.length?(e=nn(t.h,e).reduceRight((function(e,n,r,i){return r===i.length-1?(e.push(n),e):(kn(t.h,n.value,e[0].value)||e.unshift(n),e)}),[]),se.create(e)):se.empty()}))},localName:"innermost",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:53,g:2}},{l:[{type:53,g:2}],m:function(e,t,n,r){return r.M((function(e){return e.length?(e=nn(t.h,e).reduce((function(e,n,r){return 0===r?(e.push(n),e):(kn(t.h,e[e.length-1].value,n.value)||e.push(n),e)}),[]),se.create(e)):se.empty()}),1)},localName:"outermost",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:53,g:2}},{l:[{type:53,g:0}],m:Tn,localName:"has-children",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:0,g:3}},{l:[],m:_n.bind(null,Tn),localName:"has-children",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:0,g:3}},{l:[{type:53,g:0}],m:Bn,localName:"path",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:1,g:0}},{l:[],m:_n.bind(null,Bn),localName:"path",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:1,g:0}},{l:[{type:53,g:0}],m:En,localName:"node-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:23,g:0}},{l:[],m:_n.bind(null,En),localName:"node-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:23,g:0}},{l:[{type:53,g:0}],m:In,localName:"local-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:1,g:3}},{l:[],m:_n.bind(null,In),localName:"local-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:1,g:3}},{l:[{type:53,g:0}],m:On,localName:"root",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:53,g:0}},{l:[],m:_n.bind(null,On),localName:"root",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:53,g:0}},{l:[],m:_n.bind(null,Nn),localName:"data",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:46,g:2}},{l:[{type:59,g:2}],m:Nn,localName:"data",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:46,g:2}}];function Dn(e,t){var n=0,r=e.length,i=!1,a=null;return{next:function(){if(!i){for(;n<r;){a||(a=t(e[n],n,e));var o=a.next(0);if(a=null,!o.value)return Q(!1);n++}return i=!0,Q(!0)}return J}}}function Rn(e){return 1===(e=e.node.nodeType)||3===e}function Mn(e,t){if((Z(e.type,4)||Z(e.type,6))&&(Z(t.type,4)||Z(t.type,6))){var n=Yt(e,6),r=Yt(t,6);return n.value===r.value||isNaN(e.value)&&isNaN(t.value)}return(Z(e.type,4)||Z(e.type,6)||Z(e.type,3))&&(Z(t.type,4)||Z(t.type,6)||Z(t.type,3))?(n=Yt(e,3),r=Yt(t,3),n.value===r.value||isNaN(e.value)&&isNaN(t.value)):Z(e.type,23)&&Z(t.type,23)?e.value.namespaceURI===t.value.namespaceURI&&e.value.localName===t.value.localName:(Z(e.type,9)||Z(e.type,7)||Z(e.type,8)||Z(e.type,11)||Z(e.type,12)||Z(e.type,13)||Z(e.type,14)||Z(e.type,15))&&(Z(t.type,9)||Z(t.type,7)||Z(t.type,8)||Z(t.type,11)||Z(t.type,12)||Z(t.type,13)||Z(t.type,14)||Z(t.type,15))?ut(e.value,t.value):e.value===t.value}function Fn(e,t,n){return n=l([t,n].map((function(t){return{type:1,value:t.reduce((function(t,n){return t+St(n,e).first().value}),"")}}))),Q(Mn(t=n.next().value,n=n.next().value))}function Un(e,t,n,r){for(;e.value&&Z(e.value.type,56);){t.push(e.value);var i=De(r,e.value.value);if(e=n.next(0),i&&3!==i.node.nodeType)break}return e}function Hn(e,t,n,r,i){var a,o=t.h,s=r.value,l=i.value,u=null,c=null,p=null,h=[],d=[];return{next:function(){for(;!a;)if(u||(u=s.next(0)),u=Un(u,h,s,o),c||(c=l.next(0)),c=Un(c,d,l,o),h.length||d.length){var r=Fn(t,h,d);if(h.length=0,d.length=0,!1===r.value)return a=!0,r}else{if(u.done||c.done)return a=!0,Q(u.done===c.done);if(p||(p=Ln(e,t,n,u.value,c.value)),r=p.next(0),p=null,!1===r.value)return a=!0,r;c=u=null}return J}}}function Gn(e,t,n,r,i){return r=Ie(t.h,r.value),i=Ie(t.h,i.value),r=r.filter((function(e){return Rn(e)})),i=i.filter((function(e){return Rn(e)})),Hn(e,t,n,r=se.create(r.map((function(e){return Ge(e)}))),i=se.create(i.map((function(e){return Ge(e)}))))}function Ln(e,t,n,r,i){if(Z(r.type,46)&&Z(i.type,46))return Kt(Mn(r,i));if(Z(r.type,61)&&Z(i.type,61))return function(e,t,n,r,i){return r.h.length!==i.h.length?Kt(!1):Dn(r.h,(function(r){var a=i.h.find((function(e){return Mn(e.key,r.key)}));return a?Hn(e,t,n,r.value(),a.value()):Kt(!1)}))}(e,t,n,r,i);if(Z(r.type,62)&&Z(i.type,62))return function(e,t,n,r,i){return r.R.length!==i.R.length?Kt(!1):Dn(r.R,(function(r,a){return a=i.R[a],Hn(e,t,n,r(),a())}))}(e,t,n,r,i);if(Z(r.type,53)&&Z(i.type,53)){if(Z(r.type,55)&&Z(i.type,55))return Gn(e,t,n,r,i);if(Z(r.type,54)&&Z(i.type,54))return function(e,t,n,r,i){var a=Hn(e,t,n,En(0,0,0,se.s(r)),En(0,0,0,se.s(i))),o=Gn(e,t,n,r,i);r=Be(t.h,r.value).filter((function(e){return"http://www.w3.org/2000/xmlns/"!==e.node.namespaceURI})).sort((function(e,t){return e.node.nodeName>t.node.nodeName?1:-1})).map((function(e){return Ge(e)})),i=Be(t.h,i.value).filter((function(e){return"http://www.w3.org/2000/xmlns/"!==e.node.namespaceURI})).sort((function(e,t){return e.node.nodeName>t.node.nodeName?1:-1})).map((function(e){return Ge(e)}));var s=Hn(e,t,n,se.create(r),se.create(i)),l=!1;return{next:function(){if(l)return J;var e=a.next(0);return(e.done||!1!==e.value)&&((e=s.next(0)).done||!1!==e.value)?(e=o.next(0),l=!0,e):(l=!0,e)}}}(e,t,n,r,i);if(Z(r.type,47)&&Z(i.type,47)||Z(r.type,57)&&Z(i.type,57)||Z(r.type,58)&&Z(i.type,58))return function(e,t,n,r,i){var a=Hn(e,t,n,En(0,0,0,se.s(r)),En(0,0,0,se.s(i))),o=!1;return{next:function(){if(o)return J;var e=a.next(0);return e.done||!1!==e.value?Q(Mn(St(r,t).first(),St(i,t).first())):(o=!0,e)}}}(e,t,n,r,i)}return Kt(!1)}function jn(e){return Error("XUST0001: "+(void 0===e?"Can not execute an updating expression in a non-updating context.":e))}function Xn(e){return Error("XUTY0004: The attribute "+e.name+'="'+e.value+'" follows a node that is not an attribute node.')}function qn(){return Error("XUTY0005: The target of a insert expression with into must be a single element or document node.")}function Vn(){return Error("XUTY0006: The target of a insert expression with before or after must be a single element, text, comment, or processing instruction node.")}function zn(){return Error("XUTY0008: The target of a replace expression must be a single element, attribute, text, comment, or processing instruction node.")}function $n(){return Error("XUTY0012: The target of a rename expression must be a single element, attribute, or processing instruction node.")}function Yn(e){return Error("XUDY0017: The target "+e.outerHTML+" is used in more than one replace value of expression.")}function Kn(e){return Error("XUDY0021: Applying the updates will result in the XDM instance violating constraint: '"+e+"'")}function Jn(e){return Error("XUDY0023: The namespace binding "+e+" is conflicting.")}function Qn(e){return Error("XUDY0024: The namespace binding "+e+" is conflicting.")}function Zn(){return Error("XUDY0027: The target for an insert, replace, or rename expression expression should not be empty.")}function Wn(e,t,n,r,i){n=void 0===n?{A:!1,Z:!1,T:"unsorted",subtree:!1}:n,this.K=e,this.B=n.T||"unsorted",this.subtree=!!n.subtree,this.Z=!!n.Z,this.A=!!n.A,this.J=t,this.I=!1,this.Ya=null,this.wb=void 0!==r&&r,this.type=i}function er(e,t,n){return t&&null!==t.O&&e.A?(null===e.Ya&&(e.Ya=le(e.evaluate(null,n).pb())),e=e.Ya()):e=e.evaluate(t,n),e}function tr(e,t){this.H=e,this.fa=t}function nr(e){e&&"nodeType"in e&&("function"==typeof(e=e.ownerDocument||e).createElementNS&&"function"==typeof e.createProcessingInstruction&&"function"==typeof e.createTextNode&&"function"==typeof e.createComment&&(this.h=e)),this.h||(this.h=null)}function rr(e,t,n){t.forEach((function(t){n.insertBefore(e.node,t.node,null)}))}function ir(e,t,n,r){var i=Re(n,e),a=e.node.nodeType;if(2===a){if(t.some((function(e){return 2!==e.node.nodeType})))throw Error('Constraint "If $target is an attribute node, $replacement must consist of zero or more attribute nodes." failed.');var o=i?i.node:null;r.removeAttributeNS(o,e.node.namespaceURI,e.node.nodeName),t.forEach((function(e){var t=e.node.nodeName;if(Se(n,i,t))throw Kn("An attribute "+t+" already exists.");r.setAttributeNS(o,e.node.namespaceURI,t,ke(n,e))}))}if(1===a||3===a||8===a||7===a){var s=(a=De(n,e))?a.node:null;r.removeChild(i.node,e.node),t.forEach((function(e){r.insertBefore(i.node,e.node,s)}))}}function ar(e,t,n,r){if(function(e,t){function n(e){return new ge(e.node.prefix,e.node.namespaceURI,e.node.localName)}function r(t,n){var r=new Set;e.filter((function(e){return e.type===t})).map((function(e){return e.target})).forEach((function(e){e=e?e.node:null,r.has(e)&&n(e),r.add(e)}))}r("rename",(function(e){throw Error("XUDY0015: The target "+e.outerHTML+" is used in more than one rename expression.")})),r("replaceNode",(function(e){throw Error("XUDY0016: The target "+e.outerHTML+" is used in more than one replace expression.")})),r("replaceValue",(function(e){throw Yn(e)})),r("replaceElementContent",(function(e){throw Yn(e)}));var i=new Map;e.filter((function(e){return"replaceNode"===e.type&&2===e.target.node.nodeType})).forEach((function(e){var r=Re(t,e.target);r=r?r.node:null;var a=i.get(r);a?a.push.apply(a,c(e.o.map(n))):i.set(r,e.o.map(n))})),e.filter((function(e){return"rename"===e.type&&2===e.target.node.nodeType})).forEach((function(e){var n=Re(t,e.target);if(n){n=n.node;var r=i.get(n);r?r.push(e.o):i.set(n,[e.o])}})),i.forEach((function(e){var t={};e.forEach((function(e){if(t[e.prefix]||(t[e.prefix]=e.namespaceURI),t[e.prefix]!==e.namespaceURI)throw Qn(e.namespaceURI)}))}))}(e,t),e.filter((function(e){return-1!==["insertInto","insertAttributes","replaceValue","rename"].indexOf(e.type)})).forEach((function(e){switch(e.type){case"insertInto":rr(e.target,e.content,r);break;case"insertAttributes":!function(e,t,n,r){t.forEach((function(t){var i=t.node.nodeName;if(Se(n,e,i))throw Kn("An attribute "+i+" already exists.");r.setAttributeNS(e.node,t.node.namespaceURI,i,ke(n,t))}))}(e.target,e.content,t,r);break;case"rename":!function(e,t,n,r,i){switch(r||(r=new nr(e?e.node:null)),e.node.nodeType){case 1:var a=n.getAllAttributes(e.node),o=n.getChildNodes(e.node),s=r.createElementNS(t.namespaceURI,t.va()),l={node:s,G:null};a.forEach((function(e){i.setAttributeNS(s,e.namespaceURI,e.nodeName,e.value)})),o.forEach((function(e){i.insertBefore(s,e,null)}));break;case 2:(t=r.createAttributeNS(t.namespaceURI,t.va())).value=ke(n,e),l={node:t,G:null};break;case 7:l={node:r.createProcessingInstruction(t.va(),ke(n,e)),G:null}}if(!Re(n,e))throw Error("Not supported: renaming detached nodes.");ir(e,[l],n,i)}(e.target,e.o,t,n,r);break;case"replaceValue":var i=e.target;if(e=e.o,2===i.node.nodeType){var a=Re(t,i);a?r.setAttributeNS(a.node,i.node.namespaceURI,i.node.nodeName,e):i.node.value=e}else r.setData(i.node,e)}})),e.filter((function(e){return-1!==["insertBefore","insertAfter","insertIntoAsFirst","insertIntoAsLast"].indexOf(e.type)})).forEach((function(e){switch(e.type){case"insertAfter":!function(e,t,n,r){var i=Re(n,e).node,a=(e=De(n,e))?e.node:null;t.forEach((function(e){r.insertBefore(i,e.node,a)}))}(e.target,e.content,t,r);break;case"insertBefore":!function(e,t,n,r){var i=Re(n,e).node;t.forEach((function(t){r.insertBefore(i,t.node,e.node)}))}(e.target,e.content,t,r);break;case"insertIntoAsFirst":!function(e,t,n,r){var i=(n=Oe(n,e))?n.node:null;t.forEach((function(t){r.insertBefore(e.node,t.node,i)}))}(e.target,e.content,t,r);break;case"insertIntoAsLast":rr(e.target,e.content,r)}})),e.filter((function(e){return"replaceNode"===e.type})).forEach((function(e){ir(e.target,e.o,t,r)})),e.filter((function(e){return"replaceElementContent"===e.type})).forEach((function(e){!function(e,t,n,r){n.getChildNodes(e.node).forEach((function(t){return r.removeChild(e.node,t)})),t&&r.insertBefore(e.node,t.node,null)}(e.target,e.text,t,r)})),e.filter((function(e){return"delete"===e.type})).forEach((function(e){e=e.target;var n=Re(t,e);(n=n?n.node:null)&&(2===e.node.nodeType?r.removeAttributeNS(n,e.node.namespaceURI,e.node.nodeName):r.removeChild(n,e.node))})),e.some((function(e){return"put"===e.type})))throw Error('Not implemented: the execution for pendingUpdate "put" is not yet implemented.')}function or(e,t){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];return e.concat.apply(e,c(n.filter(Boolean)))}function sr(e,t,n,r){Wn.call(this,e,t,n,!0,r),this.I=!0}function lr(e){return e.I?function(t,n){return e.o(t,n)}:function(t,n){var r=e.evaluate(t,n);return{next:function(){return Q({fa:[],H:r.S()})}}}}function ur(e,t){return t((e=e.next(0)).value.fa),se.create(e.value.H)}function cr(e,t,n,r){sr.call(this,e,t,n,r),this.I=this.J.some((function(e){return e.I}))}Wn.prototype.Y=function(){return null},Wn.prototype.P=function(e){if(this.J.forEach((function(t){return t.P(e)})),!this.wb&&this.J.some((function(e){return e.I})))throw jn()},(n=nr.prototype).createAttributeNS=function(e,t){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createAttributeNS(e,t)},n.createCDATASection=function(e){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createCDATASection(e)},n.createComment=function(e){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createComment(e)},n.createDocument=function(){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.implementation.createDocument(null,null,null)},n.createElementNS=function(e,t){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createElementNS(e,t)},n.createProcessingInstruction=function(e,t){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createProcessingInstruction(e,t)},n.createTextNode=function(e){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createTextNode(e)},g(sr,Wn),sr.prototype.evaluate=function(){throw jn()},g(cr,sr),cr.prototype.evaluate=function(e,t){return this.v(e,t,this.J.map((function(e){return function(n){return e.evaluate(n,t)}})))},cr.prototype.o=function(e,t){var n=[],r=this.v(e,t,this.J.map((function(e){return e.I?function(r){return ur(r=e.o(r,t),(function(e){return n=or(n,e)}))}:function(n){return e.evaluate(n,t)}}))),i=!1;return{next:function(){if(i)return J;var e=r.S();return i=!0,Q(new tr(e,n))}}},cr.prototype.P=function(e){sr.prototype.P.call(this,e),function(e){e.J.some((function(e){return e.I}))&&(e.I=!0)}(this)};var pr=["external","attribute","nodeName","nodeType","universal"],hr=pr.length;function dr(e){if(this.h=pr.map((function(t){return e[t]||0})),Object.keys(e).some((function(e){return!pr.includes(e)})))throw Error("Invalid specificity kind passed")}function fr(e,t){for(var n=0;n<hr;++n){if(t.h[n]<e.h[n])return 1;if(t.h[n]>e.h[n])return-1}return 0}function mr(){return Nt("Expected base expression of a function call to evaluate to a sequence of single function item")}function gr(e,t,n,r){for(var i=[],a=0;a<t.length;++a)if(null===t[a])i.push(null);else{var o=sn(e[a],t[a],n,r,!1);i.push(o)}return i}function yr(e,t){if(!Z(e.type,60))throw Nt("Expected base expression to evaluate to a function item");if(e.B!==t)throw mr();return e}function vr(e,t,n,r,i,a,o){var s=0;return i=i.map((function(e){return e?null:a[s++](n)})),0<=(i=gr(e.o,i,r,e.J)).indexOf(null)?function(e,t){var n=e.value,r=t.map((function(e){return null===e?null:le(e)}));return t=new ye({l:t=t.reduce((function(t,n,r){return null===n&&t.push(e.o[r]),t}),[]),arity:t.length,Oa:!0,I:e.I,localName:"boundFunction",namespaceURI:e.v,j:e.C,value:function(e,t,i){var a=Array.from(arguments).slice(3),o=r.map((function(e){return null===e?a.shift():e()}));return n.apply(void 0,[e,t,i].concat(o))}}),se.s(t)}(e,i):(t=t.apply(void 0,[n,r,o].concat(c(i))),sn(e.C,t,r,e.J,!0))}function br(e,t,n){var r={};cr.call(this,new dr((r.external=1,r)),[e].concat(t.filter((function(e){return!!e}))),{T:"unsorted",Z:!1,subtree:!1,A:!1},n),this.ka=t.length,this.N=t.map((function(e){return null===e})),this.C=null,this.na=e,this.ua=t}function wr(e,t,n,r,i,a){return Le([r,i,a],(function(e){var t=l(e);e=t.next().value;var n=t.next().value;if(t=t.next().value,n=n.value,t=t.value,n>e.R.length||0>=n)throw Error("FOAY0001: subarray start out of bounds.");if(0>t)throw Error("FOAY0002: subarray length out of bounds.");if(n+t>e.R.length+1)throw Error("FOAY0001: subarray start + length out of bounds.");return se.s(new Ue(e.R.slice(n-1,t+n-1)))}))}function xr(e,t,n,r,i){return Le([r],(function(e){var t=l(e).next().value;return i.M((function(e){e=e.map((function(e){return e.value})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n[t-1]!==e}));for(var n=t.R.concat(),r=0,i=e.length;r<i;++r){var a=e[r];if(a>t.R.length||0>=a)throw Error("FOAY0001: subarray position out of bounds.");n.splice(a-1,1)}return se.s(new Ue(n))}))}))}function Ar(e){return Z(e,1)||Z(e,20)||Z(e,19)}function _r(e,t,n,r){return r.sort((function(r,i){return Hn(e,t,n,se.create(r),se.create(i)).next(0).value?0:function e(t,n,r,i,a){return 0===i.length?0!==a.length:0!==a.length&&Ln(t,n,r,i[0],a[0]).next(0).value?e(t,n,r,i.slice(1),a.slice(1)):i[0].value!=i[0].value||(Ar(i[0].type)&&0!==a.length&&Ar(a[0].type)||0!==a.length)&&i[0].value<a[0].value}(e,t,n,r,i)?-1:1})),se.s(new Ue(r.map((function(e){return function(){return se.create(e)}}))))}function Er(e,t){return Z(t.type,62)?t.R.reduce((function(e,t){return t().M((function(t){return t.reduce(Er,e)}))}),e):Et([e,se.s(t)])}dr.prototype.add=function(e){var t=this;return new dr(pr.reduce((function(n,r,i){return n[r]=t.h[i]+e.h[i],n}),Object.create(null)))},g(br,cr),br.prototype.o=function(e,t){var n=this;if(!this.h||!this.h.I)return cr.prototype.o.call(this,e,t);var r=[],i=vr(this.h,(function(e,t,i,a){for(var o=[],s=3;s<arguments.length;++s)o[s-3]=arguments[s];return ur(n.h.value.apply(n.h,[e,t,i].concat(c(o))),(function(e){r=or(r,e)}))}),e,t,this.N,this.ua.map((function(n){return function(){return n.I?ur(n.o(e,t),(function(e){r=or(r,e)})):er(n,e,t)}})),this.C),a=!1;return{next:function(){if(a)return J;var e=i.S();return a=!0,Q({fa:r,H:e})}}},br.prototype.v=function(e,t,n){var r=this,i=(n=l(n)).next().value,a=u(n);if(this.h)return vr(this.h,(function(e,t,n,i){for(var a=[],o=3;o<arguments.length;++o)a[o-3]=arguments[o];return r.h.value.apply(r.h,[e,t,n].concat(c(a)))}),e,t,this.N,a,this.C);var o=i(e);return o.aa({default:function(){throw mr()},s:function(){return o.M((function(n){if((n=yr(n=l(n).next().value,r.ka)).I)throw Error("XUDY0038: The function returned by the PrimaryExpr of a dynamic function invocation can not be an updating function");return vr(n,n.value,e,t,r.N,a,r.C)}))}})},br.prototype.P=function(e){if(this.C=Fo(e),cr.prototype.P.call(this,e),this.na.A){if(!(e=er(this.na,null,null)).za())throw mr();this.h=yr(e.first(),this.ka),this.h.I&&(this.I=!0)}};var Cr=[{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"size",l:[{type:62,g:3}],j:{type:5,g:3},m:function(e,t,n,r){return Le([r],(function(e){return e=l(e).next().value,se.s(V(e.R.length,5))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"get",l:[{type:62,g:3},{type:5,g:3}],j:{type:59,g:2},m:Fe},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"put",l:[{type:62,g:3},{type:5,g:3},{type:59,g:2}],j:{type:62,g:3},m:function(e,t,n,r,i,a){return Le([i,r],(function(e){var t=l(e);if(e=t.next().value,t=t.next().value,0>=(e=e.value)||e>t.R.length)throw Error("FOAY0001: array position out of bounds.");return(t=t.R.concat()).splice(e-1,1,le(a)),se.s(new Ue(t))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"append",l:[{type:62,g:3},{type:59,g:2}],j:{type:62,g:3},m:function(e,t,n,r,i){return Le([r],(function(e){return e=l(e).next().value.R.concat([le(i)]),se.s(new Ue(e))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"subarray",l:[{type:62,g:3},{type:5,g:3},{type:5,g:3}],j:{type:62,g:3},m:wr},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"subarray",l:[{type:62,g:3},{type:5,g:3}],j:{type:62,g:3},m:function(e,t,n,r,i){var a=se.s(V(r.first().value.length-i.first().value+1,5));return wr(0,0,0,r,i,a)}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"remove",l:[{type:62,g:3},{type:5,g:2}],j:{type:62,g:3},m:xr},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"insert-before",l:[{type:62,g:3},{type:5,g:3},{type:59,g:2}],j:{type:62,g:3},m:function(e,t,n,r,i,a){return Le([r,i],(function(e){var t=l(e);if(e=t.next().value,(t=t.next().value.value)>e.R.length+1||0>=t)throw Error("FOAY0001: subarray position out of bounds.");return(e=e.R.concat()).splice(t-1,0,le(a)),se.s(new Ue(e))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"head",l:[{type:62,g:3}],j:{type:59,g:2},m:function(e,t,n,r){return Fe(0,0,0,r,se.s(V(1,5)))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"tail",l:[{type:62,g:3}],j:{type:59,g:2},m:function(e,t,n,r){return xr(0,0,0,r,se.s(V(1,5)))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"reverse",l:[{type:62,g:3}],j:{type:62,g:3},m:function(e,t,n,r){return Le([r],(function(e){return e=l(e).next().value,se.s(new Ue(e.R.concat().reverse()))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"join",l:[{type:62,g:2}],j:{type:62,g:3},m:function(e,t,n,r){return r.M((function(e){return e=e.reduce((function(e,t){return e.concat(t.R)}),[]),se.s(new Ue(e))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"for-each",l:[{type:62,g:3},{type:60,g:3}],j:{type:62,g:3},m:function(e,t,n,r,i){return Le([r,i],(function(r){var i=(r=l(r)).next().value,a=r.next().value;if(1!==a.B)throw Nt("The callback passed into array:for-each has a wrong arity.");return r=i.R.map((function(r){return le(a.value.call(void 0,e,t,n,gr(a.o,[r()],t,"array:for-each")[0]))})),se.s(new Ue(r))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"filter",l:[{type:62,g:3},{type:60,g:3}],j:{type:62,g:3},m:function(e,t,n,r,i){return Le([r,i],(function(r){var i=(r=l(r)).next().value,a=r.next().value;if(1!==a.B)throw Nt("The callback passed into array:filter has a wrong arity.");var o=i.R.map((function(r){return r=gr(a.o,[r()],t,"array:filter")[0],(0,a.value)(e,t,n,r)})),s=[],u=!1;return se.create({next:function(){if(u)return J;for(var e=0,t=i.R.length;e<t;++e){var n=o[e].getEffectiveBooleanValue();s[e]=n}return e=i.R.filter((function(e,t){return s[t]})),u=!0,Q(new Ue(e))}})}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"fold-left",l:[{type:62,g:3},{type:59,g:2},{type:60,g:3}],j:{type:59,g:2},m:function(e,t,n,r,i,a){return Le([r,a],(function(r){var a=(r=l(r)).next().value,o=r.next().value;if(2!==o.B)throw Nt("The callback passed into array:fold-left has a wrong arity.");return a.R.reduce((function(r,i){return i=gr(o.o,[i()],t,"array:fold-left")[0],o.value.call(void 0,e,t,n,r,i)}),i)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"fold-right",l:[{type:62,g:3},{type:59,g:2},{type:60,g:3}],j:{type:59,g:2},m:function(e,t,n,r,i,a){return Le([r,a],(function(r){var a=(r=l(r)).next().value,o=r.next().value;if(2!==o.B)throw Nt("The callback passed into array:fold-right has a wrong arity.");return a.R.reduceRight((function(r,i){return i=gr(o.o,[i()],t,"array:fold-right")[0],o.value.call(void 0,e,t,n,r,i)}),i)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"for-each-pair",l:[{type:62,g:3},{type:62,g:3},{type:60,g:3}],j:{type:62,g:3},m:function(e,t,n,r,i,a){return Le([r,i,a],(function(r){var i=l(r);r=i.next().value;var a=i.next().value;if(2!==(i=i.next().value).B)throw Nt("The callback passed into array:for-each-pair has a wrong arity.");for(var o=[],s=0,u=Math.min(r.R.length,a.R.length);s<u;++s){var c=l(gr(i.o,[r.R[s](),a.R[s]()],t,"array:for-each-pair")),p=c.next().value;c=c.next().value,o[s]=le(i.value.call(void 0,e,t,n,p,c))}return se.s(new Ue(o))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"sort",l:[{type:62,g:3}],j:{type:62,g:3},m:function(e,t,n,r){return Le([r],(function(r){return r=l(r).next().value.R.map((function(e){return e().S()})),_r(e,t,n,r)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"flatten",l:[{type:59,g:2}],j:{type:59,g:2},m:function(e,t,n,r){return r.M((function(e){return e.reduce(Er,se.empty())}))}}];function Nr(e,t,n,r,i){return i.F()?i:se.s(Yt(i.first(),e))}var Tr=[{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"untypedAtomic",l:[{type:46,g:0}],j:{type:19,g:0},m:Nr.bind(null,19)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"error",l:[{type:46,g:0}],j:{type:39,g:0},m:Nr.bind(null,39)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"string",l:[{type:46,g:0}],j:{type:1,g:0},m:Nr.bind(null,1)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"boolean",l:[{type:46,g:0}],j:{type:0,g:0},m:Nr.bind(null,0)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"decimal",l:[{type:46,g:0}],j:{type:4,g:0},m:Nr.bind(null,4)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"float",l:[{type:46,g:0}],j:{type:6,g:0},m:Nr.bind(null,6)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"double",l:[{type:46,g:0}],j:{type:3,g:0},m:Nr.bind(null,3)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"duration",l:[{type:46,g:0}],j:{type:18,g:0},m:Nr.bind(null,18)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dateTime",l:[{type:46,g:0}],j:{type:9,g:0},m:Nr.bind(null,9)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dateTimeStamp",l:[{type:46,g:0}],j:{type:10,g:0},m:Nr.bind(null,10)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"time",l:[{type:46,g:0}],j:{type:8,g:0},m:Nr.bind(null,8)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"date",l:[{type:46,g:0}],j:{type:7,g:0},m:Nr.bind(null,7)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gYearMonth",l:[{type:46,g:0}],j:{type:11,g:0},m:Nr.bind(null,11)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gYear",l:[{type:46,g:0}],j:{type:12,g:0},m:Nr.bind(null,12)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gMonthDay",l:[{type:46,g:0}],j:{type:13,g:0},m:Nr.bind(null,13)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gDay",l:[{type:46,g:0}],j:{type:15,g:0},m:Nr.bind(null,15)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gMonth",l:[{type:46,g:0}],j:{type:14,g:0},m:Nr.bind(null,14)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"hexBinary",l:[{type:46,g:0}],j:{type:22,g:0},m:Nr.bind(null,22)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"base64Binary",l:[{type:46,g:0}],j:{type:21,g:0},m:Nr.bind(null,21)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"QName",l:[{type:46,g:0}],j:{type:23,g:0},m:function(e,t,n,r){if(r.F())return r;if(Z((e=r.first()).type,2))throw Error("XPTY0004: The provided QName is not a string-like value.");if(!Pt(e=Ot(e=Yt(e,1).value,23),23))throw Error("FORG0001: The provided QName is invalid.");if(!e.includes(":"))return n=n.ga(""),se.s(V(new ge("",n,e),23));if(t=(r=l(e.split(":"))).next().value,r=r.next().value,!(n=n.ga(t)))throw Error("FONS0004: The value "+e+" can not be cast to a QName. Did you mean to use fn:QName?");return se.s(V(new ge(t,n,r),23))}},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"anyURI",l:[{type:46,g:0}],j:{type:20,g:0},m:Nr.bind(null,20)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"normalizedString",l:[{type:46,g:0}],j:{type:48,g:0},m:Nr.bind(null,48)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"token",l:[{type:46,g:0}],j:{type:52,g:0},m:Nr.bind(null,52)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"language",l:[{type:46,g:0}],j:{type:51,g:0},m:Nr.bind(null,51)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"NMTOKEN",l:[{type:46,g:0}],j:{type:50,g:0},m:Nr.bind(null,50)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"NMTOKENS",l:[{type:46,g:0}],j:{type:49,g:2},m:Nr.bind(null,49)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"Name",l:[{type:46,g:0}],j:{type:25,g:0},m:Nr.bind(null,25)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"NCName",l:[{type:46,g:0}],j:{type:24,g:0},m:Nr.bind(null,24)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"ID",l:[{type:46,g:0}],j:{type:42,g:0},m:Nr.bind(null,42)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"IDREF",l:[{type:46,g:0}],j:{type:41,g:0},m:Nr.bind(null,41)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"IDREFS",l:[{type:46,g:0}],j:{type:43,g:2},m:Nr.bind(null,43)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"ENTITY",l:[{type:46,g:0}],j:{type:26,g:0},m:Nr.bind(null,26)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"ENTITIES",l:[{type:46,g:0}],j:{type:40,g:2},m:Nr.bind(null,40)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"integer",l:[{type:46,g:0}],j:{type:5,g:0},m:Nr.bind(null,5)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"nonPositiveInteger",l:[{type:46,g:0}],j:{type:27,g:0},m:Nr.bind(null,27)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"negativeInteger",l:[{type:46,g:0}],j:{type:28,g:0},m:Nr.bind(null,28)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"long",l:[{type:46,g:0}],j:{type:31,g:0},m:Nr.bind(null,31)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"int",l:[{type:46,g:0}],j:{type:32,g:0},m:Nr.bind(null,32)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"short",l:[{type:46,g:0}],j:{type:33,g:0},m:Nr.bind(null,33)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"byte",l:[{type:46,g:0}],j:{type:34,g:0},m:Nr.bind(null,34)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"nonNegativeInteger",l:[{type:46,g:0}],j:{type:30,g:0},m:Nr.bind(null,30)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedLong",l:[{type:46,g:0}],j:{type:36,g:0},m:Nr.bind(null,36)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedInt",l:[{type:46,g:0}],j:{type:35,g:0},m:Nr.bind(null,35)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedShort",l:[{type:46,g:0}],j:{type:38,g:0},m:Nr.bind(null,38)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedByte",l:[{type:46,g:0}],j:{type:37,g:0},m:Nr.bind(null,37)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"positiveInteger",l:[{type:46,g:0}],j:{type:29,g:0},m:Nr.bind(null,29)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"yearMonthDuration",l:[{type:46,g:0}],j:{type:16,g:0},m:Nr.bind(null,16)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dayTimeDuration",l:[{type:46,g:0}],j:{type:17,g:0},m:Nr.bind(null,17)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dateTimeStamp",l:[{type:46,g:0}],j:{type:10,g:0},m:Nr.bind(null,10)}];function Br(e,t,n,r){return r.F()?r:se.s(V(r.first().value.getYear(),5))}function Sr(e,t,n,r){return r.F()?r:se.s(V(r.first().value.getMonth(),5))}function Ir(e,t,n,r){return r.F()?r:se.s(V(r.first().value.getDay(),5))}function kr(e,t,n,r){return r.F()?r:se.s(V(r.first().value.getHours(),5))}function Or(e,t,n,r){return r.F()?r:se.s(V(r.first().value.getMinutes(),5))}function Pr(e,t,n,r){return r.F()||(t=(e=se).s,r=r.first().value,r=t.call(e,V(r.J+r.pa,4))),r}function Dr(e,t,n,r){return r.F()?r:(e=r.first().value.ba)?se.s(V(e,17)):se.empty()}var Rr=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"dateTime",l:[{type:7,g:0},{type:8,g:0}],j:{type:9,g:0},m:function(e,t,n,r,i){if(r.F())return r;if(i.F())return i;if(e=r.first().value,i=i.first().value,t=e.ba,n=i.ba,t||n){if(!t||n)if(!t&&n)t=n;else if(!ze(t,n))throw Error("FORG0008: fn:dateTime: got a date and time value with different timezones.")}else t=null;return se.s(V(new it(e.getYear(),e.getMonth(),e.getDay(),i.getHours(),i.getMinutes(),i.getSeconds(),i.pa,t),9))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"year-from-dateTime",l:[{type:9,g:0}],j:{type:5,g:0},m:Br},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"month-from-dateTime",l:[{type:9,g:0}],j:{type:5,g:0},m:Sr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"day-from-dateTime",l:[{type:9,g:0}],j:{type:5,g:0},m:Ir},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"hours-from-dateTime",l:[{type:9,g:0}],j:{type:5,g:0},m:kr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"minutes-from-dateTime",l:[{type:9,g:0}],j:{type:5,g:0},m:Or},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"seconds-from-dateTime",l:[{type:9,g:0}],j:{type:4,g:0},m:Pr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"timezone-from-dateTime",l:[{type:9,g:0}],j:{type:17,g:0},m:Dr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"year-from-date",l:[{type:7,g:0}],j:{type:5,g:0},m:Br},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"month-from-date",l:[{type:7,g:0}],j:{type:5,g:0},m:Sr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"day-from-date",l:[{type:7,g:0}],j:{type:5,g:0},m:Ir},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"timezone-from-date",l:[{type:7,g:0}],j:{type:17,g:0},m:Dr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"hours-from-time",l:[{type:8,g:0}],j:{type:5,g:0},m:kr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"minutes-from-time",l:[{type:8,g:0}],j:{type:5,g:0},m:Or},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"seconds-from-time",l:[{type:8,g:0}],j:{type:4,g:0},m:Pr},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"timezone-from-time",l:[{type:8,g:0}],j:{type:17,g:0},m:Dr}];function Mr(e,t,n,r,i){return r.M((function(e){for(var n=It(se.create(e),t).map((function(e){return Yt(e,1)})).S(),r="",a=0;a<n.length;a++)r+="{type: "+n[a].type+", value: "+n[a].value+"}\n";return void 0!==i&&(r+=i.first().value),t.v.trace(r),se.create(e)}))}var Fr=[{l:[{type:59,g:2}],m:Mr,localName:"trace",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:2}},{l:[{type:59,g:2},{type:1,g:3}],m:Mr,localName:"trace",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:2}}];function Ur(e,t){e=Error.call(this,e),this.message=e.message,"stack"in e&&(this.stack=e.stack),this.position={end:{da:t.end.da,line:t.end.line,offset:t.end.offset},start:{da:t.start.da,line:t.start.line,offset:t.start.offset}}}function Hr(e,t){if(t instanceof Error)throw t;var n=function e(t){return t.h instanceof Error?t.location:e(t.h)}(t);e=e.replace("\r","").split("\n");var r=Math.floor(Math.log10(Math.min(n.end.line+2,e.length)))+1;throw e=e.reduce((function(e,t,i){var a=i+1;if(2<n.start.line-a||2<a-n.end.line)return e;if(i=Array(r).fill(" ",0,Math.floor(Math.log10(a))+1-r).join("")+a+": ",e.push(i+t),a>=n.start.line&&a<=n.end.line){var o=a<n.end.line?t.length+i.length:n.end.da-1+i.length;a=a>n.start.line?i.length:n.start.da-1+i.length,e.push(Array(i.length+t.length).fill(" ",0,a).fill("^",a,o).join(""))}return e}),[]),t=function e(t){var n=t.h instanceof Ur?["Inner error:",t.h.message]:t.h instanceof Error?[t.h.toString()]:e(t.h);return n.push("  at <"+t.o+">:"+t.location.start.line+":"+t.location.start.da+" - "+t.location.end.line+":"+t.location.end.da),n}(t).join("\n"),new Ur(e.join("\n")+"\n\n"+t,n)}function Gr(e,t){"*"===t||Array.isArray(t)||(t=[t]);for(var n=1;n<e.length;++n)if(Array.isArray(e[n])){var r=e[n];if("*"===t||t.includes(r[0]))return r}return null}function Lr(e){return 2>e.length?"":"object"==typeof e[1]?e[2]||"":e[1]||""}function jr(e,t){return Array.isArray(e)?"object"!=typeof(e=e[1])||Array.isArray(e)?null:t in e?e[t]:null:null}function Xr(e,t){return t.reduce(Gr,e)}function qr(e,t){for(var n=[],r=1;r<e.length;++r)if(Array.isArray(e[r])){var i=e[r];"*"!==t&&i[0]!==t||n.push(i)}return n}function Vr(e){return{localName:Lr(e),namespaceURI:jr(e,"URI"),prefix:jr(e,"prefix")||""}}function zr(e){var t=Gr(e,"typeDeclaration");if(!t||Gr(t,"voidSequenceType"))return{type:59,g:2};e={type:function e(n){switch(n[0]){case"documentTest":return 55;case"elementTest":return 54;case"attributeTest":return 47;case"piTest":return 57;case"commentTest":return 58;case"textTest":return 56;case"anyKindTest":return 53;case"anyItemType":return 59;case"anyFunctionTest":case"functionTest":case"typedFunctionTest":return 60;case"anyMapTest":case"typedMapTest":return 61;case"anyArrayTest":case"typedArrayTest":return 62;case"atomicType":return fe([jr(n,"prefix"),Lr(n)].join(":"));case"parenthesizedItemType":return e(Gr(n,"*"));default:throw Error('Type declaration "'+Gr(t,"*")[0]+'" is not supported.')}}(Gr(t,"*")),g:3};var n=null,r=Gr(t,"occurrenceIndicator");switch(r&&(n=Lr(r)),n){case"*":return e.g=2,e;case"?":return e.g=0,e;case"+":return e.g=1,e;case"":case null:return e}}function $r(e,t){if("object"!=typeof e[1]||Array.isArray(e[1])){var n={};n.type=t,e.splice(1,0,n)}else e[1].type=t}function Yr(e,t){var n={};Wn.call(this,new dr((n.external=1,n)),e,{A:e.every((function(e){return e.A}))},!1,t),this.h=e}function Kr(e,t){var n={};Wn.call(this,new dr((n.external=1,n)),e,{A:e.every((function(e){return e.A}))},!1,t),this.h=e}function Jr(e){if(null===e)throw Error("XPDY0002: context is absent, it needs to be present to use axes.");if(!Z(e.type,53))throw Error("XPTY0020: Axes can only be applied to nodes.");return e.value}function Qr(e,t){t=t||{Na:!1},Wn.call(this,e.K,[e],{T:"reverse-sorted",Z:!1,subtree:!1,A:!1}),this.h=e,this.o=!!t.Na}function Zr(e){var t={};Wn.call(this,new dr((t.attribute=1,t)),[e],{T:"unsorted",subtree:!0,Z:!0,A:!1}),this.h=e}function Wr(e){Wn.call(this,e.K,[e],{T:"sorted",subtree:!0,Z:!0,A:!1}),this.h=e}function ei(e,t,n){var r=t.node.nodeType;if(1!==r&&9!==r)return{next:function(){return J}};var i=Oe(e,t,n);return{next:function(){if(!i)return J;var t=i;return i=De(e,i,n),Q(t)}}}function ti(e,t){t=t||{Na:!1},Wn.call(this,e.K,[e],{A:!1,Z:!1,T:"sorted",subtree:!0}),this.h=e,this.o=!!t.Na,this.v=(e=this.h.Y())&&(e.startsWith("name-")||"type-1"===e)?"type-1":null}function ni(e,t,n){var r=e.node.nodeType;if(1!==r&&9!==r)return e;for(r=Pe(t,e,n);null!==r;){if(1!==r.node.nodeType)return r;r=Pe(t,e=r,n)}return e}function ri(e,t,n,r){if(void 0!==n&&n){var i=t,a=!1;return{next:function(){if(a)return J;if(Jt(i,t))return Jt(i=ni(t,e,r),t)?(a=!0,J):Q(Ge(i));var n=i.node.nodeType,o=9===n||2===n?null:Me(e,i,r);return null!==o?Q(Ge(i=ni(o,e,r))):Jt(i=9===n?null:Re(e,i,r),t)?(a=!0,J):Q(Ge(i))}}}var o=[ei(e,t,r)];return{next:function(){if(!o.length)return J;for(var t=o[0].next(0);t.done;){if(o.shift(),!o.length)return J;t=o[0].next(0)}return o.unshift(ei(e,t.value,r)),Q(Ge(t.value))}}}function ii(e){Wn.call(this,e.K,[e],{T:"sorted",Z:!0,subtree:!1,A:!1}),this.h=e,this.o=(e=this.h.Y())&&(e.startsWith("name-")||"type-1"===e)?"type-1":null}function ai(e){Wn.call(this,e.K,[e],{T:"sorted",Z:!0,subtree:!1,A:!1}),this.h=e}function oi(e){Wn.call(this,e.K,[e],{T:"reverse-sorted",Z:!0,subtree:!0,A:!1}),this.h=e}function si(e){Wn.call(this,e.K,[e],{A:!1,Z:!0,T:"reverse-sorted",subtree:!1}),this.h=e,this.o=(e=this.h.Y())&&(e.startsWith("name-")||"type-1"===e)?"type-1":null}function li(e){Wn.call(this,e.K,[e],{A:!1,Z:!0,T:"reverse-sorted",subtree:!1}),this.h=e}function ui(e){Wn.call(this,e.K,[e],{T:"sorted",subtree:!0,Z:!0,A:!1}),this.h=e}function ci(e,t,n,r){var i=e.K.add(t.K).add(n.K);cr.call(this,i,[e,t,n],{A:e.A&&t.A&&n.A,Z:t.Z===n.Z&&t.Z,T:t.B===n.B?t.B:"unsorted",subtree:t.subtree===n.subtree&&t.subtree},r),this.h=e}function pi(e,t,n){this.location=e,this.o=t,this.h=n}function hi(e,t,n){cr.call(this,n.K,[n],{A:n.A,Z:n.Z,T:n.B,subtree:n.subtree}),this.h=t,this.C={end:{da:e.end.da,line:e.end.line,offset:e.end.offset},start:{da:e.start.da,line:e.start.line,offset:e.start.offset}}}function di(e,t,n,r){Wn.call(this,e,t,n,!0),this.h=r,this.I=this.h.I}function fi(e,t,n,r){di.call(this,t.K.add(r.K),[t,r],{A:!1},r),this.N=e.prefix,this.ka=e.namespaceURI,this.vb=e.localName,this.mb=null,this.v=n,this.ua=null,this.na=t}function mi(e,t,n){var r={};Wn.call(this,new dr((r.external=1,r)),[n],{A:!1,T:"unsorted"}),this.N=e.map((function(e){return e.name})),this.v=e.map((function(e){return e.type})),this.o=null,this.C=t,this.h=n}function gi(e,t,n){if(di.call(this,t.K.add(n.K),[t,n],{A:!1,Z:n.Z,T:n.B,subtree:n.subtree},n),e.prefix||e.namespaceURI)throw Error("Not implemented: let expressions with namespace usage.");this.v=e.prefix,this.N=e.namespaceURI,this.ua=e.localName,this.ka=t,this.na=null}function yi(e,t){switch(Wn.call(this,new dr({}),[],{A:!0,T:"sorted"},!1,t),t.type){case 5:var n=V(parseInt(e,10),t.type);break;case 1:n=V(e,t.type);break;case 4:case 3:n=V(parseFloat(e),t.type);break;default:throw new TypeError("Type "+t+" not expected in a literal")}this.h=function(){return se.s(n)}}function vi(e,t){var n={};Wn.call(this,new dr((n.external=1,n)),e.reduce((function(e,t){return e.concat(t.key,t.value)}),[]),{A:!1},!1,t),this.h=e}g(Ur,Error),g(Yr,Wn),Yr.prototype.evaluate=function(e,t){return 0===this.h.length?se.s(new Ue([])):er(this.h[0],e,t).M((function(e){return se.s(new Ue(e.map((function(e){return le(se.s(e))}))))}))},g(Kr,Wn),Kr.prototype.evaluate=function(e,t){return se.s(new Ue(this.h.map((function(n){return le(er(n,e,t))}))))},g(Qr,Wn),Qr.prototype.evaluate=function(e,t){var n=this;t=t.h,e=Jr(e.O);var r=this.h.Y();return r=r&&(r.startsWith("name-")||"type-1"===r)?"type-1":null,se.create(function(e,t,n){var r=t;return{next:function(){if(!r)return J;var t=r;return r=Re(e,t,n),Q(Ge(t))}}}(t,this.o?e:Re(t,e,r),r)).filter((function(e){return n.h.h(e)}))},g(Zr,Wn),Zr.prototype.evaluate=function(e,t){var n=this;return t=t.h,1!==(e=Jr(e.O)).node.nodeType?se.empty():(e=Be(t,e,this.h.Y()).filter((function(e){return"http://www.w3.org/2000/xmlns/"!==e.node.namespaceURI})).map((function(e){return Ge(e)})).filter((function(e){return n.h.h(e)})),se.create(e))},Zr.prototype.Y=function(){return"type-1"},g(Wr,Wn),Wr.prototype.evaluate=function(e,t){var n=this;t=t.h;var r=(e=Jr(e.O)).node.nodeType,i=[];return 1!==r&&9!==r||Ie(t,e,this.h.Y()).forEach((function(e){return i.push(Ge(e))})),se.create(i).filter((function(e){return n.h.h(e)}))},g(ti,Wn),ti.prototype.evaluate=function(e,t){var n=this;return e=function(e,t,n){var r=[Kt(t)];return{next:function(t){if(0<r.length&&0!=(1&t)&&r.shift(),!r.length)return J;for(t=r[0].next(0);t.done;){if(r.shift(),!r.length)return J;t=r[0].next(0)}return r.unshift(ei(e,t.value,n)),Q(Ge(t.value))}}}(t=t.h,e=Jr(e.O),this.v),this.o||e.next(0),se.create(e).filter((function(e){return n.h.h(e)}))},g(ii,Wn),ii.prototype.evaluate=function(e,t){var n=this;return t=t.h,e=Jr(e.O),se.create(function(e,t,n){for(var r=[];t&&9!==t.node.nodeType;t=Re(e,t,null)){var i=De(e,t,n);i&&r.push(i)}var a=null;return{next:function(){for(;a||r.length;){if(!a){a=ri(e,r[0],!1,n);var t=Q(Ge(r[0])),i=De(e,r[0],n);return i?r[0]=i:r.shift(),t}if(!(t=a.next(0)).done)return t;a=null}return J}}}(t,e,this.o)).filter((function(e){return n.h.h(e)}))},g(ai,Wn),ai.prototype.evaluate=function(e,t){var n=this;return t=t.h,e=Jr(e.O),se.create(function(e,t,n){return{next:function(){return(t=t&&De(e,t,n))?Q(Ge(t)):J}}}(t,e,this.h.Y())).filter((function(e){return n.h.h(e)}))},g(oi,Wn),oi.prototype.evaluate=function(e,t){return(e=Re(t=t.h,e=Jr(e.O),this.h.Y()))?(e=Ge(e),this.h.h(e)?se.s(e):se.empty()):se.empty()},g(si,Wn),si.prototype.evaluate=function(e,t){var n=this;return t=t.h,e=Jr(e.O),se.create(function(e,t,n){for(var r=[];t&&9!==t.node.nodeType;t=Re(e,t,null)){var i=Me(e,t,n);null!==i&&r.push(i)}var a=null;return{next:function(){for(;a||r.length;){a||(a=ri(e,r[0],!0,n));var t=a.next(0);if(t.done){a=null,t=Me(e,r[0],n);var i=Q(Ge(r[0]));return null===t?r.shift():r[0]=t,i}return t}return J}}}(t,e,this.o)).filter((function(e){return n.h.h(e)}))},g(li,Wn),li.prototype.evaluate=function(e,t){var n=this;return t=t.h,e=Jr(e.O),se.create(function(e,t,n){return{next:function(){return(t=t&&Me(e,t,n))?Q(Ge(t)):J}}}(t,e,this.h.Y())).filter((function(e){return n.h.h(e)}))},g(ui,Wn),ui.prototype.evaluate=function(e){return Jr(e.O),this.h.h(e.O)?se.s(e.O):se.empty()},ui.prototype.Y=function(){return this.h.Y()},g(ci,cr),ci.prototype.v=function(e,t,n){var r=null,i=n[0](e);return se.create({next:function(t){return r||(r=(i.getEffectiveBooleanValue()?n[1](e):n[2](e)).value),r.next(t)}})},ci.prototype.P=function(e){if(cr.prototype.P.call(this,e),this.h.I)throw jn()},g(hi,cr),hi.prototype.v=function(e,t,n){var r=this;t=l(n).next().value;try{var i=t(e)}catch(e){throw new pi(this.C,this.h,e)}return se.create({next:function(e){try{return i.value.next(e)}catch(e){throw new pi(r.C,r.h,e)}}})},hi.prototype.P=function(e){try{cr.prototype.P.call(this,e)}catch(e){throw new pi(this.C,this.h,e)}},g(di,Wn),di.prototype.evaluate=function(e,t){var n=this;return this.C(e,Kt(e),t,(function(r){if(n.h instanceof di)return function e(t,n,r,i){return t.C(n,r,i,(function(r){if(t.h instanceof di)return e(t.h,n,r,i);var a=null;return se.create({next:function(){for(;;){if(!a){var e=r.next(0);if(e.done)return J;a=er(t.h,e.value,i).value}if(!(e=a.next(0)).done)return e;a=null}}})}))}(n.h,e,r,t);var i=null;return se.create({next:function(e){for(;;){if(!i){var a=r.next(0);if(a.done)return J;i=er(n.h,a.value,t).value}if(!(a=i.next(e)).done)return a;i=null}}})}))},di.prototype.o=function(e,t){return function e(t,n,r,i){var a=[],o=t.C(n,r,i,(function(r){if(t.h instanceof di)return ur(e(t.h,n,r,i),(function(e){return a=e}));var o=null;return se.create({next:function(){for(;;){if(!o){var e=r.next(0);if(e.done)return J;e=t.h.o(e.value,i),o=ur(e,(function(e){return a=or(a,e)})).value}if(!(e=o.next(0)).done)return e;o=null}}})})),s=!1;return{next:function(){if(s)return J;var e=o.S();return s=!0,Q(new tr(e,a))}}}(this,e,Kt(e),t)},di.prototype.P=function(e){Wn.prototype.P.call(this,e),this.I=this.h.I;for(var t=(e=l(this.J)).next();!t.done;t=e.next())if((t=t.value)!==this.h&&t.I)throw jn()},g(fi,di),fi.prototype.C=function(e,t,n,r){var i=this,a=null,o=null,s=0;return r({next:function(){for(var e={};;){if(!a){var r=t.next(0);if(r.done)return J;o=r.value,s=0,a=er(i.na,o,n).value}if(e.hb=a.next(0),!e.hb.done)return s++,(r={})[i.mb]=function(e){return function(){return se.s(e.hb.value)}}(e),e=r,i.ua&&(e[i.ua]=function(){return se.s(new ue(5,s))}),Q(At(o,e));a=null,e={hb:e.hb}}}})},fi.prototype.P=function(e){if(this.N&&(this.ka=e.ga(this.N),!this.ka&&this.N))throw Error("XPST0081: Could not resolve namespace for prefix "+this.N+" in a for expression");if(this.na.P(e),Uo(e),this.mb=Go(e,this.ka,this.vb),this.v){if(this.v.prefix&&(this.v.namespaceURI=e.ga(this.v.prefix),!this.v.namespaceURI&&this.v.prefix))throw Error("XPST0081: Could not resolve namespace for prefix "+this.N+" in the positionalVariableBinding in a for expression");this.ua=Go(e,this.v.namespaceURI,this.v.localName)}if(this.h.P(e),jo(e),this.na.I)throw jn();this.h.I&&(this.I=!0)},g(mi,Wn),mi.prototype.evaluate=function(e,t){var n=this,r=new ye({l:this.v,arity:this.v.length,Oa:!0,I:this.h.I,localName:"dynamic-function",namespaceURI:"",j:this.C,value:function(r,i,a,o){for(var s=[],l=3;l<arguments.length;++l)s[l-3]=arguments[l];return l=At(xt(e,-1,null,se.empty()),n.o.reduce((function(e,t,n){return e[t]=le(s[n]),e}),Object.create(null))),er(n.h,l,t)}});return se.s(r)},mi.prototype.P=function(e){if(Uo(e),this.o=this.N.map((function(t){return Go(e,t.namespaceURI,t.localName)})),this.h.P(e),jo(e),this.h.I)throw Error("Not implemented: inline functions can not yet be updating.")},g(gi,di),gi.prototype.C=function(e,t,n,r){var i=this;return r({next:function(){var e=t.next(0);if(e.done)return J;var r={};return Q(e=At(e=e.value,(r[i.na]=le(er(i.ka,e,n)),r)))}})},gi.prototype.P=function(e){if(this.v&&(this.N=e.ga(this.v),!this.N&&this.v))throw Error("XPST0081: Could not resolve namespace for prefix "+this.v+" using in a for expression");if(this.ka.P(e),Uo(e),this.na=Go(e,this.N,this.ua),this.h.P(e),jo(e),this.I=this.h.I,this.ka.I)throw jn()},g(yi,Wn),yi.prototype.evaluate=function(){return this.h()},g(vi,Wn),vi.prototype.evaluate=function(e,t){var n=this;return Le(this.h.map((function(n){return It(er(n.key,e,t),t).aa({default:function(){throw Error("XPTY0004: A key of a map should be a single atomizable value.")},s:function(e){return e}})})),(function(r){return se.s(new qe(r.map((function(r,i){return{key:r,value:le(er(n.h[i].value,e,t))}}))))}))};var bi=Object.create(null);function wi(e,t){for(var n=[],r=0;r<e.length+1;++r)n[r]=[];return function r(i,a){if(0===i)return a;if(0===a)return i;if(void 0!==n[i][a])return n[i][a];var o=0;return e[i-1]!==t[a-1]&&(o=1),o=Math.min(r(i-1,a)+1,r(i,a-1)+1,r(i-1,a-1)+o),n[i][a]=o}(e.length,t.length)}function xi(e){var t=bi[e]?bi[e]:Object.keys(bi).map((function(t){return{name:t,yb:wi(e,t.slice(t.lastIndexOf(":")+1))}})).sort((function(e,t){return e.yb-t.yb})).slice(0,5).filter((function(t){return t.yb<e.length/2})).reduce((function(e,t){return e.concat(bi[t.name])}),[]).slice(0,5);return t.length?t.map((function(e){return'"Q{'+e.namespaceURI+"}"+e.localName+" ("+e.l.map((function(e){return 4===e?"...":de(e)})).join(", ")+')"'})).reduce((function(e,t,n,r){return 0===n?e+t:e+(n!==r.length-1?", ":" or ")+t}),"Did you mean ")+"?":"No similar functions found."}function Ai(e,t,n,r,i){bi[e+":"+t]||(bi[e+":"+t]=[]),bi[e+":"+t].push({l:n,arity:n.length,m:i,I:!1,localName:t,namespaceURI:e,j:r})}function _i(e,t,n){var r={};Wn.call(this,new dr((r.external=1,r)),[],{A:!0},!1,n),this.o=t,this.v=e,this.h=null}function Ei(e,t,n){return(e<<20)+(t<<12)+(n.charCodeAt(0)<<8)+n.charCodeAt(1)}g(_i,Wn),_i.prototype.evaluate=function(){var e=new ye({l:this.h.l,I:this.h.I,arity:this.o,localName:this.h.localName,namespaceURI:this.h.namespaceURI,j:this.h.j,value:this.h.m});return se.s(e)},_i.prototype.P=function(e){var t=this.v.namespaceURI,n=this.v.localName,r=this.v.prefix;if(!t){var i=e.Qa({localName:n,prefix:r},this.o);if(!i)throw Error("XPST0017: The function "+(r?r+":":"")+n+" with arity "+this.o+" could not be resolved. "+xi(n));t=i.namespaceURI,n=i.localName}if(this.h=e.Aa(t,n,this.o)||null,!this.h)throw e=this.v,Error("XPST0017: Function "+(e.namespaceURI?"Q{"+e.namespaceURI+"}":e.prefix?e.prefix+":":"")+e.localName+" with arity of "+this.o+" not registered. "+xi(n));Wn.prototype.P.call(this,e)};var Ci={},Ni=(Ci[Ei(2,2,"idivOp")]=5,Ci[Ei(16,16,"addOp")]=16,Ci[Ei(16,16,"subtractOp")]=16,Ci[Ei(16,16,"divOp")]=4,Ci[Ei(16,2,"multiplyOp")]=16,Ci[Ei(16,2,"divOp")]=16,Ci[Ei(2,16,"multiplyOp")]=16,Ci[Ei(17,17,"addOp")]=17,Ci[Ei(17,17,"subtractOp")]=17,Ci[Ei(17,17,"divOp")]=4,Ci[Ei(17,2,"multiplyOp")]=17,Ci[Ei(17,2,"divOp")]=17,Ci[Ei(2,17,"multiplyOp")]=17,Ci[Ei(9,9,"subtractOp")]=17,Ci[Ei(7,7,"subtractOp")]=17,Ci[Ei(8,8,"subtractOp")]=17,Ci[Ei(9,16,"addOp")]=9,Ci[Ei(9,16,"subtractOp")]=9,Ci[Ei(9,17,"addOp")]=9,Ci[Ei(9,17,"subtractOp")]=9,Ci[Ei(7,16,"addOp")]=7,Ci[Ei(7,16,"subtractOp")]=7,Ci[Ei(7,17,"addOp")]=7,Ci[Ei(7,17,"subtractOp")]=7,Ci[Ei(8,17,"addOp")]=8,Ci[Ei(8,17,"subtractOp")]=8,Ci[Ei(9,16,"addOp")]=9,Ci[Ei(9,16,"subtractOp")]=9,Ci[Ei(9,17,"addOp")]=9,Ci[Ei(9,17,"subtractOp")]=9,Ci[Ei(7,17,"addOp")]=7,Ci[Ei(7,17,"subtractOp")]=7,Ci[Ei(7,16,"addOp")]=7,Ci[Ei(7,16,"subtractOp")]=7,Ci[Ei(8,17,"addOp")]=8,Ci[Ei(8,17,"subtractOp")]=8,Ci),Ti={},Bi=(Ti[Ei(2,2,"addOp")]=function(e,t){return e+t},Ti[Ei(2,2,"subtractOp")]=function(e,t){return e-t},Ti[Ei(2,2,"multiplyOp")]=function(e,t){return e*t},Ti[Ei(2,2,"divOp")]=function(e,t){return e/t},Ti[Ei(2,2,"modOp")]=function(e,t){return e%t},Ti[Ei(2,2,"idivOp")]=function(e,t){return Math.trunc(e/t)},Ti[Ei(16,16,"addOp")]=function(e,t){return new Mt(e.ha+t.ha)},Ti[Ei(16,16,"subtractOp")]=function(e,t){return new Mt(e.ha-t.ha)},Ti[Ei(16,16,"divOp")]=function(e,t){return e.ha/t.ha},Ti[Ei(16,2,"multiplyOp")]=Ht,Ti[Ei(16,2,"divOp")]=function(e,t){if(isNaN(t))throw Error("FOCA0005: Cannot divide xs:yearMonthDuration by NaN");if((e=Math.round(e.ha/t))>Number.MAX_SAFE_INTEGER||!Number.isFinite(e))throw Error("FODT0002: Value overflow while dividing xs:yearMonthDuration");return new Mt(e<Number.MIN_SAFE_INTEGER||0===e?0:e)},Ti[Ei(2,16,"multiplyOp")]=function(e,t){return Ht(t,e)},Ti[Ei(17,17,"addOp")]=function(e,t){return new $e(e.ea+t.ea)},Ti[Ei(17,17,"subtractOp")]=function(e,t){return new $e(e.ea-t.ea)},Ti[Ei(17,17,"divOp")]=function(e,t){if(0===t.ea)throw Error("FOAR0001: Division by 0");return e.ea/t.ea},Ti[Ei(17,2,"multiplyOp")]=Ze,Ti[Ei(17,2,"divOp")]=function(e,t){if(isNaN(t))throw Error("FOCA0005: Cannot divide xs:dayTimeDuration by NaN");if((e=e.ea/t)>Number.MAX_SAFE_INTEGER||!Number.isFinite(e))throw Error("FODT0002: Value overflow while dividing xs:dayTimeDuration");return new $e(e<Number.MIN_SAFE_INTEGER||Object.is(-0,e)?0:e)},Ti[Ei(2,17,"multiplyOp")]=function(e,t){return Ze(t,e)},Ti[Ei(9,9,"subtractOp")]=ct,Ti[Ei(7,7,"subtractOp")]=ct,Ti[Ei(8,8,"subtractOp")]=ct,Ti[Ei(9,16,"addOp")]=pt,Ti[Ei(9,16,"subtractOp")]=ht,Ti[Ei(9,17,"addOp")]=pt,Ti[Ei(9,17,"subtractOp")]=ht,Ti[Ei(7,16,"addOp")]=pt,Ti[Ei(7,16,"subtractOp")]=ht,Ti[Ei(7,17,"addOp")]=pt,Ti[Ei(7,17,"subtractOp")]=ht,Ti[Ei(8,17,"addOp")]=pt,Ti[Ei(8,17,"subtractOp")]=ht,Ti[Ei(9,16,"addOp")]=pt,Ti[Ei(9,16,"subtractOp")]=ht,Ti[Ei(9,17,"addOp")]=pt,Ti[Ei(9,17,"subtractOp")]=ht,Ti[Ei(7,17,"addOp")]=pt,Ti[Ei(7,17,"subtractOp")]=ht,Ti[Ei(7,16,"addOp")]=pt,Ti[Ei(7,16,"subtractOp")]=ht,Ti[Ei(8,17,"addOp")]=pt,Ti[Ei(8,17,"subtractOp")]=ht,Ti);function Si(e,t){return Z(e,5)&&Z(t,5)?5:Z(e,4)&&Z(t,4)?4:Z(e,6)&&Z(t,6)?6:3}var Ii=[2,16,17,9,7,8];function ki(e,t,n){function r(e,t){return{W:i?i(e):e,X:a?a(t):t}}var i=null,a=null;Z(t,19)&&(i=function(e){return Yt(e,3)},t=3),Z(n,19)&&(a=function(e){return Yt(e,3)},n=3);var o=Ii.filter((function(e){return Z(t,e)})),s=Ii.filter((function(e){return Z(n,e)}));if(o.includes(2)&&s.includes(2)){var u=Bi[Ei(2,2,e)],c=Ni[Ei(2,2,e)];return c||(c=Si(t,n)),"divOp"===e&&5===c&&(c=4),"idivOp"===e?Oi(r,u)[0]:function(e,t){return e=r(e,t),V(u(e.W.value,e.X.value),c)}}for(var p=(o=l(o)).next();!p.done;p=o.next()){p=p.value;for(var h={},d=l(s),f=d.next();!f.done;h={ib:h.ib,lb:h.lb},f=d.next())if(f=f.value,h.ib=Bi[Ei(p,f,e)],h.lb=Ni[Ei(p,f,e)],h.ib&&void 0!==h.lb)return function(e){return function(t,n){return t=r(t,n),V(e.ib(t.W.value,t.X.value),e.lb)}}(h)}}function Oi(e,t){return[function(n,r){if(n=(r=e(n,r)).W,0===(r=r.X).value)throw Error("FOAR0001: Divisor of idiv operator cannot be (-)0");if(Number.isNaN(n.value)||Number.isNaN(r.value)||!Number.isFinite(n.value))throw Error("FOAR0002: One of the operands of idiv is NaN or the first operand is (-)INF");return Number.isFinite(n.value)&&!Number.isFinite(r.value)?V(0,5):V(t(n.value,r.value),5)},5]}var Pi=Object.create(null);function Di(e,t,n,r,i){Wn.call(this,t.K.add(n.K),[t,n],{A:!1},!1,r),this.v=t,this.C=n,this.h=e,this.o=i}g(Di,Wn),Di.prototype.evaluate=function(e,t){var n=this;return It(er(this.v,e,t),t).M((function(r){return 0===r.length?se.empty():It(er(n.C,e,t),t).M((function(e){if(0===e.length)return se.empty();if(1<r.length||1<e.length)throw Error('XPTY0004: the operands of the "'+n.h+'" operator should be empty or singleton.');var t=r[0];if(e=e[0],n.o&&n.type)return se.s(n.o(t,e));var i=t.type,a=e.type,o=n.h,s=i+"~"+a+"~"+o,l=Pi[s];if(l||(l=Pi[s]=ki(o,i,a)),!(i=l))throw Error("XPTY0004: "+n.h+" not available for types "+pe[t.type]+" and "+pe[e.type]);return se.s(i(t,e))}))}))};var Ri={},Mi=(Ri[5]=5,Ri[27]=5,Ri[28]=5,Ri[31]=5,Ri[32]=5,Ri[33]=5,Ri[34]=5,Ri[30]=5,Ri[36]=5,Ri[35]=5,Ri[38]=5,Ri[37]=5,Ri[29]=5,Ri[4]=4,Ri[6]=6,Ri[3]=3,Ri);function Fi(e,t,n){Wn.call(this,t.K,[t],{A:!1},!1,n),this.o=t,this.h=e}function Ui(e,t){Wn.call(this,e.reduce((function(e,t){return e.add(t.K)}),new dr({})),e,{A:e.every((function(e){return e.A}))},!1,t),this.h=e}function Hi(e,t){var n,r=e.reduce((function(e,t){return 0<fr(e,t.K)?e:t.K}),new dr({}));for(Wn.call(this,r,e,{A:e.every((function(e){return e.A}))},!1,t),t=0;t<e.length&&(void 0===n&&(n=e[t].Y()),null!==n);++t)if(n!==e[t].Y()){n=null;break}this.o=n,this.h=e}function Gi(e,t,n){function r(e,t){return{W:o?o(e):e,X:s?s(t):t}}function i(e){return Z(t,e)&&Z(n,e)}function a(e){return 0<e.filter((function(e){return Z(t,e)})).length&&0<e.filter((function(e){return Z(n,e)})).length}var o=null,s=null;if(Z(t,19)&&Z(n,19)?t=n=1:Z(t,19)?(o=function(e){return Yt(e,n)},t=n):Z(n,19)&&(s=function(e){return Yt(e,t)},n=t),Z(t,23)&&Z(n,23))return function(e,t){if("eqOp"===e)return function(e,n){return e=(n=t(e,n)).W,n=n.X,e.value.namespaceURI===n.value.namespaceURI&&e.value.localName===n.value.localName};if("neOp"===e)return function(e,n){return e=(n=t(e,n)).W,n=n.X,e.value.namespaceURI!==n.value.namespaceURI||e.value.localName!==n.value.localName};throw Error('XPTY0004: Only the "eq" and "ne" comparison is defined for xs:QName')}(e,r);if(i(0)||a([1,47,61])||a([2,47,61])||i(20)||i(22)||i(21)||a([1,20])){var l=function(e,t){switch(e){case"eqOp":return function(e,n){return(e=t(e,n)).W.value===e.X.value};case"neOp":return function(e,n){return(e=t(e,n)).W.value!==e.X.value};case"ltOp":return function(e,n){return(e=t(e,n)).W.value<e.X.value};case"leOp":return function(e,n){return(e=t(e,n)).W.value<=e.X.value};case"gtOp":return function(e,n){return(e=t(e,n)).W.value>e.X.value};case"geOp":return function(e,n){return(e=t(e,n)).W.value>=e.X.value}}}(e,r);if(void 0!==l)return l}if(i(16)&&void 0!==(l=function(e,t){switch(e){case"ltOp":return function(e,n){return(e=t(e,n)).W.value.ha<e.X.value.ha};case"leOp":return function(e,n){return e=(n=t(e,n)).W,n=n.X,ze(e.value,n.value)||e.value.ha<n.value.ha};case"gtOp":return function(e,n){return(e=t(e,n)).W.value.ha>e.X.value.ha};case"geOp":return function(e,n){return e=(n=t(e,n)).W,n=n.X,ze(e.value,n.value)||e.value.ha>n.value.ha}}}(e,r))||i(17)&&void 0!==(l=function(e,t){switch(e){case"eqOp":return function(e,n){return ze((e=t(e,n)).W.value,e.X.value)};case"ltOp":return function(e,n){return(e=t(e,n)).W.value.ea<e.X.value.ea};case"leOp":return function(e,n){return e=(n=t(e,n)).W,n=n.X,ze(e.value,n.value)||e.value.ea<n.value.ea};case"gtOp":return function(e,n){return(e=t(e,n)).W.value.ea>e.X.value.ea};case"geOp":return function(e,n){return e=(n=t(e,n)).W,n=n.X,ze(e.value,n.value)||e.value.ea>n.value.ea}}}(e,r))||i(18)&&void 0!==(l=function(e,t){switch(e){case"eqOp":return function(e,n){return ze((e=t(e,n)).W.value,e.X.value)};case"neOp":return function(e,n){return!ze((e=t(e,n)).W.value,e.X.value)}}}(e,r)))return l;if((i(9)||i(7)||i(8))&&void 0!==(l=function(e,t){switch(e){case"eqOp":return function(e,n,r){return ut((e=t(e,n)).W.value,e.X.value,wt(r))};case"neOp":return function(e,n,r){return!ut((e=t(e,n)).W.value,e.X.value,wt(r))};case"ltOp":return function(e,n,r){return e=t(e,n),r=wt(r),0>lt(e.W.value,e.X.value,r)};case"leOp":return function(e,n,r){var i;return e=(n=t(e,n)).W,n=n.X,(i=ut(e.value,n.value,wt(r)))||(r=wt(r),i=0>lt(e.value,n.value,r)),i};case"gtOp":return function(e,n,r){return e=t(e,n),r=wt(r),0<lt(e.W.value,e.X.value,r)};case"geOp":return function(e,n,r){var i;return e=(n=t(e,n)).W,n=n.X,(i=ut(e.value,n.value,wt(r)))||(r=wt(r),i=0<lt(e.value,n.value,r)),i}}}(e,r)))return l;if((i(11)||i(12)||i(13)||i(14)||i(15))&&void 0!==(l=function(e,t){switch(e){case"eqOp":return function(e,n,r){return ut((e=t(e,n)).W.value,e.X.value,wt(r))};case"neOp":return function(e,n,r){return!ut((e=t(e,n)).W.value,e.X.value,wt(r))}}}(e,r)))return l;throw Error("XPTY0004: "+e+" not available for "+pe[t]+" and "+pe[n])}g(Fi,Wn),Fi.prototype.evaluate=function(e,t){var n=this;return It(er(this.o,e,t),t).M((function(e){if(0===e.length)return se.empty();var t=e[0];if(n.type)return e="+"===n.h?+t.value:-t.value,0===t.type&&(e=Number.NaN),se.s(V(e,n.type.type));if(1<e.length)throw Error("XPTY0004: The operand to a unary operator must be a sequence with a length less than one");return Z(t.type,19)?(t=Yt(t,3).value,se.s(V("+"===n.h?t:-t,3))):Z(t.type,2)?"+"===n.h?se.s(t):se.s(V(-1*t.value,Mi[t.type])):se.s(V(Number.NaN,3))}))},g(Ui,Wn),Ui.prototype.evaluate=function(e,t){var n=this,r=0,i=null,a=!1,o=null;if(null!==e){var s=e.O;null!==s&&Z(s.type,53)&&(o=be(s.value))}return se.create({next:function(){if(!a){for(;r<n.h.length;){if(!i){var s=n.h[r];if(null!==o&&null!==s.Y()&&!o.includes(s.Y()))return r++,a=!0,Q($);i=er(s,e,t)}if(!1===i.getEffectiveBooleanValue())return a=!0,Q($);i=null,r++}return a=!0,Q(z)}return J}})},Ui.prototype.Y=function(){for(var e=0,t=this.h.length;e<t;++e){var n=this.h[e].Y();if(n)return n}return null},g(Hi,Wn),Hi.prototype.evaluate=function(e,t){var n=this,r=0,i=null,a=!1,o=null;if(null!==e){var s=e.O;null!==s&&Z(s.type,53)&&(o=be(s.value))}return se.create({next:function(){if(!a){for(;r<n.h.length;){if(!i){var s=n.h[r];if(null!==o&&null!==s.Y()&&!o.includes(s.Y())){r++;continue}i=er(s,e,t)}if(!0===i.getEffectiveBooleanValue())return a=!0,Q(z);i=null,r++}return a=!0,Q($)}return J}})},Hi.prototype.Y=function(){return this.o};var Li=Object.create(null);function ji(e,t,n){var r=t+"~"+n+"~"+e,i=Li[r];return i||(i=Li[r]=Gi(e,t,n)),i}function Xi(e,t,n){try{var r=ji(e,t,n);return function(e,t,n){if(1<e.ya()||1<t.ya())throw Error("XPTY0004: Sequences to compare are not singleton.");return r(e.first(),t.first(),n)}}catch(e){}}var qi={},Vi=(qi.equalOp="eqOp",qi.notEqualOp="neOp",qi.lessThanOrEqualOp="leOp",qi.lessThanOp="ltOp",qi.greaterThanOrEqualOp="geOp",qi.greaterThanOp="gtOp",qi);function zi(e,t){var n,r;return(Z(e,19)||Z(t,19))&&(Z(e,2)?r=3:Z(t,2)?n=3:Z(e,17)?r=17:Z(t,17)?n=17:Z(e,16)?r=16:Z(t,16)?n=16:Z(e,19)?n=t:Z(t,19)&&(r=e)),[n,r]}function $i(e,t,n,r){if(!Z(n,53)||!Z(r,53))throw Error("XPTY0004: Sequences to compare are not nodes");switch(e){case"isOp":return function(e,t){return e!==t||47!==e&&53!==e&&54!==e&&55!==e&&56!==e&&57!==e&&58!==e?function(){return!1}:function(e,t){return Jt(e.first().value,t.first().value)}}(n,r);case"nodeBeforeOp":return t?function(e,n){return 0>tn(t,e.first(),n.first())}:void 0;case"nodeAfterOp":return t?function(e,n){return 0<tn(t,e.first(),n.first())}:void 0;default:throw Error("Unexpected operator")}}function Yi(e,t,n,r,i){switch(Wn.call(this,t.K.add(n.K),[t,n],{A:!1}),this.C=t,this.N=n,e){case"equalOp":case"notEqualOp":case"lessThanOrEqualOp":case"lessThanOp":case"greaterThanOrEqualOp":case"greaterThanOp":if(this.h="generalCompare",t=[59,62,46,53],r&&i&&!t.includes(r.type)&&!t.includes(i.type)){if(3===r.g&&3===i.g)r=Xi(e,r.type,i.type);else{n=Vi[e];var a=l(zi(r.type,i.type));t=a.next().value,a=a.next().value,n=ji(n,r.type,i.type),r=0===r.g&&0===i.g?function(e,t,n){return function(r,i,a){return!r.F()&&!i.F()&&(r=r.first(),i=i.first(),e&&(r=Yt(r,e)),t&&(i=Yt(i,t)),n(r,i,a))}}(t,a,n):function(e,t,n){return function(r,i,a){return i.M((function(i){return r.filter((function(r){for(var o=0,s=i.length;o<s;++o){var l=i[o];if(e&&(r=Yt(r,e)),t&&(l=Yt(l,t)),n(r,l,a))return!0}return!1})).aa({default:function(){return se.$()},empty:function(){return se.U()}})})).getEffectiveBooleanValue()}}(t,a,n)}this.o=r}break;case"eqOp":case"neOp":case"ltOp":case"leOp":case"gtOp":case"geOp":this.h="valueCompare",r&&i&&(this.o=Xi(e,r.type,i.type));break;default:this.h="nodeCompare",r&&i&&(this.o=$i(e,void 0,r.type,i.type))}this.v=e}function Ki(e,t,n,r){return n.M((function(n){if(n.some((function(e){return!Z(e.type,53)})))throw Error("XPTY0004: Sequences given to "+e+" should only contain nodes.");return"sorted"===r?se.create(n):"reverse-sorted"===r?se.create(n.reverse()):se.create(nn(t,n))}))}function Ji(e,t,n,r){Wn.call(this,0<fr(t.K,n.K)?t.K:n.K,[t,n],{A:t.A&&n.A},!1,r),this.h=e,this.o=t,this.v=n}function Qi(e,t){cr.call(this,e.reduce((function(e,t){return e.add(t.K)}),new dr({})),e,{T:"unsorted",A:e.every((function(e){return e.A}))},t)}function Zi(e,t,n){Wn.call(this,new dr({}).add(e.K),[e,t],{A:e.A&&t.A},!1,n),this.h=e,this.o=t}function Wi(e,t,n){if(Wn.call(this,e.K,[e],{A:!1}),this.h=fe(t.prefix?t.prefix+":"+t.localName:t.localName),46===this.h||45===this.h||44===this.h)throw Error("XPST0080: Casting to xs:anyAtomicType, xs:anySimpleType or xs:NOTATION is not permitted.");if(t.namespaceURI)throw Error("Not implemented: castable as expressions with a namespace URI.");this.v=e,this.o=n}function ea(e,t,n){if(Wn.call(this,e.K,[e],{A:!1}),this.h=fe(t.prefix?t.prefix+":"+t.localName:t.localName),46===this.h||45===this.h||44===this.h)throw Error("XPST0080: Casting to xs:anyAtomicType, xs:anySimpleType or xs:NOTATION is not permitted.");if(t.namespaceURI)throw Error("Not implemented: casting expressions with a namespace URI.");this.v=e,this.o=n}function ta(e,t){var n=e.value,r=null,i=!1;return se.create({next:function(){for(;!i;){if(!r){var e=n.next(0);if(e.done)return i=!0,Q(z);r=t(e.value)}if(e=r.getEffectiveBooleanValue(),r=null,!1===e)return i=!0,Q($)}return J}})}function na(e,t,n,r){Wn.call(this,e.K,[e],{A:!1},!1,r),this.v=e,this.o=t,this.h=n}function ra(e,t){return!(null===e||null===t||!Z(e.type,53)||!Z(t.type,53))&&Jt(e.value,t.value)}function ia(e){var t=e.next(0);if(t.done)return se.empty();var n=null,r=null;return se.create({next:function(i){if(t.done)return J;n||(n=t.value.value);do{var a=n.next(i);if(a.done){if((t=e.next(0)).done)return a;n=t.value.value}}while(a.done||ra(a.value,r));return r=a.value,a}})}function aa(e,t){var n=[];!function(){for(var e=t.next(0),r={};!e.done;)r.jb=e.value.value,(e={current:r.jb.next(0),next:function(e){return function(t){return e.jb.next(t)}}(r)}).current.done||n.push(e),e=t.next(0),r={jb:r.jb}}();var r=null,i=!1,a={};return se.create((a[Symbol.iterator]=function(){return this},a.next=function(){i||(i=!0,n.every((function(e){return Z(e.current.value.type,53)}))&&n.sort((function(t,n){return tn(e,t.current.value,n.current.value)})));do{if(!n.length)return J;var t=n.shift(),a=t.current;if(t.current=t.next(0),!Z(a.value.type,53))return a;if(!t.current.done){for(var o=0,s=n.length-1,l=0;o<=s;){l=Math.floor((o+s)/2);var u=tn(e,t.current.value,n[l].current.value);if(0===u){o=l;break}0<u?o=l+1:s=l-1}n.splice(o,0,t)}}while(ra(a.value,r));return r=a.value,a},a))}function oa(e,t){var n=e.reduce((function(e,t){return 0<fr(e,t.K)?e:t.K}),new dr({}));Wn.call(this,n,e,{A:e.every((function(e){return e.A}))},!1,t),this.h=e}function sa(e){return e.every((function(e){return null===e||Z(e.type,5)||Z(e.type,4)}))||null!==e.map((function(e){return e?kt(e.type):null})).reduce((function(e,t){return null===t||t===e?e:null}))?e:e.every((function(e){return null===e||Z(e.type,1)||Z(e.type,20)}))?e.map((function(e){return e?Yt(e,1):null})):e.every((function(e){return null===e||Z(e.type,4)||Z(e.type,6)}))?e.map((function(e){return e?Yt(e,6):e})):e.every((function(e){return null===e||Z(e.type,4)||Z(e.type,6)||Z(e.type,3)}))?e.map((function(e){return e?Yt(e,3):e})):null}function la(e){return Error("XPTY0004: "+e)}function ua(e,t){return e=2===e.node.nodeType?e.node.nodeName+'="'+ke(t,e)+'"':e.node.outerHTML,Error("XQTY0024: The node "+e+" follows a node that is not an attribute node or a namespace node.")}function ca(){return Error("XQST0045: Functions and variables may not be declared in one of the reserved namespace URIs.")}function pa(){return Error("XQST0060: Functions declared in a module or as an external function must reside in a namespace.")}function ha(){return Error("XQST0070: The prefixes xml and xmlns may not be used in a namespace declaration or be bound to another namespaceURI.")}function da(e){return Error('XQDY0074: The value "'+e+'" of a name expressions cannot be converted to an expanded QName.')}function fa(e){return Error('XPST0081: The prefix "'+e+'" could not be resolved')}function ma(e,t){var n=new dr({});di.call(this,n,[t].concat(c(e.map((function(e){return e.ia})))),{A:!1,Z:!1,T:"unsorted",subtree:!1},t),this.v=e}function ga(e){Wn.call(this,e?e.K:new dr({}),e?[e]:[],{T:"sorted",subtree:!1,Z:!1,A:!1}),this.h=e}function ya(e){Wn.call(this,new dr({}),[],{T:"sorted"},!1,e)}function va(e,t){var n=e.every((function(e){return e.Z})),r=e.every((function(e){return e.subtree}));Wn.call(this,e.reduce((function(e,t){return e.add(t.K)}),new dr({})),e,{A:!1,Z:n,T:t?"sorted":"unsorted",subtree:r}),this.h=e,this.o=t}function ba(e,t){Wn.call(this,e.K.add(t.K),[e,t],{A:e.A&&t.A,Z:e.Z,T:e.B,subtree:e.subtree}),this.o=e,this.h=t}function wa(e,t,n){if(n=[n],Z(e.type,62))if("*"===t)n.push.apply(n,c(e.R.map((function(e){return e()}))));else{if(!Z(t.type,5))throw la("The key specifier is not an integer.");var r=t.value;if(e.R.length<r||0>=r)throw Error("FOAY0001: Array index out of bounds");n.push(e.R[r-1]())}else{if(!Z(e.type,61))throw la("The provided context item is not a map or an array.");"*"===t?n.push.apply(n,c(e.h.map((function(e){return e.value()})))):(e=e.h.find((function(e){return je(e.key,t)})))&&n.push(e.value())}return Et(n)}function xa(e,t,n,r,i){return"*"===t?wa(e,t,n):Et([n,t=le(t=er(t,r,i))().M((function(t){return t.reduce((function(t,n){return wa(e,n,t)}),new ee)}))])}function Aa(e,t){Wn.call(this,e.K,[e].concat("*"===t?[]:[t]),{A:e.A,T:e.B,subtree:e.subtree}),this.h=e,this.o=t}function _a(e,t){var n={};Wn.call(this,new dr((n.external=1,n)),"*"===e?[]:[e],{A:!1},!1,t),this.h=e}function Ea(e,t,n,r){var i=t.map((function(e){return e.eb}));t=t.map((function(e){return e.name}));var a=i.reduce((function(e,t){return e.add(t.K)}),n.K);Wn.call(this,a,i.concat(n),{A:!1},!1,r),this.o=e,this.v=t,this.C=i,this.N=n,this.h=null}function Ca(e){Wn.call(this,e,[],{A:!1})}function Na(e){var t={};Ca.call(this,new dr((t.nodeType=1,t))),this.o=e}function Ta(e,t){t=void 0===t?{kind:null}:t;var n=e.prefix,r=e.namespaceURI,i={};"*"!==(e=e.localName)&&(i.nodeName=1),i.nodeType=1,Ca.call(this,new dr(i)),this.o=e,this.C=r,this.v=n||(r?null:""),this.N=t.kind}function Ba(e){var t={};Ca.call(this,new dr((t.nodeName=1,t))),this.o=e}function Sa(e){Ca.call(this,new dr({})),this.o=e}function Ia(e,t,n){Wn.call(this,new dr({}),[],{A:!1,T:"unsorted"}),this.o=n,this.v=t||void 0,this.C=e,this.h=null}function ka(e,t){var n=new dr({});di.call(this,n,[e,t],{A:!1,Z:!1,T:"unsorted",subtree:!1},t),this.v=e}function Oa(e,t){var n=t.h,r=t.o,i=t.B;switch(e.node.nodeType){case 1:var a=r.createElementNS(e.node.namespaceURI,e.node.nodeName);for(n.getAllAttributes(e.node).forEach((function(e){return i.setAttributeNS(a,e.namespaceURI,e.nodeName,e.value)})),e=(r=l(Ie(n,e))).next();!e.done;e=r.next())e=Oa(e.value,t),i.insertBefore(a,e.node,null);return{node:a,G:null};case 2:return(t=r.createAttributeNS(e.node.namespaceURI,e.node.nodeName)).value=ke(n,e),{node:t,G:null};case 4:return{node:r.createCDATASection(ke(n,e)),G:null};case 8:return{node:r.createComment(ke(n,e)),G:null};case 9:for(r=r.createDocument(),e=(n=l(Ie(n,e))).next();!e.done;e=n.next())e=Oa(e.value,t),i.insertBefore(r,e.node,null);return{node:r,G:null};case 7:return{node:r.createProcessingInstruction(e.node.target,ke(n,e)),G:null};case 3:return{node:r.createTextNode(ke(n,e)),G:null}}}function Pa(e,t){var n=t.B,r=t.o,i=t.h;if(!Ce(e.node))return Oa(e,t).node;switch(e.node.nodeType){case 2:return(r=r.createAttributeNS(e.node.namespaceURI,e.node.nodeName)).value=ke(i,e),r;case 8:return r.createComment(ke(i,e));case 1:var a=e.node.prefix,o=e.node.localName,s=r.createElementNS(e.node.namespaceURI,a?a+":"+o:o);return Ie(i,e).forEach((function(e){e=Pa(e,t),n.insertBefore(s,e,null)})),Be(i,e).forEach((function(e){n.setAttributeNS(s,e.node.namespaceURI,e.node.nodeName,ke(i,e))})),s.normalize(),s;case 7:return r.createProcessingInstruction(e.node.target,ke(i,e));case 3:return r.createTextNode(ke(i,e))}}function Da(e,t,n){var r=e.node;if(!(Ce(r)||n||e.G))return r;n=t.C,e=function(e,t,n){var r=e;for(e=Re(n,r);null!==e;){if(2===r.node.nodeType)t.push(r.node.nodeName);else{var i=Ie(n,e);t.push(i.findIndex((function(e){return Jt(e,r)})))}e=Re(n,r=e)}return r}(e,r=[],t.h);var i=n.get(e.node);return i||(i={node:Pa(e,t),G:null},n.set(e.node,i)),function(e,t,n){for(var r={};0<t.length;)r.Xa=t.pop(),e="string"==typeof r.Xa?Be(n,e).find(function(e){return function(t){return t.node.nodeName===e.Xa}}(r)):Ie(n,e)[r.Xa],r={Xa:r.Xa};return e.node}(i,r,t.h)}function Ra(e){this.type=e}function Ma(e){this.type="delete",this.target=e}function Fa(e,t,n){this.type=n,this.target=e,this.content=t}function Ua(e,t){Fa.call(this,e,t,"insertAfter")}function Ha(e,t){this.type="insertAttributes",this.target=e,this.content=t}function Ga(e,t){Fa.call(this,e,t,"insertBefore")}function La(e,t){Fa.call(this,e,t,"insertIntoAsFirst")}function ja(e,t){Fa.call(this,e,t,"insertIntoAsLast")}function Xa(e,t){Fa.call(this,e,t,"insertInto")}function qa(e,t){this.type="rename",this.target=e,this.o=t.va?t:new ge(t.prefix,t.namespaceURI,t.localName)}function Va(e,t){this.type="replaceElementContent",this.target=e,this.text=t}function za(e,t){this.type="replaceNode",this.target=e,this.o=t}function $a(e,t){this.type="replaceValue",this.target=e,this.o=t}function Ya(e,t){return new za(e,t)}function Ka(e){sr.call(this,new dr({}),[e],{A:!1,T:"unsorted"}),this.h=e}function Ja(e,t,n){var r=[],i=[],a=!1;return e.forEach((function(e){a=function e(t,n,r,i,a,o){var s=n.h;return t.reduce((function e(t,n){return Z(n.type,62)?(n.R.forEach((function(n){return n().S().forEach((function(n){return e(t,n)}))})),t):(t.push(n),t)}),[]).forEach((function(t,l,u){if(Z(t.type,47)){if(a)throw o(t.value,s);r.push(t.value.node)}else if(Z(t.type,46)||Z(t.type,53)&&3===t.value.node.nodeType){var c=Z(t.type,46)?Yt(St(t,n).first(),1).value:ke(s,t.value);0!==l&&Z(u[l-1].type,46)&&Z(t.type,46)?(i.push({data:" "+c,Pa:!0,nodeType:3}),a=!0):c&&(i.push({data:""+c,Pa:!0,nodeType:3}),a=!0)}else if(Z(t.type,55)){var p=[];Ie(s,t.value).forEach((function(e){return p.push(Ge(e))})),a=e(p,n,r,i,a,o)}else{if(!Z(t.type,53)){if(Z(t.type,60))throw Tt(t.type);throw Error("Atomizing "+t.type+" is not implemented.")}i.push(t.value.node),a=!0}})),a}(e,t,r,i,a,n)})),{attributes:r,Ua:i}}function Qa(e,t,n,r,i){var a=[];switch(e){case 4:r.length&&a.push(new Ha(t,r)),i.length&&a.push(new La(t,i));break;case 5:r.length&&a.push(new Ha(t,r)),i.length&&a.push(new ja(t,i));break;case 3:r.length&&a.push(new Ha(t,r)),i.length&&a.push(new Xa(t,i));break;case 2:r.length&&a.push(new Ha(n,r)),i.length&&a.push(new Ga(t,i));break;case 1:r.length&&a.push(new Ha(n,r)),i.length&&a.push(new Ua(t,i))}return a}function Za(e,t,n){sr.call(this,new dr({}),[e,n],{A:!1,T:"unsorted"}),this.C=e,this.h=t,this.v=n}function Wa(){return Nt("Casting not supported from given type to a single xs:string or xs:untypedAtomic or any of its derived types.")}g(Yi,Wn),Yi.prototype.evaluate=function(e,t){var n=this,r=er(this.C,e,t),i=er(this.N,e,t);if(this.o){if("nodeCompare"===this.h)return r.F()||i.F()?se.empty():this.o(r,i,e)?se.$():se.U();var a=It(r,t),o=It(i,t);return a.F()||o.F()?"valueCompare"===this.h?se.empty():se.U():this.o(a,o,e)?se.$():se.U()}return r.aa({empty:function(){return"valueCompare"===n.h||"nodeCompare"===n.h?se.empty():se.U()},default:function(){return i.aa({empty:function(){return"valueCompare"===n.h||"nodeCompare"===n.h?se.empty():se.U()},default:function(){if("nodeCompare"===n.h)return r.aa({default:function(){throw Error("XPTY0004: Sequences to compare are not singleton")},s:function(){return function(e,t,n,r,i){return n.aa({default:function(){throw Error("XPTY0004: Sequences to compare are not singleton")},s:function(){return Le([t,n],(function(a){var o=l(a);return a=o.next().value,o=o.next().value,$i(e.v,r.h,a.type,o.type)(t,n,i)?se.$():se.U()}))}})}(n,r,i,t,e)}});var a=It(r,t),o=It(i,t);return"valueCompare"===n.h?a.aa({s:function(){return o.aa({s:function(){return a.M((function(t){var r=l(t).next().value;return o.M((function(t){return t=l(t).next().value,ji(n.v,r.type,t.type)(r,t,e)?se.$():se.U()}))}))},default:function(){throw Error("XPTY0004: Sequences to compare are not singleton.")}})},default:function(){throw Error("XPTY0004: Sequences to compare are not singleton.")}}):function(e,t,n,r){return e=Vi[e],n.M((function(n){return t.filter((function(t){for(var i=0,a=n.length;i<a;++i){var o=n[i],s=l(zi(t.type,o.type)),u=s.next().value;if(s=s.next().value,u?t=Yt(t,u):s&&(o=Yt(o,s)),ji(e,t.type,o.type)(t,o,r))return!0}return!1})).aa({default:function(){return se.$()},empty:function(){return se.U()}})}))}(n.v,a,o,e)}})}})},g(Ji,Wn),Ji.prototype.evaluate=function(e,t){var n=this,r=Ki(this.h,t.h,er(this.o,e,t),this.o.B);e=Ki(this.h,t.h,er(this.v,e,t),this.v.B);var i=r.value,a=e.value,o=null,s=null,l=!1,u=!1;return se.create({next:function(){if(l)return J;for(;!u;){if(!o){var e=i.next(0);if(e.done)return l=!0,J;o=e.value}if(!s){if((e=a.next(0)).done){u=!0;break}s=e.value}if(Jt(o.value,s.value)){if(e=Q(o),s=o=null,"intersectOp"===n.h)return e}else if(0>tn(t.h,o,s)){if(e=Q(o),o=null,"exceptOp"===n.h)return e}else s=null}return"exceptOp"===n.h?null!==o?(e=Q(o),o=null,e):i.next(0):(l=!0,J)}})},g(Qi,cr),Qi.prototype.v=function(e,t,n){return n.length?Et(n.map((function(t){return t(e)}))):se.empty()},g(Zi,Wn),Zi.prototype.evaluate=function(e,t){var n=this,r=vt(e,er(this.h,e,t)),i=null,a=null,o=!1;return se.create({next:function(e){for(;!o;){if(!i&&(i=r.next(e)).done)return o=!0,J;a||(a=er(n.o,i.value,t));var s=a.value.next(e);if(!s.done)return s;i=a=null}}})},g(Wi,Wn),Wi.prototype.evaluate=function(e,t){var n=this,r=It(er(this.v,e,t),t);return r.aa({empty:function(){return n.o?se.$():se.U()},s:function(){return r.map((function(e){return $t(e,n.h).u?z:$}))},multiple:function(){return se.U()}})},g(ea,Wn),ea.prototype.evaluate=function(e,t){var n=this,r=It(er(this.v,e,t),t);return r.aa({empty:function(){if(!n.o)throw Error("XPTY0004: Sequence to cast is empty while target type is singleton.");return se.empty()},s:function(){return r.map((function(e){return Yt(e,n.h)}))},multiple:function(){throw Error("XPTY0004: Sequence to cast is not singleton or empty.")}})},g(na,Wn),na.prototype.evaluate=function(e,t){var n=this,r=er(this.v,e,t);return r.aa({empty:function(){return"?"===n.h||"*"===n.h?se.$():se.U()},multiple:function(){return"+"===n.h||"*"===n.h?ta(r,(function(r){var i=se.s(r);return r=xt(e,0,r,i),er(n.o,r,t)})):se.U()},s:function(){return ta(r,(function(r){var i=se.s(r);return r=xt(e,0,r,i),er(n.o,r,t)}))}})},g(oa,Wn),oa.prototype.evaluate=function(e,t){var n=this;if(this.h.every((function(e){return"sorted"===e.B}))){var r=0;return aa(t.h,{next:function(){return r>=n.h.length?J:Q(er(n.h[r++],e,t))}}).map((function(e){if(!Z(e.type,53))throw Error("XPTY0004: The sequences to union are not of type node()*");return e}))}return Et(this.h.map((function(n){return er(n,e,t)}))).M((function(e){if(e.some((function(e){return!Z(e.type,53)})))throw Error("XPTY0004: The sequences to union are not of type node()*");return e=nn(t.h,e),se.create(e)}))},g(ma,di),ma.prototype.C=function(e,t,n,r){if(this.v[1])throw Error("More than one order spec is not supported for the order by clause.");var i,a,o=[],s=!1,u=null,c=this.v[0];return se.create({next:function(){if(!s){for(var p=t.next(0);!p.done;)o.push(p.value),p=t.next(0);if((p=o.map((function(e){return c.ia.evaluate(e,n)})).map((function(e){return It(e,n)}))).find((function(e){return!e.F()&&!e.za()})))throw la("Order by only accepts empty or singleton sequences");if(function(e){return(e=e.find((function(e){return!!e})))?kt(e.type):null}(i=(i=p.map((function(e){return e.first()}))).map((function(e){return null===e?e:Z(19,e.type)?Yt(e,1):e})))&&!(i=sa(i)))throw la("Could not cast values");p=i.length,a=i.map((function(e,t){return t}));for(var h=0;h<p;h++)if(h+1!==p)for(var d=h;0<=d;d--){var f=d,m=d+1;if(m!==p){var g=i[a[f]],y=i[a[m]];if(null!==y||null!==g){if(c.mc){if(null===g)continue;if(null===y&&null!==g){g=l([a[m],a[f]]),a[f]=g.next().value,a[m]=g.next().value;continue}if(isNaN(y.value)&&null!==g&&!isNaN(g.value)){g=l([a[m],a[f]]),a[f]=g.next().value,a[m]=g.next().value;continue}}else{if(null===y)continue;if(null===g&&null!==y){g=l([a[m],a[f]]),a[f]=g.next().value,a[m]=g.next().value;continue}if(isNaN(g.value)&&null!==y&&!isNaN(y.value)){g=l([a[m],a[f]]),a[f]=g.next().value,a[m]=g.next().value;continue}}ji("gtOp",g.type,y.type)(g,y,e)&&(g=l([a[m],a[f]]),a[f]=g.next().value,a[m]=g.next().value)}}}var v=c.Ib?0:i.length-1;u=r({next:function(){return c.Ib?v>=i.length?J:Q(o[a[v++]]):0>v?J:Q(o[a[v--]])}}).value,s=!0}return u.next(0)}})},g(ga,Wn),ga.prototype.evaluate=function(e,t){if(null===e.O)throw Error("XPDY0002: context is absent, it needs to be present to use paths.");for(var n=t.h,r=e.O.value;9!==r.node.nodeType;)if(null===(r=Re(n,r)))throw Error("XPDY0050: the root node of the context node is not a document node.");return n=se.s(Ge(r)),this.h?er(this.h,xt(e,0,n.first(),n),t):n},g(ya,Wn),ya.prototype.evaluate=function(e){if(null===e.O)throw Error('XPDY0002: context is absent, it needs to be present to use the "." operator');return se.s(e.O)},g(va,Wn),va.prototype.evaluate=function(e,t){var n=this,r=!0;return this.h.reduce((function(i,a,o){var s=null===i?Kt(e):vt(e,i);if(i={next:function(e){if((e=s.next(e)).done)return J;if(null!==e.value.O&&!Z(e.value.O.type,53)&&0<o)throw Error("XPTY0019: The result of E1 in a path expression E1/E2 should not evaluate to a sequence of nodes.");return Q(er(a,e.value,t))}},n.o)switch(a.B){case"reverse-sorted":var l=i;i={next:function(e){return(e=l.next(e)).done?e:Q(e.value.M((function(e){return se.create(e.reverse())})))}};case"sorted":if(a.subtree&&r){var u=ia(i);break}u=aa(t.h,i);break;case"unsorted":return ia(i).M((function(e){return se.create(function(e,t){var n=!1,r=!1;if(t.forEach((function(e){Z(e.type,53)?n=!0:r=!0})),r&&n)throw Error("XPTY0018: The path operator should either return nodes or non-nodes. Mixed sequences are not allowed.");return n?nn(e,t):t}(t.h,e))}))}else u=ia(i);return r=r&&a.Z,u}),null)},va.prototype.Y=function(){return this.h[0].Y()},g(ba,Wn),ba.prototype.evaluate=function(e,t){var n=this,r=er(this.o,e,t);if(this.h.A){var i=er(this.h,e,t);if(i.F())return i;var a=i.first();if(Z(a.type,2)){var o=a.value;if(!Number.isInteger(o))return se.empty();var s=r.value,l=!1;return se.create({next:function(){if(!l){for(var e=s.next(0);!e.done;e=s.next(0))if(1==o--)return l=!0,e;l=!0}return J}})}return i.getEffectiveBooleanValue()?r:se.empty()}var u=r.value,c=null,p=0,h=null;return se.create({next:function(i){for(var a=!1;(!c||!c.done)&&(c||(c=u.next(a?0:i),a=!0),!c.done);){h||(h=er(n.h,xt(e,p,c.value,r),t));var o=h.first();o=null!==o&&(Z(o.type,2)?o.value===p+1:h.getEffectiveBooleanValue()),h=null;var s=c.value;if(c=null,p++,o)return Q(s)}return c}})},ba.prototype.Y=function(){return this.o.Y()},g(Aa,Wn),Aa.prototype.evaluate=function(e,t){var n=this;return er(this.h,e,t).M((function(r){return r.reduce((function(r,i){return xa(i,n.o,r,e,t)}),new ee)}))},Aa.prototype.Y=function(){return this.h.Y()},g(_a,Wn),_a.prototype.evaluate=function(e,t){return xa(e.O,this.h,new ee,e,t)},g(Ea,Wn),Ea.prototype.evaluate=function(e,t){var n=this,r=e,i=this.h.map((function(i,a){var o=er(n.C[a],r,t).S();return r=At(e,((a={})[i]=function(){return se.create(o)},a)),o}));if(i.some((function(e){return 0===e.length})))return"every"===this.o?se.$():se.U();var a=Array(i.length).fill(0);a[0]=-1;for(var o=!0;o;){o=!1;for(var s=0,l=a.length;s<l;++s){var u=i[s];if(!(++a[s]>u.length-1)){for(o=Object.create(null),s={},l=0;l<a.length;s={ub:s.ub},l++)s.ub=i[l][a[l]],o[this.h[l]]=function(e){return function(){return se.s(e.ub)}}(s);if(o=At(e,o),(o=er(this.N,o,t)).getEffectiveBooleanValue()&&"some"===this.o)return se.$();if(!o.getEffectiveBooleanValue()&&"every"===this.o)return se.U();o=!0;break}a[s]=0}}return"every"===this.o?se.$():se.U()},Ea.prototype.P=function(e){this.h=[];for(var t=0,n=this.v.length;t<n;++t){this.C[t].P(e),Uo(e);var r=this.v[t],i=r.prefix?e.ga(r.prefix):null;r=Go(e,i,r.localName),this.h[t]=r}for(this.N.P(e),t=0,n=this.v.length;t<n;++t)jo(e)},g(Ca,Wn),Ca.prototype.evaluate=function(e){return this.h(e.O)?se.$():se.U()},g(Na,Ca),Na.prototype.h=function(e){return!!Z(e.type,53)&&(e=e.value.node.nodeType,3===this.o&&4===e||this.o===e)},Na.prototype.Y=function(){return"type-"+this.o},g(Ta,Ca),Ta.prototype.h=function(e){var t=Z(e.type,54),n=Z(e.type,47);return!(!t&&!n)&&(e=e.value,!(null!==this.N&&(1===this.N&&!t||2===this.N&&!n))&&(null===this.v&&""!==this.C&&"*"===this.o||("*"===this.v?"*"===this.o||this.o===e.node.localName:("*"===this.o||this.o===e.node.localName)&&(e.node.namespaceURI||null)===((""===this.v?t?this.C:null:this.C)||null))))},Ta.prototype.Y=function(){return"*"===this.o?null===this.N?"type-1-or-type-2":"type-"+this.N:"name-"+this.o},Ta.prototype.P=function(e){if(null===this.C&&"*"!==this.v&&(this.C=e.ga(this.v||"")||null,!this.C&&this.v))throw Error("XPST0081: The prefix "+this.v+" could not be resolved.")},g(Ba,Ca),Ba.prototype.h=function(e){return Z(e.type,57)&&e.value.node.target===this.o},Ba.prototype.Y=function(){return"type-7"},g(Sa,Ca),Sa.prototype.h=function(e){return Z(e.type,fe(this.o.prefix?this.o.prefix+":"+this.o.localName:this.o.localName))},g(Ia,Wn),Ia.prototype.evaluate=function(e,t){if(!e.ta[this.h]){if(this.N)return this.N(e,t);throw Error("XQDY0054: The variable "+this.o+" is declared but not in scope.")}return e.ta[this.h]()},Ia.prototype.P=function(e){if(this.C&&(this.v=e.ga(this.C)),this.h=e.rb(this.v||void 0,this.o),!this.h)throw Error("XPST0008, The variable "+this.o+" is not in scope.");(e=e.Da[this.h])&&(this.N=e)},g(ka,di),ka.prototype.C=function(e,t,n,r){var i=this,a=null,o=null;return r({next:function(){for(;;){if(!o){var e=t.next(0);if(e.done)return J;a=e.value,o=er(i.v,a,n)}e=o.getEffectiveBooleanValue();var r=a;if(o=a=null,e)return Q(r)}}})},g(Ma,Ra),Ma.prototype.h=function(e){var t={};return t.type=this.type,t.target=Da(this.target,e,!1),t},g(Fa,Ra),Fa.prototype.h=function(e){var t={};return t.type=this.type,t.target=Da(this.target,e,!1),t.content=this.content.map((function(t){return Da(t,e,!0)})),t},g(Ua,Fa),g(Ha,Ra),Ha.prototype.h=function(e){var t={};return t.type=this.type,t.target=Da(this.target,e,!1),t.content=this.content.map((function(t){return Da(t,e,!0)})),t},g(Ga,Fa),g(La,Fa),g(ja,Fa),g(Xa,Fa),g(qa,Ra),qa.prototype.h=function(e){var t={},n={};return n.type=this.type,n.target=Da(this.target,e,!1),n.newName=(t.prefix=this.o.prefix,t.namespaceURI=this.o.namespaceURI,t.localName=this.o.localName,t),n},g(Va,Ra),Va.prototype.h=function(e){var t={};return t.type=this.type,t.target=Da(this.target,e,!1),t.text=this.text?Da(this.text,e,!0):null,t},g(za,Ra),za.prototype.h=function(e){var t={};return t.type=this.type,t.target=Da(this.target,e,!1),t.replacement=this.o.map((function(t){return Da(t,e,!0)})),t},g($a,Ra),$a.prototype.h=function(e){var t={};return t.type=this.type,t.target=Da(this.target,e,!1),t["string-value"]=this.o,t},g(Ka,sr),Ka.prototype.o=function(e,t){var n,r,i=lr(this.h)(e,t),a=t.h;return{next:function(){if(!n){var e=i.next(0);if(e.value.H.some((function(e){return!Z(e.type,53)})))throw Error("XUTY0007: The target of a delete expression must be a sequence of zero or more nodes.");n=e.value.H,r=e.value.fa}return Q({fa:or((n=n.filter((function(e){return Re(a,e.value)}))).map((function(e){return new Ma(e.value)})),r),H:[]})}}},g(Za,sr),Za.prototype.o=function(e,t){var n,r,i,a,o,s,l=this,u=lr(this.C)(e,t),c=lr(this.v)(e,t),p=t.h;return{next:function(){if(!n){var e=u.next(0),h=Ja([e.value.H],t,Xn);n=h.attributes.map((function(e){return{node:e,G:null}})),r=h.Ua.map((function(e){return{node:e,G:null}})),i=e.value.fa}if(!a){if(0===(e=c.next(0)).value.H.length)throw Zn();if(3<=l.h){if(1!==e.value.H.length)throw qn();if(!Z(e.value.H[0].type,54)&&!Z(e.value.H[0].type,55))throw qn()}else{if(1!==e.value.H.length)throw Vn();if(!(Z(e.value.H[0].type,54)||Z(e.value.H[0].type,56)||Z(e.value.H[0].type,58)||Z(e.value.H[0].type,57)))throw Vn();if(null===(s=Re(p,e.value.H[0].value,null)))throw Error("XUDY0029: The target "+e.value.H[0].value.outerHTML+" for inserting a node before or after must have a parent.")}a=e.value.H[0],o=e.value.fa}if(n.length){if(3<=l.h){if(!Z(a.type,54))throw Error("XUTY0022: An insert expression specifies the insertion of an attribute node into a document node.")}else if(1!==s.node.nodeType)throw Error("XUDY0030: An insert expression specifies the insertion of an attribute node before or after a child of a document node.");n.reduce((function(e,t){var n=t.node.prefix||"",r=t.node.prefix||"",i=t.node.namespaceURI,o=r?a.value.node.lookupNamespaceURI(r):null;if(o&&o!==i)throw Jn(i);if((r=e[r])&&i!==r)throw Qn(i);return e[n]=t.node.namespaceURI,e}),{})}return Q({H:[],fa:or(Qa(l.h,a.value,s||null,n,r),i,o)})}}};var eo=/([A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])/,to=new RegExp(eo.source+new RegExp("("+eo.source+"|[-.0-9·̀-ͯ‿⁀])").source+"*","g");function no(e){return!!(e=e.match(to))&&1===e.length}function ro(e,t){return It(t,e).aa({s:function(e){if(Z((e=e.first()).type,1)||Z(e.type,19)){if(!no(e.value))throw Error('XQDY0041: The value "'+e.value+'" of a name expressions cannot be converted to a NCName.');return se.s(e)}throw Wa()},default:function(){throw Wa()}}).value}function io(e,t,n){return It(n,t).aa({s:function(t){if(Z((t=t.first()).type,23))return se.s(t);if(Z(t.type,1)||Z(t.type,19)){if(1===(t=t.value.split(":")).length)t=t[0];else{var n=t[0],r=e.ga(n);t=t[1]}if(!no(t)||n&&!no(n))throw da(n?n+":"+t:t);if(n&&!r)throw da(n+":"+t);return se.s({type:23,value:new ge(n,r,t)})}throw Wa()},default:function(){throw Wa()}}).value}function ao(e,t){sr.call(this,new dr({}),[e,t],{A:!1,T:"unsorted"}),this.v=e,this.C=t,this.h=void 0}function oo(e,t,n){sr.call(this,new dr({}),[t,n],{A:!1,T:"unsorted"}),this.C=e,this.h=t,this.v=n}function so(e){switch(e.type){case"delete":return new Ma({node:e.target,G:null});case"insertAfter":return new Ua({node:e.target,G:null},e.content.map((function(e){return{node:e,G:null}})));case"insertBefore":return new Ga({node:e.target,G:null},e.content.map((function(e){return{node:e,G:null}})));case"insertInto":return new Xa({node:e.target,G:null},e.content.map((function(e){return{node:e,G:null}})));case"insertIntoAsFirst":return new La({node:e.target,G:null},e.content.map((function(e){return{node:e,G:null}})));case"insertIntoAsLast":return new ja({node:e.target,G:null},e.content.map((function(e){return{node:e,G:null}})));case"insertAttributes":return new Ha({node:e.target,G:null},e.content.map((function(e){return{node:e,G:null}})));case"rename":return new qa({node:e.target,G:null},e.newName);case"replaceNode":return new za({node:e.target,G:null},e.replacement.map((function(e){return{node:e,G:null}})));case"replaceValue":return new $a({node:e.target,G:null},e["string-value"]);case"replaceElementContent":return new Va({node:e.target,G:null},e.text?{node:e.text,G:null}:null);default:throw Error('Unexpected type "'+e.type+'" when parsing a transferable pending update.')}}function lo(e,t,n){sr.call(this,new dr({}),e.reduce((function(e,t){return e.push(t.eb),e}),[t,n]),{A:!1,T:"unsorted"}),this.h=e,this.C=t,this.v=n,this.I=null}function uo(e,t){return{node:{nodeType:2,Pa:!0,nodeName:e.va(),namespaceURI:e.namespaceURI,prefix:e.prefix,localName:e.localName,name:e.va(),value:t},G:null}}function co(e,t){var n=t.tb||[];n=n.concat(e.Ja||[]),Wn.call(this,new dr({}),n,{A:!1,T:"unsorted"}),e.Ja?this.o=e.Ja:this.name=new ge(e.prefix,e.namespaceURI,e.localName),this.h=t,this.v=void 0}function po(e){Wn.call(this,e?e.K:new dr({}),e?[e]:[],{A:!1,T:"unsorted"}),this.h=e}function ho(e,t,n,r){Wn.call(this,new dr({}),r.concat(t).concat(e.Ja||[]),{A:!1,T:"unsorted"}),e.Ja?this.o=e.Ja:this.h=new ge(e.prefix,e.namespaceURI,e.localName),this.N=n.reduce((function(e,t){if(t.prefix in e)throw Error("XQST0071: The namespace declaration with the prefix "+t.prefix+" has already been declared on the constructed element.");return e[t.prefix]=t.uri,e}),{}),this.C=t,this.ka=r,this.v=void 0}function fo(e){if(/^xml$/i.test(e))throw Error('XQDY0064: The target of a created PI may not be "'+e+'"')}function mo(e,t){return{node:{data:t,Pa:!0,nodeName:e,nodeType:7,target:e},G:null}}function go(e,t){var n=e.Db?[e.Db].concat(t):[t];Wn.call(this,n.reduce((function(e,t){return e.add(t.K)}),new dr({})),n,{A:!1,T:"unsorted"}),this.h=e,this.o=t}function yo(e){Wn.call(this,e?e.K:new dr({}),e?[e]:[],{A:!1,T:"unsorted"}),this.h=e}function vo(e,t,n,r){var i,a=new dr({});cr.call(this,a,(i=[e].concat(c(t.map((function(e){return e.jc}))),[n])).concat.apply(i,c(t.map((function(e){return e.Ob.map((function(e){return e.Nb}))})))),{A:!1,Z:!1,T:"unsorted",subtree:!1},r),this.C=e,this.h=t.length,this.N=t.map((function(e){return e.Ob}))}g(ao,sr),ao.prototype.o=function(e,t){var n=this,r=lr(this.v)(e,t),i=lr(this.C)(e,t);return{next:function(){var e=r.next(0),a=e.value.H;if(0===a.length)throw Zn();if(1!==a.length)throw $n();if(!Z(a[0].type,54)&&!Z(a[0].type,47)&&!Z(a[0].type,57))throw $n();a=a[0];var o=i.next(0);e:{var s=n.h,l=se.create(o.value.H);switch(a.type){case 54:if(s=io(s,t,l).next(0).value.value,(l=a.value.node.lookupNamespaceURI(s.prefix))&&l!==s.namespaceURI)throw Jn(s.namespaceURI);break e;case 47:if((s=io(s,t,l).next(0).value.value).namespaceURI&&(l=a.value.node.lookupNamespaceURI(s.prefix))&&l!==s.namespaceURI)throw Jn(s.namespaceURI);break e;case 57:s=new ge("",null,s=ro(t,l).next(0).value.value);break e}s=void 0}return Q({H:[],fa:or([new qa(a.value,s)],e.value.fa,o.value.fa)})}}},ao.prototype.P=function(e){this.h=Fo(e),sr.prototype.P.call(this,e)},g(oo,sr),oo.prototype.o=function(e,t){var n=lr(this.h)(e,t);return e=lr(this.v)(e,t),this.C?function(e,t,n){var r,i,a,o,s=!1;return{next:function(){if(s)return J;if(!a){var l=n.next(0),u=It(se.create(l.value.H),e).map((function(e){return Yt(e,1)})).S().map((function(e){return e.value})).join(" ");a=0===u.length?null:{node:e.o.createTextNode(u),G:null},o=l.value.fa}if(!r){if(0===(l=t.next(0)).value.H.length)throw Zn();if(1!==l.value.H.length)throw zn();if(!(Z(l.value.H[0].type,54)||Z(l.value.H[0].type,47)||Z(l.value.H[0].type,56)||Z(l.value.H[0].type,58)||Z(l.value.H[0].type,57)))throw zn();r=l.value.H[0],i=l.value.fa}if(Z(r.type,54))return s=!0,Q({H:[],fa:or([new Va(r.value,a)],o,i)});if(Z(r.type,47)||Z(r.type,56)||Z(r.type,58)||Z(r.type,57)){if(l=a?ke(e.h,a):"",Z(r.type,58)&&(l.includes("--")||l.endsWith("-")))throw Error('XQDY0072: The content "'+l+'" for a comment node contains two adjacent hyphens or ends with a hyphen.');if(Z(r.type,57)&&l.includes("?>"))throw Error('XQDY0026: The content "'+l+'" for a processing instruction node contains "?>".');return s=!0,Q({H:[],fa:or([new $a(r.value,l)],o,i)})}}}}(t,n,e):function(e,t,n){var r,i,a;return{next:function(){if(!r){var o=n.next(0),s=Ja([o.value.H],e,Qn);r={attributes:s.attributes.map((function(e){return{node:e,G:null}})),Ua:s.Ua.map((function(e){return{node:e,G:null}}))},i=o.value.fa}if(0===(s=t.next(0)).value.H.length)throw Zn();if(1!==s.value.H.length)throw zn();if(!(Z(s.value.H[0].type,54)||Z(s.value.H[0].type,47)||Z(s.value.H[0].type,56)||Z(s.value.H[0].type,58)||Z(s.value.H[0].type,57)))throw zn();if(null===(a=Re(e.h,s.value.H[0].value,null)))throw Error("XUDY0009: The target "+s.value.H[0].value.outerHTML+" for replacing a node must have a parent.");if(o=s.value.H[0],s=s.value.fa,Z(o.type,47)){if(r.Ua.length)throw Error("XUTY0011: When replacing an attribute the new value must be zero or more attribute nodes.");r.attributes.reduce((function(e,t){var n=t.node.prefix||"";t=t.node.namespaceURI;var r=a.node.lookupNamespaceURI(n);if(r&&r!==t)throw Jn(t);if((r=e[n])&&t!==r)throw Qn(t);return e[n]=t,e}),{})}else if(r.attributes.length)throw Error("XUTY0010: When replacing an an element, text, comment, or processing instruction node the new value must be a single node.");return Q({H:[],fa:or([Ya(o.value,[].concat(r.attributes,r.Ua))],i,s)})}}}(t,n,e)},g(lo,sr),lo.prototype.evaluate=function(e,t){return ur(e=this.o(e,t),(function(){}))},lo.prototype.o=function(e,t){var n,r,i,a=this,o=t.h,s=t.o,l=t.B,u=[],p=[],h=[];return{next:function(){if(p.length!==a.h.length)for(var d={},f=p.length;f<a.h.length;d={gb:d.gb},f++){var m=a.h[f],g=u[f];if(g||(u[f]=g=lr(m.eb)(e,t)),1!==(g=g.next(0)).value.H.length||!Z(g.value.H[0].type,53))throw Error("XUTY0013: The source expression of a copy modify expression must return a single node.");d.gb=Ge(Oa(g.value.H[0].value,t)),p.push(d.gb.value),h.push(g.value.fa),e=At(e,((g={})[m.sc]=function(e){return function(){return se.s(e.gb)}}(d),g))}return i||(n||(n=lr(a.C)(e,t)),i=n.next(0).value.fa),i.forEach((function(e){if(e.target&&!function e(t,n,r){if(n.find((function(e){return Jt(e,t)})))return!0;var i=Re(r,t);return!!i&&e(i,n,r)}(e.target,p,o))throw Error("XUDY0014: The target "+e.target.node.outerHTML+" must be a node created by the copy clause.");if("put"===e.type)throw Error("XUDY0037: The modify expression of a copy modify expression can not contain a fn:put.")})),ar(d=i.map((function(e){return so(e=e.h(t))})),o,s,l),r||(r=lr(a.v)(e,t)),Q({H:(d=r.next(0)).value.H,fa:or.apply(null,[d.value.fa].concat(c(h)))})}}},lo.prototype.P=function(e){Uo(e),this.h.forEach((function(t){return t.sc=Go(e,t.Qb.namespaceURI,t.Qb.localName)})),sr.prototype.P.call(this,e),jo(e),this.I=this.h.some((function(e){return e.eb.I}))||this.v.I},g(co,Wn),co.prototype.evaluate=function(e,t){var n,r,i,a=this,o=!1;return se.create({next:function(){if(o)return J;if(!r){if(a.o){if(!n){var s=a.o.evaluate(e,t);n=io(a.v,t,s)}r=n.next(0).value.value}else r=a.name;if(r&&("xmlns"===r.prefix||!r.prefix&&"xmlns"===r.localName||"http://www.w3.org/2000/xmlns/"===r.namespaceURI||"xml"===r.prefix&&"http://www.w3.org/XML/1998/namespace"!==r.namespaceURI||r.prefix&&"xml"!==r.prefix&&"http://www.w3.org/XML/1998/namespace"===r.namespaceURI))throw Error('XQDY0044: The node name "'+r.va()+'" is invalid for a computed attribute constructor.')}return a.h.tb?(s=a.h.tb,i||(i=Et(s.map((function(n){return It(n.evaluate(e,t),t).M((function(e){return se.s(V(e.map((function(e){return e.value})).join(" "),1))}))}))).M((function(e){return se.s(Ge(uo(r,e.map((function(e){return e.value})).join(""))))})).value),i.next(0)):(o=!0,Q(Ge(uo(r,a.h.value))))}})},co.prototype.P=function(e){if(this.v=Fo(e),this.name&&this.name.prefix&&!this.name.namespaceURI){var t=e.ga(this.name.prefix);if(void 0===t&&this.name.prefix)throw Bt(this.name.prefix);this.name.namespaceURI=t||null}Wn.prototype.P.call(this,e)},g(po,Wn),po.prototype.evaluate=function(e,t){var n={data:"",Pa:!0,nodeType:8},r={node:n,G:null};return this.h?It(e=er(this.h,e,t),t).M((function(e){if(-1!==(e=e.map((function(e){return Yt(e,1).value})).join(" ")).indexOf("--\x3e"))throw Error('XQDY0072: The contents of the data of a comment may not include "--\x3e"');return n.data=e,se.s(Ge(r))})):se.s(Ge(r))},g(ho,Wn),ho.prototype.evaluate=function(e,t){var n,r,i,a,o,s=this,l=!1,u=!1,c=!1;return se.create({next:function(){if(c)return J;if(l||(n||(n=Et(s.C.map((function(n){return er(n,e,t)})))),r=n.S(),l=!0),!u){i||(i=s.ka.map((function(n){return er(n,e,t)})));for(var p=[],h=0;h<i.length;h++){var d=i[h].S();p.push(d)}a=p,u=!0}if(s.o&&(o||(p=s.o.evaluate(e,t),o=io(s.v,t,p)),p=o.next(0),s.h=p.value.value),"xmlns"===s.h.prefix||"http://www.w3.org/2000/xmlns/"===s.h.namespaceURI||"xml"===s.h.prefix&&"http://www.w3.org/XML/1998/namespace"!==s.h.namespaceURI||s.h.prefix&&"xml"!==s.h.prefix&&"http://www.w3.org/XML/1998/namespace"===s.h.namespaceURI)throw Error('XQDY0096: The node name "'+s.h.va()+'" is invalid for a computed element constructor.');var f={nodeType:1,Pa:!0,attributes:[],childNodes:[],nodeName:s.h.va(),namespaceURI:s.h.namespaceURI,prefix:s.h.prefix,localName:s.h.localName};for(p={node:f,G:null},r.forEach((function(e){f.attributes.push(e.value.node)})),(h=Ja(a,t,ua)).attributes.forEach((function(e){if(f.attributes.find((function(t){return t.namespaceURI===e.namespaceURI&&t.localName===e.localName})))throw Error("XQDY0025: The attribute "+e.name+" does not have an unique name in the constructed element.");f.attributes.push(e)})),h.Ua.forEach((function(e){f.childNodes.push(e)})),h=0;h<f.childNodes.length;h++)if(Ce(d=f.childNodes[h])&&3===d.nodeType){var m=f.childNodes[h-1];m&&Ce(m)&&3===m.nodeType&&(m.data+=d.data,f.childNodes.splice(h,1),h--)}return c=!0,Q(Ge(p))}})},ho.prototype.P=function(e){var t=this;if(Uo(e),Object.keys(this.N).forEach((function(n){e.o[e.h][n]=t.N[n]})),this.J.forEach((function(t){return t.P(e)})),this.C.reduce((function(t,n){if(n.name){if(n="Q{"+(n.name.namespaceURI||e.ga(n.name.prefix))+"}"+n.name.localName,t.includes(n))throw Error("XQST0040: The attribute "+n+" does not have an unique name in the constructed element.");t.push(n)}return t}),[]),this.h){var n=e.ga(this.h.prefix);if(void 0===n&&this.h.prefix)throw Bt(this.h.prefix);this.h.namespaceURI=n||null}this.v=Fo(e),jo(e)},g(go,Wn),go.prototype.evaluate=function(e,t){var n=this;return It(er(this.o,e,t),t).M((function(r){var i=r.map((function(e){return Yt(e,1).value})).join(" ");if(-1!==i.indexOf("?>"))throw Error('XQDY0026: The contents of the data of a processing instruction may not include "?>"');if(null!==n.h.Mb)return fo(r=n.h.Mb),se.s(Ge(mo(r,i)));r=er(n.h.Db,e,t);var a=ro(t,r);return se.create({next:function(){var e=a.next(0);return e.done?e:(fo(e=e.value.value),Q(Ge(mo(e,i))))}})}))},g(yo,Wn),yo.prototype.evaluate=function(e,t){return this.h?It(e=er(this.h,e,t),t).M((function(e){return 0===e.length?se.empty():(e={node:{data:e.map((function(e){return Yt(e,1).value})).join(" "),Pa:!0,nodeType:3},G:null},se.s(Ge(e)))})):se.empty()},g(vo,cr),vo.prototype.v=function(e,t,n){var r=this;return n[0](e).M((function(i){for(var a=0;a<r.h;a++)if(r.N[a].some((function(n){switch(n.pc){case"?":if(1<i.length)return!1;break;case"*":break;case"+":if(1>i.length)return!1;break;default:if(1!==i.length)return!1}var r=se.create(i);return i.every((function(i,a){return i=xt(e,a,i,r),er(n.Nb,i,t).getEffectiveBooleanValue()}))})))return n[a+1](e);return n[r.h+1](e)}))},vo.prototype.P=function(e){if(cr.prototype.P.call(this,e),this.C.I)throw jn()};var bo={ca:!1,qa:!1},wo={ca:!0,qa:!1},xo={ca:!0,qa:!0};function Ao(e){return e.ca?e.qa?xo:wo:bo}function _o(e,t){switch(e[0]){case"andOp":var n=jr(e,"type");return new Ui(Co("andOp",e,Ao(t)),n);case"orOp":return n=jr(e,"type"),new Hi(Co("orOp",e,Ao(t)),n);case"unaryPlusOp":return n=Gr(Gr(e,"operand"),"*"),e=jr(e,"type"),new Fi("+",_o(n,t),e);case"unaryMinusOp":return n=Gr(Gr(e,"operand"),"*"),e=jr(e,"type"),new Fi("-",_o(n,t),e);case"addOp":case"subtractOp":case"multiplyOp":case"divOp":case"idivOp":case"modOp":var r=e[0],i=_o(Xr(e,["firstOperand","*"]),Ao(t));t=_o(Xr(e,["secondOperand","*"]),Ao(t));var a=jr(e,"type"),o=jr(Xr(e,["firstOperand","*"]),"type"),s=jr(Xr(e,["secondOperand","*"]),"type");return o&&s&&jr(e,"type")&&(n=ki(r,o.type,s.type)),new Di(r,i,t,a,n);case"sequenceExpr":return function(e,t){var n=qr(e,"*").map((function(e){return _o(e,t)}));return 1===n.length?n[0]:(n=jr(e,"type"),new Qi(qr(e,"*").map((function(e){return _o(e,t)})),n))}(e,t);case"unionOp":return n=jr(e,"type"),new oa([_o(Xr(e,["firstOperand","*"]),Ao(t)),_o(Xr(e,["secondOperand","*"]),Ao(t))],n);case"exceptOp":case"intersectOp":return n=jr(e,"type"),new Ji(e[0],_o(Xr(e,["firstOperand","*"]),Ao(t)),_o(Xr(e,["secondOperand","*"]),Ao(t)),n);case"stringConcatenateOp":return function(e,t){var n=jr(e,"type");return new br(new _i({localName:"concat",namespaceURI:"http://www.w3.org/2005/xpath-functions",prefix:""},(e=[Gr(e,"firstOperand")[1],Gr(e,"secondOperand")[1]]).length,n),e.map((function(e){return _o(e,Ao(t))})),n)}(e,t);case"rangeSequenceExpr":return function(e,t){var n=jr(e,"type");return new br(new _i({localName:"to",namespaceURI:"http://fontoxpath/operators",prefix:""},(e=[Gr(e,"startExpr")[1],Gr(e,"endExpr")[1]]).length,n),e.map((function(e){return _o(e,Ao(t))})),n)}(e,t);case"equalOp":case"notEqualOp":case"lessThanOrEqualOp":case"lessThanOp":case"greaterThanOrEqualOp":case"greaterThanOp":case"eqOp":case"neOp":case"ltOp":case"leOp":case"gtOp":case"geOp":case"isOp":case"nodeBeforeOp":case"nodeAfterOp":return n=Xr(e,["firstOperand","*"]),r=Xr(e,["secondOperand","*"]),i=jr(n,"type"),a=jr(r,"type"),new Yi(e[0],_o(n,Ao(t)),_o(r,Ao(t)),i,a);case"pathExpr":return function(e,t){var n=jr(e,"type"),r=qr(e,"stepExpr"),i=!1,a=r.map((function(e){var r=Gr(e,"xpathAxis");if(r){i=!0;var a=Gr(e,"attributeTest anyElementTest piTest documentTest elementTest commentTest namespaceTest anyKindTest textTest anyFunctionTest typedFunctionTest schemaAttributeTest atomicType anyItemType parenthesizedItemType typedMapTest typedArrayTest nameTest Wildcard".split(" "));switch(a=Eo(a),Lr(r)){case"ancestor":var o=new Qr(a,{Na:!1});break;case"ancestor-or-self":o=new Qr(a,{Na:!0});break;case"attribute":o=new Zr(a);break;case"child":o=new Wr(a);break;case"descendant":o=new ti(a,{Na:!1});break;case"descendant-or-self":o=new ti(a,{Na:!0});break;case"parent":o=new oi(a);break;case"following-sibling":o=new ai(a);break;case"preceding-sibling":o=new li(a);break;case"following":o=new ii(a);break;case"preceding":o=new si(a);break;case"self":o=new ui(a)}}else o=_o(o=Xr(e,["filterExpr","*"]),Ao(t));for(r=(e=l(e=qr(e,"*"))).next();!r.done;r=e.next())switch(r=r.value,r[0]){case"lookup":o=new Aa(o,No(r,t));break;case"predicate":case"predicates":o=qr(r,"*").reduce((function(e,n){return new ba(e,_o(n,Ao(t)))}),o)}return o.type=n,o}));return e=Gr(e,"rootExpr"),!(r=i||null!==e||1<r.length)&&1===a.length||!e&&1===a.length&&"sorted"===a[0].B?a[0]:e&&0===a.length?new ga(null):(a=new va(a,r),e?new ga(a):a)}(e,t);case"contextItemExpr":return new ya(e=jr(e,"type"));case"functionCallExpr":return function(e,t){var n=Gr(e,"functionName"),r=qr(Gr(e,"arguments"),"*");return e=jr(e,"type"),new br(new _i(Vr(n),r.length,e),r.map((function(e){return"argumentPlaceholder"===e[0]?null:_o(e,t)})),e)}(e,t);case"inlineFunctionExpr":return function(e,t){var n=qr(Gr(e,"paramList"),"*"),r=Xr(e,["functionBody","*"]),i=jr(e,"type");return new mi(n.map((function(e){return{name:Vr(Gr(e,"varName")),type:zr(e)}})),zr(e),r?_o(r,t):new Qi([],i))}(e,t);case"arrowExpr":return function(e,t){var n=jr(e,"type"),r=Xr(e,["argExpr","*"]);e=qr(e,"*").slice(1),r=[_o(r,t)];for(var i=0;i<e.length;i++)if("arguments"!==e[i][0]){if("arguments"===e[i+1][0]){var a=qr(e[i+1],"*");r=r.concat(a.map((function(e){return"argumentPlaceholder"===e[0]?null:_o(e,t)})))}a="EQName"===e[i][0]?new _i(Vr(e[i]),r.length,n):_o(e[i],Ao(t)),r=[new br(a,r,n)]}return r[0]}(e,t);case"dynamicFunctionInvocationExpr":return function(e,t){var n=Xr(e,["functionItem","*"]),r=jr(e,"type");e=Gr(e,"arguments");var i=[];return e&&(i=qr(e,"*").map((function(e){return"argumentPlaceholder"===e[0]?null:_o(e,t)}))),new br(_o(n,t),i,r)}(e,t);case"namedFunctionRef":return t=Gr(e,"functionName"),n=jr(e,"type"),e=Lr(Xr(e,["integerConstantExpr","value"])),new _i(Vr(t),parseInt(e,10),n);case"integerConstantExpr":return new yi(Lr(Gr(e,"value")),{type:5,g:3});case"stringConstantExpr":return new yi(Lr(Gr(e,"value")),{type:1,g:3});case"decimalConstantExpr":return new yi(Lr(Gr(e,"value")),{type:4,g:3});case"doubleConstantExpr":return new yi(Lr(Gr(e,"value")),{type:3,g:3});case"varRef":return new Ia((e=Vr(Gr(e,"name"))).prefix,e.namespaceURI,e.localName);case"flworExpr":return function(e,t){var n=qr(e,"*");if(e=Gr(n[n.length-1],"*"),1<(n=n.slice(0,-1)).length&&!t.ca)throw Error("XPST0003: Use of XQuery FLWOR expressions in XPath is no allowed");return n.reduceRight((function(e,n){switch(n[0]){case"forClause":for(var r=(n=qr(n,"*")).length-1;0<=r;--r){var i=n[r],a=Xr(i,["forExpr","*"]),o=Gr(i,"positionalVariableBinding");e=new fi(Vr(Xr(i,["typedVariableBinding","varName"])),_o(a,Ao(t)),o?Vr(o):null,e)}return e;case"letClause":for(r=(n=qr(n,"*")).length-1;0<=r;--r)a=Xr(i=n[r],["letExpr","*"]),e=new gi(Vr(Xr(i,["typedVariableBinding","varName"])),_o(a,Ao(t)),e);return e;case"whereClause":for(r=(n=qr(n,"*")).length-1;0<=r;--r)e=new ka(_o(n[r],t),e);return e;case"windowClause":case"groupByClause":throw Error("Not implemented: "+n[0]+" is not implemented yet.");case"orderByClause":return function(e,t,n){return new ma((e=qr(e,"*")).filter((function(e){return"stable"!==e[0]})).map((function(e){var n=Gr(e,"orderModifier"),r=n?Gr(n,"orderingKind"):null;return n=n?Gr(n,"emptyOrderingMode"):null,r=!r||"ascending"===Lr(r),n=!n||"empty least"===Lr(n),{ia:_o(Xr(e,["orderByExpr","*"]),t),Ib:r,mc:n}})),n)}(n,t,e);case"countClause":throw Error("Not implemented: "+n[0]+" is not implemented yet.");default:throw Error("Not implemented: "+n[0]+" is not supported in a flwor expression")}}),_o(e,t))}(e,t);case"quantifiedExpr":return function(e,t){var n=jr(e,"type"),r=Lr(Gr(e,"quantifier")),i=Xr(e,["predicateExpr","*"]);return e=qr(e,"quantifiedExprInClause").map((function(e){return{name:Vr(Xr(e,["typedVariableBinding","varName"])),eb:_o(e=Xr(e,["sourceExpr","*"]),Ao(t))}})),new Ea(r,e,_o(i,Ao(t)),n)}(e,t);case"ifThenElseExpr":return n=jr(e,"type"),new ci(_o(Gr(Gr(e,"ifClause"),"*"),Ao(t)),_o(Gr(Gr(e,"thenClause"),"*"),t),_o(Gr(Gr(e,"elseClause"),"*"),t),n);case"instanceOfExpr":return n=_o(Xr(e,["argExpr","*"]),t),r=Xr(e,["sequenceType","*"]),i=Xr(e,["sequenceType","occurrenceIndicator"]),e=jr(e,"type"),new na(n,_o(r,Ao(t)),i?Lr(i):"",e);case"castExpr":return t=_o(Gr(Gr(e,"argExpr"),"*"),Ao(t)),n=Gr(e,"singleType"),new ea(t,e=Vr(Gr(n,"atomicType")),n=null!==Gr(n,"optional"));case"castableExpr":return t=_o(Gr(Gr(e,"argExpr"),"*"),Ao(t)),n=Gr(e,"singleType"),new Wi(t,e=Vr(Gr(n,"atomicType")),n=null!==Gr(n,"optional"));case"simpleMapExpr":return function(e,t){var n=jr(e,"type");return qr(e,"*").reduce((function(e,r){return null===e?_o(r,Ao(t)):new Zi(e,_o(r,Ao(t)),n)}),null)}(e,t);case"mapConstructor":return function(e,t){var n=jr(e,"type");return new vi(qr(e,"mapConstructorEntry").map((function(e){return{key:_o(Xr(e,["mapKeyExpr","*"]),Ao(t)),value:_o(Xr(e,["mapValueExpr","*"]),Ao(t))}})),n)}(e,t);case"arrayConstructor":return function(e,t){var n=jr(e,"type"),r=qr(e=Gr(e,"*"),"arrayElem").map((function(e){return _o(Gr(e,"*"),Ao(t))}));switch(e[0]){case"curlyArray":return new Yr(r,n);case"squareArray":return new Kr(r,n);default:throw Error("Unrecognized arrayType: "+e[0])}}(e,t);case"unaryLookup":return n=jr(e,"type"),new _a(No(e,t),n);case"typeswitchExpr":return function(e,t){if(!t.ca)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");var n=jr(e,"type"),r=_o(Gr(Gr(e,"argExpr"),"*"),t),i=qr(e,"typeswitchExprCaseClause").map((function(e){var n=0===qr(e,"sequenceTypeUnion").length?[Gr(e,"sequenceType")]:qr(Gr(e,"sequenceTypeUnion"),"sequenceType");return{jc:_o(Xr(e,["resultExpr","*"]),t),Ob:n.map((function(e){var n=Gr(e,"occurrenceIndicator");return{pc:n?Lr(n):"",Nb:_o(Gr(e,"*"),t)}}))}}));return e=_o(Xr(e,["typeswitchExprDefaultClause","resultExpr","*"]),t),new vo(r,i,e,n)}(e,t);case"elementConstructor":return function(e,t){if(!t.ca)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");var n=Vr(Gr(e,"tagName")),r=Gr(e,"attributeList"),i=r?qr(r,"attributeConstructor").map((function(e){return _o(e,Ao(t))})):[];return r=r?qr(r,"namespaceDeclaration").map((function(e){var t=Gr(e,"prefix");return{prefix:t?Lr(t):"",uri:Lr(Gr(e,"uri"))}})):[],e=(e=Gr(e,"elementContent"))?qr(e,"*").map((function(e){return _o(e,Ao(t))})):[],new ho(n,i,r,e)}(e,t);case"attributeConstructor":return function(e,t){if(!t.ca)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");var n=Vr(Gr(e,"attributeName")),r=Gr(e,"attributeValue");return r=r?Lr(r):null,e=(e=Gr(e,"attributeValueExpr"))?qr(e,"*").map((function(e){return _o(e,Ao(t))})):null,new co(n,{value:r,tb:e})}(e,t);case"computedAttributeConstructor":return(n=Gr(e,"tagName"))?n=Vr(n):(n=Gr(e,"tagNameExpr"),n={Ja:_o(Gr(n,"*"),Ao(t))}),new co(n,{tb:[e=_o(Gr(Gr(e,"valueExpr"),"*"),Ao(t))]});case"computedCommentConstructor":if(!t.ca)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");return new po(e=(e=Gr(e,"argExpr"))?_o(Gr(e,"*"),Ao(t)):null);case"computedTextConstructor":if(!t.ca)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");return new yo(e=(e=Gr(e,"argExpr"))?_o(Gr(e,"*"),Ao(t)):null);case"computedElementConstructor":return function(e,t){var n=Gr(e,"tagName");return n?n=Vr(n):(n=Gr(e,"tagNameExpr"),n={Ja:_o(Gr(n,"*"),Ao(t))}),e=(e=Gr(e,"contentExpr"))?qr(e,"*").map((function(e){return _o(e,Ao(t))})):[],new ho(n,[],[],e)}(e,t);case"computedPIConstructor":if(!t.ca)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");return n=Gr(e,"piTargetExpr"),r=Gr(e,"piTarget"),i=Gr(e,"piValueExpr"),e=jr(e,"type"),new go({Db:n?_o(Gr(n,"*"),Ao(t)):null,Mb:r?Lr(r):null},i?_o(Gr(i,"*"),Ao(t)):new Qi([],e));case"CDataSection":return new yi(Lr(e),{type:1,g:3});case"deleteExpr":return new Ka(e=_o(Xr(e,["targetExpr","*"]),t));case"insertExpr":switch(n=_o(Xr(e,["sourceExpr","*"]),t),(i=qr(e,"*")[1])[0]){case"insertAfter":r=1;break;case"insertBefore":r=2;break;case"insertInto":r=(r=Gr(i,"*"))?"insertAsFirst"===r[0]?4:5:3}return new Za(n,r,e=_o(Xr(e,["targetExpr","*"]),t));case"renameExpr":return new ao(n=_o(Xr(e,["targetExpr","*"]),t),e=_o(Xr(e,["newNameExpr","*"]),t));case"replaceExpr":return new oo(n=!!Gr(e,"replaceValue"),r=_o(Xr(e,["targetExpr","*"]),t),e=_o(Xr(e,["replacementExpr","*"]),t));case"transformExpr":return function(e,t){var n=qr(Gr(e,"transformCopies"),"transformCopy").map((function(e){var n=Vr(Gr(Gr(e,"varRef"),"name"));return{eb:_o(Gr(Gr(e,"copySource"),"*"),t),Qb:new ge(n.prefix,n.namespaceURI,n.localName)}})),r=_o(Gr(Gr(e,"modifyExpr"),"*"),t);return e=_o(Gr(Gr(e,"returnExpr"),"*"),t),new lo(n,r,e)}(e,t);case"x:stackTrace":for(n=e[1],e=e[2];"x:stackTrace"===e[0];)e=e[2];return new hi(n,e[0],_o(e,t));default:return Eo(e)}}function Eo(e){switch(e[0]){case"nameTest":return new Ta(Vr(e));case"piTest":return(e=Gr(e,"piTarget"))?new Ba(Lr(e)):new Na(7);case"commentTest":return new Na(8);case"textTest":return new Na(3);case"documentTest":return new Na(9);case"attributeTest":var t=(e=Gr(e,"attributeName"))&&Gr(e,"star");return!e||t?new Na(2):new Ta(Vr(Gr(e,"QName")),{kind:2});case"elementTest":return t=(e=Gr(e,"elementName"))&&Gr(e,"star"),!e||t?new Na(1):new Ta(Vr(Gr(e,"QName")),{kind:1});case"anyKindTest":return new Sa({prefix:"",namespaceURI:null,localName:"node()"});case"anyMapTest":return new Sa({prefix:"",namespaceURI:null,localName:"map(*)"});case"anyArrayTest":return new Sa({prefix:"",namespaceURI:null,localName:"array(*)"});case"Wildcard":return Gr(e,"star")?(t=Gr(e,"uri"))?e=new Ta({localName:"*",namespaceURI:Lr(t),prefix:""}):(t=Gr(e,"NCName"),e="star"===Gr(e,"*")[0]?new Ta({localName:Lr(t),namespaceURI:null,prefix:"*"}):new Ta({localName:"*",namespaceURI:null,prefix:Lr(t)})):e=new Ta({localName:"*",namespaceURI:null,prefix:"*"}),e;case"atomicType":return new Sa(e=Vr(e));case"anyItemType":return new Sa({prefix:"",namespaceURI:null,localName:"item()"});default:throw Error("No selector counterpart for: "+e[0]+".")}}function Co(e,t,n){var r=[];return function t(i){var a=Gr(i,"firstOperand")[1];i=Gr(i,"secondOperand")[1],a[0]===e?t(a):r.push(_o(a,n)),i[0]===e?t(i):r.push(_o(i,n))}(t),r}function No(e,t){switch((e=Gr(e,"*"))[0]){case"NCName":return new yi(Lr(e),{type:1,g:3});case"star":return"*";default:return _o(e,Ao(t))}}function To(e,t){return _o(e,t)}var Bo={};!function(e){(function(){!function(e){function t(e,n,r,i){return e=Error.call(this,e),Object.setPrototypeOf&&Object.setPrototypeOf(e,t.prototype),e.wc=n,e.xc=r,e.location=i,e.name="SyntaxError",e}function n(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(t,Error),t.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var r,i=null;for(r=0;r<e.length;r++)if(e[r].source===this.location.source){i=e[r].text.split(/\r\n|\n|\r/g);break}if(e=this.location.start,r=this.location.source+":"+e.line+":"+e.da,i){var a=this.location.end,o=n("",e.line.toString().length);i=i[e.line-1],a=e.line===a.line?a.da:i.length+1,t+="\n --\x3e "+r+"\n"+o+" |\n"+e.line+" | "+i+"\n"+o+" | "+n("",e.da-1)+n("",a-e.da,"^")}else t+="\n at "+r}return t},t.ic=function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function a(e){return o[e.type](e)}var o={literal:function(e){return'"'+r(e.text)+'"'},class:function(e){var t=e.rc.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.lc?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};return"Expected "+function(e){var t,n;if((e=e.map(a)).sort(),0<e.length){for(n=t=1;t<e.length;t++)e[t-1]!==e[t]&&(e[n]=e[t],n++);e.length=n}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}(e)+" but "+(t?'"'+r(t)+'"':"end of input")+" found."},e.tc={SyntaxError:t,parse:function(e,n){function r(e,t,n){return["decimalFormatParam",["decimalFormatParamName",t],["decimalFormatParamValue",n]]}function i(e,t){return{type:"literal",text:e,ignoreCase:t}}function a(e,t,n){return{type:"class",rc:e,lc:t,ignoreCase:n}}function o(t){var n,r=Yu[t];if(r)return r;for(n=t-1;!Yu[n];)n--;for(r={line:(r=Yu[n]).line,da:r.da};n<t;)10===e.charCodeAt(n)?(r.line++,r.da=1):r.da++,n++;return Yu[t]=r}function s(e,t){var n=o(e),r=o(t);return{source:tt,start:{offset:e,line:n.line,da:n.da},end:{offset:t,line:r.line,da:r.da}}}function l(e){zu<Ku||(zu>Ku&&(Ku=zu,Ju=[]),Ju.push(e))}function u(){var t,n,r=233*zu;if(t=Zu[r])return zu=t.i,t.result;t=zu,Ue();var i=233*zu+2;if(n=Zu[i])zu=n.i,i=n.result;else{if(n=zu,e.substr(zu,6)===it){var a=it;zu+=6}else a=et,0===Qu&&l(Ca);if(a!==et){if(Ue(),a=zu,e.substr(zu,8)===at){var o=at;zu+=8}else o=et,0===Qu&&l(Na);if(o!==et?(o=He())!==et?(o=Ne())!==et?($u=a,a=["encoding",o]):(zu=a,a=et):(zu=a,a=et):(zu=a,a=et),a===et)if(a=zu,e.substr(zu,7)===ot?(o=ot,zu+=7):(o=et,0===Qu&&l(Ta)),o!==et)if((o=He())!==et)if((o=Ne())!==et){var s=zu,u=He();u!==et?(e.substr(zu,8)===at?(u=at,zu+=8):(u=et,0===Qu&&l(Na)),u!==et?(u=He())!==et?(u=Ne())!==et?($u=s,s=u):(zu=s,s=et):(zu=s,s=et):(zu=s,s=et)):(zu=s,s=et),s===et&&(s=null),$u=a,a=[["version",o]].concat(s?[["encoding",s]]:[])}else zu=a,a=et;else zu=a,a=et;else zu=a,a=et;a!==et?(Ue(),(o=p())!==et?($u=n,n=["versionDecl"].concat(a)):(zu=n,n=et)):(zu=n,n=et)}else zu=n,n=et;Zu[i]={i:zu,result:n},i=n}if(i===et&&(i=null),Ue(),a=Zu[n=233*zu+3])zu=a.i,n=a.result;else{if(a=zu,s=Zu[o=233*zu+4])zu=s.i,o=s.result;else{if(s=zu,e.substr(zu,6)===st?(u=st,zu+=6):(u=et,0===Qu&&l(Ba)),u!==et)if((u=He())!==et)if(e.substr(zu,9)===lt?(u=lt,zu+=9):(u=et,0===Qu&&l(Sa)),u!==et)if((u=He())!==et){u=zu;var h=Pe();if((u=h!==et?e.substring(u,zu):h)!==et)if(Ue(),61===e.charCodeAt(zu)?(h=ut,zu++):(h=et,0===Qu&&l(Ia)),h!==et)if(Ue(),(h=Ne())!==et)Ue(),p()!==et?($u=s,s=["moduleDecl",["prefix",u],["uri",h]]):(zu=s,s=et);else zu=s,s=et;else zu=s,s=et;else zu=s,s=et}else zu=s,s=et;else zu=s,s=et;else zu=s,s=et;else zu=s,s=et;Zu[o]={i:zu,result:s},o=s}o!==et?(Ue(),s=c(),$u=a,a=["libraryModule",o].concat(s?[s]:[])):(zu=a,a=et),Zu[n]={i:zu,result:a},n=a}return n===et&&((a=Zu[n=233*zu+1])?(zu=a.i,n=a.result):(a=zu,o=c(),Ue(),(u=Zu[s=233*zu+36])?(zu=u.i,s=u.result):(u=zu,(h=N())!==et&&($u=u,h=["queryBody",h]),u=h,Zu[s]={i:zu,result:u},s=u),s!==et?($u=a,a=["mainModule"].concat(o?[o]:[],[s])):(zu=a,a=et),Zu[n]={i:zu,result:a},n=a)),n!==et?(Ue(),$u=t,t=["module"].concat(i?[i]:[],[n])):(zu=t,t=et),Zu[r]={i:zu,result:t},t}function c(){var e,t=233*zu+5;if(e=Zu[t])return zu=e.i,e.result;e=zu;var n=[],r=zu,i=g();if(i===et&&((i=h())===et&&((i=m())===et&&(i=f()))),i!==et){Ue();var a=p();a!==et?(Ue(),$u=r,r=i):(zu=r,r=et)}else zu=r,r=et;for(;r!==et;)n.push(r),r=zu,(i=g())===et&&((i=h())===et&&((i=m())===et&&(i=f()))),i!==et?(Ue(),(a=p())!==et?(Ue(),$u=r,r=i):(zu=r,r=et)):(zu=r,r=et);if(r=[],i=zu,(a=w())===et&&((a=y())===et&&(a=C())),a!==et){Ue();var o=p();o!==et?(Ue(),$u=i,i=a):(zu=i,i=et)}else zu=i,i=et;for(;i!==et;)r.push(i),i=zu,(a=w())===et&&((a=y())===et&&(a=C())),a!==et?(Ue(),(o=p())!==et?(Ue(),$u=i,i=a):(zu=i,i=et)):(zu=i,i=et);return $u=e,e=0===n.length&&0===r.length?null:["prolog"].concat(n,r),Zu[t]={i:zu,result:e},e}function p(){var t,n=233*zu+6;return(t=Zu[n])?(zu=t.i,t.result):(59===e.charCodeAt(zu)?(t=ct,zu++):(t=et,0===Qu&&l(ka)),Zu[n]={i:zu,result:t},t)}function h(){var t,n,i=233*zu+7;if(t=Zu[i])return zu=t.i,t.result;if(n=Zu[t=233*zu+8])zu=n.i,t=n.result;else{if(n=zu,e.substr(zu,7)===pt){var a=pt;zu+=7}else a=et,0===Qu&&l(Oa);a!==et?(a=He())!==et?(e.substr(zu,14)===ht?(a=ht,zu+=14):(a=et,0===Qu&&l(Pa)),a!==et?(a=He())!==et?(e.substr(zu,8)===dt?(a=dt,zu+=8):(a=et,0===Qu&&l(Da)),a===et&&(e.substr(zu,5)===ft?(a=ft,zu+=5):(a=et,0===Qu&&l(Ra))),a!==et?($u=n,n=["boundarySpaceDecl",a]):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et),Zu[t]={i:zu,result:n},t=n}if(t===et&&((n=Zu[t=233*zu+9])?(zu=n.i,t=n.result):(n=zu,e.substr(zu,7)===pt?(a=pt,zu+=7):(a=et,0===Qu&&l(Oa)),a!==et?(a=He())!==et?(e.substr(zu,7)===mt?(a=mt,zu+=7):(a=et,0===Qu&&l(Ma)),a!==et?(a=He())!==et?(e.substr(zu,9)===gt?(a=gt,zu+=9):(a=et,0===Qu&&l(Fa)),a!==et?(a=He())!==et?(a=Ne())!==et?($u=n,n=["defaultCollationDecl",a]):(zu=n,n=et):(zu=n,n=et):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et),Zu[t]={i:zu,result:n},t=n),t===et&&((n=Zu[t=233*zu+10])?(zu=n.i,t=n.result):(n=zu,e.substr(zu,7)===pt?(a=pt,zu+=7):(a=et,0===Qu&&l(Oa)),a!==et?(a=He())!==et?(e.substr(zu,8)===yt?(a=yt,zu+=8):(a=et,0===Qu&&l(Ua)),a!==et?(a=He())!==et?(a=Ne())!==et?($u=n,n=["baseUriDecl",a]):(zu=n,n=et):(zu=n,n=et):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et),Zu[t]={i:zu,result:n},t=n),t===et&&((n=Zu[t=233*zu+11])?(zu=n.i,t=n.result):(n=zu,e.substr(zu,7)===pt?(a=pt,zu+=7):(a=et,0===Qu&&l(Oa)),a!==et?(a=He())!==et?(e.substr(zu,12)===vt?(a=vt,zu+=12):(a=et,0===Qu&&l(Ha)),a!==et?(a=He())!==et?(e.substr(zu,5)===ft?(a=ft,zu+=5):(a=et,0===Qu&&l(Ra)),a===et&&(e.substr(zu,8)===dt?(a=dt,zu+=8):(a=et,0===Qu&&l(Da))),a!==et?($u=n,n=["constructionDecl",a]):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et),Zu[t]={i:zu,result:n},t=n),t===et&&((n=Zu[t=233*zu+12])?(zu=n.i,t=n.result):(n=zu,e.substr(zu,7)===pt?(a=pt,zu+=7):(a=et,0===Qu&&l(Oa)),a!==et?(a=He())!==et?(e.substr(zu,8)===bt?(a=bt,zu+=8):(a=et,0===Qu&&l(Ga)),a!==et?(a=He())!==et?(e.substr(zu,7)===wt?(a=wt,zu+=7):(a=et,0===Qu&&l(La)),a===et&&(e.substr(zu,9)===xt?(a=xt,zu+=9):(a=et,0===Qu&&l(ja))),a!==et?($u=n,n=["orderingModeDecl",a]):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et),Zu[t]={i:zu,result:n},t=n),t===et&&((n=Zu[t=233*zu+13])?(zu=n.i,t=n.result):(n=zu,e.substr(zu,7)===pt?(a=pt,zu+=7):(a=et,0===Qu&&l(Oa)),a!==et?(a=He())!==et?(e.substr(zu,7)===mt?(a=mt,zu+=7):(a=et,0===Qu&&l(Ma)),a!==et?(a=He())!==et?(e.substr(zu,5)===At?(a=At,zu+=5):(a=et,0===Qu&&l(Xa)),a!==et?(a=He())!==et?(e.substr(zu,5)===_t?(a=_t,zu+=5):(a=et,0===Qu&&l(qa)),a!==et?(a=He())!==et?(e.substr(zu,8)===Et?(a=Et,zu+=8):(a=et,0===Qu&&l(Va)),a===et&&(e.substr(zu,5)===Ct?(a=Ct,zu+=5):(a=et,0===Qu&&l(za))),a!==et?($u=n,n=["emptyOrderDecl",a]):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et),Zu[t]={i:zu,result:n},t=n),t===et)))))){var o;if(n=Zu[t=233*zu+14])zu=n.i,t=n.result;else{var s;if(n=zu,e.substr(zu,7)===pt?(a=pt,zu+=7):(a=et,0===Qu&&l(Oa)),a!==et)if((a=He())!==et)if(e.substr(zu,15)===Nt?(a=Nt,zu+=15):(a=et,0===Qu&&l($a)),a!==et)if((a=He())!==et)if((o=Zu[a=233*zu+15])?(zu=o.i,a=o.result):(e.substr(zu,8)===dt?(o=dt,zu+=8):(o=et,0===Qu&&l(Da)),o===et&&(e.substr(zu,11)===Bt?(o=Bt,zu+=11):(o=et,0===Qu&&l(Ka))),Zu[a]={i:zu,result:o},a=o),a!==et)if(Ue(),44===e.charCodeAt(zu)?(o=Tt,zu++):(o=et,0===Qu&&l(Ya)),o!==et)Ue(),(s=Zu[o=233*zu+16])?(zu=s.i,o=s.result):(e.substr(zu,7)===St?(s=St,zu+=7):(s=et,0===Qu&&l(Ja)),s===et&&(e.substr(zu,10)===It?(s=It,zu+=10):(s=et,0===Qu&&l(Qa))),Zu[o]={i:zu,result:s},o=s),o!==et?($u=n,n=["copyNamespacesDecl",["preserveMode",a],["inheritMode",o]]):(zu=n,n=et);else zu=n,n=et;else zu=n,n=et;else zu=n,n=et;else zu=n,n=et;else zu=n,n=et;else zu=n,n=et;Zu[t]={i:zu,result:n},t=n}if(t===et)if(n=Zu[t=233*zu+17])zu=n.i,t=n.result;else{if(n=zu,e.substr(zu,7)===pt?(a=pt,zu+=7):(a=et,0===Qu&&l(Oa)),a!==et)if((a=He())!==et){if(a=zu,e.substr(zu,14)===kt?(o=kt,zu+=14):(o=et,0===Qu&&l(Za)),o!==et)if((s=He())!==et){var u=Ee();u!==et?($u=a,a=["decimalFormatName"].concat(u)):(zu=a,a=et)}else zu=a,a=et;else zu=a,a=et;if(a===et&&(a=zu,e.substr(zu,7)===mt?(o=mt,zu+=7):(o=et,0===Qu&&l(Ma)),o!==et?(s=He())!==et?(e.substr(zu,14)===kt?(u=kt,zu+=14):(u=et,0===Qu&&l(Za)),u!==et?($u=a,a=null):(zu=a,a=et)):(zu=a,a=et):(zu=a,a=et)),a!==et){if(o=[],s=zu,(u=He())!==et)if((u=d())!==et){var c=He();c!==et?(61===e.charCodeAt(zu)?(c=ut,zu++):(c=et,0===Qu&&l(Ia)),c!==et?(c=He())!==et?(c=Ne())!==et?($u=s,s=r(0,u,c)):(zu=s,s=et):(zu=s,s=et):(zu=s,s=et)):(zu=s,s=et)}else zu=s,s=et;else zu=s,s=et;for(;s!==et;)o.push(s),s=zu,(u=He())!==et?(u=d())!==et?(c=He())!==et?(61===e.charCodeAt(zu)?(c=ut,zu++):(c=et,0===Qu&&l(Ia)),c!==et?(c=He())!==et?(c=Ne())!==et?($u=s,s=r(0,u,c)):(zu=s,s=et):(zu=s,s=et):(zu=s,s=et)):(zu=s,s=et):(zu=s,s=et):(zu=s,s=et);$u=n,n=["decimalFormatDecl"].concat(a?[a]:[],o)}else zu=n,n=et}else zu=n,n=et;else zu=n,n=et;Zu[t]={i:zu,result:n},t=n}}return Zu[i]={i:zu,result:t},t}function d(){var t,n=233*zu+18;return(t=Zu[n])?(zu=t.i,t.result):(e.substr(zu,17)===Ot?(t=Ot,zu+=17):(t=et,0===Qu&&l(Wa)),t===et&&(e.substr(zu,18)===Pt?(t=Pt,zu+=18):(t=et,0===Qu&&l(eo)),t===et&&(e.substr(zu,8)===Dt?(t=Dt,zu+=8):(t=et,0===Qu&&l(to)),t===et&&(e.substr(zu,10)===Rt?(t=Rt,zu+=10):(t=et,0===Qu&&l(no)),t===et&&(e.substr(zu,3)===Mt?(t=Mt,zu+=3):(t=et,0===Qu&&l(ro)),t===et&&(e.substr(zu,7)===Ft?(t=Ft,zu+=7):(t=et,0===Qu&&l(io)),t===et&&(e.substr(zu,9)===Ut?(t=Ut,zu+=9):(t=et,0===Qu&&l(ao)),t===et&&(e.substr(zu,10)===Ht?(t=Ht,zu+=10):(t=et,0===Qu&&l(oo)),t===et&&(e.substr(zu,5)===Gt?(t=Gt,zu+=5):(t=et,0===Qu&&l(so)),t===et&&(e.substr(zu,17)===Lt?(t=Lt,zu+=17):(t=et,0===Qu&&l(lo)),t===et&&(e.substr(zu,18)===jt?(t=jt,zu+=18):(t=et,0===Qu&&l(uo)))))))))))),Zu[n]={i:zu,result:t},t)}function f(){var t,n,r,i=233*zu+19;if(t=Zu[i])return zu=t.i,t.result;if(n=Zu[t=233*zu+20])zu=n.i,t=n.result;else{if(n=zu,e.substr(zu,6)===Xt){var a=Xt;zu+=6}else a=et,0===Qu&&l(co);if(a!==et)if((a=He())!==et)if(e.substr(zu,6)===qt?(a=qt,zu+=6):(a=et,0===Qu&&l(po)),a!==et){a=zu;var o=He();if(o!==et){if(r=Zu[o=233*zu+21])zu=r.i,o=r.result;else{if(r=zu,e.substr(zu,9)===lt){var s=lt;zu+=9}else s=et,0===Qu&&l(Sa);if(s!==et){var u=He();if(u!==et){var c=Pe();if(c!==et){if(Ue(),61===e.charCodeAt(zu)){var p=ut;zu++}else p=et,0===Qu&&l(Ia);p!==et?($u=r,r=["namespacePrefix",c]):(zu=r,r=et)}else zu=r,r=et}else zu=r,r=et}else zu=r,r=et;if(r===et){if(s=r=zu,e.substr(zu,7)===mt?(u=mt,zu+=7):(u=et,0===Qu&&l(Ma)),u!==et)if((c=He())!==et){if(e.substr(zu,7)===zt){var h=zt;zu+=7}else h=et,0===Qu&&l(fo);if(h!==et)if((p=He())!==et){if(e.substr(zu,9)===lt){var d=lt;zu+=9}else d=et,0===Qu&&l(Sa);if(d!==et){var f=ze();f!==et?s=u=[u,c,h,p,d,f]:(zu=s,s=et)}else zu=s,s=et}else zu=s,s=et;else zu=s,s=et}else zu=s,s=et;else zu=s,s=et;s!==et&&($u=r,s=["defaultElementNamespace"]),r=s}Zu[o]={i:zu,result:r},o=r}o!==et?($u=a,a=o):(zu=a,a=et)}else zu=a,a=et;if(a===et&&(a=null),Ue(),(o=Ne())!==et){if(r=zu,(s=He())!==et)if(e.substr(zu,2)===Vt?(s=Vt,zu+=2):(s=et,0===Qu&&l(ho)),s!==et)if((s=He())!==et)if((s=Ne())!==et){for(u=[],c=zu,(h=He())!==et?(44===e.charCodeAt(zu)?(h=Tt,zu++):(h=et,0===Qu&&l(Ya)),h!==et?(h=He())!==et?(h=Ne())!==et?($u=c,c=h):(zu=c,c=et):(zu=c,c=et):(zu=c,c=et)):(zu=c,c=et);c!==et;)u.push(c),c=zu,(h=He())!==et?(44===e.charCodeAt(zu)?(h=Tt,zu++):(h=et,0===Qu&&l(Ya)),h!==et?(h=He())!==et?(h=Ne())!==et?($u=c,c=h):(zu=c,c=et):(zu=c,c=et):(zu=c,c=et)):(zu=c,c=et);$u=r,r=[s].concat(u)}else zu=r,r=et;else zu=r,r=et;else zu=r,r=et;else zu=r,r=et;r===et&&(r=null),$u=n,n=["schemaImport"].concat(a?[a]:[],[["targetNamespace",o]],r?[r]:[])}else zu=n,n=et}else zu=n,n=et;else zu=n,n=et;else zu=n,n=et;Zu[t]={i:zu,result:n},t=n}if(t===et)if(n=Zu[t=233*zu+22])zu=n.i,t=n.result;else{if(n=zu,e.substr(zu,6)===Xt?(a=Xt,zu+=6):(a=et,0===Qu&&l(co)),a!==et)if((a=He())!==et)if(e.substr(zu,6)===st?(a=st,zu+=6):(a=et,0===Qu&&l(Ba)),a!==et)if(a=zu,(o=He())!==et?(e.substr(zu,9)===lt?(o=lt,zu+=9):(o=et,0===Qu&&l(Sa)),o!==et?(r=He())!==et?(s=zu,(s=(u=Pe())!==et?e.substring(s,zu):u)!==et?(Ue(),61===e.charCodeAt(zu)?(u=ut,zu++):(u=et,0===Qu&&l(Ia)),u!==et?($u=a,a=s):(zu=a,a=et)):(zu=a,a=et)):(zu=a,a=et):(zu=a,a=et)):(zu=a,a=et),a===et&&(a=null),Ue(),(o=Ne())!==et){if(r=zu,(s=He())!==et)if(e.substr(zu,2)===Vt?(u=Vt,zu+=2):(u=et,0===Qu&&l(ho)),u!==et)if((u=He())!==et)if((s=Ne())!==et)for(r=[],s=zu,u=Ue(),44===e.charCodeAt(zu)?(c=Tt,zu++):(c=et,0===Qu&&l(Ya)),c!==et?(h=Ue(),(p=Ne())!==et?s=u=[u,c,h,p]:(zu=s,s=et)):(zu=s,s=et);s!==et;)r.push(s),s=zu,u=Ue(),44===e.charCodeAt(zu)?(c=Tt,zu++):(c=et,0===Qu&&l(Ya)),c!==et?(h=Ue(),(p=Ne())!==et?s=u=[u,c,h,p]:(zu=s,s=et)):(zu=s,s=et);else zu=r;else zu=r;else zu=r;else zu=r;$u=n,n=["moduleImport",["namespacePrefix",a],["targetNamespace",o]]}else zu=n,n=et;else zu=n,n=et;else zu=n,n=et;else zu=n,n=et;Zu[t]={i:zu,result:n},t=n}return Zu[i]={i:zu,result:t},t}function m(){var t,n=233*zu+23;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,7)===pt){var r=pt;zu+=7}else r=et,0===Qu&&l(Oa);if(r!==et)if((r=He())!==et)if(e.substr(zu,9)===lt?(r=lt,zu+=9):(r=et,0===Qu&&l(Sa)),r!==et)if((r=He())!==et)if((r=Pe())!==et){if(Ue(),61===e.charCodeAt(zu)){var i=ut;zu++}else i=et,0===Qu&&l(Ia);i!==et?(Ue(),(i=Ne())!==et?($u=t,t=["namespaceDecl",["prefix",r],["uri",i]]):(zu=t,t=et)):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;else zu=t,t=et;else zu=t,t=et;else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function g(){var t,n=233*zu+24;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,7)===pt){var r=pt;zu+=7}else r=et,0===Qu&&l(Oa);if(r!==et)if((r=He())!==et)if(e.substr(zu,7)===mt?(r=mt,zu+=7):(r=et,0===Qu&&l(Ma)),r!==et)if((r=He())!==et)if(e.substr(zu,7)===zt?(r=zt,zu+=7):(r=et,0===Qu&&l(fo)),r===et&&(e.substr(zu,8)===$t?(r=$t,zu+=8):(r=et,0===Qu&&l(mo))),r!==et){var i=He();i!==et?(e.substr(zu,9)===lt?(i=lt,zu+=9):(i=et,0===Qu&&l(Sa)),i!==et?(i=He())!==et?(i=Ne())!==et?($u=t,t=["defaultNamespaceDecl",["defaultNamespaceCategory",r],["uri",i]]):(zu=t,t=et):(zu=t,t=et):(zu=t,t=et)):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;else zu=t,t=et;else zu=t,t=et;else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function y(){var t,n=233*zu+25;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,7)===pt){var r=pt;zu+=7}else r=et,0===Qu&&l(Oa);if(r!==et)if((r=He())!==et){r=[];var i=zu,a=b();if(a===et&&(a=v()),a!==et){var o=He();o!==et?($u=i,i=a):(zu=i,i=et)}else zu=i,i=et;for(;i!==et;)r.push(i),i=zu,(a=b())===et&&(a=v()),a!==et?(o=He())!==et?($u=i,i=a):(zu=i,i=et):(zu=i,i=et);if(a=Zu[i=233*zu+28])zu=a.i,i=a.result;else{if(a=zu,e.substr(zu,8)===Zt?(o=Zt,zu+=8):(o=et,0===Qu&&l(wo)),o!==et)if((o=He())!==et)if(36===e.charCodeAt(zu)?(o=Wt,zu++):(o=et,0===Qu&&l(xo)),o!==et)if(Ue(),(o=Ee())!==et){var s=zu;Ue();var u=me();u!==et?($u=s,s=u):(zu=s,s=et),s===et&&(s=null);var c=zu;if(Ue(),e.substr(zu,2)===en?(u=en,zu+=2):(u=et,0===Qu&&l(Ao)),u!==et?(Ue(),(u=T())!==et?($u=c,c=["varValue",u]):(zu=c,c=et)):(zu=c,c=et),c===et)if(c=zu,(u=He())!==et)if(e.substr(zu,8)===tn?(u=tn,zu+=8):(u=et,0===Qu&&l(_o)),u!==et){if(u=zu,Ue(),e.substr(zu,2)===en){var p=en;zu+=2}else p=et,0===Qu&&l(Ao);p!==et?(Ue(),(p=T())!==et?($u=u,u=["varValue",p]):(zu=u,u=et)):(zu=u,u=et),u===et&&(u=null),$u=c,c=["external"].concat(u?[u]:[])}else zu=c,c=et;else zu=c,c=et;c!==et?($u=a,a=["varDecl",["varName"].concat(o)].concat(s?[s]:[],[c])):(zu=a,a=et)}else zu=a,a=et;else zu=a,a=et;else zu=a,a=et;else zu=a,a=et;Zu[i]={i:zu,result:a},i=a}i===et&&((a=Zu[i=233*zu+30])?(zu=a.i,i=a.result):(a=zu,e.substr(zu,8)===$t?(o=$t,zu+=8):(o=et,0===Qu&&l(mo)),o!==et?(o=He())!==et?(s=zu,Qu++,o=Ve(),Qu--,o===et?s=void 0:(zu=s,s=et),s!==et?(o=Ee())!==et?(Ue(),40===e.charCodeAt(zu)?(s=Jt,zu++):(s=et,0===Qu&&l(vo)),s!==et?(Ue(),(s=x())===et&&(s=null),Ue(),41===e.charCodeAt(zu)?(c=Qt,zu++):(c=et,0===Qu&&l(bo)),c!==et?(c=zu,(u=He())!==et?(e.substr(zu,2)===an?(u=an,zu+=2):(u=et,0===Qu&&l(No)),u!==et?(p=He())!==et?(u=ge())!==et?($u=c,c=u):(zu=c,c=et):(zu=c,c=et):(zu=c,c=et)):(zu=c,c=et),c===et&&(c=null),Ue(),u=zu,(p=_())!==et&&($u=u,p=["functionBody",p]),(u=p)===et&&(u=zu,e.substr(zu,8)===tn?(p=tn,zu+=8):(p=et,0===Qu&&l(_o)),p!==et&&($u=u,p=["externalDefinition"]),u=p),u!==et?($u=a,a=["functionDecl",["functionName"].concat(o),["paramList"].concat(s||[])].concat(c?[["typeDeclaration"].concat(c)]:[],[u])):(zu=a,a=et)):(zu=a,a=et)):(zu=a,a=et)):(zu=a,a=et):(zu=a,a=et)):(zu=a,a=et):(zu=a,a=et),Zu[i]={i:zu,result:a},i=a)),i!==et?($u=t,t=[i[0]].concat(r,i.slice(1))):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function v(){var t,n=233*zu+26;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,8)===Yt){var r=Yt;zu+=8}else r=et,0===Qu&&l(go);return r!==et&&($u=t,r=["annotation",["annotationName","updating"]]),t=r,Zu[n]={i:zu,result:t},t}function b(){var t,n=233*zu+27;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,37===e.charCodeAt(zu)){var r=Kt;zu++}else r=et,0===Qu&&l(yo);if(r!==et)if(Ue(),(r=Ee())!==et){var i=zu;if(Ue(),40===e.charCodeAt(zu)){var a=Jt;zu++}else a=et,0===Qu&&l(vo);if(a!==et)if(Ue(),(a=re())!==et){var o=[],s=zu;if(Ue(),44===e.charCodeAt(zu)){var u=Tt;zu++}else u=et,0===Qu&&l(Ya);for(u!==et?(Ue(),(u=re())!==et?($u=s,s=u):(zu=s,s=et)):(zu=s,s=et);s!==et;)o.push(s),s=zu,Ue(),44===e.charCodeAt(zu)?(u=Tt,zu++):(u=et,0===Qu&&l(Ya)),u!==et?(Ue(),(u=re())!==et?($u=s,s=u):(zu=s,s=et)):(zu=s,s=et);Ue(),41===e.charCodeAt(zu)?(s=Qt,zu++):(s=et,0===Qu&&l(bo)),s!==et?($u=i,i=a.concat(o)):(zu=i,i=et)}else zu=i,i=et;else zu=i,i=et;i===et&&(i=null),$u=t,t=["annotation",["annotationName"].concat(r)].concat(i?["arguments",i]:[])}else zu=t,t=et;else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function w(){var t,n=233*zu+29;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,7)===pt){var r=pt;zu+=7}else r=et,0===Qu&&l(Oa);if(r!==et)if((r=He())!==et)if(e.substr(zu,7)===nn?(r=nn,zu+=7):(r=et,0===Qu&&l(Eo)),r!==et)if((r=He())!==et)if(e.substr(zu,4)===rn?(r=rn,zu+=4):(r=et,0===Qu&&l(Co)),r!==et){var i=zu,a=He();if(a!==et)if(e.substr(zu,2)===an?(r=an,zu+=2):(r=et,0===Qu&&l(No)),r!==et){var o=ye();o!==et||(zu=i)}else zu=i;else zu=i;if(a=zu,r=Ue(),e.substr(zu,2)===en?(o=en,zu+=2):(o=et,0===Qu&&l(Ao)),o!==et){i=Ue();var s=T();s!==et?a=r=[r,o,i,s]:(zu=a,a=et)}else zu=a,a=et;if(a===et)if(a=zu,(r=He())!==et)if(e.substr(zu,8)===tn?(o=tn,zu+=8):(o=et,0===Qu&&l(_o)),o!==et){if(i=zu,s=Ue(),e.substr(zu,2)===en?(a=en,zu+=2):(a=et,0===Qu&&l(Ao)),a!==et){var u=Ue(),c=T();c!==et?i=s=[s,a,u,c]:(zu=i,i=et)}else zu=i,i=et;i===et&&(i=null),a=r=[r,o,i]}else zu=a,a=et;else zu=a,a=et;a!==et?($u=t,t={type:"contextItemDecl"}):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;else zu=t,t=et;else zu=t,t=et;else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function x(){var t,n=233*zu+31;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=A();if(r!==et){var i=[],a=zu;if(Ue(),44===e.charCodeAt(zu)){var o=Tt;zu++}else o=et,0===Qu&&l(Ya);for(o!==et?(Ue(),(o=A())!==et?($u=a,a=o):(zu=a,a=et)):(zu=a,a=et);a!==et;)i.push(a),a=zu,Ue(),44===e.charCodeAt(zu)?(o=Tt,zu++):(o=et,0===Qu&&l(Ya)),o!==et?(Ue(),(o=A())!==et?($u=a,a=o):(zu=a,a=et)):(zu=a,a=et);$u=t,t=[r].concat(i)}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function A(){var t,n=233*zu+32;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,36===e.charCodeAt(zu)){var r=Wt;zu++}else r=et,0===Qu&&l(xo);if(r!==et)if((r=Ee())!==et){var i=zu,a=He();a!==et?(a=me())!==et?($u=i,i=a):(zu=i,i=et):(zu=i,i=et),i===et&&(i=null),$u=t,t=["param",["varName"].concat(r)].concat(i?[i]:[])}else zu=t,t=et;else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function _(){var e,t=233*zu+33;if(e=Zu[t])return zu=e.i,e.result;e=zu;var n=E();return n!==et&&($u=e,n=n||["sequenceExpr"]),e=n,Zu[t]={i:zu,result:e},e}function E(){var t,n=233*zu+34;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,123===e.charCodeAt(zu)){var r=on;zu++}else r=et,0===Qu&&l(To);if(r!==et){if(Ue(),(r=N())===et&&(r=null),Ue(),125===e.charCodeAt(zu)){var i=sn;zu++}else i=et,0===Qu&&l(Bo);i!==et?($u=t,t=r||null):(zu=t,t=et)}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function C(){var t,n=233*zu+35;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,7)===pt){var r=pt;zu+=7}else r=et,0===Qu&&l(Oa);return r!==et?(r=He())!==et?(e.substr(zu,6)===ln?(r=ln,zu+=6):(r=et,0===Qu&&l(So)),r!==et?(r=He())!==et?(r=Ee())!==et?(r=He())!==et?(r=Ne())!==et?($u=t,t={type:"optionDecl"}):(zu=t,t=et):(zu=t,t=et):(zu=t,t=et):(zu=t,t=et):(zu=t,t=et)):(zu=t,t=et):(zu=t,t=et),Zu[n]={i:zu,result:t},t}function N(){var t,n=233*zu+37;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=T();if(r!==et){var i=[],a=zu;if(Ue(),44===e.charCodeAt(zu)){var o=Tt;zu++}else o=et,0===Qu&&l(Ya);for(o!==et?(Ue(),(o=T())!==et?($u=a,a=o):(zu=a,a=et)):(zu=a,a=et);a!==et;)i.push(a),a=zu,Ue(),44===e.charCodeAt(zu)?(o=Tt,zu++):(o=et,0===Qu&&l(Ya)),o!==et?(Ue(),(o=T())!==et?($u=a,a=o):(zu=a,a=et)):(zu=a,a=et);$u=t,t=0===i.length?r:["sequenceExpr",r].concat(i)}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function T(){var t=233*zu+38,n=Zu[t];if(n)return zu=n.i,n.result;var r=zu,i=233*zu+39,a=Zu[i];if(a){zu=a.i;var o=a.result}else{var s=zu,u=B();if(u!==et){var c=[],p=zu,h=Ue(),d=S();for(d!==et?($u=p,p=d):(zu=p,p=et);p!==et;)c.push(p),p=zu,h=Ue(),(d=S())!==et?($u=p,p=d):(zu=p,p=et);p=Ue();var f=233*zu+58,m=Zu[f];if(m)zu=m.i,h=m.result;else{var g=zu;if(e.substr(zu,6)===bn){var y=bn;zu+=6}else y=et,0===Qu&&l(Go);if(y!==et){Ue();var v=T();v!==et?($u=g,g=["returnClause",v]):(zu=g,g=et)}else zu=g,g=et;Zu[f]={i:zu,result:g},h=g}h!==et?($u=s,s=["flworExpr",u].concat(c,[h])):(zu=s,s=et)}else zu=s,s=et;Zu[i]={i:zu,result:s},o=s}if(o!==et&&($u=r,o=We(o)),(r=o)===et){r=zu;var b=233*zu+59,w=Zu[b];if(w)zu=w.i,o=w.result;else{var x=zu;if(e.substr(zu,4)===wn){var A=wn;zu+=4}else A=et,0===Qu&&l(Lo);if(A===et&&(e.substr(zu,5)===xn?(A=xn,zu+=5):(A=et,0===Qu&&l(jo))),A!==et)if(He()!==et){var _=233*zu+60,E=Zu[_];if(E){zu=E.i;var C=E.result}else{var I=zu,k=D();if(k!==et){var O=[],P=zu;if(Ue(),44===e.charCodeAt(zu)){var F=Tt;zu++}else F=et,0===Qu&&l(Ya);if(F!==et){Ue();var U=D();U!==et?($u=P,P=U):(zu=P,P=et)}else zu=P,P=et;for(;P!==et;)O.push(P),P=zu,Ue(),44===e.charCodeAt(zu)?(F=Tt,zu++):(F=et,0===Qu&&l(Ya)),F!==et?(Ue(),(U=D())!==et?($u=P,P=U):(zu=P,P=et)):(zu=P,P=et);$u=I,I=[k].concat(O)}else zu=I,I=et;Zu[_]={i:zu,result:I},C=I}if(C!==et)if(He()!==et){if(e.substr(zu,9)===An){var H=An;zu+=9}else H=et,0===Qu&&l(Xo);if(H!==et)if(He()!==et){var G=T();G!==et?($u=x,x=["quantifiedExpr",["quantifier",A]].concat(C,[["predicateExpr",G]])):(zu=x,x=et)}else zu=x,x=et;else zu=x,x=et}else zu=x,x=et;else zu=x,x=et}else zu=x,x=et;else zu=x,x=et;Zu[b]={i:zu,result:x},o=x}if(o!==et&&($u=r,o=We(o)),(r=o)===et){r=zu;var L=233*zu+62,j=Zu[L];if(j)zu=j.i,o=j.result;else{var X=zu;if(e.substr(zu,10)===_n){var q=_n;zu+=10}else q=et,0===Qu&&l(qo);if(q!==et){if(Ue(),40===e.charCodeAt(zu)){var V=Jt;zu++}else V=et,0===Qu&&l(vo);if(V!==et){var z=N();if(z!==et){if(41===e.charCodeAt(zu)){var $=Qt;zu++}else $=et,0===Qu&&l(bo);if($!==et){Ue();var Y=[],K=zu,J=R();if(J!==et){var Q=Ue();$u=K,K=J}else zu=K,K=et;if(K!==et)for(;K!==et;)Y.push(K),K=zu,(J=R())!==et?(Q=Ue(),$u=K,K=J):(zu=K,K=et);else Y=et;if(Y!==et)if(e.substr(zu,7)===mt?(K=mt,zu+=7):(K=et,0===Qu&&l(Ma)),K!==et)if((J=He())!==et){if(Q=zu,36===e.charCodeAt(zu)){var Z=Wt;zu++}else Z=et,0===Qu&&l(xo);if(Z!==et){var W=Ee();if(W!==et){var ee=He();ee!==et?($u=Q,Q=W):(zu=Q,Q=et)}else zu=Q,Q=et}else zu=Q,Q=et;Q===et&&(Q=null),e.substr(zu,6)===bn?(Z=bn,zu+=6):(Z=et,0===Qu&&l(Go)),Z!==et?(W=He())!==et?(ee=T())!==et?($u=X,X=["typeswitchExpr",["argExpr",z]].concat(Y,[["typeswitchExprDefaultClause"].concat(Q||[],[["resultExpr",ee]])])):(zu=X,X=et):(zu=X,X=et):(zu=X,X=et)}else zu=X,X=et;else zu=X,X=et;else zu=X,X=et}else zu=X,X=et}else zu=X,X=et}else zu=X,X=et}else zu=X,X=et;Zu[L]={i:zu,result:X},o=X}if(o!==et&&($u=r,o=We(o)),(r=o)===et){r=zu;var te=233*zu+65,ne=Zu[te];if(ne)zu=ne.i,o=ne.result;else{var re=zu;if(e.substr(zu,2)===Nn){var ie=Nn;zu+=2}else ie=et,0===Qu&&l($o);if(ie!==et){if(Ue(),40===e.charCodeAt(zu)){var ae=Jt;zu++}else ae=et,0===Qu&&l(vo);if(ae!==et){Ue();var oe=N();if(oe!==et){if(Ue(),41===e.charCodeAt(zu)){var se=Qt;zu++}else se=et,0===Qu&&l(bo);if(se!==et){if(Ue(),e.substr(zu,4)===Tn){var le=Tn;zu+=4}else le=et,0===Qu&&l(Yo);if(le!==et)if(ze()!==et){Ue();var ue=T();if(ue!==et){if(Ue(),e.substr(zu,4)===Bn){var ce=Bn;zu+=4}else ce=et,0===Qu&&l(Ko);if(ce!==et)if(ze()!==et){Ue();var pe=T();pe!==et?($u=re,re=["ifThenElseExpr",["ifClause",oe],["thenClause",ue],["elseClause",pe]]):(zu=re,re=et)}else zu=re,re=et;else zu=re,re=et}else zu=re,re=et}else zu=re,re=et;else zu=re,re=et}else zu=re,re=et}else zu=re,re=et}else zu=re,re=et}else zu=re,re=et;Zu[te]={i:zu,result:re},o=re}if(o!==et&&($u=r,o=We(o)),(r=o)===et){r=zu;var he=233*zu+214,de=Zu[he];if(de)zu=de.i,o=de.result;else{var fe=zu;if(e.substr(zu,6)===Hi){var me=Hi;zu+=6}else me=et,0===Qu&&l(Eu);if(me!==et)if(He()!==et){if(e.substr(zu,5)===Gi){var ge=Gi;zu+=5}else ge=et,0===Qu&&l(Cu);if(ge===et&&(e.substr(zu,4)===Li?(ge=Li,zu+=4):(ge=et,0===Qu&&l(Nu))),ge!==et)if(He()!==et){var ye=T();if(ye!==et)if(He()!==et){var ve,be=233*zu+213,we=Zu[be];if(we){zu=we.i;var xe=we.result}else{var Ae=ve=zu;if(e.substr(zu,2)===an){var _e=an;zu+=2}else _e=et,0===Qu&&l(No);if(_e!==et)if(He()!==et){var Ce=zu;if(e.substr(zu,5)===Di){var Ne=Di;zu+=5}else Ne=et,0===Qu&&l(bu);Ne!==et&&($u=Ce,Ne=["insertAsFirst"]),(Ce=Ne)===et&&(Ce=zu,e.substr(zu,4)===Ri?(Ne=Ri,zu+=4):(Ne=et,0===Qu&&l(wu)),Ne!==et&&($u=Ce,Ne=["insertAsLast"]),Ce=Ne),Ce!==et?(Ne=He())!==et?($u=Ae,Ae=Ce):(zu=Ae,Ae=et):(zu=Ae,Ae=et)}else zu=Ae,Ae=et;else zu=Ae,Ae=et;Ae===et&&(Ae=null),e.substr(zu,4)===Mi?(_e=Mi,zu+=4):(_e=et,0===Qu&&l(xu)),_e!==et?($u=ve,ve=Ae?["insertInto",Ae]:["insertInto"]):(zu=ve,ve=et),ve===et&&(ve=zu,e.substr(zu,5)===Fi?(Ae=Fi,zu+=5):(Ae=et,0===Qu&&l(Au)),Ae!==et&&($u=ve,Ae=["insertAfter"]),(ve=Ae)===et&&(ve=zu,e.substr(zu,6)===Ui?(Ae=Ui,zu+=6):(Ae=et,0===Qu&&l(_u)),Ae!==et&&($u=ve,Ae=["insertBefore"]),ve=Ae)),Zu[be]={i:zu,result:ve},xe=ve}if(xe!==et)if(He()!==et){var Te=T();Te!==et?($u=fe,fe=["insertExpr",["sourceExpr",ye],xe,["targetExpr",Te]]):(zu=fe,fe=et)}else zu=fe,fe=et;else zu=fe,fe=et}else zu=fe,fe=et;else zu=fe,fe=et}else zu=fe,fe=et;else zu=fe,fe=et}else zu=fe,fe=et;else zu=fe,fe=et;Zu[he]={i:zu,result:fe},o=fe}if(o!==et&&($u=r,o=We(o)),(r=o)===et){r=zu;var Be=233*zu+215,Se=Zu[Be];if(Se)zu=Se.i,o=Se.result;else{var Ie=zu;if(e.substr(zu,6)===ji){var ke=ji;zu+=6}else ke=et,0===Qu&&l(Tu);if(ke!==et)if(He()!==et){if(e.substr(zu,5)===Gi){var Oe=Gi;zu+=5}else Oe=et,0===Qu&&l(Cu);if(Oe===et&&(e.substr(zu,4)===Li?(Oe=Li,zu+=4):(Oe=et,0===Qu&&l(Nu))),Oe!==et)if(He()!==et){var Pe=T();Pe!==et?($u=Ie,Ie=["deleteExpr",["targetExpr",Pe]]):(zu=Ie,Ie=et)}else zu=Ie,Ie=et;else zu=Ie,Ie=et}else zu=Ie,Ie=et;else zu=Ie,Ie=et;Zu[Be]={i:zu,result:Ie},o=Ie}if(o!==et&&($u=r,o=We(o)),(r=o)===et){r=zu;var De=233*zu+217,Re=Zu[De];if(Re)zu=Re.i,o=Re.result;else{var Me=zu;if(e.substr(zu,6)===zi){var Ge=zi;zu+=6}else Ge=et,0===Qu&&l(ku);if(Ge!==et)if(He()!==et){if(e.substr(zu,4)===Li){var Le=Li;zu+=4}else Le=et,0===Qu&&l(Nu);if(Le!==et){Ue();var je=T();if(je!==et)if(He()!==et){if(e.substr(zu,2)===an){var Xe=an;zu+=2}else Xe=et,0===Qu&&l(No);if(Xe!==et)if(He()!==et){var qe=T();qe!==et?($u=Me,Me=["renameExpr",["targetExpr",je],["newNameExpr",qe]]):(zu=Me,Me=et)}else zu=Me,Me=et;else zu=Me,Me=et}else zu=Me,Me=et;else zu=Me,Me=et}else zu=Me,Me=et}else zu=Me,Me=et;else zu=Me,Me=et;Zu[De]={i:zu,result:Me},o=Me}if(o!==et&&($u=r,o=We(o)),(r=o)===et){r=zu;var Ve=233*zu+216,Ye=Zu[Ve];if(Ye)zu=Ye.i,o=Ye.result;else{var Ke=zu;if(e.substr(zu,7)===Xi){var Je=Xi;zu+=7}else Je=et,0===Qu&&l(Bu);if(Je!==et)if(He()!==et){var Qe=zu;if(e.substr(zu,5)===qi){var Ze=qi;zu+=5}else Ze=et,0===Qu&&l(Su);if(Ze!==et){var tt=He();if(tt!==et){if(e.substr(zu,2)===Xn){var nt=Xn;zu+=2}else nt=et,0===Qu&&l(cs);if(nt!==et){var rt=He();rt!==et?Qe=Ze=[Ze,tt,nt,rt]:(zu=Qe,Qe=et)}else zu=Qe,Qe=et}else zu=Qe,Qe=et}else zu=Qe,Qe=et;if(Qe===et&&(Qe=null),e.substr(zu,4)===Li?(Ze=Li,zu+=4):(Ze=et,0===Qu&&l(Nu)),Ze!==et)if((tt=He())!==et)if((nt=T())!==et)if((rt=He())!==et){if(e.substr(zu,4)===Vi){var it=Vi;zu+=4}else it=et,0===Qu&&l(Iu);if(it!==et)if(He()!==et){var at=T();at!==et?($u=Ke,Ke=Qe?["replaceExpr",["replaceValue"],["targetExpr",nt],["replacementExpr",at]]:["replaceExpr",["targetExpr",nt],["replacementExpr",at]]):(zu=Ke,Ke=et)}else zu=Ke,Ke=et;else zu=Ke,Ke=et}else zu=Ke,Ke=et;else zu=Ke,Ke=et;else zu=Ke,Ke=et;else zu=Ke,Ke=et}else zu=Ke,Ke=et;else zu=Ke,Ke=et;Zu[Ve]={i:zu,result:Ke},o=Ke}if(o!==et&&($u=r,o=We(o)),(r=o)===et){r=zu;var ot=233*zu+218,st=Zu[ot];if(st)zu=st.i,o=st.result;else{var lt=zu;if(e.substr(zu,4)===$i){var ut=$i;zu+=4}else ut=et,0===Qu&&l(Ou);if(ut!==et)if(He()!==et){var ct=Fe();if(ct!==et){var pt=[],ht=zu,dt=Ue();if(44===e.charCodeAt(zu)){var ft=Tt;zu++}else ft=et,0===Qu&&l(Ya);if(ft!==et){var gt=Ue(),yt=Fe();yt!==et?($u=ht,ht=yt):(zu=ht,ht=et)}else zu=ht,ht=et;for(;ht!==et;)pt.push(ht),ht=zu,dt=Ue(),44===e.charCodeAt(zu)?(ft=Tt,zu++):(ft=et,0===Qu&&l(Ya)),ft!==et?(gt=Ue(),(yt=Fe())!==et?($u=ht,ht=yt):(zu=ht,ht=et)):(zu=ht,ht=et);if(ht=Ue(),e.substr(zu,6)===Yi?(dt=Yi,zu+=6):(dt=et,0===Qu&&l(Pu)),dt!==et)if((ft=He())!==et)if((gt=T())!==et)if((yt=He())!==et){if(e.substr(zu,6)===bn){var vt=bn;zu+=6}else vt=et,0===Qu&&l(Go);if(vt!==et)if(He()!==et){var bt=T();bt!==et?($u=lt,lt=["transformExpr",["transformCopies",ct].concat(pt),["modifyExpr",gt],["returnExpr",bt]]):(zu=lt,lt=et)}else zu=lt,lt=et;else zu=lt,lt=et}else zu=lt,lt=et;else zu=lt,lt=et;else zu=lt,lt=et;else zu=lt,lt=et}else zu=lt,lt=et}else zu=lt,lt=et;else zu=lt,lt=et;Zu[ot]={i:zu,result:lt},o=lt}if(o!==et&&($u=r,o=We(o)),(r=o)===et){r=zu;var wt=233*zu+66,xt=Zu[wt];if(xt)zu=xt.i,o=xt.result;else{var At=zu,_t=M();if(_t!==et){var Et=[],Ct=zu;if(Ue(),e.substr(zu,2)===Sn){var Nt=Sn;zu+=2}else Nt=et,0===Qu&&l(Jo);if(Nt!==et){var Bt=ze();if(Bt!==et){Ue();var St=M();St!==et?($u=Ct,Ct=St):(zu=Ct,Ct=et)}else zu=Ct,Ct=et}else zu=Ct,Ct=et;for(;Ct!==et;)Et.push(Ct),Ct=zu,Ue(),e.substr(zu,2)===Sn?(Nt=Sn,zu+=2):(Nt=et,0===Qu&&l(Jo)),Nt!==et?(Bt=ze())!==et?(Ue(),(St=M())!==et?($u=Ct,Ct=St):(zu=Ct,Ct=et)):(zu=Ct,Ct=et):(zu=Ct,Ct=et);$u=At,At=$e("orOp",_t,Et)}else zu=At,At=et;Zu[wt]={i:zu,result:At},o=At}o!==et&&($u=r,o=We(o)),r=o}}}}}}}}}return Zu[t]={i:zu,result:r},r}function B(){var t,n,r=233*zu+40;if(t=Zu[r])return zu=t.i,t.result;if(n=Zu[t=233*zu+42])zu=n.i,t=n.result;else{if(n=zu,e.substr(zu,3)===un){var i=un;zu+=3}else i=et,0===Qu&&l(Io);if(i!==et)if((i=He())!==et)if((i=I())!==et){var a=[],o=zu;if(Ue(),44===e.charCodeAt(zu)){var s=Tt;zu++}else s=et,0===Qu&&l(Ya);for(s!==et?(Ue(),(s=I())!==et?($u=o,o=s):(zu=o,o=et)):(zu=o,o=et);o!==et;)a.push(o),o=zu,Ue(),44===e.charCodeAt(zu)?(s=Tt,zu++):(s=et,0===Qu&&l(Ya)),s!==et?(Ue(),(s=I())!==et?($u=o,o=s):(zu=o,o=et)):(zu=o,o=et);$u=n,n=["forClause",i].concat(a)}else zu=n,n=et;else zu=n,n=et;else zu=n,n=et;Zu[t]={i:zu,result:n},t=n}if(t===et)if(n=Zu[t=233*zu+46])zu=n.i,t=n.result;else{if(n=zu,e.substr(zu,3)===hn?(i=hn,zu+=3):(i=et,0===Qu&&l(Po)),i!==et)if(Ue(),(i=k())!==et){for(Ue(),a=[],o=zu,44===e.charCodeAt(zu)?(s=Tt,zu++):(s=et,0===Qu&&l(Ya)),s!==et?(Ue(),(s=k())!==et?($u=o,o=s):(zu=o,o=et)):(zu=o,o=et);o!==et;)a.push(o),o=zu,44===e.charCodeAt(zu)?(s=Tt,zu++):(s=et,0===Qu&&l(Ya)),s!==et?(Ue(),(s=k())!==et?($u=o,o=s):(zu=o,o=et)):(zu=o,o=et);$u=n,n=["letClause",i].concat(a)}else zu=n,n=et;else zu=n,n=et;Zu[t]={i:zu,result:n},t=n}return Zu[r]={i:zu,result:t},t}function S(){var t,n=233*zu+41;if(t=Zu[n])return zu=t.i,t.result;if((t=B())===et){var r;if(r=Zu[t=233*zu+48])zu=r.i,t=r.result;else{if(r=zu,e.substr(zu,5)===dn){var i=dn;zu+=5}else i=et,0===Qu&&l(Do);i!==et?(i=ze())!==et?(Ue(),(i=T())!==et?($u=r,r=["whereClause",i]):(zu=r,r=et)):(zu=r,r=et):(zu=r,r=et),Zu[t]={i:zu,result:r},t=r}if(t===et){if(r=Zu[t=233*zu+49])zu=r.i,t=r.result;else{if(r=zu,e.substr(zu,5)===fn?(i=fn,zu+=5):(i=et,0===Qu&&l(Ro)),i!==et)if((i=He())!==et)if(e.substr(zu,2)===mn?(i=mn,zu+=2):(i=et,0===Qu&&l(Mo)),i!==et){var a;if(Ue(),a=Zu[i=233*zu+50])zu=a.i,i=a.result;else{a=zu;var o=O();if(o!==et){var s=[],u=zu;if(Ue(),44===e.charCodeAt(zu)){var c=Tt;zu++}else c=et,0===Qu&&l(Ya);for(c!==et?(Ue(),(c=O())!==et?($u=u,u=c):(zu=u,u=et)):(zu=u,u=et);u!==et;)s.push(u),u=zu,Ue(),44===e.charCodeAt(zu)?(c=Tt,zu++):(c=et,0===Qu&&l(Ya)),c!==et?(Ue(),(c=O())!==et?($u=u,u=c):(zu=u,u=et)):(zu=u,u=et);$u=a,a=[o].concat(s)}else zu=a,a=et;Zu[i]={i:zu,result:a},i=a}i!==et?($u=r,r=["groupByClause"].concat(i)):(zu=r,r=et)}else zu=r,r=et;else zu=r,r=et;else zu=r,r=et;Zu[t]={i:zu,result:r},t=r}if(t===et)if(r=Zu[t=233*zu+54])zu=r.i,t=r.result;else{if(i=r=zu,e.substr(zu,5)===At?(a=At,zu+=5):(a=et,0===Qu&&l(Xa)),a!==et?(a=He())!==et?(e.substr(zu,2)===mn?(a=mn,zu+=2):(a=et,0===Qu&&l(Mo)),a!==et?($u=i,i=!1):(zu=i,i=et)):(zu=i,i=et):(zu=i,i=et),i===et&&(i=zu,e.substr(zu,6)===gn?(a=gn,zu+=6):(a=et,0===Qu&&l(Fo)),a!==et?(a=He())!==et?(e.substr(zu,5)===At?(a=At,zu+=5):(a=et,0===Qu&&l(Xa)),a!==et?(a=He())!==et?(e.substr(zu,2)===mn?(a=mn,zu+=2):(a=et,0===Qu&&l(Mo)),a!==et?($u=i,i=!0):(zu=i,i=et)):(zu=i,i=et):(zu=i,i=et)):(zu=i,i=et):(zu=i,i=et)),i!==et){if(Ue(),o=Zu[a=233*zu+55])zu=o.i,a=o.result;else{if(o=zu,(s=P())!==et){if(u=[],c=zu,Ue(),44===e.charCodeAt(zu)){var p=Tt;zu++}else p=et,0===Qu&&l(Ya);for(p!==et?(Ue(),(p=P())!==et?($u=c,c=p):(zu=c,c=et)):(zu=c,c=et);c!==et;)u.push(c),c=zu,Ue(),44===e.charCodeAt(zu)?(p=Tt,zu++):(p=et,0===Qu&&l(Ya)),p!==et?(Ue(),(p=P())!==et?($u=c,c=p):(zu=c,c=et)):(zu=c,c=et);$u=o,o=[s].concat(u)}else zu=o,o=et;Zu[a]={i:zu,result:o},a=o}a!==et?($u=r,r=["orderByClause"].concat(i?[["stable"]]:[],a)):(zu=r,r=et)}else zu=r,r=et;Zu[t]={i:zu,result:r},t=r}}}return Zu[n]={i:zu,result:t},t}function I(){var t,n,r=233*zu+43;if(t=Zu[r])return zu=t.i,t.result;if(t=zu,36===e.charCodeAt(zu)){var i=Wt;zu++}else i=et,0===Qu&&l(xo);if(i!==et)if((i=Ee())!==et){Ue();var a=me();a===et&&(a=null),Ue();var o=233*zu+44;if(n=Zu[o])zu=n.i,o=n.result;else{if(n=zu,e.substr(zu,8)===pn){var s=pn;zu+=8}else s=et,0===Qu&&l(Oo);if(s!==et){var u=He();if(u!==et){if(e.substr(zu,5)===_t){var c=_t;zu+=5}else c=et,0===Qu&&l(qa);c!==et?n=s=[s,u,c]:(zu=n,n=et)}else zu=n,n=et}else zu=n,n=et;Zu[o]={i:zu,result:n},o=n}o===et&&(o=null),Ue(),(s=Zu[n=233*zu+45])?(zu=s.i,n=s.result):(s=zu,e.substr(zu,2)===Vt?(u=Vt,zu+=2):(u=et,0===Qu&&l(ho)),u!==et?(u=He())!==et?(36===e.charCodeAt(zu)?(u=Wt,zu++):(u=et,0===Qu&&l(xo)),u!==et?(u=Ee())!==et?($u=s,s=["positionalVariableBinding"].concat(u)):(zu=s,s=et):(zu=s,s=et)):(zu=s,s=et):(zu=s,s=et),Zu[n]={i:zu,result:s},n=s),n===et&&(n=null),Ue(),e.substr(zu,2)===cn?(s=cn,zu+=2):(s=et,0===Qu&&l(ko)),s!==et?(Ue(),(s=T())!==et?($u=t,t=["forClauseItem",["typedVariableBinding",["varName"].concat(i,a?[a]:[])]].concat(o?[["allowingEmpty"]]:[],n?[n]:[],[["forExpr",s]])):(zu=t,t=et)):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;return Zu[r]={i:zu,result:t},t}function k(){var t,n=233*zu+47;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,36===e.charCodeAt(zu)){var r=Wt;zu++}else r=et,0===Qu&&l(xo);if(r!==et)if((r=Ee())!==et){Ue();var i=me();if(i===et&&(i=null),Ue(),e.substr(zu,2)===en){var a=en;zu+=2}else a=et,0===Qu&&l(Ao);a!==et?(Ue(),(a=T())!==et?($u=t,t=["letClauseItem",["typedVariableBinding",["varName"].concat(r)].concat(i?[i]:[]),["letExpr",a]]):(zu=t,t=et)):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function O(){var t,n,r=233*zu+51;if(t=Zu[r])return zu=t.i,t.result;t=zu;var i=233*zu+53;if(n=Zu[i])zu=n.i,i=n.result;else{if(n=zu,36===e.charCodeAt(zu)){var a=Wt;zu++}else a=et,0===Qu&&l(xo);a!==et?(a=Ee())!==et?($u=n,n=["varName"].concat(a)):(zu=n,n=et):(zu=n,n=et),Zu[i]={i:zu,result:n},i=n}if(i!==et){if(a=Zu[n=233*zu+52])zu=a.i,n=a.result;else{a=zu,Ue();var o=me();if(o===et&&(o=null),Ue(),e.substr(zu,2)===en){var s=en;zu+=2}else s=et,0===Qu&&l(Ao);s!==et?(Ue(),(s=T())!==et?($u=a,a=["groupVarInitialize"].concat(o?[["typeDeclaration"].concat(o)]:[],[["varValue",s]])):(zu=a,a=et)):(zu=a,a=et),Zu[n]={i:zu,result:a},n=a}n===et&&(n=null),a=zu,Ue(),e.substr(zu,9)===gt?(o=gt,zu+=9):(o=et,0===Qu&&l(Fa)),o!==et?(Ue(),(o=Ne())!==et?($u=a,a=["collation",o]):(zu=a,a=et)):(zu=a,a=et),a===et&&(a=null),$u=t,t=["groupingSpec",i].concat(n?[n]:[],a?[a]:[])}else zu=t,t=et;return Zu[r]={i:zu,result:t},t}function P(){var t,n=233*zu+56;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=T();if(r!==et){var i;Ue();var a=233*zu+57;if(i=Zu[a])zu=i.i,a=i.result;else{if(i=zu,e.substr(zu,9)===yn){var o=yn;zu+=9}else o=et,0===Qu&&l(Uo);o===et&&(e.substr(zu,10)===vn?(o=vn,zu+=10):(o=et,0===Qu&&l(Ho))),o===et&&(o=null),Ue();var s=zu;if(e.substr(zu,5)===_t){var u=_t;zu+=5}else u=et,0===Qu&&l(qa);if(u!==et){Ue();var c=zu;if(e.substr(zu,8)===Et){var p=Et;zu+=8}else p=et,0===Qu&&l(Va);p!==et&&($u=c,p="empty greatest"),(c=p)===et&&(c=zu,e.substr(zu,5)===Ct?(p=Ct,zu+=5):(p=et,0===Qu&&l(za)),p!==et&&($u=c,p="empty least"),c=p),c!==et?($u=s,s=c):(zu=s,s=et)}else zu=s,s=et;if(s===et&&(s=null),Ue(),u=zu,e.substr(zu,9)===gt?(c=gt,zu+=9):(c=et,0===Qu&&l(Fa)),c!==et){p=Ue();var h=Ne();h!==et?u=c=[c,p,h]:(zu=u,u=et)}else zu=u,u=et;u===et&&(u=null),$u=i,i=o||s||u?["orderModifier"].concat(o?[["orderingKind",o]]:[],s?[["emptyOrderingMode",s]]:[],u?[["collation",u]]:[]):null,Zu[a]={i:zu,result:i},a=i}$u=t,t=["orderBySpec",["orderByExpr",r]].concat(a?[a]:[])}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function D(){var t,n=233*zu+61;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,36===e.charCodeAt(zu)){var r=Wt;zu++}else r=et,0===Qu&&l(xo);if(r!==et)if((r=Ee())!==et){var i=zu,a=He();a!==et?(a=me())!==et?($u=i,i=a):(zu=i,i=et):(zu=i,i=et),i===et&&(i=null),(a=He())!==et?(e.substr(zu,2)===cn?(a=cn,zu+=2):(a=et,0===Qu&&l(ko)),a!==et?(a=He())!==et?(a=T())!==et?($u=t,t=["quantifiedExprInClause",["typedVariableBinding",["varName"].concat(r)].concat(i?[i]:[]),["sourceExpr",a]]):(zu=t,t=et):(zu=t,t=et):(zu=t,t=et)):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function R(){var t,n=233*zu+63;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,4)===En){var r=En;zu+=4}else r=et,0===Qu&&l(Vo);if(r!==et){if(Ue(),r=zu,36===e.charCodeAt(zu)){var i=Wt;zu++}else i=et,0===Qu&&l(xo);if(i!==et)if((i=Ee())!==et){var a=He();a!==et?(e.substr(zu,2)===an?(a=an,zu+=2):(a=et,0===Qu&&l(No)),a!==et?($u=r,r=i):(zu=r,r=et)):(zu=r,r=et)}else zu=r,r=et;else zu=r,r=et;if(r===et&&(r=null),Ue(),a=Zu[i=233*zu+64])zu=a.i,i=a.result;else{a=zu;var o=ge();if(o!==et){var s=[],u=zu;if(Ue(),124===e.charCodeAt(zu)){var c=Cn;zu++}else c=et,0===Qu&&l(zo);for(c!==et?(Ue(),(c=ge())!==et?($u=u,u=c):(zu=u,u=et)):(zu=u,u=et);u!==et;)s.push(u),u=zu,Ue(),124===e.charCodeAt(zu)?(c=Cn,zu++):(c=et,0===Qu&&l(zo)),c!==et?(Ue(),(c=ge())!==et?($u=u,u=c):(zu=u,u=et)):(zu=u,u=et);$u=a,a=function(e,t){return t.length?[["sequenceTypeUnion",["sequenceType"].concat(e)].concat(t.map((function(e){return["sequenceType"].concat(e)})))]:[["sequenceType"].concat(e)]}(o,s)}else zu=a,a=et;Zu[i]={i:zu,result:a},i=a}i!==et?(a=He())!==et?(e.substr(zu,6)===bn?(a=bn,zu+=6):(a=et,0===Qu&&l(Go)),a!==et?(a=He())!==et?(a=T())!==et?($u=t,t=["typeswitchExprCaseClause"].concat(r?[["variableBinding"].concat(r)]:[],i,[["resultExpr",a]])):(zu=t,t=et):(zu=t,t=et):(zu=t,t=et)):(zu=t,t=et):(zu=t,t=et)}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function M(){var t,n=233*zu+67;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=F();if(r!==et){var i=[],a=zu;if(Ue(),e.substr(zu,3)===In){var o=In;zu+=3}else o=et,0===Qu&&l(Qo);for(o!==et?(o=ze())!==et?(Ue(),(o=F())!==et?($u=a,a=o):(zu=a,a=et)):(zu=a,a=et):(zu=a,a=et);a!==et;)i.push(a),a=zu,Ue(),e.substr(zu,3)===In?(o=In,zu+=3):(o=et,0===Qu&&l(Qo)),o!==et?(o=ze())!==et?(Ue(),(o=F())!==et?($u=a,a=o):(zu=a,a=et)):(zu=a,a=et):(zu=a,a=et);$u=t,t=$e("andOp",r,i)}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function F(){var t,n,r=233*zu+68;if(t=Zu[r])return zu=t.i,t.result;t=zu;var i=U();if(i!==et){var a=zu;Ue();var o=233*zu+83;if(n=Zu[o])zu=n.i,o=n.result;else{if(n=zu,e.substr(zu,2)===Wn){var s=Wn;zu+=2}else s=et,0===Qu&&l(ws);s!==et?(s=ze())!==et?($u=n,n="eqOp"):(zu=n,n=et):(zu=n,n=et),n===et&&(n=zu,e.substr(zu,2)===er?(s=er,zu+=2):(s=et,0===Qu&&l(xs)),s!==et?(s=ze())!==et?($u=n,n="neOp"):(zu=n,n=et):(zu=n,n=et),n===et&&(n=zu,e.substr(zu,2)===tr?(s=tr,zu+=2):(s=et,0===Qu&&l(As)),s!==et?(s=ze())!==et?($u=n,n="ltOp"):(zu=n,n=et):(zu=n,n=et),n===et&&(n=zu,e.substr(zu,2)===nr?(s=nr,zu+=2):(s=et,0===Qu&&l(_s)),s!==et?(s=ze())!==et?($u=n,n="leOp"):(zu=n,n=et):(zu=n,n=et),n===et&&(n=zu,e.substr(zu,2)===rr?(s=rr,zu+=2):(s=et,0===Qu&&l(Es)),s!==et?(s=ze())!==et?($u=n,n="gtOp"):(zu=n,n=et):(zu=n,n=et),n===et&&(n=zu,e.substr(zu,2)===ir?(s=ir,zu+=2):(s=et,0===Qu&&l(Cs)),s!==et?(s=ze())!==et?($u=n,n="geOp"):(zu=n,n=et):(zu=n,n=et)))))),Zu[o]={i:zu,result:n},o=n}o===et&&((n=Zu[o=233*zu+84])?(zu=n.i,o=n.result):(n=zu,e.substr(zu,2)===ar?(s=ar,zu+=2):(s=et,0===Qu&&l(Ns)),s!==et?(s=ze())!==et?($u=n,n="isOp"):(zu=n,n=et):(zu=n,n=et),n===et&&(n=zu,e.substr(zu,2)===or?(s=or,zu+=2):(s=et,0===Qu&&l(Ts)),s!==et&&($u=n,s="nodeBeforeOp"),(n=s)===et&&(n=zu,e.substr(zu,2)===sr?(s=sr,zu+=2):(s=et,0===Qu&&l(Bs)),s!==et&&($u=n,s="nodeAfterOp"),n=s)),Zu[o]={i:zu,result:n},o=n),o===et&&((n=Zu[o=233*zu+82])?(zu=n.i,o=n.result):(n=zu,61===e.charCodeAt(zu)?(s=ut,zu++):(s=et,0===Qu&&l(Ia)),s!==et&&($u=n,s="equalOp"),(n=s)===et&&(n=zu,e.substr(zu,2)===Yn?(s=Yn,zu+=2):(s=et,0===Qu&&l(ms)),s!==et&&($u=n,s="notEqualOp"),(n=s)===et&&(n=zu,e.substr(zu,2)===Kn?(s=Kn,zu+=2):(s=et,0===Qu&&l(gs)),s!==et&&($u=n,s="lessThanOrEqualOp"),(n=s)===et&&(n=zu,60===e.charCodeAt(zu)?(s=Jn,zu++):(s=et,0===Qu&&l(ys)),s!==et&&($u=n,s="lessThanOp"),(n=s)===et&&(n=zu,e.substr(zu,2)===Qn?(s=Qn,zu+=2):(s=et,0===Qu&&l(vs)),s!==et&&($u=n,s="greaterThanOrEqualOp"),(n=s)===et&&(n=zu,62===e.charCodeAt(zu)?(s=Zn,zu++):(s=et,0===Qu&&l(bs)),s!==et&&($u=n,s="greaterThanOp"),n=s))))),Zu[o]={i:zu,result:n},o=n))),o!==et?(Ue(),(n=U())!==et?($u=a,a=[o,n]):(zu=a,a=et)):(zu=a,a=et),a===et&&(a=null),$u=t,t=a?[a[0],["firstOperand",i],["secondOperand",a[1]]]:i}else zu=t,t=et;return Zu[r]={i:zu,result:t},t}function U(){var t,n=233*zu+69;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=H();if(r!==et){var i=[],a=zu;if(Ue(),e.substr(zu,2)===kn){var o=kn;zu+=2}else o=et,0===Qu&&l(Zo);for(o!==et?(Ue(),(o=H())!==et?($u=a,a=o):(zu=a,a=et)):(zu=a,a=et);a!==et;)i.push(a),a=zu,Ue(),e.substr(zu,2)===kn?(o=kn,zu+=2):(o=et,0===Qu&&l(Zo)),o!==et?(Ue(),(o=H())!==et?($u=a,a=o):(zu=a,a=et)):(zu=a,a=et);$u=t,t=$e("stringConcatenateOp",r,i)}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function H(){var t,n=233*zu+70;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=G();if(r!==et){var i=zu;if(Ue(),e.substr(zu,2)===On){var a=On;zu+=2}else a=et,0===Qu&&l(Wo);a!==et?(a=ze())!==et?(Ue(),(a=G())!==et?($u=i,i=a):(zu=i,i=et)):(zu=i,i=et):(zu=i,i=et),i===et&&(i=null),$u=t,t=null===i?r:["rangeSequenceExpr",["startExpr",r],["endExpr",i]]}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function G(){var t,n=233*zu+71;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=L();if(r!==et){var i=[],a=zu;Ue();var o=zu;if(45===e.charCodeAt(zu)){var s=Pn;zu++}else s=et,0===Qu&&l(es);for(s!==et&&($u=o,s="subtractOp"),(o=s)===et&&(o=zu,43===e.charCodeAt(zu)?(s=Dn,zu++):(s=et,0===Qu&&l(ts)),s!==et&&($u=o,s="addOp"),o=s),o!==et?(Ue(),(s=L())!==et?($u=a,a=[o,s]):(zu=a,a=et)):(zu=a,a=et);a!==et;)i.push(a),a=zu,Ue(),o=zu,45===e.charCodeAt(zu)?(s=Pn,zu++):(s=et,0===Qu&&l(es)),s!==et&&($u=o,s="subtractOp"),(o=s)===et&&(o=zu,43===e.charCodeAt(zu)?(s=Dn,zu++):(s=et,0===Qu&&l(ts)),s!==et&&($u=o,s="addOp"),o=s),o!==et?(Ue(),(s=L())!==et?($u=a,a=[o,s]):(zu=a,a=et)):(zu=a,a=et);$u=t,t=function(e,t){return t.reduce((function(e,t){return[t[0],["firstOperand",e],["secondOperand",t[1]]]}),e)}(r,i)}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function L(){var t,n=233*zu+72;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=j();if(r!==et){var i=[],a=zu;Ue();var o=zu;if(42===e.charCodeAt(zu)){var s=Rn;zu++}else s=et,0===Qu&&l(ns);for(s!==et&&($u=o,s="multiplyOp"),(o=s)===et&&(o=zu,e.substr(zu,3)===Mn?(s=Mn,zu+=3):(s=et,0===Qu&&l(rs)),s!==et?(s=ze())!==et?($u=o,o="divOp"):(zu=o,o=et):(zu=o,o=et),o===et&&(o=zu,e.substr(zu,4)===Fn?(s=Fn,zu+=4):(s=et,0===Qu&&l(is)),s!==et?(s=ze())!==et?($u=o,o="idivOp"):(zu=o,o=et):(zu=o,o=et),o===et&&(o=zu,e.substr(zu,3)===Un?(s=Un,zu+=3):(s=et,0===Qu&&l(as)),s!==et?(s=ze())!==et?($u=o,o="modOp"):(zu=o,o=et):(zu=o,o=et)))),o!==et?(Ue(),(s=j())!==et?($u=a,a=[o,s]):(zu=a,a=et)):(zu=a,a=et);a!==et;)i.push(a),a=zu,Ue(),o=zu,42===e.charCodeAt(zu)?(s=Rn,zu++):(s=et,0===Qu&&l(ns)),s!==et&&($u=o,s="multiplyOp"),(o=s)===et&&(o=zu,e.substr(zu,3)===Mn?(s=Mn,zu+=3):(s=et,0===Qu&&l(rs)),s!==et?(s=ze())!==et?($u=o,o="divOp"):(zu=o,o=et):(zu=o,o=et),o===et&&(o=zu,e.substr(zu,4)===Fn?(s=Fn,zu+=4):(s=et,0===Qu&&l(is)),s!==et?(s=ze())!==et?($u=o,o="idivOp"):(zu=o,o=et):(zu=o,o=et),o===et&&(o=zu,e.substr(zu,3)===Un?(s=Un,zu+=3):(s=et,0===Qu&&l(as)),s!==et?(s=ze())!==et?($u=o,o="modOp"):(zu=o,o=et):(zu=o,o=et)))),o!==et?(Ue(),(s=j())!==et?($u=a,a=[o,s]):(zu=a,a=et)):(zu=a,a=et);$u=t,t=function(e,t){return t.reduce((function(e,t){return[t[0],["firstOperand",e],["secondOperand",t[1]]]}),e)}(r,i)}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function j(){var t,n=233*zu+73;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=X();if(r!==et){var i=[],a=zu;if(Ue(),124===e.charCodeAt(zu)){var o=Cn;zu++}else o=et,0===Qu&&l(zo);if(o===et){if(o=zu,e.substr(zu,5)===Hn){var s=Hn;zu+=5}else s=et,0===Qu&&l(os);if(s!==et){var u=ze();u!==et?o=s=[s,u]:(zu=o,o=et)}else zu=o,o=et}for(o!==et?(Ue(),(u=X())!==et?($u=a,a=u):(zu=a,a=et)):(zu=a,a=et);a!==et;)i.push(a),a=zu,Ue(),124===e.charCodeAt(zu)?(o=Cn,zu++):(o=et,0===Qu&&l(zo)),o===et&&(o=zu,e.substr(zu,5)===Hn?(s=Hn,zu+=5):(s=et,0===Qu&&l(os)),s!==et?(u=ze())!==et?o=s=[s,u]:(zu=o,o=et):(zu=o,o=et)),o!==et?(Ue(),(u=X())!==et?($u=a,a=u):(zu=a,a=et)):(zu=a,a=et);$u=t,t=$e("unionOp",r,i)}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function X(){var t,n,r=233*zu+74;if(t=Zu[r])return zu=t.i,t.result;t=zu;var i=233*zu+75;if(n=Zu[i])zu=n.i,i=n.result;else{n=zu;var a=q();if(a!==et){var o=zu;if(Ue(),e.substr(zu,8)===jn){var s=jn;zu+=8}else s=et,0===Qu&&l(us);s!==et?(s=He())!==et?(e.substr(zu,2)===Xn?(s=Xn,zu+=2):(s=et,0===Qu&&l(cs)),s!==et?(s=ze())!==et?(Ue(),(s=ge())!==et?($u=o,o=s):(zu=o,o=et)):(zu=o,o=et):(zu=o,o=et)):(zu=o,o=et):(zu=o,o=et),o===et&&(o=null),$u=n,n=o?["instanceOfExpr",["argExpr",a],["sequenceType"].concat(o)]:a}else zu=n,n=et;n===et&&(n=q()),Zu[i]={i:zu,result:n},i=n}if(i!==et){for(n=[],a=zu,Ue(),o=zu,e.substr(zu,9)===Gn?(s=Gn,zu+=9):(s=et,0===Qu&&l(ss)),s!==et&&($u=o,s="intersectOp"),(o=s)===et&&(o=zu,e.substr(zu,6)===Ln?(s=Ln,zu+=6):(s=et,0===Qu&&l(ls)),s!==et&&($u=o,s="exceptOp"),o=s),o!==et?(s=ze())!==et?(Ue(),(s=X())!==et?($u=a,a=[o,s]):(zu=a,a=et)):(zu=a,a=et):(zu=a,a=et);a!==et;)n.push(a),a=zu,Ue(),o=zu,e.substr(zu,9)===Gn?(s=Gn,zu+=9):(s=et,0===Qu&&l(ss)),s!==et&&($u=o,s="intersectOp"),(o=s)===et&&(o=zu,e.substr(zu,6)===Ln?(s=Ln,zu+=6):(s=et,0===Qu&&l(ls)),s!==et&&($u=o,s="exceptOp"),o=s),o!==et?(s=ze())!==et?(Ue(),(s=X())!==et?($u=a,a=[o,s]):(zu=a,a=et)):(zu=a,a=et):(zu=a,a=et);$u=t,t=function(e,t){return t.reduce((function(e,t){return[t[0],["firstOperand",e],["secondOperand",t[1]]]}),e)}(i,n)}else zu=t,t=et;return Zu[r]={i:zu,result:t},t}function q(){var t,n,r,i=233*zu+76;if(t=Zu[i])return zu=t.i,t.result;t=zu;var a=233*zu+77;if(n=Zu[a])zu=n.i,a=n.result;else{var o;n=zu;var s=233*zu+78;if(r=Zu[s])zu=r.i,s=r.result;else{r=zu;var u=233*zu+79;if(o=Zu[u])zu=o.i,u=o.result;else{o=zu;var c=function t(){var n,r=233*zu+80;if(n=Zu[r])return zu=n.i,n.result;if(n=zu,45===e.charCodeAt(zu)){var i=Pn;zu++}else i=et,0===Qu&&l(es);if(i!==et?(Ue(),(i=t())!==et?($u=n,n=["unaryMinusOp",["operand",i]]):(zu=n,n=et)):(zu=n,n=et),n===et&&(n=zu,43===e.charCodeAt(zu)?(i=Dn,zu++):(i=et,0===Qu&&l(ts)),i!==et?(Ue(),(i=t())!==et?($u=n,n=["unaryPlusOp",["operand",i]]):(zu=n,n=et)):(zu=n,n=et),n===et))if(i=Zu[n=233*zu+81])zu=i.i,n=i.result;else{var a,o;if(a=Zu[i=233*zu+85])zu=a.i,i=a.result;else{if(a=zu,e.substr(zu,8)===lr){var s=lr;zu+=8}else s=et,0===Qu&&l(Ss);if(s!==et){s=zu,Ue();var u=233*zu+86;(o=Zu[u])?(zu=o.i,u=o.result):(e.substr(zu,3)===cr?(o=cr,zu+=3):(o=et,0===Qu&&l(ks)),o===et&&(e.substr(zu,6)===pr?(o=pr,zu+=6):(o=et,0===Qu&&l(Os))),Zu[u]={i:zu,result:o},u=o),u!==et?($u=s,s=["validationMode",u]):(zu=s,s=et),s===et&&(s=zu,Ue(),e.substr(zu,4)===ur?(u=ur,zu+=4):(u=et,0===Qu&&l(Is)),u!==et?(Ue(),(u=Ee())!==et?($u=s,s=["type"].concat(u)):(zu=s,s=et)):(zu=s,s=et)),s===et&&(s=null),Ue(),123===e.charCodeAt(zu)?(u=on,zu++):(u=et,0===Qu&&l(To)),u!==et?(Ue(),(u=N())!==et?(Ue(),125===e.charCodeAt(zu)?(o=sn,zu++):(o=et,0===Qu&&l(Bo)),o!==et?($u=a,a=["validateExpr"].concat(s?[s]:[],[["argExpr",u]])):(zu=a,a=et)):(zu=a,a=et)):(zu=a,a=et)}else zu=a,a=et;Zu[i]={i:zu,result:a},i=a}if(i===et){if(a=Zu[i=233*zu+87])zu=a.i,i=a.result;else{if(a=zu,s=[],(u=V())!==et)for(;u!==et;)s.push(u),u=V();else s=et;s!==et?(Ue(),123===e.charCodeAt(zu)?(u=on,zu++):(u=et,0===Qu&&l(To)),u!==et?(Ue(),N(),Ue(),125===e.charCodeAt(zu)?(u=sn,zu++):(u=et,0===Qu&&l(Bo)),u!==et?($u=a,a=["extensionExpr"].concat(s)):(zu=a,a=et)):(zu=a,a=et)):(zu=a,a=et),Zu[i]={i:zu,result:a},i=a}if(i===et)if(a=Zu[i=233*zu+90])zu=a.i,i=a.result;else{if(a=zu,(s=z())!==et){if(u=[],o=zu,Ue(),33===e.charCodeAt(zu)){var c=fr;zu++}else c=et,0===Qu&&l(Rs);for(c!==et?(Ue(),(c=z())!==et?($u=o,o=c):(zu=o,o=et)):(zu=o,o=et);o!==et;)u.push(o),o=zu,Ue(),33===e.charCodeAt(zu)?(c=fr,zu++):(c=et,0===Qu&&l(Rs)),c!==et?(Ue(),(c=z())!==et?($u=o,o=c):(zu=o,o=et)):(zu=o,o=et);$u=a,a=function(e,t){return 0===t.length?We(e):We(["simpleMapExpr","pathExpr"===e[0]?e:["pathExpr",["stepExpr",["filterExpr",Qe(e)]]]].concat(t.map((function(e){return"pathExpr"===e[0]?e:["pathExpr",["stepExpr",["filterExpr",Qe(e)]]]}))))}(s,u)}else zu=a,a=et;Zu[i]={i:zu,result:a},i=a}}Zu[n]={i:zu,result:i},n=i}return Zu[r]={i:zu,result:n},n}();if(c!==et){var p=[],h=zu;if(Ue(),e.substr(zu,2)===$n){var d=$n;zu+=2}else d=et,0===Qu&&l(fs);if(d!==et)if(Ue(),(d=te())!==et){Ue();var f=Q();f!==et?($u=h,h=[d,f]):(zu=h,h=et)}else zu=h,h=et;else zu=h,h=et;for(;h!==et;)p.push(h),h=zu,Ue(),e.substr(zu,2)===$n?(d=$n,zu+=2):(d=et,0===Qu&&l(fs)),d!==et?(Ue(),(d=te())!==et?(Ue(),(f=Q())!==et?($u=h,h=[d,f]):(zu=h,h=et)):(zu=h,h=et)):(zu=h,h=et);$u=o,o=function(e,t){return t.reduce((function(e,t){return["arrowExpr",["argExpr",e],t[0],["arguments"].concat(t[1])]}),e)}(c,p)}else zu=o,o=et;Zu[u]={i:zu,result:o},u=o}u!==et?(o=zu,Ue(),e.substr(zu,4)===zn?(c=zn,zu+=4):(c=et,0===Qu&&l(ds)),c!==et?(c=He())!==et?(e.substr(zu,2)===an?(c=an,zu+=2):(c=et,0===Qu&&l(No)),c!==et?(c=ze())!==et?(Ue(),(c=fe())!==et?($u=o,o=c):(zu=o,o=et)):(zu=o,o=et):(zu=o,o=et)):(zu=o,o=et):(zu=o,o=et),o===et&&(o=null),$u=r,r=o?["castExpr",["argExpr",u],o]:u):(zu=r,r=et),Zu[s]={i:zu,result:r},s=r}s!==et?(r=zu,Ue(),e.substr(zu,8)===Vn?(u=Vn,zu+=8):(u=et,0===Qu&&l(hs)),u!==et?(u=He())!==et?(e.substr(zu,2)===an?(u=an,zu+=2):(u=et,0===Qu&&l(No)),u!==et?(u=ze())!==et?(Ue(),(u=fe())!==et?($u=r,r=u):(zu=r,r=et)):(zu=r,r=et):(zu=r,r=et)):(zu=r,r=et):(zu=r,r=et),r===et&&(r=null),$u=n,n=r?["castableExpr",["argExpr",s],r]:s):(zu=n,n=et),Zu[a]={i:zu,result:n},a=n}return a!==et?(n=zu,Ue(),e.substr(zu,5)===qn?(s=qn,zu+=5):(s=et,0===Qu&&l(ps)),s!==et?(s=He())!==et?(e.substr(zu,2)===an?(s=an,zu+=2):(s=et,0===Qu&&l(No)),s!==et?(s=ze())!==et?(Ue(),(s=ge())!==et?($u=n,n=s):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et)):(zu=n,n=et):(zu=n,n=et),n===et&&(n=null),$u=t,t=n?["treatExpr",["argExpr",a],["sequenceType"].concat(n)]:a):(zu=t,t=et),Zu[i]={i:zu,result:t},t}function V(){var t,n=233*zu+88;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,2)===hr){var r=hr;zu+=2}else r=et,0===Qu&&l(Ps);if(r!==et)if(He(),(r=Ee())!==et){var i=zu,a=He();if(a!==et){var o;if(o=Zu[a=233*zu+89])zu=o.i,a=o.result;else{o=zu;var s=[],u=zu,c=De();if(c!==et){var p=zu;if(Qu++,e.substr(zu,2)===dr){var h=dr;zu+=2}else h=et,0===Qu&&l(Ds);Qu--,h===et?p=void 0:(zu=p,p=et),p!==et?($u=u,u=c):(zu=u,u=et)}else zu=u,u=et;for(;u!==et;)s.push(u),u=zu,(c=De())!==et?(p=zu,Qu++,e.substr(zu,2)===dr?(h=dr,zu+=2):(h=et,0===Qu&&l(Ds)),Qu--,h===et?p=void 0:(zu=p,p=et),p!==et?($u=u,u=c):(zu=u,u=et)):(zu=u,u=et);$u=o,o=s=s.join(""),Zu[a]={i:zu,result:o},a=o}$u=i,i=a}else zu=i,i=et;i===et&&(i=null),Ue(),e.substr(zu,2)===dr?(a=dr,zu+=2):(a=et,0===Qu&&l(Ds)),a!==et?($u=t,t=i?["pragma",["pragmaName",r],["pragmaContents",i]]:["pragma",["pragmaName",r]]):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function z(){var t,r,i=233*zu+91;if(t=Zu[i])return zu=t.i,t.result;if(r=Zu[t=233*zu+92])zu=r.i,t=r.result;else{r=zu;var a=Y();if(a!==et){Ue();var o=K();if(o!==et){Ue();var s=$();s!==et?($u=r,r=["pathExpr",a,o].concat(s)):(zu=r,r=et)}else zu=r,r=et}else zu=r,r=et;if(r===et&&(r=zu,(a=Y())!==et?(Ue(),47===e.charCodeAt(zu)?(o=mr,zu++):(o=et,0===Qu&&l(Ms)),o!==et?(Ue(),(s=$())!==et?($u=r,r=["pathExpr",a].concat(s)):(zu=r,r=et)):(zu=r,r=et)):(zu=r,r=et),r===et)){if(a=Zu[r=233*zu+98])zu=a.i,r=a.result;else{if(a=zu,(o=ne())!==et){s=zu,Qu++;var u=zu,c=Ue(),p=Z();p!==et?u=c=[c,p]:(zu=u,u=et),u===et&&(u=zu,c=Ue(),(p=Q())!==et?u=c=[c,p]:(zu=u,u=et),u===et&&(u=zu,c=Ue(),(p=W())!==et?u=c=[c,p]:(zu=u,u=et))),Qu--,u===et?s=void 0:(zu=s,s=et),s!==et?($u=a,a=o):(zu=a,a=et)}else zu=a,a=et;Zu[r]={i:zu,result:a},r=a}r===et&&(r=zu,(a=Y())!==et&&($u=r,a=["pathExpr",a]),r=a)}Zu[t]={i:zu,result:r},t=r}return t===et&&((r=Zu[t=233*zu+95])?(zu=r.i,t=r.result):(r=zu,47===e.charCodeAt(zu)?(o=mr,zu++):(o=et,0===Qu&&l(Ms)),o!==et?(Ue(),(a=$())!==et?($u=r,r=["pathExpr",["rootExpr"]].concat(a)):(zu=r,r=et)):(zu=r,r=et),r===et&&(r=zu,(o=K())!==et?(Ue(),(a=$())!==et?($u=r,r=["pathExpr",["rootExpr"],o].concat(a)):(zu=r,r=et)):(zu=r,r=et),r===et&&(r=zu,47===e.charCodeAt(zu)?(o=mr,zu++):(o=et,0===Qu&&l(Ms)),o!==et?(o=zu,Qu++,a=zu,s=Ue(),$u=u=zu,(c=(c=n.Ra)?void 0:et)!==et?(ia.test(e.charAt(zu))?(p=e.charAt(zu),zu++):(p=et,0===Qu&&l(Fs)),p!==et?u=c=[c,p]:(zu=u,u=et)):(zu=u,u=et),u!==et?a=s=[s,u]:(zu=a,a=et),a===et&&($u=a=zu,(s=(s=!n.Ra)?void 0:et)!==et?(aa.test(e.charAt(zu))?(u=e.charAt(zu),zu++):(u=et,0===Qu&&l(Us)),u!==et?a=s=[s,u]:(zu=a,a=et)):(zu=a,a=et)),Qu--,a===et?o=void 0:(zu=o,o=et),o!==et?($u=r,r=["pathExpr",["rootExpr"]]):(zu=r,r=et)):(zu=r,r=et))),Zu[t]={i:zu,result:r},t=r)),Zu[i]={i:zu,result:t},t}function $(){var t,n=233*zu+93;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=Y();if(r!==et){Ue();var i=K();if(i!==et){Ue();var a=$();a!==et?($u=t,t=[r,i].concat(a)):(zu=t,t=et)}else zu=t,t=et}else zu=t,t=et;return t===et&&(t=zu,(r=Y())!==et?(Ue(),47===e.charCodeAt(zu)?(i=mr,zu++):(i=et,0===Qu&&l(Ms)),i!==et?(Ue(),(a=$())!==et?($u=t,t=[r].concat(a)):(zu=t,t=et)):(zu=t,t=et)):(zu=t,t=et),t===et&&(t=zu,(r=Y())!==et&&($u=t,r=[r]),t=r)),Zu[n]={i:zu,result:t},t}function Y(){var t,n,r=233*zu+94;if(t=Zu[r])return zu=t.i,t.result;t=zu;var i=233*zu+97;if(n=Zu[i])zu=n.i,i=n.result;else{var a=n=zu,o=ne();if(o!==et&&($u=a,o=Qe(o)),(a=o)!==et){o=[];var s=zu;Ue();var u=Z();for(u!==et?($u=s,s=["predicate",u]):(zu=s,s=et),s===et&&(s=zu,Ue(),(u=Q())!==et?($u=s,s=["argumentList",u]):(zu=s,s=et),s===et&&(s=zu,Ue(),(u=W())!==et?($u=s,s=u):(zu=s,s=et)));s!==et;)o.push(s),s=zu,Ue(),(u=Z())!==et?($u=s,s=["predicate",u]):(zu=s,s=et),s===et&&(s=zu,Ue(),(u=Q())!==et?($u=s,s=["argumentList",u]):(zu=s,s=et),s===et&&(s=zu,Ue(),(u=W())!==et?($u=s,s=u):(zu=s,s=et)));$u=n,n=function(e,t){function n(){s&&1===a.length?o.push(["predicate",a[0]]):0!==a.length&&o.push(["predicates"].concat(a)),a.length=0}function r(e){n(),0!==o.length?("sequenceExpr"===i[0]&&2<i.length&&(i=["sequenceExpr",i]),i=[["filterExpr",i]].concat(o)):i=e?[["filterExpr",i]]:[i],o.length=0}var i=e,a=[],o=[],s=!1;return t.forEach((function(e){"predicate"===e[0]?a.push(e[1]):"lookup"===e[0]?(s=!0,n(),o.push(e)):"argumentList"===e[0]&&(r(!1),1<i.length&&(i=[["sequenceExpr",["pathExpr",["stepExpr"].concat(i)]]]),i=["dynamicFunctionInvocationExpr",["functionItem"].concat(i)].concat(e[1].length?[["arguments"].concat(e[1])]:[]))})),r(!0),i}(a,o)}else zu=n,n=et;Zu[i]={i:zu,result:n},i=n}if(i!==et&&($u=t,i=["stepExpr"].concat(i)),(t=i)===et)if(i=Zu[t=233*zu+99])zu=i.i,t=i.result;else{if(i=zu,a=Zu[n=233*zu+103])zu=a.i,n=a.result;else{if(a=zu,s=Zu[o=233*zu+104])zu=s.i,o=s.result;else{if(u=s=zu,e.substr(zu,6)===Nr){var c=Nr;zu+=6}else c=et,0===Qu&&l(Ks);if(c!==et){if(e.substr(zu,2)===vr){var p=vr;zu+=2}else p=et,0===Qu&&l(Ls);p!==et?u=c=[c,p]:(zu=u,u=et)}else zu=u,u=et;u!==et&&($u=s,u="parent"),(s=u)===et&&(u=s=zu,e.substr(zu,8)===Tr?(c=Tr,zu+=8):(c=et,0===Qu&&l(Js)),c!==et?(e.substr(zu,2)===vr?(p=vr,zu+=2):(p=et,0===Qu&&l(Ls)),p!==et?u=c=[c,p]:(zu=u,u=et)):(zu=u,u=et),u!==et&&($u=s,u="ancestor"),(s=u)===et&&(u=s=zu,e.substr(zu,17)===Br?(c=Br,zu+=17):(c=et,0===Qu&&l(Qs)),c!==et?(e.substr(zu,2)===vr?(p=vr,zu+=2):(p=et,0===Qu&&l(Ls)),p!==et?u=c=[c,p]:(zu=u,u=et)):(zu=u,u=et),u!==et&&($u=s,u="preceding-sibling"),(s=u)===et&&(u=s=zu,e.substr(zu,9)===Sr?(c=Sr,zu+=9):(c=et,0===Qu&&l(Zs)),c!==et?(e.substr(zu,2)===vr?(p=vr,zu+=2):(p=et,0===Qu&&l(Ls)),p!==et?u=c=[c,p]:(zu=u,u=et)):(zu=u,u=et),u!==et&&($u=s,u="preceding"),(s=u)===et&&(u=s=zu,e.substr(zu,16)===Ir?(c=Ir,zu+=16):(c=et,0===Qu&&l(Ws)),c!==et?(e.substr(zu,2)===vr?(p=vr,zu+=2):(p=et,0===Qu&&l(Ls)),p!==et?u=c=[c,p]:(zu=u,u=et)):(zu=u,u=et),u!==et&&($u=s,u="ancestor-or-self"),s=u)))),Zu[o]={i:zu,result:s},o=s}o!==et?(s=J())!==et?($u=a,a=["stepExpr",["xpathAxis",o],s]):(zu=a,a=et):(zu=a,a=et),a===et&&(a=zu,(s=Zu[o=233*zu+105])?(zu=s.i,o=s.result):(s=zu,e.substr(zu,2)===kr?(u=kr,zu+=2):(u=et,0===Qu&&l(el)),u!==et&&($u=s,u=["stepExpr",["xpathAxis","parent"],["anyKindTest"]]),s=u,Zu[o]={i:zu,result:s},o=s),o!==et&&($u=a),a=o),Zu[n]={i:zu,result:a},n=a}if(n===et&&((a=Zu[n=233*zu+100])?(zu=a.i,n=a.result):(a=zu,(s=Zu[o=233*zu+101])?(zu=s.i,o=s.result):(u=s=zu,e.substr(zu,5)===yr?(c=yr,zu+=5):(c=et,0===Qu&&l(Gs)),c!==et?(e.substr(zu,2)===vr?(p=vr,zu+=2):(p=et,0===Qu&&l(Ls)),p!==et?u=c=[c,p]:(zu=u,u=et)):(zu=u,u=et),u!==et&&($u=s,u="child"),(s=u)===et&&(u=s=zu,e.substr(zu,10)===br?(c=br,zu+=10):(c=et,0===Qu&&l(js)),c!==et?(e.substr(zu,2)===vr?(p=vr,zu+=2):(p=et,0===Qu&&l(Ls)),p!==et?u=c=[c,p]:(zu=u,u=et)):(zu=u,u=et),u!==et&&($u=s,u="descendant"),(s=u)===et&&(u=s=zu,e.substr(zu,9)===wr?(c=wr,zu+=9):(c=et,0===Qu&&l(Xs)),c!==et?(e.substr(zu,2)===vr?(p=vr,zu+=2):(p=et,0===Qu&&l(Ls)),p!==et?u=c=[c,p]:(zu=u,u=et)):(zu=u,u=et),u!==et&&($u=s,u="attribute"),(s=u)===et&&(u=s=zu,e.substr(zu,4)===xr?(c=xr,zu+=4):(c=et,0===Qu&&l(qs)),c!==et?(e.substr(zu,2)===vr?(p=vr,zu+=2):(p=et,0===Qu&&l(Ls)),p!==et?u=c=[c,p]:(zu=u,u=et)):(zu=u,u=et),u!==et&&($u=s,u="self"),(s=u)===et&&(u=s=zu,e.substr(zu,18)===Ar?(c=Ar,zu+=18):(c=et,0===Qu&&l(Vs)),c!==et?(e.substr(zu,2)===vr?(p=vr,zu+=2):(p=et,0===Qu&&l(Ls)),p!==et?u=c=[c,p]:(zu=u,u=et)):(zu=u,u=et),u!==et&&($u=s,u="descendant-or-self"),(s=u)===et&&(u=s=zu,e.substr(zu,17)===_r?(c=_r,zu+=17):(c=et,0===Qu&&l(zs)),c!==et?(e.substr(zu,2)===vr?(p=vr,zu+=2):(p=et,0===Qu&&l(Ls)),p!==et?u=c=[c,p]:(zu=u,u=et)):(zu=u,u=et),u!==et&&($u=s,u="following-sibling"),(s=u)===et&&(u=s=zu,e.substr(zu,9)===Er?(c=Er,zu+=9):(c=et,0===Qu&&l($s)),c!==et?(e.substr(zu,2)===vr?(p=vr,zu+=2):(p=et,0===Qu&&l(Ls)),p!==et?u=c=[c,p]:(zu=u,u=et)):(zu=u,u=et),u!==et&&($u=s,u="following"),s=u)))))),Zu[o]={i:zu,result:s},o=s),o!==et?(s=J())!==et?($u=a,a=["stepExpr",["xpathAxis",o],s]):(zu=a,a=et):(zu=a,a=et),a===et&&((o=Zu[a=233*zu+102])?(zu=o.i,a=o.result):(o=zu,64===e.charCodeAt(zu)?(s=Cr,zu++):(s=et,0===Qu&&l(Ys)),s===et&&(s=null),(u=J())!==et?($u=o,o=s||"attributeTest"===u[0]||"schemaAttributeTest"===u[0]?["stepExpr",["xpathAxis","attribute"],u]:["stepExpr",["xpathAxis","child"],u]):(zu=o,o=et),Zu[a]={i:zu,result:o},a=o)),Zu[n]={i:zu,result:a},n=a)),n!==et){if(o=Zu[a=233*zu+110])zu=o.i,a=o.result;else{for(o=zu,s=[],u=zu,Ue(),(c=Z())!==et?($u=u,u=c):(zu=u,u=et);u!==et;)s.push(u),u=zu,Ue(),(c=Z())!==et?($u=u,u=c):(zu=u,u=et);$u=o,o=s=s.length?["predicates"].concat(s):[],Zu[a]={i:zu,result:o},a=o}$u=i,i=0===a.length?n:n.concat([a])}else zu=i,i=et;Zu[t]={i:zu,result:i},t=i}return Zu[r]={i:zu,result:t},t}function K(){var t,n=233*zu+96;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,2)===gr){var r=gr;zu+=2}else r=et,0===Qu&&l(Hs);return r!==et&&($u=t,r=["stepExpr",["xpathAxis","descendant-or-self"],["anyKindTest"]]),t=r,Zu[n]={i:zu,result:t},t}function J(){var t,n,r,i=233*zu+106;if(t=Zu[i])return zu=t.i,t.result;if((t=be())===et)if(n=Zu[t=233*zu+107])zu=n.i,t=n.result;else{if(r=Zu[n=233*zu+108])zu=r.i,n=r.result;else{if(r=zu,e.substr(zu,2)===Or){var a=Or;zu+=2}else a=et,0===Qu&&l(tl);if(a!==et){var o=Pe();o!==et?($u=r,r=["Wildcard",["star"],["NCName",o]]):(zu=r,r=et)}else zu=r,r=et;r===et&&(r=zu,42===e.charCodeAt(zu)?(a=Rn,zu++):(a=et,0===Qu&&l(ns)),a!==et&&($u=r,a=["Wildcard"]),(r=a)===et&&(r=zu,(a=Te())!==et?(42===e.charCodeAt(zu)?(o=Rn,zu++):(o=et,0===Qu&&l(ns)),o!==et?($u=r,r=["Wildcard",["uri",a],["star"]]):(zu=r,r=et)):(zu=r,r=et),r===et&&(r=zu,(a=Pe())!==et?(e.substr(zu,2)===Pr?(o=Pr,zu+=2):(o=et,0===Qu&&l(nl)),o!==et?($u=r,r=["Wildcard",["NCName",a],["star"]]):(zu=r,r=et)):(zu=r,r=et)))),Zu[n]={i:zu,result:r},n=r}n===et&&(n=zu,(r=Ee())!==et&&($u=n,r=["nameTest"].concat(r)),n=r),Zu[t]={i:zu,result:n},t=n}return Zu[i]={i:zu,result:t},t}function Q(){var t,n=233*zu+109;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,40===e.charCodeAt(zu)){var r=Jt;zu++}else r=et,0===Qu&&l(vo);if(r!==et){Ue(),r=zu;var i=oe();if(i!==et){var a=[],o=zu;if(Ue(),44===e.charCodeAt(zu)){var s=Tt;zu++}else s=et,0===Qu&&l(Ya);for(s!==et?(Ue(),(s=oe())!==et?($u=o,o=s):(zu=o,o=et)):(zu=o,o=et);o!==et;)a.push(o),o=zu,Ue(),44===e.charCodeAt(zu)?(s=Tt,zu++):(s=et,0===Qu&&l(Ya)),s!==et?(Ue(),(s=oe())!==et?($u=o,o=s):(zu=o,o=et)):(zu=o,o=et);$u=r,r=[i].concat(a)}else zu=r,r=et;r===et&&(r=null),Ue(),41===e.charCodeAt(zu)?(a=Qt,zu++):(a=et,0===Qu&&l(bo)),a!==et?($u=t,t=r||[]):(zu=t,t=et)}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function Z(){var t,n=233*zu+111;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,91===e.charCodeAt(zu)){var r=Dr;zu++}else r=et,0===Qu&&l(rl);if(r!==et)if(Ue(),(r=N())!==et){if(Ue(),93===e.charCodeAt(zu)){var i=Rr;zu++}else i=et,0===Qu&&l(il);i!==et?($u=t,t=r):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function W(){var t,n=233*zu+112;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,63===e.charCodeAt(zu)){var r=Mr;zu++}else r=et,0===Qu&&l(al);return r!==et?(Ue(),(r=ee())!==et?($u=t,t="*"===r?["lookup",["star"]]:"string"==typeof r?["lookup",["NCName",r]]:["lookup",r]):(zu=t,t=et)):(zu=t,t=et),Zu[n]={i:zu,result:t},t}function ee(){var t,n=233*zu+113;return(t=Zu[n])?(zu=t.i,t.result):((t=Pe())===et&&((t=Ce())===et&&((t=ae())===et&&(42===e.charCodeAt(zu)?(t=Rn,zu++):(t=et,0===Qu&&l(ns))))),Zu[n]={i:zu,result:t},t)}function te(){var e,t=233*zu+114;if(e=Zu[t])return zu=e.i,e.result;e=zu;var n=Ee();return n!==et&&($u=e,n=["EQName"].concat(n)),(e=n)===et&&((e=ie())===et&&(e=ae())),Zu[t]={i:zu,result:e},e}function ne(){var t=233*zu+115,n=Zu[t];if(n)return zu=n.i,n.result;var r=re();if(r===et&&((r=ie())===et&&(r=ae())===et)){var i=233*zu+120,a=Zu[i];if(a)zu=a.i,r=a.result;else{var o=zu;if(46===e.charCodeAt(zu)){var s=Fr;zu++}else s=et,0===Qu&&l(sl);if(s!==et){var u=zu;if(Qu++,46===e.charCodeAt(zu)){var c=Fr;zu++}else c=et,0===Qu&&l(sl);Qu--,c===et?u=void 0:(zu=u,u=et),u!==et?($u=o,o=["contextItemExpr"]):(zu=o,o=et)}else zu=o,o=et;Zu[i]={i:zu,result:o},r=o}if(r===et){var p,h=233*zu+121,d=Zu[h];if(d)zu=d.i,r=d.result;else{var f=p=zu;Qu++;var m=zu,g=Ve();if(g!==et){var y=Ue();if(40===e.charCodeAt(zu)){var v=Jt;zu++}else v=et,0===Qu&&l(vo);v!==et?m=g=[g,y,v]:(zu=m,m=et)}else zu=m,m=et;Qu--,m===et?f=void 0:(zu=f,f=et),f!==et?(m=Ee())!==et?(Ue(),(y=Q())!==et?($u=p,p=["functionCallExpr",["functionName"].concat(m),["arguments"].concat(y)]):(zu=p,p=et)):(zu=p,p=et):(zu=p,p=et),Zu[h]={i:zu,result:p},r=p}if(r===et){var w=233*zu+124,A=Zu[w];if(A)zu=A.i,r=A.result;else{var C=se();if(C===et){var B=233*zu+140,S=Zu[B];if(S)zu=S.i,C=S.result;else{var I=233*zu+141,k=Zu[I];if(k){zu=k.i;var O=k.result}else{var P=zu;if(e.substr(zu,8)===Jr){var D=Jr;zu+=8}else D=et,0===Qu&&l(wl);if(D!==et){Ue();var R=E();R!==et?($u=P,P=R?["computedDocumentConstructor",["argExpr",R]]:["computedDocumentConstructor"]):(zu=P,P=et)}else zu=P,P=et;Zu[I]={i:zu,result:P},O=P}if(O===et){var M=233*zu+142,F=Zu[M];if(F)zu=F.i,O=F.result;else{var U=zu;if(e.substr(zu,7)===zt){var H=zt;zu+=7}else H=et,0===Qu&&l(fo);if(H!==et){Ue();var G=zu,L=Ee();if(L!==et&&($u=G,L=["tagName"].concat(L)),(G=L)===et)if(G=zu,123===e.charCodeAt(zu)?(L=on,zu++):(L=et,0===Qu&&l(To)),L!==et){Ue();var j=N();if(j!==et){if(Ue(),125===e.charCodeAt(zu)){var X=sn;zu++}else X=et,0===Qu&&l(Bo);X!==et?($u=G,G=["tagNameExpr",j]):(zu=G,G=et)}else zu=G,G=et}else zu=G,G=et;if(G!==et){Ue();var q=233*zu+143,V=Zu[q];if(V){zu=V.i;var z=V.result}else{var $=zu,Y=E();Y!==et&&($u=$,Y=Y?[["contentExpr",Y]]:[]),$=Y,Zu[q]={i:zu,result:$},z=$}z!==et?($u=U,U=["computedElementConstructor",G].concat(z)):(zu=U,U=et)}else zu=U,U=et}else zu=U,U=et;Zu[M]={i:zu,result:U},O=U}if(O===et){var K=233*zu+144,J=Zu[K];if(J)zu=J.i,O=J.result;else{var Z=zu;if(e.substr(zu,9)===wr){var W=wr;zu+=9}else W=et,0===Qu&&l(Xs);if(W!==et){var te=zu;if(ze()!==et){Ue();var ne=Ee();ne!==et?($u=te,te=["tagName"].concat(ne)):(zu=te,te=et)}else zu=te,te=et;if(te===et){if(te=zu,Ue(),123===e.charCodeAt(zu)){var oe=on;zu++}else oe=et,0===Qu&&l(To);if(oe!==et){Ue();var le=N();if(le!==et){if(Ue(),125===e.charCodeAt(zu)){var ue=sn;zu++}else ue=et,0===Qu&&l(Bo);ue!==et?($u=te,te=["tagNameExpr",le]):(zu=te,te=et)}else zu=te,te=et}else zu=te,te=et}te!==et?(Ue(),(oe=E())!==et?($u=Z,Z=["computedAttributeConstructor",te].concat([["valueExpr",oe||["sequenceExpr"]]])):(zu=Z,Z=et)):(zu=Z,Z=et)}else zu=Z,Z=et;Zu[K]={i:zu,result:Z},O=Z}if(O===et){var ce=233*zu+145,pe=Zu[ce];if(pe)zu=pe.i,O=pe.result;else{var he=zu;if(e.substr(zu,9)===lt){var fe=lt;zu+=9}else fe=et,0===Qu&&l(Sa);if(fe!==et){Ue();var me=233*zu+146,ye=Zu[me];if(ye){zu=ye.i;var ve=ye.result}else{var be=zu,we=Pe();we!==et&&($u=be,we=["prefix",we]),be=we,Zu[me]={i:zu,result:be},ve=be}if(ve===et){var xe=233*zu+147,Ae=Zu[xe];if(Ae)zu=Ae.i,ve=Ae.result;else{var _e=zu,Ne=E();Ne!==et&&($u=_e,Ne=Ne?[["prefixExpr",Ne]]:[]),_e=Ne,Zu[xe]={i:zu,result:_e},ve=_e}}if(ve!==et){Ue();var Te=233*zu+148,Be=Zu[Te];if(Be){zu=Be.i;var Se=Be.result}else{var Ie=zu,ke=E();ke!==et&&($u=Ie,ke=ke?[["URIExpr",ke]]:[]),Ie=ke,Zu[Te]={i:zu,result:Ie},Se=Ie}Se!==et?($u=he,he=["computedNamespaceConstructor"].concat(ve,Se)):(zu=he,he=et)}else zu=he,he=et}else zu=he,he=et;Zu[ce]={i:zu,result:he},O=he}if(O===et){var Oe=233*zu+149,De=Zu[Oe];if(De)zu=De.i,O=De.result;else{var Re=zu;if(e.substr(zu,4)===Qr){var Me=Qr;zu+=4}else Me=et,0===Qu&&l(xl);if(Me!==et){Ue();var Fe=E();Fe!==et?($u=Re,Re=["computedTextConstructor"].concat(Fe?[["argExpr",Fe]]:[])):(zu=Re,Re=et)}else zu=Re,Re=et;Zu[Oe]={i:zu,result:Re},O=Re}if(O===et){var Ge=233*zu+150,Le=Zu[Ge];if(Le)zu=Le.i,O=Le.result;else{var je=zu;if(e.substr(zu,7)===Zr){var Xe=Zr;zu+=7}else Xe=et,0===Qu&&l(Al);if(Xe!==et){Ue();var qe=E();qe!==et?($u=je,je=["computedCommentConstructor"].concat(qe?[["argExpr",qe]]:[])):(zu=je,je=et)}else zu=je,je=et;Zu[Ge]={i:zu,result:je},O=je}if(O===et){var $e=233*zu+151,Ye=Zu[$e];if(Ye)zu=Ye.i,O=Ye.result;else{var Ke=zu;if(e.substr(zu,22)===Wr){var Je=Wr;zu+=22}else Je=et,0===Qu&&l(_l);if(Je!==et){Ue();var Qe=zu,Ze=Pe();if(Ze!==et&&($u=Qe,Ze=["piTarget",Ze]),(Qe=Ze)===et)if(Qe=zu,123===e.charCodeAt(zu)?(Ze=on,zu++):(Ze=et,0===Qu&&l(To)),Ze!==et){Ue();var We=N();if(We!==et){if(Ue(),125===e.charCodeAt(zu)){var tt=sn;zu++}else tt=et,0===Qu&&l(Bo);tt!==et?($u=Qe,Qe=["piTargetExpr",We]):(zu=Qe,Qe=et)}else zu=Qe,Qe=et}else zu=Qe,Qe=et;if(Qe!==et){Ue();var nt=E();nt!==et?($u=Ke,Ke=["computedPIConstructor",Qe].concat(nt?[["piValueExpr",nt]]:[])):(zu=Ke,Ke=et)}else zu=Ke,Ke=et}else zu=Ke,Ke=et;Zu[$e]={i:zu,result:Ke},O=Ke}}}}}}}Zu[B]={i:zu,result:O},C=O}}Zu[w]={i:zu,result:C},r=C}if(r===et){var rt=233*zu+152,it=Zu[rt];if(it)zu=it.i,r=it.result;else{var at=233*zu+153,ot=Zu[at];if(ot){zu=ot.i;var st=ot.result}else{var ut=zu,ct=Ee();if(ct!==et){if(35===e.charCodeAt(zu)){var pt=ei;zu++}else pt=et,0===Qu&&l(El);if(pt!==et){var ht=Ce();ht!==et?($u=ut,ut=["namedFunctionRef",["functionName"].concat(ct),ht]):(zu=ut,ut=et)}else zu=ut,ut=et}else zu=ut,ut=et;Zu[at]={i:zu,result:ut},st=ut}if(st===et){var dt,ft=233*zu+154,mt=Zu[ft];if(mt)zu=mt.i,st=mt.result;else{var gt=zu,yt=[];for(dt=b();dt!==et;)yt.push(dt),dt=b();if(Ue(),e.substr(zu,8)===$t){var vt=$t;zu+=8}else vt=et,0===Qu&&l(mo);if(vt!==et){if(Ue(),40===e.charCodeAt(zu)){var bt=Jt;zu++}else bt=et,0===Qu&&l(vo);if(bt!==et){Ue();var wt=x();if(wt===et&&(wt=null),Ue(),41===e.charCodeAt(zu)){var xt=Qt;zu++}else xt=et,0===Qu&&l(bo);if(xt!==et){Ue();var At=zu;if(e.substr(zu,2)===an){var _t=an;zu+=2}else _t=et,0===Qu&&l(No);if(_t!==et)if(He()!==et){var Et=ge();Et!==et?(Ue(),$u=At,At=["typeDeclaration"].concat(Et)):(zu=At,At=et)}else zu=At,At=et;else zu=At,At=et;At===et&&(At=null),(_t=_())!==et?($u=gt,gt=["inlineFunctionExpr"].concat(yt,[["paramList"].concat(wt||[])],At?[At]:[],[["functionBody",_t]])):(zu=gt,gt=et)}else zu=gt,gt=et}else zu=gt,gt=et}else zu=gt,gt=et;Zu[ft]={i:zu,result:gt},st=gt}}Zu[rt]={i:zu,result:st},r=st}if(r===et){var Ct=233*zu+155,Nt=Zu[Ct];if(Nt)zu=Nt.i,r=Nt.result;else{var Bt=zu;if(e.substr(zu,3)===ti){var St=ti;zu+=3}else St=et,0===Qu&&l(Cl);if(St!==et){if(Ue(),123===e.charCodeAt(zu)){var It=on;zu++}else It=et,0===Qu&&l(To);if(It!==et){Ue();var kt=zu,Ot=de();if(Ot!==et){var Pt=[],Dt=zu;if(Ue(),44===e.charCodeAt(zu)){var Rt=Tt;zu++}else Rt=et,0===Qu&&l(Ya);if(Rt!==et){Ue();var Mt=de();Mt!==et?($u=Dt,Dt=Mt):(zu=Dt,Dt=et)}else zu=Dt,Dt=et;for(;Dt!==et;)Pt.push(Dt),Dt=zu,Ue(),44===e.charCodeAt(zu)?(Rt=Tt,zu++):(Rt=et,0===Qu&&l(Ya)),Rt!==et?(Ue(),(Mt=de())!==et?($u=Dt,Dt=Mt):(zu=Dt,Dt=et)):(zu=Dt,Dt=et);$u=kt,kt=[Ot].concat(Pt)}else zu=kt,kt=et;kt===et&&(kt=null),Ue(),125===e.charCodeAt(zu)?(Pt=sn,zu++):(Pt=et,0===Qu&&l(Bo)),Pt!==et?($u=Bt,Bt=kt?["mapConstructor"].concat(kt):["mapConstructor"]):(zu=Bt,Bt=et)}else zu=Bt,Bt=et}else zu=Bt,Bt=et;Zu[Ct]={i:zu,result:Bt},r=Bt}if(r===et){var Ft=233*zu+159,Ut=Zu[Ft];if(Ut)zu=Ut.i,r=Ut.result;else{var Ht=zu,Gt=233*zu+160,Lt=Zu[Gt];if(Lt){zu=Lt.i;var jt=Lt.result}else{var Xt=zu;if(91===e.charCodeAt(zu)){var qt=Dr;zu++}else qt=et,0===Qu&&l(rl);if(qt!==et){Ue();var Vt=zu,Yt=T();if(Yt!==et){Ue();var Kt=[],Zt=zu;if(44===e.charCodeAt(zu)){var Wt=Tt;zu++}else Wt=et,0===Qu&&l(Ya);if(Wt!==et){Ue();var en=T();en!==et?($u=Zt,Zt=en):(zu=Zt,Zt=et)}else zu=Zt,Zt=et;for(;Zt!==et;)Kt.push(Zt),Zt=zu,44===e.charCodeAt(zu)?(Wt=Tt,zu++):(Wt=et,0===Qu&&l(Ya)),Wt!==et?(Ue(),(en=T())!==et?($u=Zt,Zt=en):(zu=Zt,Zt=et)):(zu=Zt,Zt=et);$u=Vt,Vt=function(e,t){return[e].concat(t).map((function(e){return["arrayElem",e]}))}(Yt,Kt)}else zu=Vt,Vt=et;if(Vt===et&&(Vt=null),Ue(),93===e.charCodeAt(zu)){var tn=Rr;zu++}else tn=et,0===Qu&&l(il);tn!==et?($u=Xt,Xt=["squareArray"].concat(Vt)):(zu=Xt,Xt=et)}else zu=Xt,Xt=et;Zu[Gt]={i:zu,result:Xt},jt=Xt}if(jt!==et&&($u=Ht,jt=["arrayConstructor",jt]),(Ht=jt)===et){Ht=zu;var nn=233*zu+161,rn=Zu[nn];if(rn)zu=rn.i,jt=rn.result;else{var ln=zu;if(e.substr(zu,5)===ri){var un=ri;zu+=5}else un=et,0===Qu&&l(Tl);if(un!==et){Ue();var cn=E();cn!==et?($u=ln,ln=["curlyArray"].concat(cn?[["arrayElem",cn]]:[])):(zu=ln,ln=et)}else zu=ln,ln=et;Zu[nn]={i:zu,result:ln},jt=ln}jt!==et&&($u=Ht,jt=["arrayConstructor",jt]),Ht=jt}Zu[Ft]={i:zu,result:Ht},r=Ht}if(r===et){var pn=233*zu+162,hn=Zu[pn];if(hn)zu=hn.i,r=hn.result;else{var dn=zu;if(63===e.charCodeAt(zu)){var fn=Mr;zu++}else fn=et,0===Qu&&l(al);if(fn!==et){Ue();var mn=ee();mn!==et?($u=dn,dn="*"===mn?["unaryLookup",["star"]]:"string"==typeof mn?["unaryLookup",["NCName",mn]]:["unaryLookup",mn]):(zu=dn,dn=et)}else zu=dn,dn=et;Zu[pn]={i:zu,result:dn},r=dn}}}}}}}}return Zu[t]={i:zu,result:r},r}function re(){var t,n,r,i,a=233*zu+116;if(t=Zu[a])return zu=t.i,t.result;if(n=Zu[t=233*zu+117])zu=n.i,t=n.result;else{var o;n=zu;var s=233*zu+195;if(r=Zu[s])zu=r.i,s=r.result;else{var u=o=i=r=zu;if(46===e.charCodeAt(zu)){var c=Fr;zu++}else c=et,0===Qu&&l(sl);if(c!==et){var p=Re();p!==et?u=c=[c,p]:(zu=u,u=et)}else zu=u,u=et;if(u===et)if(u=zu,(c=Re())!==et){if(p=zu,46===e.charCodeAt(zu)){var h=Fr;zu++}else h=et,0===Qu&&l(sl);if(h!==et){for(u=[],sa.test(e.charAt(zu))?(p=e.charAt(zu),zu++):(p=et,0===Qu&&l(Ll));p!==et;)u.push(p),sa.test(e.charAt(zu))?(p=e.charAt(zu),zu++):(p=et,0===Qu&&l(Ll));p=h=[h,u]}else zu=p,p=et;p===et&&(p=null),u=c=[c,p]}else zu=u,u=et;u!==et?(la.test(e.charAt(zu))?(c=e.charAt(zu),zu++):(c=et,0===Qu&&l(jl)),c!==et?(ua.test(e.charAt(zu))?(p=e.charAt(zu),zu++):(p=et,0===Qu&&l(Xl)),p===et&&(p=null),(h=Re())!==et?o=u=[u,c,p,h]:(zu=o,o=et)):(zu=o,o=et)):(zu=o,o=et),(i=o!==et?e.substring(i,zu):o)!==et&&($u=r,i=["doubleConstantExpr",["value",i]]),r=i,Zu[s]={i:zu,result:r},s=r}s===et&&((r=Zu[s=233*zu+194])?(zu=r.i,s=r.result):(h=i=r=zu,46===e.charCodeAt(zu)?(o=Fr,zu++):(o=et,0===Qu&&l(sl)),o!==et?(c=Re())!==et?h=o=[o,c]:(zu=h,h=et):(zu=h,h=et),(i=h!==et?e.substring(i,zu):h)!==et&&($u=r,i=["decimalConstantExpr",["value",i]]),(r=i)===et&&(h=i=r=zu,(o=Re())!==et?(46===e.charCodeAt(zu)?(c=Fr,zu++):(c=et,0===Qu&&l(sl)),c!==et?((h=Re())===et&&(h=null),h=o=[o,c,h]):(zu=h,h=et)):(zu=h,h=et),(i=h!==et?e.substring(i,zu):h)!==et&&($u=r,i=["decimalConstantExpr",["value",i]]),r=i),Zu[s]={i:zu,result:r},s=r),s===et&&(s=Ce())),s!==et?(r=zu,Qu++,oa.test(e.charAt(zu))?(i=e.charAt(zu),zu++):(i=et,0===Qu&&l(ol)),Qu--,i===et?r=void 0:(zu=r,r=et),r!==et?($u=n,n=s):(zu=n,n=et)):(zu=n,n=et),Zu[t]={i:zu,result:n},t=n}return t===et&&(t=zu,(n=Ne())!==et&&($u=t,n=["stringConstantExpr",["value",Ke(n)]]),t=n),Zu[a]={i:zu,result:t},t}function ie(){var t,n=233*zu+118;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,36===e.charCodeAt(zu)){var r=Wt;zu++}else r=et,0===Qu&&l(xo);return r!==et?(r=Ee())!==et?($u=t,t=["varRef",["name"].concat(r)]):(zu=t,t=et):(zu=t,t=et),Zu[n]={i:zu,result:t},t}function ae(){var t,n=233*zu+119;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,40===e.charCodeAt(zu)){var r=Jt;zu++}else r=et,0===Qu&&l(vo);if(r!==et)if(Ue(),(r=N())!==et){if(Ue(),41===e.charCodeAt(zu)){var i=Qt;zu++}else i=et,0===Qu&&l(bo);i!==et?($u=t,t=r):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;return t===et&&(t=zu,40===e.charCodeAt(zu)?(r=Jt,zu++):(r=et,0===Qu&&l(vo)),r!==et?(Ue(),41===e.charCodeAt(zu)?(r=Qt,zu++):(r=et,0===Qu&&l(bo)),r!==et?($u=t,t=["sequenceExpr"]):(zu=t,t=et)):(zu=t,t=et)),Zu[n]={i:zu,result:t},t}function oe(){var t,n,r=233*zu+122;if(t=Zu[r])return zu=t.i,t.result;if((t=T())===et)if(n=Zu[t=233*zu+123])zu=n.i,t=n.result;else{if(n=zu,63===e.charCodeAt(zu)){var i=Mr;zu++}else i=et,0===Qu&&l(al);i!==et&&($u=n,i=["argumentPlaceholder"]),n=i,Zu[t]={i:zu,result:n},t=n}return Zu[r]={i:zu,result:t},t}function se(){var t,n,r,i=233*zu+125;if(t=Zu[i])return zu=t.i,t.result;if(n=Zu[t=233*zu+126])zu=n.i,t=n.result;else{if(n=zu,60===e.charCodeAt(zu)){var a=Jn;zu++}else a=et,0===Qu&&l(ys);if(a!==et)if((a=Oe())!==et){var o=233*zu+127;if(r=Zu[o])zu=r.i,o=r.result;else{r=zu;var s=[],u=zu,c=Ge();for(c!==et?((c=le())===et&&(c=null),$u=u,u=c):(zu=u,u=et);u!==et;)s.push(u),u=zu,(c=Ge())!==et?((c=le())===et&&(c=null),$u=u,u=c):(zu=u,u=et);$u=r,r=s=s.filter(Boolean),Zu[o]={i:zu,result:r},o=r}if(s=zu,e.substr(zu,2)===Ur?(r=Ur,zu+=2):(r=et,0===Qu&&l(ll)),r!==et&&($u=s,r=null),(s=r)===et)if(s=zu,62===e.charCodeAt(zu)?(r=Zn,zu++):(r=et,0===Qu&&l(bs)),r!==et){for(r=[],u=pe();u!==et;)r.push(u),u=pe();Ue(),e.substr(zu,2)===Hr?(u=Hr,zu+=2):(u=et,0===Qu&&l(ul)),u!==et?(u=Oe())!==et?(Ge(),62===e.charCodeAt(zu)?(c=Zn,zu++):(c=et,0===Qu&&l(bs)),c!==et?($u=s,(s=1===a.length?a[0]:a[0].prefix+":"+a[1])!==(u=1===u.length?u[0]:u[0].prefix+":"+u[1])&&Ze("XQST0118",'The start and the end tag of an element constructor must be equal. "'+s+'" does not match "'+u+'"'),s=Je(r,!0,!0)):(zu=s,s=et)):(zu=s,s=et):(zu=s,s=et)}else zu=s,s=et;s!==et?($u=n,n=["elementConstructor",["tagName"].concat(a)].concat(o.length?[["attributeList"].concat(o)]:[],s&&s.length?[["elementContent"].concat(s)]:[])):(zu=n,n=et)}else zu=n,n=et;else zu=n,n=et;Zu[t]={i:zu,result:n},t=n}if(t===et){if(n=Zu[t=233*zu+134])zu=n.i,t=n.result;else{if(n=zu,e.substr(zu,4)===qr?(a=qr,zu+=4):(a=et,0===Qu&&l(fl)),a!==et){if(a=zu,r=Zu[o=233*zu+135])zu=r.i;else{if(r=[],u=s=zu,Qu++,45===e.charCodeAt(zu)?(c=Pn,zu++):(c=et,0===Qu&&l(es)),Qu--,c===et?u=void 0:(zu=u,u=et),u!==et?(c=De())!==et?s=u=[u,c]:(zu=s,s=et):(zu=s,s=et),s===et)if(s=zu,45===e.charCodeAt(zu)?(u=Pn,zu++):(u=et,0===Qu&&l(es)),u!==et){var p=c=zu;if(Qu++,45===e.charCodeAt(zu)){var h=Pn;zu++}else h=et,0===Qu&&l(es);Qu--,h===et?p=void 0:(zu=p,p=et),p!==et?(h=De())!==et?c=p=[p,h]:(zu=c,c=et):(zu=c,c=et),c!==et?s=u=[u,c]:(zu=s,s=et)}else zu=s,s=et;for(;s!==et;)r.push(s),u=s=zu,Qu++,45===e.charCodeAt(zu)?(c=Pn,zu++):(c=et,0===Qu&&l(es)),Qu--,c===et?u=void 0:(zu=u,u=et),u!==et?(c=De())!==et?s=u=[u,c]:(zu=s,s=et):(zu=s,s=et),s===et&&(s=zu,45===e.charCodeAt(zu)?(u=Pn,zu++):(u=et,0===Qu&&l(es)),u!==et?(p=c=zu,Qu++,45===e.charCodeAt(zu)?(h=Pn,zu++):(h=et,0===Qu&&l(es)),Qu--,h===et?p=void 0:(zu=p,p=et),p!==et?(h=De())!==et?c=p=[p,h]:(zu=c,c=et):(zu=c,c=et),c!==et?s=u=[u,c]:(zu=s,s=et)):(zu=s,s=et));Zu[o]={i:zu,result:r}}a=e.substring(a,zu),e.substr(zu,3)===Vr?(o=Vr,zu+=3):(o=et,0===Qu&&l(ml)),o!==et?($u=n,n=["computedCommentConstructor",["argExpr",["stringConstantExpr",["value",a]]]]):(zu=n,n=et)}else zu=n,n=et;Zu[t]={i:zu,result:n},t=n}if(t===et)if(n=Zu[t=233*zu+136])zu=n.i,t=n.result;else{if(n=zu,e.substr(zu,2)===zr?(a=zr,zu+=2):(a=et,0===Qu&&l(gl)),a!==et){if(a=zu,r=Zu[o=233*zu+206])zu=r.i,o=r.result;else{if(s=r=zu,Qu++,u=zu,88===e.charCodeAt(zu)?(c=Ni,zu++):(c=et,0===Qu&&l(su)),c===et&&(120===e.charCodeAt(zu)?(c=Ti,zu++):(c=et,0===Qu&&l(lu))),c!==et?(77===e.charCodeAt(zu)?(p=Bi,zu++):(p=et,0===Qu&&l(uu)),p===et&&(109===e.charCodeAt(zu)?(p=Si,zu++):(p=et,0===Qu&&l(cu))),p!==et?(76===e.charCodeAt(zu)?(h=Ii,zu++):(h=et,0===Qu&&l(pu)),h===et&&(108===e.charCodeAt(zu)?(h=ki,zu++):(h=et,0===Qu&&l(hu))),h!==et?u=c=[c,p,h]:(zu=u,u=et)):(zu=u,u=et)):(zu=u,u=et),Qu--,u===et?s=void 0:(zu=s,s=et),s!==et){var d;if(c=Zu[u=233*zu+230])zu=c.i,u=c.result;else{if(p=c=zu,(d=Zu[h=233*zu+229])?(zu=d.i,h=d.result):((d=je())===et&&(58===e.charCodeAt(zu)?(d=ni,zu++):(d=et,0===Qu&&l(Nl))),Zu[h]={i:zu,result:d},h=d),h!==et){for(p=[],d=qe();d!==et;)p.push(d),d=qe();p=h=[h,p]}else zu=p,p=et;c=p!==et?e.substring(c,zu):p,Zu[u]={i:zu,result:c},u=c}u!==et?r=s=[s,u]:(zu=r,r=et)}else zu=r,r=et;Zu[o]={i:zu,result:r},o=r}if((a=o!==et?e.substring(a,zu):o)!==et){if(o=zu,(r=Ge())!==et){if(r=zu,u=Zu[s=233*zu+137])zu=u.i;else{for(u=[],p=c=zu,Qu++,e.substr(zu,2)===$r?(h=$r,zu+=2):(h=et,0===Qu&&l(yl)),Qu--,h===et?p=void 0:(zu=p,p=et),p!==et?(h=De())!==et?c=p=[p,h]:(zu=c,c=et):(zu=c,c=et);c!==et;)u.push(c),p=c=zu,Qu++,e.substr(zu,2)===$r?(h=$r,zu+=2):(h=et,0===Qu&&l(yl)),Qu--,h===et?p=void 0:(zu=p,p=et),p!==et?(h=De())!==et?c=p=[p,h]:(zu=c,c=et):(zu=c,c=et);Zu[s]={i:zu,result:u}}r=e.substring(r,zu),$u=o,o=r}else zu=o,o=et;o===et&&(o=null),e.substr(zu,2)===$r?(r=$r,zu+=2):(r=et,0===Qu&&l(yl)),r!==et?($u=n,n=["computedPIConstructor",["piTarget",a],["piValueExpr",["stringConstantExpr",["value",o]]]]):(zu=n,n=et)}else zu=n,n=et}else zu=n,n=et;Zu[t]={i:zu,result:n},t=n}}return Zu[i]={i:zu,result:t},t}function le(){var t,n=233*zu+128;if(t=Zu[n])return zu=t.i,t.result;var r=zu;if((t=Oe())!==et){if(Ge(),61===e.charCodeAt(zu)){var i=ut;zu++}else i=et,0===Qu&&l(Ia);if(i!==et){var a;if(Ge(),a=Zu[i=233*zu+129])zu=a.i,i=a.result;else{if(a=zu,34===e.charCodeAt(zu)){var o=Gr;zu++}else o=et,0===Qu&&l(cl);if(o!==et){o=[];var s=Se();for(s===et&&(s=ue());s!==et;)o.push(s),(s=Se())===et&&(s=ue());34===e.charCodeAt(zu)?(s=Gr,zu++):(s=et,0===Qu&&l(cl)),s!==et?($u=a,a=Je(o,!1,!1)):(zu=a,a=et)}else zu=a,a=et;if(a===et)if(a=zu,39===e.charCodeAt(zu)?(o=Lr,zu++):(o=et,0===Qu&&l(pl)),o!==et){for(o=[],(s=Ie())===et&&(s=ce());s!==et;)o.push(s),(s=Ie())===et&&(s=ce());39===e.charCodeAt(zu)?(s=Lr,zu++):(s=et,0===Qu&&l(pl)),s!==et?($u=a,a=Je(o,!1,!1)):(zu=a,a=et)}else zu=a,a=et;Zu[i]={i:zu,result:a},i=a}i!==et?($u=r,r=i,1===t.length&&"xmlns"===t[0]?(r.length&&"string"!=typeof r[0]&&Ze("XQST0022","A namespace declaration may not contain enclosed expressions"),r=["namespaceDeclaration",r.length?["uri",r[0]]:["uri"]]):"xmlns"===t[0].prefix?(r.length&&"string"!=typeof r[0]&&Ze("XQST0022","The namespace declaration for 'xmlns:"+t[1]+"' may not contain enclosed expressions"),r=["namespaceDeclaration",["prefix",t[1]],r.length?["uri",r[0]]:["uri"]]):r=["attributeConstructor",["attributeName"].concat(t),0===r.length?["attributeValue"]:1===r.length&&"string"==typeof r[0]?["attributeValue",r[0]]:["attributeValueExpr"].concat(r)]):(zu=r,r=et)}else zu=r,r=et}else zu=r,r=et;return Zu[n]={i:zu,result:r},r}function ue(){var t,n,r=233*zu+130;if(t=Zu[r])return zu=t.i,t.result;t=zu;var i=233*zu+203;if(n=Zu[i])zu=n.i,i=n.result;else{var a=n=zu;if(Qu++,ga.test(e.charAt(zu))){var o=e.charAt(zu);zu++}else o=et,0===Qu&&l(ru);Qu--,o===et?a=void 0:(zu=a,a=et),a!==et?(o=De())!==et?($u=n,n=o):(zu=n,n=et):(zu=n,n=et),Zu[i]={i:zu,result:n},i=n}return i!==et&&($u=t,i=i.replace(/[\x20\x0D\x0A\x09]/g," ")),(t=i)===et&&(t=he()),Zu[r]={i:zu,result:t},t}function ce(){var t,n,r=233*zu+131;if(t=Zu[r])return zu=t.i,t.result;t=zu;var i=233*zu+204;if(n=Zu[i])zu=n.i,i=n.result;else{var a=n=zu;if(Qu++,ya.test(e.charAt(zu))){var o=e.charAt(zu);zu++}else o=et,0===Qu&&l(iu);Qu--,o===et?a=void 0:(zu=a,a=et),a!==et?(o=De())!==et?($u=n,n=o):(zu=n,n=et):(zu=n,n=et),Zu[i]={i:zu,result:n},i=n}return i!==et&&($u=t,i=i.replace(/[\x20\x0D\x0A\x09]/g," ")),(t=i)===et&&(t=he()),Zu[r]={i:zu,result:t},t}function pe(){var t,n,r=233*zu+132;if(t=Zu[r])return zu=t.i,t.result;t=zu;var i=233*zu+138;if(n=Zu[i])zu=n.i,i=n.result;else{if(n=zu,e.substr(zu,9)===Yr){var a=Yr;zu+=9}else a=et,0===Qu&&l(vl);if(a!==et){var o,s;a=zu;var u=233*zu+139;if(o=Zu[u])zu=o.i;else{o=[];var c=s=zu;if(Qu++,e.substr(zu,3)===Kr){var p=Kr;zu+=3}else p=et,0===Qu&&l(bl);for(Qu--,p===et?c=void 0:(zu=c,c=et),c!==et?(p=De())!==et?s=c=[c,p]:(zu=s,s=et):(zu=s,s=et);s!==et;)o.push(s),c=s=zu,Qu++,e.substr(zu,3)===Kr?(p=Kr,zu+=3):(p=et,0===Qu&&l(bl)),Qu--,p===et?c=void 0:(zu=c,c=et),c!==et?(p=De())!==et?s=c=[c,p]:(zu=s,s=et):(zu=s,s=et);Zu[u]={i:zu,result:o}}a=e.substring(a,zu),e.substr(zu,3)===Kr?(u=Kr,zu+=3):(u=et,0===Qu&&l(bl)),u!==et?($u=n,n=["CDataSection",a]):(zu=n,n=et)}else zu=n,n=et;Zu[i]={i:zu,result:n},i=n}return i!==et&&($u=t),(t=i)===et&&(t=zu,(i=se())!==et&&($u=t),(t=i)===et&&(t=zu,(i=he())!==et&&($u=t),(t=i)===et&&(i=t=zu,(a=Zu[n=233*zu+202])?(zu=a.i,n=a.result):(u=a=zu,Qu++,ma.test(e.charAt(zu))?(o=e.charAt(zu),zu++):(o=et,0===Qu&&l(nu)),Qu--,o===et?u=void 0:(zu=u,u=et),u!==et?(o=De())!==et?a=u=[u,o]:(zu=a,a=et):(zu=a,a=et),Zu[n]={i:zu,result:a},n=a),(i=n!==et?e.substring(i,zu):n)!==et&&($u=t),t=i))),Zu[r]={i:zu,result:t},t}function he(){var t,n=233*zu+133;if(t=Zu[n])return zu=t.i,t.result;if((t=Be())===et&&(t=ke())===et){if(t=zu,e.substr(zu,2)===jr){var r=jr;zu+=2}else r=et,0===Qu&&l(hl);r!==et&&($u=t,r="{"),(t=r)===et&&(t=zu,e.substr(zu,2)===Xr?(r=Xr,zu+=2):(r=et,0===Qu&&l(dl)),r!==et&&($u=t,r="}"),(t=r)===et&&(t=zu,(r=E())!==et&&($u=t,r=r||["sequenceExpr"]),t=r))}return Zu[n]={i:zu,result:t},t}function de(){var t,n,r=233*zu+156;if(t=Zu[r])return zu=t.i,t.result;t=zu;var i=233*zu+157;if(n=Zu[i])zu=n.i,i=n.result;else{n=zu;var a=T();a!==et&&($u=n,a=["mapKeyExpr",a]),n=a,Zu[i]={i:zu,result:n},i=n}if(i!==et)if(Ue(),58===e.charCodeAt(zu)?(n=ni,zu++):(n=et,0===Qu&&l(Nl)),n!==et){if(Ue(),a=Zu[n=233*zu+158])zu=a.i,n=a.result;else{a=zu;var o=T();o!==et&&($u=a,o=["mapValueExpr",o]),a=o,Zu[n]={i:zu,result:a},n=a}n!==et?($u=t,t=["mapConstructorEntry",i,n]):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;return Zu[r]={i:zu,result:t},t}function fe(){var t,n=233*zu+163;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=Ee();if(r!==et){if(63===e.charCodeAt(zu)){var i=Mr;zu++}else i=et,0===Qu&&l(al);i===et&&(i=null),$u=t,t=i?["singleType",["atomicType"].concat(r),["optional"]]:["singleType",["atomicType"].concat(r)]}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function me(){var t,n=233*zu+164;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,2)===an){var r=an;zu+=2}else r=et,0===Qu&&l(No);return r!==et?(r=He())!==et?(r=ge())!==et?($u=t,t=["typeDeclaration"].concat(r)):(zu=t,t=et):(zu=t,t=et):(zu=t,t=et),Zu[n]={i:zu,result:t},t}function ge(){var t,n=233*zu+165;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,16)===ii){var r=ii;zu+=16}else r=et,0===Qu&&l(Bl);if(r!==et&&($u=t,r=[["voidSequenceType"]]),(t=r)===et)if(t=zu,(r=ye())!==et){var i,a=zu;Ue();var o=233*zu+166;(i=Zu[o])?(zu=i.i,o=i.result):(63===e.charCodeAt(zu)?(i=Mr,zu++):(i=et,0===Qu&&l(al)),i===et&&(42===e.charCodeAt(zu)?(i=Rn,zu++):(i=et,0===Qu&&l(ns)),i===et&&(43===e.charCodeAt(zu)?(i=Dn,zu++):(i=et,0===Qu&&l(ts)))),Zu[o]={i:zu,result:i},o=i),o!==et?($u=a,a=o):(zu=a,a=et),a===et&&(a=null),$u=t,t=[r].concat(a?[["occurrenceIndicator",a]]:[])}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function ye(){var t,n=233*zu+167;if(t=Zu[n])return zu=t.i,t.result;if((t=be())===et){if(t=zu,e.substr(zu,6)===ai){var r=ai;zu+=6}else r=et,0===Qu&&l(Sl);if(r!==et&&($u=t,r=["anyItemType"]),(t=r)===et){var i;if(r=Zu[t=233*zu+182])zu=r.i,t=r.result;else{r=zu;var a,o=[];for(i=b();i!==et;)o.push(i),i=b();if(a=Zu[i=233*zu+183])zu=a.i,i=a.result;else{if(a=zu,e.substr(zu,8)===$t){var s=$t;zu+=8}else s=et,0===Qu&&l(mo);s!==et?(Ue(),40===e.charCodeAt(zu)?(s=Jt,zu++):(s=et,0===Qu&&l(vo)),s!==et?(Ue(),42===e.charCodeAt(zu)?(s=Rn,zu++):(s=et,0===Qu&&l(ns)),s!==et?(Ue(),41===e.charCodeAt(zu)?(s=Qt,zu++):(s=et,0===Qu&&l(bo)),s!==et?($u=a,a=["anyFunctionTest"]):(zu=a,a=et)):(zu=a,a=et)):(zu=a,a=et)):(zu=a,a=et),Zu[i]={i:zu,result:a},i=a}if(i===et)if(a=Zu[i=233*zu+184])zu=a.i,i=a.result;else{if(a=zu,e.substr(zu,8)===$t?(s=$t,zu+=8):(s=et,0===Qu&&l(mo)),s!==et)if(Ue(),40===e.charCodeAt(zu)?(s=Jt,zu++):(s=et,0===Qu&&l(vo)),s!==et){Ue(),s=zu;var u=ge();if(u!==et){var c=[],p=zu;if(44===e.charCodeAt(zu)){var h=Tt;zu++}else h=et,0===Qu&&l(Ya);for(h!==et?(Ue(),(h=ge())!==et?($u=p,p=h):(zu=p,p=et)):(zu=p,p=et);p!==et;)c.push(p),p=zu,44===e.charCodeAt(zu)?(h=Tt,zu++):(h=et,0===Qu&&l(Ya)),h!==et?(Ue(),(h=ge())!==et?($u=p,p=h):(zu=p,p=et)):(zu=p,p=et);$u=s,s=u.concat.apply(u,c)}else zu=s,s=et;s===et&&(s=null),Ue(),41===e.charCodeAt(zu)?(c=Qt,zu++):(c=et,0===Qu&&l(bo)),c!==et?(p=He())!==et?(e.substr(zu,2)===an?(h=an,zu+=2):(h=et,0===Qu&&l(No)),h!==et?(u=He())!==et?(h=ge())!==et?($u=a,a=["typedFunctionTest",["paramTypeList",["sequenceType"].concat(s)],["sequenceType"].concat(h)]):(zu=a,a=et):(zu=a,a=et):(zu=a,a=et)):(zu=a,a=et):(zu=a,a=et)}else zu=a,a=et;else zu=a,a=et;Zu[i]={i:zu,result:a},i=a}i!==et?($u=r,r=[i[0]].concat(o,i.slice(1))):(zu=r,r=et),Zu[t]={i:zu,result:r},t=r}t===et&&((r=Zu[t=233*zu+185])?(zu=r.i,t=r.result):((o=Zu[r=233*zu+186])?(zu=o.i,r=o.result):(o=zu,e.substr(zu,3)===ti?(i=ti,zu+=3):(i=et,0===Qu&&l(Cl)),i!==et?(Ue(),40===e.charCodeAt(zu)?(i=Jt,zu++):(i=et,0===Qu&&l(vo)),i!==et?(Ue(),42===e.charCodeAt(zu)?(i=Rn,zu++):(i=et,0===Qu&&l(ns)),i!==et?(Ue(),41===e.charCodeAt(zu)?(i=Qt,zu++):(i=et,0===Qu&&l(bo)),i!==et?($u=o,o=["anyMapTest"]):(zu=o,o=et)):(zu=o,o=et)):(zu=o,o=et)):(zu=o,o=et),Zu[r]={i:zu,result:o},r=o),r===et&&((o=Zu[r=233*zu+187])?(zu=o.i,r=o.result):(o=zu,e.substr(zu,3)===ti?(i=ti,zu+=3):(i=et,0===Qu&&l(Cl)),i!==et?(Ue(),40===e.charCodeAt(zu)?(i=Jt,zu++):(i=et,0===Qu&&l(vo)),i!==et?(Ue(),(i=ve())!==et?(Ue(),44===e.charCodeAt(zu)?(a=Tt,zu++):(a=et,0===Qu&&l(Ya)),a!==et?(Ue(),(a=ge())!==et?(Ue(),41===e.charCodeAt(zu)?(s=Qt,zu++):(s=et,0===Qu&&l(bo)),s!==et?($u=o,o=["typedMapTest",i,["sequenceType"].concat(a)]):(zu=o,o=et)):(zu=o,o=et)):(zu=o,o=et)):(zu=o,o=et)):(zu=o,o=et)):(zu=o,o=et),Zu[r]={i:zu,result:o},r=o)),Zu[t]={i:zu,result:r},t=r),t===et&&((r=Zu[t=233*zu+188])?(zu=r.i,t=r.result):((o=Zu[r=233*zu+189])?(zu=o.i,r=o.result):(o=zu,e.substr(zu,5)===ri?(i=ri,zu+=5):(i=et,0===Qu&&l(Tl)),i!==et?(Ue(),40===e.charCodeAt(zu)?(i=Jt,zu++):(i=et,0===Qu&&l(vo)),i!==et?(Ue(),42===e.charCodeAt(zu)?(i=Rn,zu++):(i=et,0===Qu&&l(ns)),i!==et?(Ue(),41===e.charCodeAt(zu)?(i=Qt,zu++):(i=et,0===Qu&&l(bo)),i!==et?($u=o,o=["anyArrayTest"]):(zu=o,o=et)):(zu=o,o=et)):(zu=o,o=et)):(zu=o,o=et),Zu[r]={i:zu,result:o},r=o),r===et&&((o=Zu[r=233*zu+190])?(zu=o.i,r=o.result):(o=zu,e.substr(zu,5)===ri?(i=ri,zu+=5):(i=et,0===Qu&&l(Tl)),i!==et?(Ue(),40===e.charCodeAt(zu)?(i=Jt,zu++):(i=et,0===Qu&&l(vo)),i!==et?(Ue(),(i=ge())!==et?(Ue(),41===e.charCodeAt(zu)?(a=Qt,zu++):(a=et,0===Qu&&l(bo)),a!==et?($u=o,o=["typedArrayTest",["sequenceType"].concat(i)]):(zu=o,o=et)):(zu=o,o=et)):(zu=o,o=et)):(zu=o,o=et),Zu[r]={i:zu,result:o},r=o)),Zu[t]={i:zu,result:r},t=r),t===et&&((t=ve())===et&&((r=Zu[t=233*zu+191])?(zu=r.i,t=r.result):(r=zu,40===e.charCodeAt(zu)?(o=Jt,zu++):(o=et,0===Qu&&l(vo)),o!==et?(Ue(),(o=ye())!==et?(Ue(),41===e.charCodeAt(zu)?(i=Qt,zu++):(i=et,0===Qu&&l(bo)),i!==et?($u=r,r=["parenthesizedItemType",o]):(zu=r,r=et)):(zu=r,r=et)):(zu=r,r=et),Zu[t]={i:zu,result:r},t=r)))))}}return Zu[n]={i:zu,result:t},t}function ve(){var e,t=233*zu+168;if(e=Zu[t])return zu=e.i,e.result;e=zu;var n=Ee();return n!==et&&($u=e,n=["atomicType"].concat(n)),e=n,Zu[t]={i:zu,result:e},e}function be(){var t,n,r=233*zu+169;if(t=Zu[r])return zu=t.i,t.result;if(n=Zu[t=233*zu+171])zu=n.i,t=n.result;else{if(n=zu,e.substr(zu,14)===si){var i=si;zu+=14}else i=et,0===Qu&&l(kl);if(i!==et){if(Ue(),(i=xe())===et&&(i=_e()),i===et&&(i=null),Ue(),41===e.charCodeAt(zu)){var a=Qt;zu++}else a=et,0===Qu&&l(bo);a!==et?($u=n,n=["documentTest"].concat(i?[i]:[])):(zu=n,n=et)}else zu=n,n=et;Zu[t]={i:zu,result:n},t=n}if(t===et&&(t=xe())===et){if(n=Zu[t=233*zu+176])zu=n.i,t=n.result;else{if(n=zu,e.substr(zu,10)===di?(i=di,zu+=10):(i=et,0===Qu&&l(Fl)),i!==et)if(Ue(),(i=we())!==et)if(Ue(),44===e.charCodeAt(zu)?(a=Tt,zu++):(a=et,0===Qu&&l(Ya)),a!==et)if(Ue(),(a=Ee())!==et){if(Ue(),41===e.charCodeAt(zu)){var o=Qt;zu++}else o=et,0===Qu&&l(bo);o!==et?($u=n,n=["attributeTest",["attributeName",i],["typeName"].concat(a)]):(zu=n,n=et)}else zu=n,n=et;else zu=n,n=et;else zu=n,n=et;else zu=n,n=et;n===et&&(n=zu,e.substr(zu,10)===di?(i=di,zu+=10):(i=et,0===Qu&&l(Fl)),i!==et?(Ue(),(i=we())!==et?(Ue(),41===e.charCodeAt(zu)?(a=Qt,zu++):(a=et,0===Qu&&l(bo)),a!==et?($u=n,n=["attributeTest",["attributeName",i]]):(zu=n,n=et)):(zu=n,n=et)):(zu=n,n=et),n===et&&(n=zu,e.substr(zu,11)===fi?(i=fi,zu+=11):(i=et,0===Qu&&l(Ul)),i!==et&&($u=n,i=["attributeTest"]),n=i)),Zu[t]={i:zu,result:n},t=n}t===et&&((t=_e())===et&&((n=Zu[t=233*zu+178])?(zu=n.i,t=n.result):(n=zu,e.substr(zu,17)===mi?(i=mi,zu+=17):(i=et,0===Qu&&l(Hl)),i!==et?(Ue(),(i=Ee())!==et?(Ue(),41===e.charCodeAt(zu)?(a=Qt,zu++):(a=et,0===Qu&&l(bo)),a!==et?($u=n,n=["schemaAttributeTest"].concat(i)):(zu=n,n=et)):(zu=n,n=et)):(zu=n,n=et),Zu[t]={i:zu,result:n},t=n),t===et&&((n=Zu[t=233*zu+175])?(zu=n.i,t=n.result):(n=zu,e.substr(zu,23)===pi?(i=pi,zu+=23):(i=et,0===Qu&&l(Rl)),i!==et?(Ue(),(i=Pe())!==et?(Ue(),41===e.charCodeAt(zu)?(a=Qt,zu++):(a=et,0===Qu&&l(bo)),a!==et?($u=n,n=["piTest",["piTarget",i]]):(zu=n,n=et)):(zu=n,n=et)):(zu=n,n=et),n===et&&(n=zu,e.substr(zu,23)===pi?(i=pi,zu+=23):(i=et,0===Qu&&l(Rl)),i!==et?(Ue(),(i=Ne())!==et?(Ue(),41===e.charCodeAt(zu)?(a=Qt,zu++):(a=et,0===Qu&&l(bo)),a!==et?($u=n,n=["piTest",["piTarget",i]]):(zu=n,n=et)):(zu=n,n=et)):(zu=n,n=et),n===et&&(n=zu,e.substr(zu,24)===hi?(i=hi,zu+=24):(i=et,0===Qu&&l(Ml)),i!==et&&($u=n,i=["piTest"]),n=i)),Zu[t]={i:zu,result:n},t=n),t===et&&((n=Zu[t=233*zu+173])?(zu=n.i,t=n.result):(n=zu,e.substr(zu,9)===ui?(i=ui,zu+=9):(i=et,0===Qu&&l(Pl)),i!==et&&($u=n,i=["commentTest"]),n=i,Zu[t]={i:zu,result:n},t=n),t===et&&((n=Zu[t=233*zu+172])?(zu=n.i,t=n.result):(n=zu,e.substr(zu,6)===li?(i=li,zu+=6):(i=et,0===Qu&&l(Ol)),i!==et&&($u=n,i=["textTest"]),n=i,Zu[t]={i:zu,result:n},t=n),t===et&&((n=Zu[t=233*zu+174])?(zu=n.i,t=n.result):(n=zu,e.substr(zu,16)===ci?(i=ci,zu+=16):(i=et,0===Qu&&l(Dl)),i!==et&&($u=n,i=["namespaceTest"]),n=i,Zu[t]={i:zu,result:n},t=n),t===et&&((n=Zu[t=233*zu+170])?(zu=n.i,t=n.result):(n=zu,e.substr(zu,6)===oi?(i=oi,zu+=6):(i=et,0===Qu&&l(Il)),i!==et&&($u=n,i=["anyKindTest"]),n=i,Zu[t]={i:zu,result:n},t=n))))))))}return Zu[r]={i:zu,result:t},t}function we(){var t,n=233*zu+177;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=Ee();return r!==et&&($u=t,r=["QName"].concat(r)),(t=r)===et&&(t=zu,42===e.charCodeAt(zu)?(r=Rn,zu++):(r=et,0===Qu&&l(ns)),r!==et&&($u=t,r=["star"]),t=r),Zu[n]={i:zu,result:t},t}function xe(){var t,n=233*zu+179;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,7)===zt){var r=zt;zu+=7}else r=et,0===Qu&&l(fo);if(r!==et)if(Ue(),40===e.charCodeAt(zu)?(r=Jt,zu++):(r=et,0===Qu&&l(vo)),r!==et)if(Ue(),(r=Ae())!==et){if(Ue(),44===e.charCodeAt(zu)){var i=Tt;zu++}else i=et,0===Qu&&l(Ya);if(i!==et)if(Ue(),(i=Ee())!==et){if(Ue(),41===e.charCodeAt(zu)){var a=Qt;zu++}else a=et,0===Qu&&l(bo);a!==et?($u=t,t=["elementTest",["elementName",r],["typeName"].concat(i)]):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et}else zu=t,t=et;else zu=t,t=et;else zu=t,t=et;return t===et&&(t=zu,e.substr(zu,7)===zt?(r=zt,zu+=7):(r=et,0===Qu&&l(fo)),r!==et?(Ue(),40===e.charCodeAt(zu)?(r=Jt,zu++):(r=et,0===Qu&&l(vo)),r!==et?(Ue(),(r=Ae())!==et?(Ue(),41===e.charCodeAt(zu)?(i=Qt,zu++):(i=et,0===Qu&&l(bo)),i!==et?($u=t,t=["elementTest",["elementName",r]]):(zu=t,t=et)):(zu=t,t=et)):(zu=t,t=et)):(zu=t,t=et),t===et&&(t=zu,e.substr(zu,7)===zt?(r=zt,zu+=7):(r=et,0===Qu&&l(fo)),r!==et?(Ue(),40===e.charCodeAt(zu)?(r=Jt,zu++):(r=et,0===Qu&&l(vo)),r!==et?(Ue(),41===e.charCodeAt(zu)?(r=Qt,zu++):(r=et,0===Qu&&l(bo)),r!==et?($u=t,t=["elementTest"]):(zu=t,t=et)):(zu=t,t=et)):(zu=t,t=et))),Zu[n]={i:zu,result:t},t}function Ae(){var t,n=233*zu+180;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=Ee();return r!==et&&($u=t,r=["QName"].concat(r)),(t=r)===et&&(t=zu,42===e.charCodeAt(zu)?(r=Rn,zu++):(r=et,0===Qu&&l(ns)),r!==et&&($u=t,r=["star"]),t=r),Zu[n]={i:zu,result:t},t}function _e(){var t,n=233*zu+181;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,14)===gi){var r=gi;zu+=14}else r=et,0===Qu&&l(Gl);if(r!==et)if(Ue(),40===e.charCodeAt(zu)?(r=Jt,zu++):(r=et,0===Qu&&l(vo)),r!==et)if((r=Ee())!==et){if(41===e.charCodeAt(zu)){var i=Qt;zu++}else i=et,0===Qu&&l(bo);i!==et?($u=t,t=["schemaElementTest"].concat(r)):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function Ee(){var e,t,n=233*zu+192;if(e=Zu[n])return zu=e.i,e.result;e=zu;var r=233*zu+197;if(t=Zu[r])zu=t.i,r=t.result;else{t=zu;var i=Te();if(i!==et){var a=Pe();a!==et?($u=t,t=[i,a]):(zu=t,t=et)}else zu=t,t=et;Zu[r]={i:zu,result:t},r=t}return r!==et&&($u=e,e=r,r=[((r={}).prefix=null,r.URI=e[0],r),e[1]]),(e=r)===et&&(e=Oe()),Zu[n]={i:zu,result:e},e}function Ce(){var e,t=233*zu+193;if(e=Zu[t])return zu=e.i,e.result;e=zu;var n=Re();return n!==et&&($u=e,n=["integerConstantExpr",["value",n]]),e=n,Zu[t]={i:zu,result:e},e}function Ne(){var t,r,i=233*zu+196;if(t=Zu[i])return zu=t.i,t.result;if($u=t=zu,(r=(r=n.Ra)?void 0:et)!==et)if(34===e.charCodeAt(zu)?(r=Gr,zu++):(r=et,0===Qu&&l(cl)),r!==et){r=[];var a=Be();for(a===et&&((a=ke())===et&&((a=Se())===et&&(ca.test(e.charAt(zu))?(a=e.charAt(zu),zu++):(a=et,0===Qu&&l(ql)))));a!==et;)r.push(a),(a=Be())===et&&((a=ke())===et&&((a=Se())===et&&(ca.test(e.charAt(zu))?(a=e.charAt(zu),zu++):(a=et,0===Qu&&l(ql)))));34===e.charCodeAt(zu)?(a=Gr,zu++):(a=et,0===Qu&&l(cl)),a!==et?($u=t,t=r.join("")):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;if(t===et){if($u=t=zu,(r=(r=n.Ra)?void 0:et)!==et)if(39===e.charCodeAt(zu)?(r=Lr,zu++):(r=et,0===Qu&&l(pl)),r!==et){for(r=[],(a=Be())===et&&((a=ke())===et&&((a=Ie())===et&&(pa.test(e.charAt(zu))?(a=e.charAt(zu),zu++):(a=et,0===Qu&&l(Vl)))));a!==et;)r.push(a),(a=Be())===et&&((a=ke())===et&&((a=Ie())===et&&(pa.test(e.charAt(zu))?(a=e.charAt(zu),zu++):(a=et,0===Qu&&l(Vl)))));39===e.charCodeAt(zu)?(a=Lr,zu++):(a=et,0===Qu&&l(pl)),a!==et?($u=t,t=r.join("")):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;if(t===et){if($u=t=zu,(r=(r=!n.Ra)?void 0:et)!==et)if(34===e.charCodeAt(zu)?(r=Gr,zu++):(r=et,0===Qu&&l(cl)),r!==et){for(r=[],(a=Se())===et&&(ha.test(e.charAt(zu))?(a=e.charAt(zu),zu++):(a=et,0===Qu&&l(zl)));a!==et;)r.push(a),(a=Se())===et&&(ha.test(e.charAt(zu))?(a=e.charAt(zu),zu++):(a=et,0===Qu&&l(zl)));34===e.charCodeAt(zu)?(a=Gr,zu++):(a=et,0===Qu&&l(cl)),a!==et?($u=t,t=r.join("")):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;if(t===et)if($u=t=zu,(r=(r=!n.Ra)?void 0:et)!==et)if(39===e.charCodeAt(zu)?(r=Lr,zu++):(r=et,0===Qu&&l(pl)),r!==et){for(r=[],(a=Ie())===et&&(da.test(e.charAt(zu))?(a=e.charAt(zu),zu++):(a=et,0===Qu&&l($l)));a!==et;)r.push(a),(a=Ie())===et&&(da.test(e.charAt(zu))?(a=e.charAt(zu),zu++):(a=et,0===Qu&&l($l)));39===e.charCodeAt(zu)?(a=Lr,zu++):(a=et,0===Qu&&l(pl)),a!==et?($u=t,t=r.join("")):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et}}return Zu[i]={i:zu,result:t},t}function Te(){var t,n=233*zu+198;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,81===e.charCodeAt(zu)){var r=yi;zu++}else r=et,0===Qu&&l(Yl);if(r!==et)if(Ue(),123===e.charCodeAt(zu)?(r=on,zu++):(r=et,0===Qu&&l(To)),r!==et){if(r=[],fa.test(e.charAt(zu))){var i=e.charAt(zu);zu++}else i=et,0===Qu&&l(Kl);for(;i!==et;)r.push(i),fa.test(e.charAt(zu))?(i=e.charAt(zu),zu++):(i=et,0===Qu&&l(Kl));125===e.charCodeAt(zu)?(i=sn,zu++):(i=et,0===Qu&&l(Bo)),i!==et?($u=t,t=r.join("").replace(/\s+/g," ").trim()):(zu=t,t=et)}else zu=t,t=et;else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function Be(){var t,n=233*zu+199;if(t=Zu[n])return zu=t.i,t.result;var r=t=zu;if(38===e.charCodeAt(zu)){var i=vi;zu++}else i=et,0===Qu&&l(Jl);if(i!==et){if(e.substr(zu,2)===tr){var a=tr;zu+=2}else a=et,0===Qu&&l(As);if(a===et&&(e.substr(zu,2)===rr?(a=rr,zu+=2):(a=et,0===Qu&&l(Es)),a===et&&(e.substr(zu,3)===bi?(a=bi,zu+=3):(a=et,0===Qu&&l(Ql)),a===et&&(e.substr(zu,4)===wi?(a=wi,zu+=4):(a=et,0===Qu&&l(Zl)),a===et&&(e.substr(zu,4)===xi?(a=xi,zu+=4):(a=et,0===Qu&&l(Wl)))))),a!==et){if(59===e.charCodeAt(zu)){var o=ct;zu++}else o=et,0===Qu&&l(ka);o!==et?r=i=[i,a,o]:(zu=r,r=et)}else zu=r,r=et}else zu=r,r=et;return t=r!==et?e.substring(t,zu):r,Zu[n]={i:zu,result:t},t}function Se(){var t,n=233*zu+200;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,2)===Ai){var r=Ai;zu+=2}else r=et,0===Qu&&l(eu);return r!==et&&($u=t,r='"'),t=r,Zu[n]={i:zu,result:t},t}function Ie(){var t,n=233*zu+201;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,e.substr(zu,2)===_i){var r=_i;zu+=2}else r=et,0===Qu&&l(tu);return r!==et&&($u=t,r="'"),t=r,Zu[n]={i:zu,result:t},t}function ke(){var t,n=233*zu+207;if(t=Zu[n])return zu=t.i,t.result;var r=t=zu;if(e.substr(zu,3)===Oi){var i=Oi;zu+=3}else i=et,0===Qu&&l(du);if(i!==et){var a=[];if(va.test(e.charAt(zu))){var o=e.charAt(zu);zu++}else o=et,0===Qu&&l(fu);if(o!==et)for(;o!==et;)a.push(o),va.test(e.charAt(zu))?(o=e.charAt(zu),zu++):(o=et,0===Qu&&l(fu));else a=et;a!==et?(59===e.charCodeAt(zu)?(o=ct,zu++):(o=et,0===Qu&&l(ka)),o!==et?r=i=[i,a,o]:(zu=r,r=et)):(zu=r,r=et)}else zu=r,r=et;if((t=r!==et?e.substring(t,zu):r)===et){if(r=t=zu,e.substr(zu,2)===Pi?(i=Pi,zu+=2):(i=et,0===Qu&&l(mu)),i!==et){if(a=[],sa.test(e.charAt(zu))?(o=e.charAt(zu),zu++):(o=et,0===Qu&&l(Ll)),o!==et)for(;o!==et;)a.push(o),sa.test(e.charAt(zu))?(o=e.charAt(zu),zu++):(o=et,0===Qu&&l(Ll));else a=et;a!==et?(59===e.charCodeAt(zu)?(o=ct,zu++):(o=et,0===Qu&&l(ka)),o!==et?r=i=[i,a,o]:(zu=r,r=et)):(zu=r,r=et)}else zu=r,r=et;t=r!==et?e.substring(t,zu):r}return Zu[n]={i:zu,result:t},t}function Oe(){var t,n,r=233*zu+208;if(t=Zu[r])return zu=t.i,t.result;if(n=Zu[t=233*zu+224])zu=n.i,t=n.result;else{var i=zu;if((n=Pe())!==et){if(58===e.charCodeAt(zu)){var a=ni;zu++}else a=et,0===Qu&&l(Nl);a!==et?(a=Pe())!==et?($u=i,i=[((i={}).prefix=n,i),a]):(zu=i,i=et):(zu=i,i=et)}else zu=i,i=et;Zu[t]={i:zu,result:i},t=i}return t===et&&((n=Zu[t=233*zu+225])?(zu=n.i,t=n.result):(n=zu,(i=Pe())!==et&&($u=n,i=[i]),n=i,Zu[t]={i:zu,result:n},t=n)),Zu[r]={i:zu,result:t},t}function Pe(){var e,t,n=233*zu+209;if(e=Zu[n])return zu=e.i,e.result;e=zu;var r=je();if(r!==et){var i=[];for(t=Xe();t!==et;)i.push(t),t=Xe();$u=e,e=r+i.join("")}else zu=e,e=et;return Zu[n]={i:zu,result:e},e}function De(){var t,n=233*zu+210;if(t=Zu[n])return zu=t.i,t.result;if(ba.test(e.charAt(zu))?(t=e.charAt(zu),zu++):(t=et,0===Qu&&l(gu)),t===et){if(t=zu,wa.test(e.charAt(zu))){var r=e.charAt(zu);zu++}else r=et,0===Qu&&l(yu);if(r!==et){if(xa.test(e.charAt(zu))){var i=e.charAt(zu);zu++}else i=et,0===Qu&&l(vu);i!==et?t=r=[r,i]:(zu=t,t=et)}else zu=t,t=et}return Zu[n]={i:zu,result:t},t}function Re(){var t,n=233*zu+211;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=[];if(sa.test(e.charAt(zu))){var i=e.charAt(zu);zu++}else i=et,0===Qu&&l(Ll);if(i!==et)for(;i!==et;)r.push(i),sa.test(e.charAt(zu))?(i=e.charAt(zu),zu++):(i=et,0===Qu&&l(Ll));else r=et;return r!==et&&($u=t,r=r.join("")),t=r,Zu[n]={i:zu,result:t},t}function Me(){var t,n=233*zu+212;if(t=Zu[n])return zu=t.i,t.result;var r=t=zu;if(Qu++,e.substr(zu,2)===Ei){var i=Ei;zu+=2}else i=et,0===Qu&&l(au);if(Qu--,i===et?r=void 0:(zu=r,r=et),r!==et){if(i=zu,Qu++,e.substr(zu,2)===Ci){var a=Ci;zu+=2}else a=et,0===Qu&&l(ou);Qu--,a===et?i=void 0:(zu=i,i=et),i!==et?(a=De())!==et?t=r=[r,i,a]:(zu=t,t=et):(zu=t,t=et)}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function Fe(){var t,n=233*zu+219;if(t=Zu[n])return zu=t.i,t.result;t=zu;var r=ie();if(r!==et){if(Ue(),e.substr(zu,2)===en){var i=en;zu+=2}else i=et,0===Qu&&l(Ao);i!==et?(Ue(),(i=T())!==et?($u=t,t=["transformCopy",r,["copySource",i]]):(zu=t,t=et)):(zu=t,t=et)}else zu=t,t=et;return Zu[n]={i:zu,result:t},t}function Ue(){var e,t,n=233*zu+220;if(e=Zu[n])return zu=e.i,e.result;for(e=[],t=Le();t!==et;)e.push(t),t=Le();return Zu[n]={i:zu,result:e},e}function He(){var e,t=233*zu+221;if(e=Zu[t])return zu=e.i,e.result;e=[];var n=Le();if(n!==et)for(;n!==et;)e.push(n),n=Le();else e=et;return Zu[t]={i:zu,result:e},e}function Ge(){var t,n=233*zu+222;if(t=Zu[n])return zu=t.i,t.result;if(t=[],32===e.charCodeAt(zu)){var r=Ki;zu++}else r=et,0===Qu&&l(Du);if(r===et&&(9===e.charCodeAt(zu)?(r=Ji,zu++):(r=et,0===Qu&&l(Ru)),r===et&&(13===e.charCodeAt(zu)?(r=Qi,zu++):(r=et,0===Qu&&l(Mu)),r===et&&(10===e.charCodeAt(zu)?(r=Zi,zu++):(r=et,0===Qu&&l(Fu))))),r!==et)for(;r!==et;)t.push(r),32===e.charCodeAt(zu)?(r=Ki,zu++):(r=et,0===Qu&&l(Du)),r===et&&(9===e.charCodeAt(zu)?(r=Ji,zu++):(r=et,0===Qu&&l(Ru)),r===et&&(13===e.charCodeAt(zu)?(r=Qi,zu++):(r=et,0===Qu&&l(Mu)),r===et&&(10===e.charCodeAt(zu)?(r=Zi,zu++):(r=et,0===Qu&&l(Fu)))));else t=et;return Zu[n]={i:zu,result:t},t}function Le(){var t,n=233*zu+223;return(t=Zu[n])?(zu=t.i,t.result):(32===e.charCodeAt(zu)?(t=Ki,zu++):(t=et,0===Qu&&l(Du)),t===et&&(9===e.charCodeAt(zu)?(t=Ji,zu++):(t=et,0===Qu&&l(Ru)),t===et&&(13===e.charCodeAt(zu)?(t=Qi,zu++):(t=et,0===Qu&&l(Mu)),t===et&&(10===e.charCodeAt(zu)?(t=Zi,zu++):(t=et,0===Qu&&l(Fu)),t===et&&(t=function t(){var n,r=233*zu+205;if(n=Zu[r])return zu=n.i,n.result;if(n=zu,e.substr(zu,2)===Ei){var i=Ei;zu+=2}else i=et,0===Qu&&l(au);if(i!==et){var a=[],o=Me();for(o===et&&(o=t());o!==et;)a.push(o),(o=Me())===et&&(o=t());e.substr(zu,2)===Ci?(o=Ci,zu+=2):(o=et,0===Qu&&l(ou)),o!==et?n=i=[i,a,o]:(zu=n,n=et)}else zu=n,n=et;return Zu[r]={i:zu,result:n},n}())))),Zu[n]={i:zu,result:t},t)}function je(){var t,n=233*zu+226;if(t=Zu[n])return zu=t.i,t.result;if(Aa.test(e.charAt(zu))?(t=e.charAt(zu),zu++):(t=et,0===Qu&&l(Uu)),t===et){if(t=zu,_a.test(e.charAt(zu))){var r=e.charAt(zu);zu++}else r=et,0===Qu&&l(Hu);if(r!==et){if(xa.test(e.charAt(zu))){var i=e.charAt(zu);zu++}else i=et,0===Qu&&l(vu);i!==et?t=r=[r,i]:(zu=t,t=et)}else zu=t,t=et}return Zu[n]={i:zu,result:t},t}function Xe(){var t,n=233*zu+227;return(t=Zu[n])?(zu=t.i,t.result):((t=je())===et&&(Ea.test(e.charAt(zu))?(t=e.charAt(zu),zu++):(t=et,0===Qu&&l(Gu))),Zu[n]={i:zu,result:t},t)}function qe(){var t,n=233*zu+228;return(t=Zu[n])?(zu=t.i,t.result):((t=Xe())===et&&(58===e.charCodeAt(zu)?(t=ni,zu++):(t=et,0===Qu&&l(Nl))),Zu[n]={i:zu,result:t},t)}function Ve(){var t,n=233*zu+231;return(t=Zu[n])?(zu=t.i,t.result):(e.substr(zu,5)===ri?(t=ri,zu+=5):(t=et,0===Qu&&l(Tl)),t===et&&(e.substr(zu,9)===wr?(t=wr,zu+=9):(t=et,0===Qu&&l(Xs)),t===et&&(e.substr(zu,7)===Zr?(t=Zr,zu+=7):(t=et,0===Qu&&l(Al)),t===et&&(e.substr(zu,13)===Wi?(t=Wi,zu+=13):(t=et,0===Qu&&l(Lu)),t===et&&(e.substr(zu,7)===zt?(t=zt,zu+=7):(t=et,0===Qu&&l(fo)),t===et&&(e.substr(zu,14)===ea?(t=ea,zu+=14):(t=et,0===Qu&&l(ju)),t===et&&(e.substr(zu,8)===$t?(t=$t,zu+=8):(t=et,0===Qu&&l(mo)),t===et&&(e.substr(zu,2)===Nn?(t=Nn,zu+=2):(t=et,0===Qu&&l($o)),t===et&&(e.substr(zu,4)===rn?(t=rn,zu+=4):(t=et,0===Qu&&l(Co)),t===et&&(e.substr(zu,3)===ti?(t=ti,zu+=3):(t=et,0===Qu&&l(Cl)),t===et&&(e.substr(zu,14)===ta?(t=ta,zu+=14):(t=et,0===Qu&&l(Xu)),t===et&&(e.substr(zu,4)===Li?(t=Li,zu+=4):(t=et,0===Qu&&l(Nu)),t===et&&(e.substr(zu,22)===Wr?(t=Wr,zu+=22):(t=et,0===Qu&&l(_l)),t===et&&(e.substr(zu,16)===na?(t=na,zu+=16):(t=et,0===Qu&&l(qu)),t===et&&(e.substr(zu,14)===gi?(t=gi,zu+=14):(t=et,0===Qu&&l(Gl)),t===et&&(e.substr(zu,6)===ra?(t=ra,zu+=6):(t=et,0===Qu&&l(Vu)),t===et&&(e.substr(zu,4)===Qr?(t=Qr,zu+=4):(t=et,0===Qu&&l(xl)),t===et&&(e.substr(zu,10)===_n?(t=_n,zu+=10):(t=et,0===Qu&&l(qo))))))))))))))))))),Zu[n]={i:zu,result:t},t)}function ze(){var t,n=233*zu+232;if(t=Zu[n])return zu=t.i,t.result;if(t=zu,Qu++,40===e.charCodeAt(zu)){var r=Jt;zu++}else r=et,0===Qu&&l(vo);return r===et&&(34===e.charCodeAt(zu)?(r=Gr,zu++):(r=et,0===Qu&&l(cl)),r===et&&(39===e.charCodeAt(zu)?(r=Lr,zu++):(r=et,0===Qu&&l(pl)),r===et&&(r=Le()))),Qu--,r!==et?(zu=t,t=void 0):t=et,Zu[n]={i:zu,result:t},t}function $e(e,t,n){return n.reduce((function(t,n){return[e,["firstOperand",t],["secondOperand",n]]}),t)}function Ye(e){1<=e&&55295>=e||57344<=e&&65533>=e||65536<=e&&1114111>=e||Ze("XQST0090","The character reference "+e+" ("+e.toString(16)+") does not reference a valid codePoint.")}function Ke(e){return n.Ra?e.replace(/(&[^;]+);/g,(function(e){if(/^&#x/.test(e))return Ye(e=parseInt(e.slice(3,-1),16)),String.fromCodePoint(e);if(/^&#/.test(e))return Ye(e=parseInt(e.slice(2,-1),10)),String.fromCodePoint(e);switch(e){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&quot;":return String.fromCharCode(34);case"&apos;":return String.fromCharCode(39)}Ze("XPST0003",'Unknown character reference: "'+e+'"')})):e}function Je(e,t,n){if(!e.length)return[];for(var r=[e[0]],i=1;i<e.length;++i)"string"==typeof r[r.length-1]&&"string"==typeof e[i]?r[r.length-1]+=e[i]:r.push(e[i]);if("string"==typeof r[0]&&0===r.length)return[];if(!(r=r.reduce((function(e,t,i){if("string"!=typeof t)e.push(t);else if(n&&/^\s*$/.test(t)){var a=r[i+1];(a&&"CDataSection"===a[0]||(i=r[i-1])&&"CDataSection"===i[0])&&e.push(Ke(t))}else e.push(Ke(t));return e}),[])).length)return r;if(1<r.length||t)for(i=0;i<r.length;i++)"string"==typeof r[i]&&(r[i]=["stringConstantExpr",["value",r[i]]]);return r}function Qe(e){switch(e[0]){case"constantExpr":case"varRef":case"contextItemExpr":case"functionCallExpr":case"sequenceExpr":case"elementConstructor":case"computedElementConstructor":case"computedAttributeConstructor":case"computedDocumentConstructor":case"computedTextConstructor":case"computedCommentConstructor":case"computedNamespaceConstructor":case"computedPIConstructor":case"orderedExpr":case"unorderedExpr":case"namedFunctionRef":case"inlineFunctionExpr":case"dynamicFunctionInvocationExpr":case"mapConstructor":case"arrayConstructor":case"stringConstructor":case"unaryLookup":return e}return["sequenceExpr",e]}function Ze(e,t){throw Error(e+": "+t)}function We(e){return n.qc?["x:stackTrace",s($u,zu),e]:e}var et={},tt=(n=void 0!==n?n:{}).yc,nt={Module:u},rt=u,it="xquery",at="encoding",ot="version",st="module",lt="namespace",ut="=",ct=";",pt="declare",ht="boundary-space",dt="preserve",ft="strip",mt="default",gt="collation",yt="base-uri",vt="construction",bt="ordering",wt="ordered",xt="unordered",At="order",_t="empty",Et="greatest",Ct="least",Nt="copy-namespaces",Tt=",",Bt="no-preserve",St="inherit",It="no-inherit",kt="decimal-format",Ot="decimal-separator",Pt="grouping-separator",Dt="infinity",Rt="minus-sign",Mt="NaN",Ft="percent",Ut="per-mille",Ht="zero-digit",Gt="digit",Lt="pattern-separator",jt="exponent-separator",Xt="import",qt="schema",Vt="at",zt="element",$t="function",Yt="updating",Kt="%",Jt="(",Qt=")",Zt="variable",Wt="$",en=":=",tn="external",nn="context",rn="item",an="as",on="{",sn="}",ln="option",un="for",cn="in",pn="allowing",hn="let",dn="where",fn="group",mn="by",gn="stable",yn="ascending",vn="descending",bn="return",wn="some",xn="every",An="satisfies",_n="typeswitch",En="case",Cn="|",Nn="if",Tn="then",Bn="else",Sn="or",In="and",kn="||",On="to",Pn="-",Dn="+",Rn="*",Mn="div",Fn="idiv",Un="mod",Hn="union",Gn="intersect",Ln="except",jn="instance",Xn="of",qn="treat",Vn="castable",zn="cast",$n="=>",Yn="!=",Kn="<=",Jn="<",Qn=">=",Zn=">",Wn="eq",er="ne",tr="lt",nr="le",rr="gt",ir="ge",ar="is",or="<<",sr=">>",lr="validate",ur="type",cr="lax",pr="strict",hr="(#",dr="#)",fr="!",mr="/",gr="//",yr="child",vr="::",br="descendant",wr="attribute",xr="self",Ar="descendant-or-self",_r="following-sibling",Er="following",Cr="@",Nr="parent",Tr="ancestor",Br="preceding-sibling",Sr="preceding",Ir="ancestor-or-self",kr="..",Or="*:",Pr=":*",Dr="[",Rr="]",Mr="?",Fr=".",Ur="/>",Hr="</",Gr='"',Lr="'",jr="{{",Xr="}}",qr="\x3c!--",Vr="--\x3e",zr="<?",$r="?>",Yr="<![CDATA[",Kr="]]>",Jr="document",Qr="text",Zr="comment",Wr="processing-instruction",ei="#",ti="map",ni=":",ri="array",ii="empty-sequence()",ai="item()",oi="node()",si="document-node(",li="text()",ui="comment()",ci="namespace-node()",pi="processing-instruction(",hi="processing-instruction()",di="attribute(",fi="attribute()",mi="schema-attribute(",gi="schema-element",yi="Q",vi="&",bi="amp",wi="quot",xi="apos",Ai='""',_i="''",Ei="(:",Ci=":)",Ni="X",Ti="x",Bi="M",Si="m",Ii="L",ki="l",Oi="&#x",Pi="&#",Di="first",Ri="last",Mi="into",Fi="after",Ui="before",Hi="insert",Gi="nodes",Li="node",ji="delete",Xi="replace",qi="value",Vi="with",zi="rename",$i="copy",Yi="modify",Ki=" ",Ji="\t",Qi="\r",Zi="\n",Wi="document-node",ea="empty-sequence",ta="namespace-node",na="schema-attribute",ra="switch",ia=/^[*<a-zA-Z]/,aa=/^[*a-zA-Z]/,oa=/^[a-zA-Z]/,sa=/^[0-9]/,la=/^[eE]/,ua=/^[+\-]/,ca=/^[^"&]/,pa=/^[^'&]/,ha=/^[^"]/,da=/^[^']/,fa=/^[^{}]/,ma=/^[{}<&]/,ga=/^["{}<&]/,ya=/^['{}<&]/,va=/^[0-9a-fA-F]/,ba=/^[\t\n\r -\uD7FF\uE000\uFFFD]/,wa=/^[\uD800-\uDBFF]/,xa=/^[\uDC00-\uDFFF]/,Aa=/^[A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_a=/^[\uD800-\uDB7F]/,Ea=/^[\-.0-9\xB7\u0300-\u036F\u203F\u2040]/,Ca=i("xquery",!1),Na=i("encoding",!1),Ta=i("version",!1),Ba=i("module",!1),Sa=i("namespace",!1),Ia=i("=",!1),ka=i(";",!1),Oa=i("declare",!1),Pa=i("boundary-space",!1),Da=i("preserve",!1),Ra=i("strip",!1),Ma=i("default",!1),Fa=i("collation",!1),Ua=i("base-uri",!1),Ha=i("construction",!1),Ga=i("ordering",!1),La=i("ordered",!1),ja=i("unordered",!1),Xa=i("order",!1),qa=i("empty",!1),Va=i("greatest",!1),za=i("least",!1),$a=i("copy-namespaces",!1),Ya=i(",",!1),Ka=i("no-preserve",!1),Ja=i("inherit",!1),Qa=i("no-inherit",!1),Za=i("decimal-format",!1),Wa=i("decimal-separator",!1),eo=i("grouping-separator",!1),to=i("infinity",!1),no=i("minus-sign",!1),ro=i("NaN",!1),io=i("percent",!1),ao=i("per-mille",!1),oo=i("zero-digit",!1),so=i("digit",!1),lo=i("pattern-separator",!1),uo=i("exponent-separator",!1),co=i("import",!1),po=i("schema",!1),ho=i("at",!1),fo=i("element",!1),mo=i("function",!1),go=i("updating",!1),yo=i("%",!1),vo=i("(",!1),bo=i(")",!1),wo=i("variable",!1),xo=i("$",!1),Ao=i(":=",!1),_o=i("external",!1),Eo=i("context",!1),Co=i("item",!1),No=i("as",!1),To=i("{",!1),Bo=i("}",!1),So=i("option",!1),Io=i("for",!1),ko=i("in",!1),Oo=i("allowing",!1),Po=i("let",!1),Do=i("where",!1),Ro=i("group",!1),Mo=i("by",!1),Fo=i("stable",!1),Uo=i("ascending",!1),Ho=i("descending",!1),Go=i("return",!1),Lo=i("some",!1),jo=i("every",!1),Xo=i("satisfies",!1),qo=i("typeswitch",!1),Vo=i("case",!1),zo=i("|",!1),$o=i("if",!1),Yo=i("then",!1),Ko=i("else",!1),Jo=i("or",!1),Qo=i("and",!1),Zo=i("||",!1),Wo=i("to",!1),es=i("-",!1),ts=i("+",!1),ns=i("*",!1),rs=i("div",!1),is=i("idiv",!1),as=i("mod",!1),os=i("union",!1),ss=i("intersect",!1),ls=i("except",!1),us=i("instance",!1),cs=i("of",!1),ps=i("treat",!1),hs=i("castable",!1),ds=i("cast",!1),fs=i("=>",!1),ms=i("!=",!1),gs=i("<=",!1),ys=i("<",!1),vs=i(">=",!1),bs=i(">",!1),ws=i("eq",!1),xs=i("ne",!1),As=i("lt",!1),_s=i("le",!1),Es=i("gt",!1),Cs=i("ge",!1),Ns=i("is",!1),Ts=i("<<",!1),Bs=i(">>",!1),Ss=i("validate",!1),Is=i("type",!1),ks=i("lax",!1),Os=i("strict",!1),Ps=i("(#",!1),Ds=i("#)",!1),Rs=i("!",!1),Ms=i("/",!1),Fs=a(["*","<",["a","z"],["A","Z"]],!1,!1),Us=a(["*",["a","z"],["A","Z"]],!1,!1),Hs=i("//",!1),Gs=i("child",!1),Ls=i("::",!1),js=i("descendant",!1),Xs=i("attribute",!1),qs=i("self",!1),Vs=i("descendant-or-self",!1),zs=i("following-sibling",!1),$s=i("following",!1),Ys=i("@",!1),Ks=i("parent",!1),Js=i("ancestor",!1),Qs=i("preceding-sibling",!1),Zs=i("preceding",!1),Ws=i("ancestor-or-self",!1),el=i("..",!1),tl=i("*:",!1),nl=i(":*",!1),rl=i("[",!1),il=i("]",!1),al=i("?",!1),ol=a([["a","z"],["A","Z"]],!1,!1),sl=i(".",!1),ll=i("/>",!1),ul=i("</",!1),cl=i('"',!1),pl=i("'",!1),hl=i("{{",!1),dl=i("}}",!1),fl=i("\x3c!--",!1),ml=i("--\x3e",!1),gl=i("<?",!1),yl=i("?>",!1),vl=i("<![CDATA[",!1),bl=i("]]>",!1),wl=i("document",!1),xl=i("text",!1),Al=i("comment",!1),_l=i("processing-instruction",!1),El=i("#",!1),Cl=i("map",!1),Nl=i(":",!1),Tl=i("array",!1),Bl=i("empty-sequence()",!1),Sl=i("item()",!1),Il=i("node()",!1),kl=i("document-node(",!1),Ol=i("text()",!1),Pl=i("comment()",!1),Dl=i("namespace-node()",!1),Rl=i("processing-instruction(",!1),Ml=i("processing-instruction()",!1),Fl=i("attribute(",!1),Ul=i("attribute()",!1),Hl=i("schema-attribute(",!1),Gl=i("schema-element",!1),Ll=a([["0","9"]],!1,!1),jl=a(["e","E"],!1,!1),Xl=a(["+","-"],!1,!1),ql=a(['"',"&"],!0,!1),Vl=a(["'","&"],!0,!1),zl=a(['"'],!0,!1),$l=a(["'"],!0,!1),Yl=i("Q",!1),Kl=a(["{","}"],!0,!1),Jl=i("&",!1),Ql=i("amp",!1),Zl=i("quot",!1),Wl=i("apos",!1),eu=i('""',!1),tu=i("''",!1),nu=a(["{","}","<","&"],!1,!1),ru=a(['"',"{","}","<","&"],!1,!1),iu=a(["'","{","}","<","&"],!1,!1),au=i("(:",!1),ou=i(":)",!1),su=i("X",!1),lu=i("x",!1),uu=i("M",!1),cu=i("m",!1),pu=i("L",!1),hu=i("l",!1),du=i("&#x",!1),fu=a([["0","9"],["a","f"],["A","F"]],!1,!1),mu=i("&#",!1),gu=a(["\t","\n","\r",[" ","퟿"],"","�"],!1,!1),yu=a([["\ud800","\udbff"]],!1,!1),vu=a([["\udc00","\udfff"]],!1,!1),bu=i("first",!1),wu=i("last",!1),xu=i("into",!1),Au=i("after",!1),_u=i("before",!1),Eu=i("insert",!1),Cu=i("nodes",!1),Nu=i("node",!1),Tu=i("delete",!1),Bu=i("replace",!1),Su=i("value",!1),Iu=i("with",!1),ku=i("rename",!1),Ou=i("copy",!1),Pu=i("modify",!1),Du=i(" ",!1),Ru=i("\t",!1),Mu=i("\r",!1),Fu=i("\n",!1),Uu=a([["A","Z"],"_",["a","z"],["À","Ö"],["Ø","ö"],["ø","˿"],["Ͱ","ͽ"],["Ϳ","῿"],"‌","‍",["⁰","↏"],["Ⰰ","⿯"],["、","퟿"],["豈","﷏"],["ﷰ","�"]],!1,!1),Hu=a([["\ud800","\udb7f"]],!1,!1),Gu=a(["-",".",["0","9"],"·",["̀","ͯ"],"‿","⁀"],!1,!1),Lu=i("document-node",!1),ju=i("empty-sequence",!1),Xu=i("namespace-node",!1),qu=i("schema-attribute",!1),Vu=i("switch",!1),zu=0,$u=0,Yu=[{line:1,da:1}],Ku=0,Ju=[],Qu=0,Zu={};if("startRule"in n){if(!(n.Kb in nt))throw Error("Can't start parsing from rule \""+n.Kb+'".');rt=nt[n.Kb]}var Wu=rt();if(Wu!==et&&zu===e.length)return Wu;throw Wu!==et&&zu<e.length&&l({type:"end"}),function(e,n,r){return new t(t.ic(e,n),e,n,r)}(Ju,Ku<e.length?e.charAt(Ku):null,Ku<e.length?s(Ku,Ku+1):s(Ku,Ku))}}}(this)}).call(e)}(Bo);var So=Bo.tc,Io=So.parse,ko=So.SyntaxError,Oo=Object.create(null);function Po(e,t){var n=t.ca?"XQuery":"XPath",r=t.debug?null:Oo[n+"~"+e]||null;try{if(r)var i=r;else i=Io(e,{Ra:!!t.ca,qc:!!t.debug}),t.debug||(Oo[n+"~"+e]=i);return i}catch(t){if(t instanceof ko)throw Error('XPST0003: Unable to parse: "'+e+'".\n'+t.message+"\n"+e.slice(0,t.location.start.offset)+"[Error is around here]"+e.slice(t.location.start.offset));throw t}}function Do(e,t){return"Q{"+(e||"")+"}"+t}function Ro(e,t){for(var n=e.length-1;0<=n;--n)if(t in e[n])return e[n][t]}function Mo(e){this.B=e,this.C=this.h=0,this.o=[Object.create(null)],this.v=Object.create(null),this.J=null,this.Da=e.Da,this.Ca=e.Ca}function Fo(e){for(var t=new Mo(e.B),n=0;n<e.h+1;++n)t.o=[Object.assign(Object.create(null),t.o[0],e.o[n])],t.Ca=[Object.assign(Object.create(null),t.Ca[0],e.Ca[n])],t.v=Object.assign(Object.create(null),e.v),t.Da=e.Da,t.J=e.J;return t}function Uo(e){e.C++,e.h++,e.o[e.h]=Object.create(null),e.Ca[e.h]=Object.create(null)}function Ho(e,t,n,r,i){if(r=Do(t,n)+"~"+r,e.v[r])throw Error('XQST0049: The function or variable "Q{'+t+"}"+n+'" is declared more than once.');e.v[r]=i}function Go(e,t,n){return t=Do(t||"",n),e.Ca[e.h][t]=t+"["+e.C+"]"}function Lo(e,t,n,r){e.Da[Do(t||"",n)+"["+e.C+"]"]=r}function jo(e){e.o.length=e.h,e.Ca.length=e.h,e.h--}Mo.prototype.Aa=function(e,t,n,r){r=void 0!==r&&r;var i=this.v[Do(e,t)+"~"+n];return!i||r&&i.Cb?null===this.B?null:this.B.Aa(e,t,n,r):i},Mo.prototype.rb=function(e,t){var n=Ro(this.Ca,Do(e,t));return n||this.B.rb(e,t)},Mo.prototype.Qa=function(e,t){var n=e.prefix,r=e.localName;return!n&&this.J?{localName:r,namespaceURI:this.J}:n&&(n=this.ga(n,!1))?{localName:r,namespaceURI:n}:this.B.Qa(e,t)},Mo.prototype.ga=function(e,t){var n=Ro(this.o,e);return void 0===n?null===this.B?void 0:this.B.ga(e,void 0===t||t):n};var Xo=Object.create(null);function qo(e,t){var n=Xo[e];n||(n=Xo[e]={La:[],Va:[]}),n.La=n.La.concat(t.La),n.Va=n.Va.concat(t.Va)}function Vo(e,t){var n=Xo[t];if(!n)throw Error("XQST0051: No modules found with the namespace uri "+t);n.La.forEach((function(n){return Ho(e,t,n.localName,n.arity,n.Gb)})),n.Va.forEach((function(n){Go(e,t,n.localName),Lo(e,t,n.localName,(function(e,t){return er(n.ia,e,t)}))}))}var zo="http://www.w3.org/XML/1998/namespace http://www.w3.org/2001/XMLSchema http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2005/xpath-functions http://www.w3.org/2005/xpath-functions/math http://www.w3.org/2012/xquery http://www.w3.org/2005/xpath-functions/array http://www.w3.org/2005/xpath-functions/map".split(" ");function $o(e,t){var n=[],r=[];qr(e,"*").forEach((function(e){switch(e[0]){case"moduleImport":case"namespaceDecl":case"defaultNamespaceDecl":case"functionDecl":case"varDecl":break;default:throw Error("Not implemented: only module imports, namespace declarations, and function declarations are implemented in XQuery modules")}}));var i=new Set;qr(e,"moduleImport").forEach((function(e){var n=Lr(Gr(e,"namespacePrefix"));if(e=Lr(Gr(e,"targetNamespace")),i.has(e))throw Error('XQST0047: The namespace "'+e+'" is imported more than once.');i.add(e),t.o[t.h][n]=e,Vo(t,e)})),qr(e,"namespaceDecl").forEach((function(e){var n=Lr(Gr(e,"prefix"));if(e=Lr(Gr(e,"uri")),"xml"===n||"xmlns"===n)throw ha();if("http://www.w3.org/XML/1998/namespace"===e||"http://www.w3.org/2000/xmlns/"===e)throw ha();t.o[t.h][n]=e}));var a=qr(e,"defaultNamespaceDecl").filter((function(e){if("function"===(e=Lr(Gr(e,"defaultNamespaceCategory"))))return e;if("element"===e)throw Error("Not Implemented: default namespace element.")}));if(1===a.length){if(!(a=Lr(Gr(Gr(e,"defaultNamespaceDecl"),"uri"))))throw pa();if("http://www.w3.org/XML/1998/namespace"===a||"http://www.w3.org/2000/xmlns/"===a)throw ha();t.J=a}else if(1<a.length)throw Error("XQST0066: A Prolog may contain at most one default function namespace declaration.");qr(e,"functionDecl").forEach((function(e){var i=Gr(e,"functionName"),a=jr(i,"prefix"),o=jr(i,"URI"),s=Lr(i);if(null===o&&(!(o=null===a?t.J||"http://www.w3.org/2005/xpath-functions":t.ga(a))&&a))throw fa(a);if(zo.includes(o))throw ca();if(i=(a=qr(e,"annotation").map((function(e){return Gr(e,"annotationName")}))).every((function(e){return!jr(e,"URI")&&"private"!==Lr(e)})),a=a.some((function(e){return!jr(e,"URI")&&"updating"===Lr(e)})),!o)throw pa();var l,u=zr(e),p=qr(Gr(e,"paramList"),"param"),h=p.map((function(e){return Gr(e,"varName")})),d=p.map((function(e){return zr(e)}));if(e=Gr(e,"functionBody")){if(t.Aa(o,s,d.length))throw Error("XQST0049: The function Q{"+o+"}"+s+"#"+d.length+" has already been declared.");var f=To(e[1],{qa:!1,ca:!0}),m=new Mo(t),g=h.map((function(e){var n=jr(e,"URI"),r=jr(e,"prefix");return e=Lr(e),r&&null===n&&(n=t.ga(r||"")),Go(m,n,e)}));l=a?{l:d,arity:h.length,m:function(e,t,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];return a=At(xt(e,-1,null,se.empty()),g.reduce((function(e,t,n){return e[t]=le(i[n]),e}),Object.create(null))),f.o(a,t)},Cb:!1,I:!0,localName:s,namespaceURI:o,j:u}:{l:d,arity:h.length,m:function(e,t,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];return a=At(xt(e,-1,null,se.empty()),g.reduce((function(e,t,n){return e[t]=le(i[n]),e}),Object.create(null))),er(f,a,t)},Cb:!1,I:!1,localName:s,namespaceURI:o,j:u},n.push({ia:f,Lb:m}),i&&r.push({arity:h.length,ia:f,Gb:l,localName:s,namespaceURI:o})}else{if(a)throw Error("Updating external function declarations are not supported");l={l:d,arity:h.length,m:function(e,t,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];if(!(a=n.Aa(o,s,h.length,!0)))throw Error("XPST0017: Function Q{"+o+"}"+s+" with arity of "+h.length+" not registered. "+xi(s));if(a.j.type!==u.type||a.l.some((function(e,t){return e.type!==d[t].type})))throw Error("External function declaration types do not match actual function");return a.m.apply(a,[e,t,n].concat(c(i)))},Cb:!0,I:!1,localName:s,namespaceURI:o,j:u}}Ho(t,o,s,h.length,l)}));var o=[];return qr(e,"varDecl").forEach((function(e){var r=Vr(Gr(e,"varName")),i=r.namespaceURI;if(null===i&&(!(i=t.ga(r.prefix))&&r.prefix))throw fa(r.prefix);if(zo.includes(i))throw ca();var a,s,l=Gr(e,"external");if(e=Gr(e,"varValue"),null!==l?null!==(l=Gr(l,"varValue"))&&(a=Gr(l,"*")):null!==e&&(a=Gr(e,"*")),a&&(s=To(a,{qa:!1,ca:!0})),o.some((function(e){return e.namespaceURI===i&&e.localName===r.localName})))throw Error("XQST0049: The variable "+(i?"Q{"+i+"}":"")+r.localName+" has already been declared.");if(Go(t,i||"",r.localName),a&&!function(e,t,n){return(e=e.Da[Do(t,n)])?e:null}(t,i||"",r.localName)){var u=null;Lo(t,i,r.localName,(function(e,t){return u?u():(u=le(er(s,e,t)))()})),n.push({ia:s,Lb:t}),o.push({ia:s,localName:r.localName,namespaceURI:i})}})),n.forEach((function(e){e.ia.P(e.Lb)})),r.forEach((function(e){if(!e.Gb.I&&e.ia.I)throw jn("The function Q{"+e.namespaceURI+"}"+e.localName+" is updating but the %updating annotation is missing.")})),{La:r,Va:o}}function Yo(e,t,n){var r=Xr(e,["forClauseItem","typedVariableBinding","varName"])[1];(e=Xr(e,["forClauseItem","forExpr","sequenceExpr"]))&&((e=qr(e,"*").map((function(e){return n(e,t)}))).includes(void 0)||e.includes(null)||1===(e=Ko(e)).length&&ss(t,r,e[0]))}function Ko(e){return e.filter((function(e,t,n){return n.findIndex((function(t){return t.type===e.type&&t.g===e.g}))===t}))}function Jo(e,t,n){var r=qr(e,"*"),i=Gr(e,"atomicType");if(!i)return{type:59,g:2};if(fe(jr(i,"prefix")+":"+i[2])===t.type)if(1===r.length){if(3===t.g)return n}else if(e=Gr(e,"occurrenceIndicator")[1],t.g===function(e){switch(e){case"*":return 2;case"?":return 0;case"+":return 1;default:return 3}}(e))return n}function Qo(e,t){Zo(e,t)}function Zo(e,t){var n=as.get(e[0]);if(n)return n(e,t);for(n=1;n<e.length;n++)e[n]&&Zo(e[n],t)}function Wo(e,t){var n=Zo(Gr(e,"firstOperand")[1],t),r=Zo(Gr(e,"secondOperand")[1],t),i=e[0];if(n&&r){if(!(t=function(e,t,n){var r=[2,53,59,46,47];if(r.includes(t)||r.includes(n))return 2;var i=null,a=null;Z(t,19)&&(i=function(e){return Yt(e,3)},t=3),Z(n,19)&&(a=function(e){return Yt(e,3)},n=3);var o=Ii.filter((function(e){return Z(t,e)}));if(r=Ii.filter((function(e){return Z(n,e)})),o.includes(2)&&r.includes(2))return void 0===(r=Ni[Ei(2,2,e)])&&(r=Si(t,n)),"divOp"===e&&5===r&&(r=4),"idivOp"===e?Oi((function(e,t){return{W:i?i(e):e,X:a?a(t):t}}),(function(e,t){return Math.trunc(e/t)}))[1]:r;for(var s=(o=l(o)).next();!s.done;s=o.next()){s=s.value;for(var u=l(r),c=u.next();!c.done;c=u.next())if(void 0!==(c=Ni[Ei(s,c.value,e)]))return c}}(i,n.type,r.type)))throw Error("XPTY0004: "+i+" not available for types "+de(n)+" and "+de(r));n={type:t,g:n.g},2!==t&&59!==t&&$r(e,n),e=n}else e={type:2,g:3};return e}function es(e,t){Zo(Gr(e,"firstOperand")[1],t),Zo(Gr(e,"secondOperand")[1],t);e:{switch(e[0]){case"orOp":case"andOp":$r(e,t={type:0,g:3}),e=t;break e}e=void 0}return e}function ts(e,t){Zo(Gr(e,"firstOperand")[1],t),Zo(Gr(e,"secondOperand")[1],t);e:{switch(e[0]){case"unionOp":case"intersectOp":case"exceptOp":$r(e,t={type:53,g:2}),e=t;break e}e=void 0}return e}function ns(e,t){return Zo(Gr(e,"firstOperand")[1],t),Zo(Gr(e,"secondOperand")[1],t),$r(e,t={type:0,g:3}),t}function rs(e,t){return Zo(Gr(e,"firstOperand")[1],t),Zo(Gr(e,"secondOperand")[1],t),$r(e,t={type:0,g:3}),t}function is(e,t){return Zo(Gr(e,"firstOperand")[1],t),Zo(Gr(e,"secondOperand")[1],t),$r(e,t={type:0,g:3}),t}var as=new Map([["unaryMinusOp",function(e,t){return(t=Zo(Gr(e,"operand")[1],t))?Z(t.type,2)?($r(e,t={type:t.type,g:t.g}),e=t):($r(e,t={type:3,g:3}),e=t):($r(e,t={type:2,g:2}),e=t),e}],["unaryPlusOp",function(e,t){return(t=Zo(Gr(e,"operand")[1],t))?Z(t.type,2)?($r(e,t={type:t.type,g:t.g}),e=t):($r(e,t={type:3,g:3}),e=t):($r(e,t={type:2,g:2}),e=t),e}],["addOp",Wo],["subtractOp",Wo],["divOp",Wo],["idivOp",Wo],["modOp",Wo],["multiplyOp",Wo],["andOp",es],["orOp",es],["sequenceExpr",function(e,t){var n=qr(e,"*"),r=n.map((function(e){return Zo(e,t)}));return function(e,t,n){if(0===t)var r={type:53,g:2};else n.includes(void 0)||n.includes(null)?r={type:59,g:2}:r=1<(t=Ko(n)).length?{type:59,g:2}:{type:t[0].type,g:2};return r&&59!==r.type&&$r(e,r),r}(e,n.length,r)}],["unionOp",ts],["intersectOp",ts],["exceptOp",ts],["stringConcatenateOp",function(e,t){return Zo(Gr(e,"firstOperand")[1],t),Zo(Gr(e,"secondOperand")[1],t),$r(e,t={type:1,g:3}),t}],["rangeSequenceExpr",function(e,t){return Zo(Gr(e,"startExpr")[1],t),Zo(Gr(e,"endExpr")[1],t),$r(e,t={type:5,g:1}),t}],["equalOp",ns],["notEqualOp",ns],["lessThanOrEqualOp",ns],["lessThanOp",ns],["greaterThanOrEqualOp",ns],["greaterThanOp",ns],["eqOp",rs],["neOp",rs],["ltOp",rs],["leOp",rs],["gtOp",rs],["geOp",rs],["isOp",is],["nodeBeforeOp",is],["nodeAfterOp",is],["pathExpr",function(e,t){var n=Gr(e,"rootExpr");return n&&n[1]&&Zo(n[1],t),qr(e,"stepExpr").map((function(e){return Zo(e,t)})),function(e){var t=qr(e,"stepExpr");if(!t)return{type:59,g:2};for(var n=(t=l(t)).next();!n.done;n=t.next()){var r=n.value;if(n=void 0,r){for(var i=qr(r,"*"),a=(i=l(i)).next();!a.done;a=i.next())switch(a=a.value,a[0]){case"filterExpr":n=jr(Xr(a,["*"]),"type");break;case"xpathAxis":e:{switch(a[1]){case"attribute":n={type:47,g:2};break e;case"child":case"decendant":case"self":case"descendant-or-self":case"following-sibling":case"following":case"namespace":case"parent":case"ancestor":case"preceding-sibling":case"preceding":case"ancestor-or-self":n={type:53,g:2};break e}n=void 0}}n&&59!==n.type&&$r(r,n)}r=jr(r,"type")}return r&&59!==r.type&&$r(e,r),r}(e)}],["contextItemExpr",function(){return{type:59,g:2}}],["ifThenElseExpr",function(e,t){Zo(Gr(Gr(e,"ifClause"),"*"),t);var n=Zo(Gr(Gr(e,"thenClause"),"*"),t);return t=Zo(Gr(Gr(e,"elseClause"),"*"),t),n&&t&&n.type===t.type&&n.g===t.g?(59!==n.type&&$r(e,n),e=n):e={type:59,g:2},e}],["instanceOfExpr",function(e,t){return Zo(Gr(e,"argExpr"),t),Zo(Gr(e,"sequenceType"),t),$r(e,t={type:0,g:3}),t}],["integerConstantExpr",function(e){var t={type:5,g:3};return $r(e,t),t}],["doubleConstantExpr",function(e){var t={type:3,g:3};return $r(e,t),t}],["decimalConstantExpr",function(e){var t={type:4,g:3};return $r(e,t),t}],["stringConstantExpr",function(e){var t={type:1,g:3};return $r(e,t),t}],["functionCallExpr",function(e,t){return qr(Gr(e,"arguments"),"*").map((function(e){return Zo(e,t)})),function(e,t){if(!t||!t.ma)return{type:59,g:2};var n=Vr(Gr(e,"functionName")),r=n.localName,i=n.prefix;return n=qr(Gr(e,"arguments"),"*"),(r=t.ma.Qa({localName:r,prefix:i},n.length))&&(t=t.ma.Aa(r.namespaceURI,r.localName,n.length))?(59!==t.j.type&&$r(e,t.j),t.j):{type:59,g:2}}(e,t)}],["arrowExpr",function(e,t){return Zo(Gr(e,"argExpr")[1],t),function(e,t){if(!t||!t.ma)return{type:59,g:2};var n=Gr(e,"EQName");if(!n)return{type:59,g:2};var r=Vr(n);n=r.localName;var i=r.prefix;return r=qr(Gr(e,"arguments"),"*"),(n=t.ma.Qa({localName:n,prefix:i},r.length))&&(t=t.ma.Aa(n.namespaceURI,n.localName,r.length+1))?(59!==t.j.type&&$r(e,t.j),t.j):{type:59,g:2}}(e,t)}],["dynamicFunctionInvocationExpr",function(e,t){return Zo(Xr(e,["functionItem","*"]),t),(e=Gr(e,"arguments"))&&Zo(e,t),{type:59,g:2}}],["namedFunctionRef",function(e,t){return function(e,t){if(!t||!t.ma)return{type:59,g:2};var n=Vr(Gr(e,"functionName")),r=n.localName,i=n.namespaceURI,a=n.prefix;if(n=Number(Xr(e,["integerConstantExpr","value"])[1]),!i){if(!(i=t.ma.Qa({localName:r,prefix:a},n)))return{type:59,g:2};r=i.localName,i=i.namespaceURI}return(t=t.ma.Aa(i,r,n)||null)?(59!==t.j.type&&$r(e,t.j),t.j):{type:59,g:2}}(e,t)}],["inlineFunctionExpr",function(e,t){return Zo(Gr(e,"functionBody")[1],t),$r(e,t={type:60,g:3}),t}],["castExpr",function(e){var t=Xr(e,["singleType","atomicType"]);return 59!==(t={type:fe(t=jr(t,"prefix")+":"+t[2]),g:3}).type&&$r(e,t),t}],["castableExpr",function(e){var t={type:0,g:3};return $r(e,t),t}],["simpleMapExpr",function(e,t){for(var n,r=qr(e,"pathExpr"),i=0;i<r.length;i++)n=Zo(r[i],t);return null!=n?(59!==(t={type:n.type,g:2}).type&&$r(e,t),e=t):e={type:59,g:2},e}],["mapConstructor",function(e,t){return qr(e,"mapConstructorEntry").map((function(e){return{key:Zo(Xr(e,["mapKeyExpr","*"]),t),value:Zo(Xr(e,["mapValueExpr","*"]),t)}})),function(e){var t={type:61,g:3};return $r(e,t),t}(e)}],["arrayConstructor",function(e,t){return qr(Gr(e,"*"),"arrayElem").map((function(e){return Zo(e,t)})),function(e){var t={type:62,g:3};return $r(e,t),t}(e)}],["unaryLookup",function(e){return Gr(e,"NCName"),{type:59,g:2}}],["typeswitchExpr",function(e,t){return function(e,t,n,r){if(!t||n.includes(void 0))return{type:59,g:2};for(var i=qr(e,"typeswitchExprCaseClause"),a=0;a<n.length;a++){var o=Gr(i[a],"*");switch(o[0]){case"sequenceType":if(o=Jo(o,t,n[a]))return 59!==o.type&&$r(e,o),o;continue;case"sequenceTypeUnion":for(r=qr(o,"*"),i=0;2>i;i++)if(o=Jo(r[i],t,n[a]))return 59!==o.type&&$r(e,o),o;default:return{type:59,g:2}}}return 59!==r.type&&$r(e,r),r}(e,Zo(Gr(e,"argExpr")[1],t),qr(e,"typeswitchExprCaseClause").map((function(e){return Zo(Xr(e,["resultExpr"])[1],t)})),Zo(Xr(e,["typeswitchExprDefaultClause","resultExpr"])[1],t))}],["quantifiedExpr",function(e,t){return qr(e,"*").map((function(e){return Zo(e,t)})),function(e){var t={type:0,g:3};return $r(e,t),t}(e)}],["x:stackTrace",function(e,t){return Zo((e=qr(e,"*"))[0],t)}],["queryBody",function(e,t){return Zo(e[1],t)}],["flworExpr",function(e,t){return function(e,t){for(var n=Zo,r=!1,i=1;i<e.length;i++)switch(e[i][0]){case"letClause":ls(t);var a=e[i],o=t,s=n;ss(o,Xr(a,["letClauseItem","typedVariableBinding","varName"])[1],s=s((a=Xr(a,["letClauseItem","letExpr"]))[1],o));break;case"forClause":r=!0,ls(t),Yo(e[i],t,n);break;case"whereClause":ls(t),n(o=e[i],t),$r(o,{type:0,g:3});break;case"orderByClause":ls(t);break;case"returnClause":return o=n,$r(n=Xr(i=e[i],["*"]),t=o(n,t)),$r(i,t),(n=t)?(r&&(n={type:n.type,g:2}),59!==n.type&&$r(e,n),n):{type:59,g:2};default:return(n=n(e[i],t))?(r&&(n={type:n.type,g:2}),59!==n.type&&$r(e,n),n):{type:59,g:2}}if(!(0<t.h))throw Error("Variable scope out of bound");t.h--,t.o.pop()}(e,t)}],["varRef",function(e,t){e:{for(var n=e[1][1],r=t.h;0<=r;){t=t.o[r][n];break e}throw Error("XPST0008, The variable "+n+" is not in scope.")}return t&&59!==t.type&&$r(e,t),t}]]);function os(e){this.h=0,this.ma=e,this.o=[{}]}function ss(e,t,n){if(e.o[e.h][t])throw Error("Another variable of in the scope "+e.h+" with the same name "+t+" already exists");e.o[e.h][t]=n}function ls(e){e.h++,e.o.push({})}var us={},cs=(us.xml="http://www.w3.org/XML/1998/namespace",us.xs="http://www.w3.org/2001/XMLSchema",us.fn="http://www.w3.org/2005/xpath-functions",us.map="http://www.w3.org/2005/xpath-functions/map",us.array="http://www.w3.org/2005/xpath-functions/array",us.math="http://www.w3.org/2005/xpath-functions/math",us.fontoxpath="http://fontoxml.com/fontoxpath",us.local="http://www.w3.org/2005/xquery-local-functions",us);function ps(e,t,n){this.Ca=[Object.create(null)],this.Da=Object.create(null),this.v=e,this.C=Object.keys(t).reduce((function(e,n){return void 0===t[n]||(e[n]="Q{}"+n+"[0]"),e}),Object.create(null)),this.o=Object.create(null),this.h=Object.create(null),this.J=n,this.B=[]}function hs(e,t,n){if(1!==t.node.nodeType&&9!==t.node.nodeType)return[];var r=Ie(e,t).reduce((function(t,r){for(var i=(r=l(hs(e,r,n))).next();!i.done;i=r.next())t.push(i.value);return t}),[]);return n(t)&&r.unshift(t),r}function ds(e,t,n,r,i){if(!(e=i.first()))throw Error("XPDY0002: The context is absent, it needs to be present to use id function.");if(!Z(e.type,53))throw Nt("The context item is not a node, it needs to be node to use id function.");var a=t.h,o=r.S().reduce((function(e,t){return t.value.split(/\s+/).forEach((function(t){e[t]=!0})),e}),Object.create(null));for(t=e.value;9!==t.node.nodeType;)if(null===(t=Re(a,t)))throw Error("FODC0001: the root node of the target node is not a document node.");return t=hs(a,t,(function(e){return 1===e.node.nodeType&&(!(!(e=Se(a,e,"id"))||!o[e])&&(o[e]=!1,!0))})),se.create(t.map((function(e){return Ge(e)})))}function fs(e,t,n,r,i){if(!(e=i.first()))throw Error("XPDY0002: The context is absent, it needs to be present to use idref function.");if(!Z(e.type,53))throw Nt("The context item is not a node, it needs to be node to use idref function.");var a=t.h,o=r.S().reduce((function(e,t){return e[t.value]=!0,e}),Object.create(null));for(t=e.value;9!==t.node.nodeType;)if(null===(t=Re(a,t)))throw Error("FODC0001: the root node of the context node is not a document node.");return t=hs(a,t,(function(e){return 1===e.node.nodeType&&(!!(e=Se(a,e,"idref"))&&e.split(/\s+/).some((function(e){return o[e]})))})),se.create(t.map((function(e){return Ge(e)})))}function ms(e,t,n,r,i){var a=(e=Xe(0,0,0,i,se.s(V("duplicates",1)))).F()?"use-first":e.first().value;return r.M((function(e){return se.s(new qe(e.reduce((function(e,t){return t.h.forEach((function(t){var n=e.findIndex((function(e){return je(e.key,t.key)}));if(0<=n)switch(a){case"reject":throw Error("FOJS0003: Duplicate encountered when merging maps.");case"use-last":return void e.splice(n,1,t);case"combine":return void e.splice(n,1,{key:t.key,value:le(se.create(e[n].value().S().concat(t.value().S())))});default:return}e.push(t)})),e}),[])))}))}function gs(e,t,n){var r=1,i=e.value;e=e.ya(!0);var a=null,o=Math.max(t-1,0);return-1!==e&&(a=Math.max(0,(null===n?e:Math.max(0,Math.min(e,n+(t-1))))-o)),se.create({next:function(e){for(;r<t;)i.next(e),r++;return null!==n&&r>=t+n?J:(e=i.next(e),r++,e)}},a)}function ys(e){return e.map((function(e){return Z(e.type,19)?Yt(e,3):e}))}function vs(e){if((e=ys(e)).some((function(e){return Number.isNaN(e.value)})))return[V(NaN,3)];if(!(e=sa(e)))throw Error("FORG0006: Incompatible types to be converted to a common type");return e}function bs(e,t,n,r,i,a){return Le([i,a],(function(e){var t=l(e);if(e=t.next().value,t=t.next().value,1/0===e.value)return se.empty();if(-1/0===e.value)return t&&1/0===t.value?se.empty():r;if(t){if(isNaN(t.value))return se.empty();1/0===t.value&&(t=null)}return isNaN(e.value)?se.empty():gs(r,Math.round(e.value),t?Math.round(t.value):null)}))}function ws(e,t,n,r,i){if(r.F())return i;if(!(e=sa(e=ys(r.S()))))throw Error("FORG0006: Incompatible types to be converted to a common type");if(!e.every((function(e){return Z(e.type,2)})))throw Error("FORG0006: items passed to fn:sum are not all numeric.");return t=e.reduce((function(e,t){return e+t.value}),0),e.every((function(e){return Z(e.type,5)}))?se.s(V(t,5)):e.every((function(e){return Z(e.type,3)}))?se.s(V(t,3)):e.every((function(e){return Z(e.type,4)}))?se.s(V(t,4)):se.s(V(t,6))}ps.prototype.Aa=function(e,t,n){return function(e,t,n){var r=bi[e+":"+t];return r&&(r=r.find((function(e){return e.l.some((function(e){return 4===e}))?e.l.length-1<=n:e.l.length===n})))?{l:r.l,arity:n,m:r.m,I:r.I,localName:t,namespaceURI:e,j:r.j}:null}(e,t,n)},ps.prototype.rb=function(e,t){return e?null:(e=this.C[t],this.o[t]||(this.o[t]={name:t}),e)},ps.prototype.Qa=function(e,t){var n=this.J(e,t);if(n)this.B.push({oc:e,arity:t,Jb:n});else if(t=this.ga(e.prefix,!0))return{namespaceURI:t,localName:e.localName};return n},ps.prototype.ga=function(e,t){return void 0===t||t?cs[e]?cs[e]:(t=this.v(e),this.h[e]||(this.h[e]={namespaceURI:t,prefix:e}),void 0!==t||e?t:null):null};var xs=[].concat(Cr,[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"boolean",l:[{type:59,g:2}],j:{type:0,g:3},m:function(e,t,n,r){return r.getEffectiveBooleanValue()?se.$():se.U()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"true",l:[],j:{type:0,g:3},m:function(){return se.$()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"not",l:[{type:59,g:2}],j:{type:0,g:3},m:function(e,t,n,r){return!1===r.getEffectiveBooleanValue()?se.$():se.U()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"false",l:[],j:{type:0,g:3},m:function(){return se.U()}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"last",l:[],j:{type:5,g:3},m:function(e){if(null===e.O)throw Error("XPDY0002: The fn:last() function depends on dynamic context, which is absent.");var t=!1;return se.create({next:function(){if(t)return J;var n=e.wa.ya();return t=!0,Q(V(n,5))}},1)}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"position",l:[],j:{type:5,g:3},m:function(e){if(null===e.O)throw Error("XPDY0002: The fn:position() function depends on dynamic context, which is absent.");return se.s(V(e.Ga+1,5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"current-dateTime",l:[],j:{type:10,g:3},m:function(e){return se.s(V(bt(e),10))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"current-date",l:[],j:{type:7,g:3},m:function(e){return se.s(V(at(bt(e),7),7))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"current-time",l:[],j:{type:8,g:3},m:function(e){return se.s(V(at(bt(e),8),8))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"implicit-timezone",l:[],j:{type:17,g:3},m:function(e){return se.s(V(wt(e),17))}}],Tr,Rr,Fr,[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"years-from-duration",l:[{type:18,g:0}],j:{type:5,g:0},m:function(e,t,n,r){return r.F()?r:se.s(V(r.first().value.cb(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"months-from-duration",l:[{type:18,g:0}],j:{type:5,g:0},m:function(e,t,n,r){return r.F()?r:se.s(V(r.first().value.$a(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"days-from-duration",l:[{type:18,g:0}],j:{type:5,g:0},m:function(e,t,n,r){return r.F()?r:se.s(V(r.first().value.Za(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"hours-from-duration",l:[{type:18,g:0}],j:{type:5,g:0},m:function(e,t,n,r){return r.F()?r:se.s(V(r.first().value.getHours(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"minutes-from-duration",l:[{type:18,g:0}],j:{type:5,g:0},m:function(e,t,n,r){return r.F()?r:se.s(V(r.first().value.getMinutes(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"seconds-from-duration",l:[{type:18,g:0}],j:{type:4,g:0},m:function(e,t,n,r){return r.F()?r:se.s(V(r.first().value.getSeconds(),4))}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"id",l:[{type:1,g:2},{type:53,g:3}],j:{type:54,g:2},m:ds},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"id",l:[{type:1,g:2}],j:{type:54,g:2},m:function(e,t,n,r){return ds(e,t,0,r,se.s(e.O))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"idref",l:[{type:1,g:2},{type:53,g:3}],j:{type:53,g:2},m:fs},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"idref",l:[{type:1,g:2}],j:{type:53,g:2},m:function(e,t,n,r){return fs(e,t,0,r,se.s(e.O))}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"parse-json",l:[{type:1,g:3}],j:{type:59,g:0},m:function(e,t,n,r){try{var i=JSON.parse(r.first().value)}catch(e){throw Error("FOJS0001: parsed JSON string contains illegal JSON.")}return function e(t){switch(typeof t){case"object":return Array.isArray(t)?se.s(new Ue(t.map((function(t){return le(e(t))})))):null===t?se.empty():se.s(new qe(Object.keys(t).map((function(n){return{key:V(n,1),value:le(e(t[n]))}}))));case"number":return se.s(V(t,3));case"string":return se.s(V(t,1));case"boolean":return t?se.$():se.U();default:throw Error("Unexpected type in JSON parse")}}(i)}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"contains",l:[{type:61,g:3},{type:46,g:3}],j:{type:0,g:3},m:function(e,t,n,r,i){return Le([r,i],(function(e){var t=(e=l(e)).next().value,n=e.next().value;return t.h.some((function(e){return je(e.key,n)}))?se.$():se.U()}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"entry",l:[{type:46,g:3},{type:59,g:2}],j:{type:61,g:3},m:function(e,t,n,r,i){return r.map((function(e){return new qe([{key:e,value:le(i)}])}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"for-each",l:[{type:61,g:3},{type:59,g:2}],j:{type:59,g:2},m:function(e,t,n,r,i){return Le([r,i],(function(r){var i=(r=l(r)).next().value,a=r.next().value;return Et(i.h.map((function(r){return a.value.call(void 0,e,t,n,se.s(r.key),r.value())})))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"get",l:[{type:61,g:3},{type:46,g:3}],j:{type:59,g:2},m:Xe},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"keys",l:[{type:61,g:3}],j:{type:46,g:2},m:function(e,t,n,r){return Le([r],(function(e){return e=l(e).next().value,se.create(e.h.map((function(e){return e.key})))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"merge",l:[{type:61,g:2},{type:61,g:3}],j:{type:61,g:3},m:ms},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"merge",l:[{type:61,g:2}],j:{type:61,g:3},m:function(e,t,n,r){return ms(e,0,0,r,se.s(new qe([{key:V("duplicates",1),value:function(){return se.s(V("use-first",1))}}])))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"put",l:[{type:61,g:3},{type:46,g:3},{type:59,g:2}],j:{type:61,g:3},m:function(e,t,n,r,i,a){return Le([r,i],(function(e){var t=(e=l(e)).next().value,n=e.next().value;return e=t.h.concat(),0<=(t=e.findIndex((function(e){return je(e.key,n)})))?e.splice(t,1,{key:n,value:le(a)}):e.push({key:n,value:le(a)}),se.s(new qe(e))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"remove",l:[{type:61,g:3},{type:46,g:2}],j:{type:61,g:3},m:function(e,t,n,r,i){return Le([r],(function(e){var t=l(e).next().value.h.concat();return i.M((function(e){return e.forEach((function(e){var n=t.findIndex((function(t){return je(t.key,e)}));0<=n&&t.splice(n,1)})),se.s(new qe(t))}))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"size",l:[{type:61,g:3}],j:{type:5,g:3},m:function(e,t,n,r){return r.map((function(e){return V(e.h.length,5)}))}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"pi",l:[],j:{type:3,g:3},m:function(){return se.s(V(Math.PI,3))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"exp",l:[{type:3,g:0}],j:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return V(Math.pow(Math.E,e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"exp10",l:[{type:3,g:0}],j:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return V(Math.pow(10,e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"log",l:[{type:3,g:0}],j:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return V(Math.log(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"log10",l:[{type:3,g:0}],j:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return V(Math.log10(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"pow",l:[{type:3,g:0},{type:2,g:3}],j:{type:3,g:0},m:function(e,t,n,r,i){return i.M((function(e){var t=l(e).next().value;return r.map((function(e){return 1!==Math.abs(e.value)||Number.isFinite(t.value)?V(Math.pow(e.value,t.value),3):V(1,3)}))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"sqrt",l:[{type:3,g:0}],j:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return V(Math.sqrt(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"sin",l:[{type:3,g:0}],j:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return V(Math.sin(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"cos",l:[{type:3,g:0}],j:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return V(Math.cos(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"tan",l:[{type:3,g:0}],j:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return V(Math.tan(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"asin",l:[{type:3,g:0}],j:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return V(Math.asin(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"acos",l:[{type:3,g:0}],j:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return V(Math.acos(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"atan",l:[{type:3,g:0}],j:{type:3,g:0},m:function(e,t,n,r){return r.map((function(e){return V(Math.atan(e.value),3)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"atan2",l:[{type:3,g:0},{type:3,g:3}],j:{type:3,g:0},m:function(e,t,n,r,i){return i.M((function(e){var t=l(e).next().value;return r.map((function(e){return V(Math.atan2(e.value,t.value),3)}))}))}}],Pn,hn,[{namespaceURI:"http://fontoxpath/operators",localName:"to",l:[{type:5,g:0},{type:5,g:0}],j:{type:5,g:2},m:function(e,t,n,r,i){if(e=r.first(),i=i.first(),null===e||null===i)return se.empty();var a=e.value;return i=i.value,a>i?se.empty():se.create({next:function(){return Q(V(a++,5))}},i-a+1)}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"QName",l:[{type:1,g:0},{type:1,g:3}],j:{type:23,g:3},m:function(e,t,n,r,i){return Le([r,i],(function(e){var t=l(e);if(e=t.next().value,!Pt(t=t.next().value.value,23))throw Error("FOCA0002: The provided QName is invalid.");if(null===(e=e&&e.value||null)&&t.includes(":"))throw Error("FOCA0002: The URI of a QName may not be empty if a prefix is provided.");if(r.F())return se.s(V(new ge("",null,t),23));if(!t.includes(":"))return se.s(V(new ge("",e,t),23));var n=l(t.split(":"));return t=n.next().value,n=n.next().value,se.s(V(new ge(t,e,n),23))}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"prefix-from-QName",l:[{type:23,g:0}],j:{type:24,g:0},m:function(e,t,n,r){return Le([r],(function(e){return null===(e=l(e).next().value)?se.empty():(e=e.value).prefix?se.s(V(e.prefix,24)):se.empty()}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"local-name-from-QName",l:[{type:23,g:0}],j:{type:24,g:0},m:function(e,t,n,r){return r.map((function(e){return V(e.value.localName,24)}))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"namespace-uri-from-QName",l:[{type:23,g:0}],j:{type:20,g:0},m:function(e,t,n,r){return r.map((function(e){return V(e.value.namespaceURI||"",20)}))}}],[{l:[{type:59,g:2}],m:function(e,t,n,r){return r.aa({empty:function(){return se.$()},multiple:function(){return se.U()},s:function(){return se.U()}})},localName:"empty",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:0,g:3}},{l:[{type:59,g:2}],m:function(e,t,n,r){return r.aa({empty:function(){return se.U()},multiple:function(){return se.$()},s:function(){return se.$()}})},localName:"exists",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:0,g:3}},{l:[{type:59,g:2}],m:function(e,t,n,r){return gs(r,1,1)},localName:"head",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:0}},{l:[{type:59,g:2}],m:function(e,t,n,r){return gs(r,2,null)},localName:"tail",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:2}},{l:[{type:59,g:2},{type:5,g:3},{type:59,g:2}],m:function(e,t,n,r,i,a){return r.F()?a:a.F()?r:(e=r.S(),0>(i=i.first().value-1)?i=0:i>e.length&&(i=e.length),t=e.slice(i),se.create(e.slice(0,i).concat(a.S(),t)))},localName:"insert-before",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:2}},{l:[{type:59,g:2},{type:5,g:3}],m:function(e,t,n,r,i){return e=i.first().value,!(r=r.S()).length||1>e||e>r.length||r.splice(e-1,1),se.create(r)},localName:"remove",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:2}},{l:[{type:59,g:2}],m:function(e,t,n,r){return r.M((function(e){return se.create(e.reverse())}))},localName:"reverse",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:2}},{l:[{type:59,g:2},{type:3,g:3}],m:function(e,t,n,r,i){return bs(0,0,0,r,i,se.empty())},localName:"subsequence",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:2}},{l:[{type:59,g:2},{type:3,g:3},{type:3,g:3}],m:bs,localName:"subsequence",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:2}},{l:[{type:59,g:2}],m:function(e,t,n,r){return r},localName:"unordered",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:2}},{l:[{type:46,g:2},{type:46,g:3}],m:function(e,t,n,r,i){return i.M((function(n){var i=l(n).next().value;return It(r,t).map((function(t,n){return ji("eqOp",t.type,i.type)(t,i,e)?V(n+1,5):V(-1,5)})).filter((function(e){return-1!==e.value}))}))},localName:"index-of",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:5,g:2}},{l:[{type:46,g:2},{type:46,g:3},{type:1,g:3}],m:function(){throw Error("FOCH0002: No collations are supported")},localName:"index-of",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:5,g:2}},{l:[{type:59,g:2},{type:59,g:2}],m:function(e,t,n,r,i){var a=!1,o=Hn(e,t,n,r,i);return se.create({next:function(){if(a)return J;var e=o.next(0);return e.done?e:(a=!0,Q(V(e.value,0)))}})},localName:"deep-equal",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:0,g:3}},{l:[{type:59,g:2},{type:59,g:2},{type:1,g:3}],m:function(){throw Error("FOCH0002: No collations are supported")},localName:"deep-equal",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:0,g:3}},{l:[{type:59,g:2}],m:function(e,t,n,r){var i=!1;return se.create({next:function(){if(i)return J;var e=r.ya();return i=!0,Q(V(e,5))}})},localName:"count",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:5,g:3}},{l:[{type:46,g:2}],m:function(e,t,n,r){if(r.F())return r;if(!(e=sa(e=ys(r.S()))))throw Error("FORG0006: Incompatible types to be converted to a common type");if(!e.every((function(e){return Z(e.type,2)})))throw Error("FORG0006: items passed to fn:avg are not all numeric.");return t=e.reduce((function(e,t){return e+t.value}),0)/e.length,e.every((function(e){return Z(e.type,5)||Z(e.type,3)}))?se.s(V(t,3)):e.every((function(e){return Z(e.type,4)}))?se.s(V(t,4)):se.s(V(t,6))},localName:"avg",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:46,g:0}},{l:[{type:46,g:2}],m:function(e,t,n,r){return r.F()?r:(e=vs(r.S()),se.s(e.reduce((function(e,t){return e.value<t.value?t:e}))))},localName:"max",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:46,g:0}},{l:[{type:46,g:2},{type:1,g:3}],m:function(){throw Error("FOCH0002: No collations are supported")},localName:"max",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:46,g:0}},{l:[{type:46,g:2}],m:function(e,t,n,r){return r.F()?r:(e=vs(r.S()),se.s(e.reduce((function(e,t){return e.value>t.value?t:e}))))},localName:"min",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:46,g:0}},{l:[{type:46,g:2},{type:1,g:3}],m:function(){throw Error("FOCH0002: No collations are supported")},localName:"min",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:46,g:0}},{l:[{type:46,g:2}],m:function(e,t,n,r){return ws(e,t,0,r,se.s(V(0,5)))},localName:"sum",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:46,g:3}},{l:[{type:46,g:2},{type:46,g:0}],m:ws,localName:"sum",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:46,g:0}},{l:[{type:59,g:2}],m:function(e,t,n,r){if(!r.F()&&!r.za())throw Error("FORG0003: The argument passed to fn:zero-or-one contained more than one item.");return r},localName:"zero-or-one",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:0}},{l:[{type:59,g:2}],m:function(e,t,n,r){if(r.F())throw Error("FORG0004: The argument passed to fn:one-or-more was empty.");return r},localName:"one-or-more",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:1}},{l:[{type:59,g:2}],m:function(e,t,n,r){if(!r.za())throw Error("FORG0005: The argument passed to fn:exactly-one is empty or contained more than one item.");return r},localName:"exactly-one",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:3}},{l:[{type:59,g:2},{type:60,g:3}],m:function(e,t,n,r,i){if(r.F())return r;var a=i.first(),o=a.o;if(1!==o.length)throw Error("XPTY0004: signature of function passed to fn:filter is incompatible.");return r.filter((function(r){if(r=sn(o[0],se.s(r),t,"fn:filter",!1),!(r=a.value.call(void 0,e,t,n,r)).za()||!Z(r.first().type,0))throw Error("XPTY0004: signature of function passed to fn:filter is incompatible.");return r.first().value}))},localName:"filter",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:2}},{l:[{type:59,g:2},{type:60,g:3}],m:function(e,t,n,r,i){if(r.F())return r;var a=i.first(),o=a.o;if(1!==o.length)throw Error("XPTY0004: signature of function passed to fn:for-each is incompatible.");var s,l=r.value;return se.create({next:function(r){for(;;){if(!s){var i=l.next(0);if(i.done)return i;i=sn(o[0],se.s(i.value),t,"fn:for-each",!1),s=a.value.call(void 0,e,t,n,i).value}if(!(i=s.next(r)).done)return i;s=null}}})},localName:"for-each",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:2}},{l:[{type:59,g:2},{type:59,g:2},{type:60,g:3}],m:function(e,t,n,r,i,a){if(r.F())return r;var o=a.first(),s=o.o;if(2!==s.length)throw Error("XPTY0004: signature of function passed to fn:fold-left is incompatible.");return r.M((function(r){return r.reduce((function(r,i){return r=sn(s[0],r,t,"fn:fold-left",!1),i=sn(s[1],se.s(i),t,"fn:fold-left",!1),o.value.call(void 0,e,t,n,r,i)}),i)}))},localName:"fold-left",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:2}},{l:[{type:59,g:2},{type:59,g:2},{type:60,g:3}],m:function(e,t,n,r,i,a){if(r.F())return r;var o=a.first(),s=o.o;if(2!==s.length)throw Error("XPTY0004: signature of function passed to fn:fold-right is incompatible.");return r.M((function(r){return r.reduceRight((function(r,i){return r=sn(s[0],r,t,"fn:fold-right",!1),i=sn(s[1],se.s(i),t,"fn:fold-right",!1),o.value.call(void 0,e,t,n,i,r)}),i)}))},localName:"fold-right",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:59,g:2}}],An,[{l:[{type:1,g:3},{type:61,g:3}],m:function(e,t,n,r,i){var a,o;return se.create({next:function(){if(!a){o=r.value.next(0).value.value;var e=i.first().h.reduce((function(e,t){return e[t.key.value]=le(t.value()),e}),Object.create(null)),s=e["."]?e["."]():se.empty();delete e["."];var l=new ps((function(e){return n.ga(e)}),Object.keys(e).reduce((function(e,t){return e[t]=t,e}),{}),(function(e,t){return n.Qa(e,t)})),u=new Mo(l),c=Po(o,{ca:!1,debug:t.debug});t.Ta&&Qo(c,new os(u));var p=Xr(c,["mainModule","prolog"]);p&&$o(p,u),c=To(c=Xr(c,["mainModule","queryBody","*"]),{qa:!1,ca:!0});try{c.P(u)}catch(e){Hr(o,e)}u=Object.keys(e).reduce((function(t,n){return t[l.rb(null,n)]=e[n],t}),Object.create(null)),s=new yt(s=s.F()?{O:null,Ga:-1,wa:s,ta:u}:{O:s.first(),Ga:0,wa:s,ta:u});try{a=c.evaluate(s,t).value}catch(e){Hr(o,e)}}try{return a.next(0)}catch(e){Hr(o,e)}}})},localName:"evaluate",namespaceURI:"http://fontoxml.com/fontoxpath",j:{type:59,g:2}},{l:[],m:function(){return se.s(V("3.20.4",1))},localName:"version",namespaceURI:"http://fontoxml.com/fontoxpath",j:{type:1,g:3}}],[{l:[{type:23,g:3},{type:5,g:3}],m:function(e,t,n,r,i){return Le([r,i],(function(e){var t=l(e);e=t.next().value,t=t.next().value;var r=n.Aa(e.value.namespaceURI,e.value.localName,t.value);return null===r?se.empty():(e=new ye({l:r.l,arity:t.value,localName:e.value.localName,namespaceURI:e.value.namespaceURI,j:r.j,value:r.m}),se.s(e))}))},localName:"function-lookup",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{g:0,type:60}},{l:[{type:60,g:3}],m:function(e,t,n,r){return Le([r],(function(e){return(e=l(e).next().value).Oa()?se.empty():se.s(V(new ge("",e.v,e.J),23))}))},localName:"function-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:23,g:0}},{l:[{type:60,g:3}],m:function(e,t,n,r){return Le([r],(function(e){return e=l(e).next().value,se.s(V(e.B,5))}))},localName:"function-arity",namespaceURI:"http://www.w3.org/2005/xpath-functions",j:{type:5,g:3}}]);function As(e){this.h=e}(n=As.prototype).createAttributeNS=function(e,t){return this.h.createAttributeNS(e,t)},n.createCDATASection=function(e){return this.h.createCDATASection(e)},n.createComment=function(e){return this.h.createComment(e)},n.createDocument=function(){return this.h.createDocument()},n.createElementNS=function(e,t){return this.h.createElementNS(e,t)},n.createProcessingInstruction=function(e,t){return this.h.createProcessingInstruction(e,t)},n.createTextNode=function(e){return this.h.createTextNode(e)};var _s=Object.create(null),Es=Object.create(null);function Cs(e,t,n,r,i,a){this.J=e,this.v=t,this.h=n,this.B=r,this.o=i,this.C=a}function Ns(e,t){return e+(t?"_DEBUG":"")}function Ts(e,t,n){return t=Ns(t,n),(n=Es[e])?n[t]||null:(e=_s[e])&&(e=e[t])&&0!==e.length?e[0].h:null}function Bs(e,t,n,r,i,a,o){!function(e,t,n,r){t=Ns(t,n),(e=Es[e])&&(n=e[t])&&n===r&&delete e[t]}(e,t,a,i);var s=_s[e];s||(s=_s[e]=Object.create(null)),(t=s[e=Ns(t,a)])||(t=s[e]=[]),t.push(new Cs(Object.values(n.h),Object.values(n.o),i,Object.keys(r).map((function(e){return{namespaceURI:r[e],prefix:e}})),o,n.B))}function Ss(e,t,n,r,i,a,o){var s=t.ca?"XQuery":"XPath",l=t.ob?null:function(e,t,n,r,i,a,o,s){var l=_s[e];return l?(l=l[t=Ns(t,a)])&&(l=l.find((function(e){return e.o===o&&e.J.every((function(e){return n(e.prefix)===e.namespaceURI}))&&e.v.every((function(e){return void 0!==r[e.name]}))&&e.B.every((function(e){return i[e.prefix]===e.namespaceURI}))&&e.C.every((function(e){var t=s(e.oc,e.arity);return t&&t.namespaceURI===e.Jb.namespaceURI&&t.localName===e.Jb.localName}))})))?{ia:l.h,sb:!1}:(e=Es[e]&&Es[e][t])?{ia:e,sb:!0}:null:(e=Ts(e,t,a))?{ia:e,sb:!0}:null}(e,s,n,r,i,t.debug,a,o),u=new Mo(n=new ps(n,r,o));if(null!==l)r=l.ia;else{if(r=Po(e,t),o=new os(u),t.Ta&&Zo(r,o),!(o=Gr(r,"mainModule")))throw Error("Can not execute a library module.");if(r=Gr(o,"prolog"),o=Xr(o,["queryBody","*"]),r){if(!t.ca)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");$o(r,u)}r=_o(o,t)}return(null===l||l.sb)&&(Object.keys(i).forEach((function(e){var t=i[e];Vo(u,t),u.o[u.h][e]=t})),r.P(u),t.ob||Bs(e,s,n,i,r,t.debug,a)),{ia:r,ma:u}}var Is=Symbol("IS_XPATH_VALUE_SYMBOL");function ks(e){return e&&"object"==typeof e&&"lookupNamespaceURI"in e?function(t){return e.lookupNamespaceURI(t||null)}:function(){return null}}function Os(e){return e.replace(/(\x0D\x0A)|(\x0D(?!\x0A))/g,String.fromCharCode(10))}function Ps(e){return function(t){var n=t.localName;return t.prefix?null:{namespaceURI:e,localName:n}}}function Ds(e,t,n,r,i,a){var o,s,u,c,p,h;null==r&&(r=r||{}),i?(o=i.logger||{trace:console.log.bind(console)},s=i.documentWriter,u=i.moduleImports,c=i.namespaceResolver,p=i.functionNameResolver,h=i.nodesFactory):(o={trace:console.log.bind(console)},u={},c=null,h=null,s=null,p=void 0);var d=new Te(null===n?new xe:n);e=Os(e),n=u||Object.create(null),u=i.defaultFunctionNamespaceURI||"http://www.w3.org/2005/xpath-functions";var f=Ss(e,a,c||ks(t),r,n,u,p||Ps(u));for(e=t?gt(0,t):se.empty(),t=!h&&a.ca?new nr(t):new As(h),s=s?new Ee(s):_e,h=Object.keys(r).reduce((function(e,t){var n=r[t];return e["Q{}"+t+"[0]"]=n&&"object"==typeof n&&Is in n?function(){return se.create(n.Eb)}:function(){return gt(0,r[t])},e}),Object.create(null)),c={},n=(p=l(Object.keys(f.ma.Da))).next();!n.done;c={Wa:c.Wa},n=p.next())c.Wa=n.value,h[c.Wa]||(h[c.Wa]=function(e){return function(){return(0,f.ma.Da[e.Wa])(m,g)}}(c));var m=new yt({O:e.first(),Ga:0,wa:e,ta:h}),g=new _t(a.debug,d,t,s,i.currentContext,o);return{zb:m,Ab:g,ia:f.ia}}function Rs(e,t){var n={},r=0,i=!1,a=null;return{next:function(){if(i)return J;for(var o={};r<e.h.length;){e:{var s=e.h[r].key.value;if(!a){o.kb=e.h[r];var l=o.kb.value().aa({default:function(e){return e},multiple:function(e){return function(){throw Error("Serialization error: The value of an entry in a map is expected to be a single item or an empty sequence. Use arrays when putting multiple values in a map. The value of the key "+e.kb.key.value+" holds multiple items")}}(o)}).first();if(null===l){n[s]=null,r++;break e}a=Fs(l,t)}l=a.next(0),a=null,n[s]=l.value,r++}o={kb:o.kb}}return i=!0,Q(n)}}}function Ms(e,t){var n=[],r=0,i=!1,a=null;return{next:function(){if(i)return J;for(;r<e.R.length;){if(!a){var o=e.R[r]().aa({default:function(e){return e},multiple:function(){throw Error("Serialization error: The value of an entry in an array is expected to be a single item or an empty sequence. Use nested arrays when putting multiple values in an array.")}}).first();if(null===o){n[r++]=null;continue}a=Fs(o,t)}o=a.next(0),a=null,n[r++]=o.value}return i=!0,Q(n)}}}function Fs(e,t){if(Z(e.type,61))return Rs(e,t);if(Z(e.type,62))return Ms(e,t);if(Z(e.type,23)){var n=e.value;return{next:function(){return Q("Q{"+(n.namespaceURI||"")+"}"+n.localName)}}}switch(e.type){case 7:case 8:case 9:case 11:case 12:case 13:case 14:case 15:var r=e.value;return{next:function(){return Q(ot(r))}};case 47:case 53:case 54:case 55:case 56:case 57:case 58:var i=e.value;return{next:function(){return Q(Da(i,t,!1))}};default:return{next:function(){return Q(e.value)}}}}xs.forEach((function(e){Ai(e.namespaceURI,e.localName,e.l,e.j,e.m)}));var Us={ANY:0,NUMBER:1,STRING:2,BOOLEAN:3,NODES:7,FIRST_NODE:9,STRINGS:10,MAP:11,ARRAY:12,NUMBERS:13,ASYNC_ITERATOR:99};function Hs(e,t,n,r){switch(n){case 3:return t.getEffectiveBooleanValue();case 2:return(t=It(t,r).S()).length?t.map((function(e){return Yt(e,1).value})).join(" "):"";case 10:return(t=It(t,r).S()).length?t.map((function(e){return e.value+""})):[];case 1:return null!==(t=t.first())&&Z(t.type,2)?t.value:NaN;case 9:if(null===(t=t.first()))return null;if(!Z(t.type,53))throw Error("Expected XPath "+e+" to resolve to Node. Got "+t.type);return Da(t.value,r,!1);case 7:if(!(t=t.S()).every((function(e){return Z(e.type,53)})))throw Error("Expected XPath "+e+" to resolve to a sequence of Nodes.");return t.map((function(e){return Da(e.value,r,!1)}));case 11:if(1!==(t=t.S()).length)throw Error("Expected XPath "+e+" to resolve to a single map.");if(!Z((t=t[0]).type,61))throw Error("Expected XPath "+e+" to resolve to a map");return Rs(t,r).next(0).value;case 12:if(1!==(t=t.S()).length)throw Error("Expected XPath "+e+" to resolve to a single array.");if(!Z((t=t[0]).type,62))throw Error("Expected XPath "+e+" to resolve to an array");return Ms(t,r).next(0).value;case 13:return t.S().map((function(t){if(!Z(t.type,2))throw Error("Expected XPath "+e+" to resolve to numbers");return t.value}));case 99:var i=t.value,a=null,o=!1,s=function(){for(;!o;){if(!a){var e=i.next(0);if(e.done){o=!0;break}a=Fs(e.value,r)}return e=a.next(0),a=null,e}return Promise.resolve({done:!0,value:null})};return"asyncIterator"in Symbol?((t={})[Symbol.asyncIterator]=function(){return this},t.next=function(){return new Promise((function(e){return e(s())})).catch((function(t){Hr(e,t)}))},t=t):t={next:function(){return new Promise((function(e){return e(s())}))}},t;default:return(t=t.S()).every((function(e){return Z(e.type,53)&&!Z(e.type,47)}))?1===(t=t.map((function(e){return Da(e.value,r,!1)}))).length?t[0]:t:1===t.length?Z((t=t[0]).type,62)?Ms(t,r).next(0).value:Z(t.type,61)?Rs(t,r).next(0).value:St(t,r).first().value:It(se.create(t),r).S().map((function(e){return e.value}))}}Us[Us.ANY]="ANY",Us[Us.NUMBER]="NUMBER",Us[Us.STRING]="STRING",Us[Us.BOOLEAN]="BOOLEAN",Us[Us.NODES]="NODES",Us[Us.FIRST_NODE]="FIRST_NODE",Us[Us.STRINGS]="STRINGS",Us[Us.MAP]="MAP",Us[Us.ARRAY]="ARRAY",Us[Us.NUMBERS]="NUMBERS",Us[Us.ASYNC_ITERATOR]="ASYNC_ITERATOR";var Gs=!1,Ls=null,js={getPerformanceSummary:function(){var e=Ls.getEntriesByType("measure").filter((function(e){return e.name.startsWith("XPath: ")}));return Array.from(e.reduce((function(e,t){var n=t.name.substring(7);return e.has(n)?((n=e.get(n)).times+=1,n.totalDuration+=t.duration):e.set(n,{xpath:n,times:1,totalDuration:t.duration,average:0}),e}),new Map).values()).map((function(e){return e.average=e.totalDuration/e.times,e})).sort((function(e,t){return t.totalDuration-e.totalDuration}))},setPerformanceImplementation:function(e){Ls=e},startProfiling:function(){if(null===Ls)throw Error("Performance API object must be set using `profiler.setPerformanceImplementation` before starting to profile");Ls.clearMarks(),Ls.clearMeasures(),Gs=!0},stopProfiling:function(){Gs=!1}},Xs=0;function qs(e,t,n,r,i,a){if(i=i||0,!e||"string"!=typeof e)throw new TypeError("Failed to execute 'evaluateXPath': xpathExpression must be a string.");a=a||{};try{var o=Ds(e,t,n||null,r||{},a,{qa:"XQueryUpdate3.1"===a.language,ca:"XQuery3.1"===a.language||"XQueryUpdate3.1"===a.language,debug:!!a.debug,ob:!!a.disableCache,Ta:!!a.annotateAst}),s=o.zb,l=o.Ab,u=o.ia}catch(t){Hr(e,t)}if(u.I)throw Error("XUST0001: Updating expressions should be evaluated as updating expressions");if(3===i&&t&&"nodeType"in t&&(n=u.Y(),t=we(t),null!==n&&!t.includes(n)))return!1;try{Gs&&(Ls.mark(e+(0===Xs?"":"@"+Xs)),Xs++);var c=Hs(e,er(u,s,l),i,l);return Gs&&(i=e+(0===--Xs?"":"@"+Xs),Ls.measure("XPath: "+e,i),Ls.clearMarks(i)),c}catch(t){Hr(e,t)}}Object.assign(qs,{ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,Zb:7,Vb:9,cc:10,Xb:11,Sb:12,Tb:99,$b:13,hc:"XQueryUpdate3.1",vc:"XQuery3.1",uc:"XPath3.1"});var Vs={};function zs(e,t,n,r,i){return qs(e,t,n,r,qs.Tb,i)}function $s(e,t,n,r){var i={};return i.pendingUpdateList=e.fa.map((function(e){return e.h(r)})),i.xdmValue=Hs(t,se.create(e.H),n,r),i}function Ys(e,t,n){switch(t.type){case 0:return[e,{type:0}];case 1:return[e,{type:1}];case 3:return[""+Ys(e+"("+(n||"contextItem")+")",t.j,n)[0],t.j];case 4:return[e,{type:4}];case 5:throw Error("Trying to get value of generated code with type None");default:throw Error("Unreachable! Trying to get compiled value of unsupported GeneratedCodeType.")}}function Ks(e,t,n){return{code:e,Ma:t,isAstAccepted:!0,Ea:n}}function Js(e){return{isAstAccepted:!1,reason:e}}function Qs(e,t,n,r){switch(r=void 0===r?"contextItem":r,n.type){case 0:case 1:return Ks("!!"+e,{type:0},[t]);case 3:return(e=Qs(e+"("+r+")","",n.j,r)).isAstAccepted?Ks("!!"+e.code,e.Ma,[t]):e;case 4:return Ks("(() => {\n\t\t\t\t\tconst result = "+e+".next();\n\t\t\t\t\treturn result.done ? false : !!result.value; \n\t\t\t\t})()",{type:0});case 5:throw Error("Trying to get value of generated code with type None");default:throw Error("Unreachable! Trying to get compiled value of unsupported GeneratedCodeType.")}}Object.assign(qs,(Vs.ANY_TYPE=0,Vs.NUMBER_TYPE=1,Vs.STRING_TYPE=2,Vs.BOOLEAN_TYPE=3,Vs.NODES_TYPE=7,Vs.FIRST_NODE_TYPE=9,Vs.STRINGS_TYPE=10,Vs.MAP_TYPE=11,Vs.ARRAY_TYPE=12,Vs.ASYNC_ITERATOR_TYPE=99,Vs.NUMBERS_TYPE=13,Vs.XQUERY_UPDATE_3_1_LANGUAGE="XQueryUpdate3.1",Vs.XQUERY_3_1_LANGUAGE="XQuery3.1",Vs.XPATH_3_1_LANGUAGE="XPath3.1",Vs));var Zs={DONE_TOKEN:J,getEffectiveBooleanValue:te,isSubtypeOf:Z,ready:Q},Ws={bc:"pathExpr",Rb:"andOp",ac:"orOp",dc:"stringConstantExpr"},el=Object.values(Ws);function tl(e,t,n,r,i){return e=Gr(e,n),(e=Gr(e,el))?(t+=n,(r=r.Fb(e,t,r)).isAstAccepted?0===i?Qs(t,r.code,r.Ma):Ks(t,r.Ma,[r.code]):r):Js("Unsupported: a base expression used with an operand.")}function nl(e,t,n){return 4===t&&(e+=".next().value"),47===n&&(e="(function () { const attr = "+e+"; return attr ? domFacade.getData(attr) : null})()"),e}function rl(e,t,n,r,i){var a=jr(Gr(e,"firstOperand")[1],"type");if(e=jr(Gr(e,"secondOperand")[1],"type"),!a||!e)return Js("Left or right type of compare are not found, annotation failed.");var o=[47,1];if(!o.includes(a.type)||!o.includes(e.type))return Js("Unsupported types in compare: ["+pe[a.type]+", "+pe[e.type]+"]");if(!n.isAstAccepted)return n;if(!r.isAstAccepted)return r;if(!a||!e)return Js("Operands in compare weren't annotated");if(!(o=new Map([["eqOp","==="],["neOp","!=="]])).has(t))return Js(t+" not yet implemented");t=o.get(t),o=Ys(n.code,n.Ma);var s=Ys(r.code,r.Ma);return Ks("function "+i+"(contextItem) {\n\t\t\t\t"+n.Ea.join("\n")+"\n\t\t\t \t"+r.Ea.join("\n")+"\n\t \t     \treturn "+nl(o[0],o[1].type,a.type)+" "+t+" "+nl(s[0],s[1].type,e.type)+";\n\t\t}",{type:3,j:{type:0}})}var il={},al=(il.equalOp="eqOp",il.notEqualOp="neOp",il.lessThanOrEqualOp="leOp",il.lessThanOp="ltOp",il.greaterThanOrEqualOp="geOp",il.greaterThanOp="gtOp",il);function ol(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function sl(e,t,n,r){var i=tl(e,t,"firstOperand",n,0);return i.isAstAccepted?(e=tl(e,t,"secondOperand",n,0)).isAstAccepted?Ks("\n\tfunction "+t+"(contextItem) {\n\t\t"+i.Ea.join("\n")+"\n\t\t"+e.Ea.join("\n")+"\n\t\treturn "+i.code+" "+r+" "+e.code+";\n\t}\n\t",{type:3,j:{type:0}}):e:i}function ll(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];return t.filter((function(e){return""!==e})).join(" && ")}function ul(e,t,n,r,i,a){var o=1!==n?"i"+n+" = 0;":"";return Ks("\n\t"+a+"\n\twhile ("+ll(i+n,"i"+n+" < "+i+n+".length")+") {\n\t\tconst contextItem"+n+" = "+i+n+"[i"+n+"];\n\t\tif (!("+(e=ll("contextItem"+n,e,t))+")) {\n\t\t\ti"+n+"++;\n\t\t\tcontinue;\n\t\t}\n\t\t"+r+"\n\t}\n\t"+o+"\n\t",{type:2},["let i"+n+" = 0;"])}function cl(e,t,n,r,i){return Ks("\n\t\t"+i+"\n\t\tif ("+(e=ll("i"+n+" === 0","contextItem"+n,e,t))+") {\n\t\t\t"+r+"\n\t\t}\n\t\t",{type:2},["let i"+n+" = 0;"])}var pl={ec:"textTest",Ub:"elementTest",Yb:"nameTest",fc:"Wildcard"},hl=Object.values(pl);function dl(e,t,n){var r=null===t.namespaceURI;if(null===t.namespaceURI&&"*"!==t.prefix&&(t.namespaceURI=n.ga(t.prefix||"")||null,!t.namespaceURI&&t.prefix))throw Error("XPST0081: The prefix "+t.prefix+" could not be resolved.");n=t.prefix;var i=t.namespaceURI;t=t.localName;var a=e+".nodeType\n\t\t&& ("+e+".nodeType === /*ELEMENT_NODE*/ 1\n\t\t|| "+e+".nodeType === /*ATTRIBUTE_NODE*/ 2)";return Ks("*"===n?"*"===t?a:a+" && "+e+".localName === "+ol(t):(t="*"!==t?a+" && "+e+".localName === "+ol(t)+" && ":"")+"("+e+".namespaceURI || null) === ("+(r=r&&!n?e+".nodeType\n&& "+e+".nodeType === /*ELEMENT_NODE*/ 1 ? "+ol(i)+" : null":ol(i))+" || null)",{type:0})}function fl(e,t,n){var r=e[0];switch(r){case pl.Ub:return r=(e=Gr(e,"elementName"))&&Gr(e,"star"),null===e||r?t=Ks(t+".nodeType === /*ELEMENT_NODE*/ 1",{type:0}):t=dl(t,e=Vr(Gr(e,"QName")),n),t;case pl.ec:return Ks(t+".nodeType === /*TEXT_NODE*/ 3",{type:0});case pl.Yb:return dl(t,Vr(e),n);case pl.fc:return Gr(e,"star")?(r=Gr(e,"uri"))?t=dl(t,{localName:"*",namespaceURI:Lr(r),prefix:""},n):(r=Gr(e,"NCName"),t="star"===Gr(e,"*")[0]?dl(t,{localName:Lr(r),namespaceURI:null,prefix:"*"},n):dl(t,{localName:"*",namespaceURI:null,prefix:Lr(r)},n)):t=dl(t,{localName:"*",namespaceURI:null,prefix:"*"},n),t;default:return Js("Unsupported: the test '"+r+"'.")}}function ml(e,t,n){var r=e[0];switch(r){case Ws.bc:return r="",Gr(e,"rootExpr")&&(r="\n\t\tlet documentNode = contextItem;\n\t\twhile (documentNode.nodeType !== /*DOCUMENT_NODE*/9) {\n\t\t\tdocumentNode = domFacade.getParentNode(documentNode);\n\t\t\tif (documentNode === null) {\n\t\t\t\tthrow new Error('XPDY0050: the root node of the context node is not a document node.');\n\t\t\t}\n\t\t}\n\t\tcontextItem = documentNode;\n\t\t"),(e=function(e,t){if(0===e.length)return Ks("\n\t\t\tif (!hasReturned) {\n\t\t\t\thasReturned = true;\n\t\t\t\treturn ready(contextItem);\n\t\t\t}\n\t\t\t",{type:2},["let hasReturned = false;"]);for(var n="",r=[],i=e.length-1;0<=i;i--){var a=e[i],o=i+1,s=Gr(a,"predicates");e:{var l=t,u="",p=[];if(s){s=qr(s,"*");for(var h=0;h<s.length;h++){var d="step"+o+"_predicate"+h,f=l.Fb(s[h],d,l);if(!f.isAstAccepted){l=f;break e}if(!(d=Qs(d,"",f.Ma,"contextItem"+o)).isAstAccepted){l=d;break e}u=0===h?u+d.code:u+" && "+d.code,p.push(f.code)}l=Ks(u,{type:0},p)}else l=Ks("",{type:5},p)}if(!l.isAstAccepted)return l;if(!(u=Gr(a,"xpathAxis")))return Js("Unsupported: filter expressions.");if(!(p=Gr(a,hl)))return Js("Unsupported: the test in the '"+a+"' step.");if(n=i===e.length-1?"i"+o+"++;\n\t\t\t\t\t   return ready(contextItem"+o+");":n+"\n\t\t\t\t\t   i"+o+"++;",!(p=fl(p,"contextItem"+o,t)).isAstAccepted)return p;e:switch(p=p.code,s=l.code,u=Lr(u),u){case"attribute":o=ul(p,s,o,n,"attributeNodes","\n\tlet attributeNodes"+o+";\n\tif (contextItem && contextItem"+(o-1)+".nodeType === /*ELEMENT_NODE*/ 1) {\n\t\tattributeNodes"+o+" =  domFacade.getAllAttributes(contextItem"+(o-1)+");\n\t}\n\t");break e;case"child":o=ul(p,s,o,n,"childNodes","const childNodes"+o+" = domFacade.getChildNodes(contextItem"+(o-1)+");");break e;case"parent":o=cl(p,s,o,n,"\n\tconst contextItem"+o+" = domFacade.getParentNode(contextItem"+(o-1)+");\n\t");break e;case"self":o=cl(p,s,o,n,"const contextItem"+o+" = contextItem"+(o-1)+";");break e;default:o=Js("Unsupported: the "+u+" axis")}if(!o.isAstAccepted)return o;if(r.push.apply(r,[].concat(c(o.Ea),c(l.Ea))),n=o.code,0<qr(a,"lookup").length)return Js("Unsupported: lookups.")}return Ks("const contextItem0 = contextItem;"+n,{type:2},r)}(qr(e,"stepExpr"),n)).isAstAccepted?Ks("\n\tfunction "+t+"(contextItem) {\n\t\t"+r+"\n\t\t"+e.Ea.join("\n")+"\n\t\tconst next = () => {\n\t\t\t"+e.code+"\n\t\t\treturn DONE_TOKEN;\n\t\t};\n\t\treturn {\n\t\t\tnext,\n\t\t\t[Symbol.iterator]() { return this; }\n\t\t};\n\t}\n\t",{type:3,j:{type:4}}):e;case Ws.Rb:return sl(e,t,n,"&&");case Ws.ac:return sl(e,t,n,"||");case Ws.dc:return Ks("const "+t+" = "+(e=ol(e=Gr(e,"value")[1]))+";",{type:1});case"equalOp":case"notEqualOp":case"lessThanOrEqualOp":case"lessThanOp":case"greaterThanOrEqualOp":case"greaterThanOp":case"eqOp":case"neOp":case"ltOp":case"leOp":case"gtOp":case"geOp":case"isOp":case"nodeBeforeOp":case"nodeAfterOp":e:{var i=tl(e,t,"firstOperand",n);if(i.isAstAccepted)if((n=tl(e,t,"secondOperand",n)).isAstAccepted)switch(r){case"eqOp":case"neOp":case"ltOp":case"leOp":case"gtOp":case"geOp":case"isOp":t=rl(e,r,i,n,t);break e;case"equalOp":case"notEqualOp":case"lessThanOrEqualOp":case"lessThanOp":case"greaterThanOrEqualOp":case"greaterThanOp":Gr(e,"firstOperand");var a=jr(e,"type");Gr(e,"secondOperand");var o=jr(e,"type");t=a&&o?3===a.g&&3===o.g?rl(e,al[r],i,n,t):Js("generalCompare with sequences is still in development"):Js("types of compare are not known");break e;default:t=Js("Unsupported compare type")}else t=n;else t=i}return t;default:return Js("Unsupported: the base expression '"+r+"'.")}}function gl(e,t,n){var r=Gr(e,"mainModule");if(!r)return Js("Unsupported: Can not execute a library module.");if(Gr(r,"prolog"))return Js("Unsupported: XQuery.");var i=Xr(r,["queryBody","*"]);return n.Fb=ml,!1===(n=ml(i,"compiledXPathExpression",n)).isAstAccepted?n:(r=n.Ea?n.Ea.join("\n"):"",i=jr(i,"type"),!1===(t=function(e,t,n){switch(e){case 9:if(e=(n=l(Ys("compiledXPathExpression",t))).next().value,4!==n.next().value.type)throw Error("Trying access generated code as an iterator while this is not the case.");return Ks("\n\tconst firstResult = "+e+".next();\n\tif (!firstResult.done) {\n\t\treturn firstResult.value\n\t}\n\treturn null;\n\t",{type:2});case 7:return e=(n=l(Ys("compiledXPathExpression",t))).next().value,4!==n.next().value.type?Ks("return [];",{type:2}):Ks("\n\tconst nodes = [];\n\tfor (const node of "+e+") {\n\t\tnodes.push(node);\n\t}\n\treturn nodes;\n\t",{type:2});case 3:return(n=Qs("compiledXPathExpression","",t)).isAstAccepted?Ks("return "+n.code+";",{type:2}):n;case 2:return void 0===n?n=Js("Full AST wasn't annotated so we cannot correctly emit a string return"):Z(n,1)||Z(n,47)?n=Ks("return "+nl(e=(t=l(Ys("compiledXPathExpression",t))).next().value,(t=t.next().value).type,n)+" || '';",{type:2}):n=Js("Not implemented: returning anything but strings and attributes from codegen"),n;default:return Js("Unsupported: the return type '"+e+"'.")}}(t,n.Ma,i?i.type:void 0)).isAstAccepted?t:(t=r+n.code+t.code,n="\n\treturn (contextItem, domFacade, runtimeLib) => {\n\t\tconst {\n\t\t\tDONE_TOKEN,\n\t\t\tValueType,\n\t\t\tXPDY0002,\n\t\t\tdeterminePredicateTruthValue,\n\t\t\tisSubtypeOf,\n\t\t\tready,\n\t\t\tatomize,\n\t\t} = runtimeLib;",function e(t){var n=qr(t,"*");if("pathExpr"===t[0])return!0;for(t=l(n),n=t.next();!n.done;n=t.next())if(e(n.value))return!0;return!1}(e)&&(n+='\n\t\tif (!contextItem) {\n\t\t\tthrow XPDY0002("Context is needed to evaluate the given path expression.");\n\t\t}\n\n\t\tif (!contextItem.nodeType) {\n\t\t\tthrow new Error("Context item must be subtype of node().");\n\t\t}\n\t\t'),{code:n+(t+"}\n//# sourceURL=generated.js"),isAstAccepted:!0}))}var yl={},vl=(yl["http://www.w3.org/2005/XQueryX"]="xqx",yl["http://www.w3.org/2007/xquery-update-10"]="xquf",yl);function bl(e,t,n){var r=e.stack;r&&(r.includes(e.message)&&(r=r.substr(r.indexOf(e.message)+e.message.length).trim()),(r=r.split("\n")).splice(10),r=(r=r.map((function(e){return e.startsWith("    ")||e.startsWith("\t")?e:"    "+e}))).join("\n")),e=Error.call(this,"Custom XPath function Q{"+n+"}"+t+" raised:\n"+e.message+"\n"+r),this.message=e.message,"stack"in e&&(this.stack=e.stack)}function wl(e,t,n){return 0===t.g?e.F()?null:Fs(e.first(),n).next(0).value:2===t.g||1===t.g?e.S().map((function(e){if(Z(e.type,47))throw Error("Cannot pass attribute nodes to custom functions");return Fs(e,n).next(0).value})):Fs(e.first(),n).next(0).value}function xl(e){var t=Ts(e,"XPath",!1);if(t)return t;if(Zo(t=Po(e,{ca:!1}),new os(void 0)),null===(t=Xr(t,["mainModule","queryBody","*"])))throw Error("Library modules do not have a specificity");t=To(t,{qa:!1,ca:!1});var n=Ns("XPath",!1);if(Es[e])Es[e][n]=t;else{var r={};Es[e]=(r[n]=t,r)}return t}g(bl,Error);var Al=new xe;return void 0!==t&&(t.compareSpecificity=function(e,t){return fr(xl(e).K,xl(t).K)},t.compileXPathToJavaScript=function(e,t,n){return n=n||{},t=t||0,Zo(e=Po(e=Os(e),{ca:"XQuery3.1"===n.language||"XQueryUpdate3.1"===n.language,debug:!1}),new os(new Mo(new ps((n={ga:n.namespaceResolver||ks(null)}).ga,{},Ps("http://www.w3.org/2005/xpath-functions"))))),gl(e,t,n)},t.domFacade=Al,t.evaluateXPath=qs,t.evaluateXPathToArray=function(e,t,n,r,i){return qs(e,t,n,r,qs.Sb,i)},t.evaluateXPathToAsyncIterator=zs,t.evaluateXPathToBoolean=function(e,t,n,r,i){return qs(e,t,n,r,qs.BOOLEAN_TYPE,i)},t.evaluateXPathToFirstNode=function(e,t,n,r,i){return qs(e,t,n,r,qs.Vb,i)},t.evaluateXPathToMap=function(e,t,n,r,i){return qs(e,t,n,r,qs.Xb,i)},t.evaluateXPathToNodes=function(e,t,n,r,i){return qs(e,t,n,r,qs.Zb,i)},t.evaluateXPathToNumber=function(e,t,n,r,i){return qs(e,t,n,r,qs.NUMBER_TYPE,i)},t.evaluateXPathToNumbers=function(e,t,n,r,i){return qs(e,t,n,r,qs.$b,i)},t.evaluateXPathToString=function(e,t,n,r,i){return qs(e,t,n,r,qs.STRING_TYPE,i)},t.evaluateXPathToStrings=function(e,t,n,r,i){return qs(e,t,n,r,qs.cc,i)},t.evaluateUpdatingExpression=function(e,t,n,r,i){var a,o,s,l,u,c,p,h,d,f;return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(a){a.done?r(a.value):Promise.resolve(a.value).then(t,n).then(e,i)}(e.next())}))}(new _(new w((function(m){switch(m.h){case 1:i=i||{};try{l=Ds(e,t,n||null,r||{},i||{},{qa:!0,ca:!0,debug:!!i.debug,ob:!!i.disableCache,Ta:!!i.annotateAst}),a=l.zb,o=l.Ab,s=l.ia}catch(t){Hr(e,t)}if(s.I){m.h=2;break}u=[];var g=(c=zs(e,t,n,r,Object.assign(Object.assign({},i),{language:"XQueryUpdate3.1"}))).next();return m.h=3,{value:g};case 3:p=m.v;case 4:if(p.done){m.h=6;break}return u.push(p.value),g=c.next(),m.h=7,{value:g};case 7:p=m.v,m.h=4;break;case 6:return h={},m.return(Promise.resolve((h.pendingUpdateList=[],h.xdmValue=u,h)));case 2:try{f=s.o(a,o),d=f.next(0)}catch(t){Hr(e,t)}return m.return($s(d.value,e,i.returnType,o))}}))))},t.evaluateUpdatingExpressionSync=function(e,t,n,r,i){i=i||{};try{var a=Ds(e,t,n||null,r||{},i||{},{qa:!0,ca:!0,debug:!!i.debug,ob:!!i.disableCache,Ta:!!i.annotateAst}),o=a.zb,s=a.Ab,l=a.ia}catch(t){Hr(e,t)}if(!l.I)return o={},(s={}).pendingUpdateList=[],s.xdmValue=qs(e,t,n,r,i.j,Object.assign(Object.assign({},i),(o.language=qs.hc,o))),s;try{var u=l.o(o,s).next(0)}catch(t){Hr(e,t)}return $s(u.value,e,i.returnType,s)},t.executeJavaScriptCompiledXPath=function(e,t,n){return n=n||new xe,e()(t,n,Zs)},t.executePendingUpdateList=function(e,t,n,r){t=new Te(t||new xe),r=r?new Ee(r):_e,n=n?n=new As(n):null,ar(e=e.map(so),t,n,r)},t.getBucketForSelector=function(e){return xl(e).Y()},t.getBucketsForNode=we,t.precompileXPath=function(e){return Promise.resolve(e)},t.registerXQueryModule=function(e,t){if(Qo(t=Po(e,{ca:!0,debug:(t=void 0===t?{debug:!1}:t).debug}),new os(void 0)),!(t=Gr(t,"libraryModule")))throw Error("XQuery module must be declared in a library module.");var n=Gr(t,"moduleDecl"),r=Gr(n,"uri"),i=Lr(r);if(r=Lr(n=Gr(n,"prefix")),(n=new Mo(new ps((function(){return null}),Object.create(null),Ps("http://www.w3.org/2005/xpath-functions")))).o[n.h][r]=i,null!==(t=Gr(t,"prolog"))){try{var a=$o(t,n)}catch(t){Hr(e,t)}a.La.forEach((function(e){if(i!==e.namespaceURI)throw Error("XQST0048: Functions and variables declared in a module must reside in the module target namespace.")})),qo(i,a)}else qo(i,{La:[],Va:[]});return i},t.registerCustomXPathFunction=function(e,t,n,r){var i=(e=function(e){if("object"==typeof e)return e;if(2!==(e=e.split(":")).length)throw Error("Do not register custom functions in the default function namespace");var t=l(e);e=t.next().value,t=t.next().value;var n=cs[e];if(!n){if(n="generated_namespace_uri_"+e,cs[e])throw Error("Prefix already registered: Do not register the same prefix twice.");cs[e]=n}return{localName:t,namespaceURI:n}}(e)).namespaceURI,a=e.localName;if(!i)throw pa();var o=t.map((function(e){return me(e)})),s=me(n);Ai(i,a,o,s,(function(e,t,n){var l=Array.from(arguments);l.splice(0,3),l=l.map((function(e,n){return wl(e,o[n],t)}));var u={};u.currentContext=t.J,u.domFacade=t.h.h,u=u;try{var p=r.apply(void 0,[u].concat(c(l)))}catch(e){throw new bl(e,a,i)}return p&&"object"==typeof p&&Object.getOwnPropertySymbols(p).includes(Is)?se.create(p.Eb):gt(t.h,p,s)}))},t.parseScript=function(e,t,n,r){return r=void 0===r?_e:r,e=Po(e,{ca:"XQueryUpdate3.1"===t.language,debug:t.debug}),t.Ta&&Zo(e,new os(void 0)),function e(t,n,r,i){if("string"==typeof r)return 0===r.length?null:n.createTextNode(r);if(!Array.isArray(r))throw new TypeError("JsonML element should be an array or string");var a=r[0];switch(a){case"copySource":case"insertAfter":case"insertAsFirst":case"insertAsLast":case"insertBefore":case"insertInto":case"modifyExpr":case"newNameExpr":case"replacementExpr":case"replaceValue":case"returnExpr":case"sourceExpr":case"targetExpr":case"transformCopies":case"transformCopy":i=i||"http://www.w3.org/2005/XQueryX";break;case"deleteExpr":case"insertExpr":case"renameExpr":case"replaceExpr":case"transformExpr":i="http://www.w3.org/2007/xquery-update-10";break;default:i="http://www.w3.org/2005/XQueryX"}a=n.createElementNS(i,vl[i]+":"+a);var o=r[1],s=1;if("object"==typeof o&&!Array.isArray(o)){for(var l in o)null!==o[l]&&("type"===l?t.setAttributeNS(a,i,"fontoxpath:"+l,de(o[l])):t.setAttributeNS(a,i,vl[i]+":"+l,o[l]));s=2}for(l=s,o=r.length;l<o;++l)null!==(s=e(t,n,r[l],i))&&t.insertBefore(a,s,null);return a}(r,n,e,null)},t.profiler=js,t.createTypedValueFactory=function(e){return function(t,n){return t=mt(new Te(null===n?new xe:n),t,me(e)),(n={})[Is]=!0,n.Eb=t,n}},t.Language={XPATH_3_1_LANGUAGE:"XPath3.1",XQUERY_3_1_LANGUAGE:"XQuery3.1",XQUERY_UPDATE_3_1_LANGUAGE:"XQueryUpdate3.1"},t.ReturnType=Us),t}.call("undefined"==typeof window?void 0:window,Object.freeze({__proto__:null,compile:function(e,t={language:"xsd"}){const n=Oo(t)(e),r=function(e){const t=new ha;return e(t),new _a(t.program)}(e=>{Ia(e,n,"xpath"===t.language),e.accept()});return function(e){const n="xpath"===t.language?[-1,...Po(e),-2]:Po(e);return r.execute(n).success}}})),Ro=(Do.compareSpecificity,Do.compileXPathToJavaScript,Do.createTypedValueFactory,Do.domFacade,Do.evaluateUpdatingExpression,Do.evaluateUpdatingExpressionSync,Do.evaluateXPath),Mo=(Do.evaluateXPathToArray,Do.evaluateXPathToAsyncIterator,Do.evaluateXPathToBoolean),Fo=Do.evaluateXPathToFirstNode,Uo=(Do.evaluateXPathToMap,Do.evaluateXPathToNodes),Ho=Do.evaluateXPathToNumber,Go=(Do.evaluateXPathToNumbers,Do.evaluateXPathToString),Lo=(Do.evaluateXPathToStrings,Do.executeJavaScriptCompiledXPath,Do.executePendingUpdateList,Do.getBucketForSelector,Do.getBucketsForNode),jo=(Do.Language,Do.parseScript,Do.precompileXPath,Do.profiler,Do.registerCustomXPathFunction),Xo=Do.registerXQueryModule;Do.ReturnType;class qo{constructor(e){this._onNodeTouched=e}getAllAttributes(e){return Array.from(e.attributes)}getAttribute(e,t){return e.getAttribute(t)}getChildNodes(e,t){return Array.from(e.childNodes).filter(e=>!t||Lo(e).includes(t))}getData(e){return e.nodeType===Node.ATTRIBUTE_NODE?(this._onNodeTouched(e),e.value):(this._onNodeTouched(e.parentNode),e.data)}getFirstChild(e,t){const n=Array.from(this.getChildNodes()).filter(e=>!t||Lo(e).includes(t))[0];return n||null}getLastChild(e,t){const n=e.getChildNodes().filter(e=>!t||Lo(e).includes(t)),r=n[n.length-1];return r||null}getNextSibling(e,t){for(let{nextSibling:n}=e;n;n=n.nextSibling)if(Lo(n).includes(t))return n;return null}getParentNode(e){return e.parentNode}getPreviousSibling(e,t){for(let{previousSibling:n}=e;n;n=n.previousSibling)if(Lo(n).includes(t))return n;return null}}class Vo{static isAbsolutePath(e){return null!=e&&(e.startsWith("/")||e.startsWith("instance("))}static isSelfReference(e){return"."===e||"./text()"===e||"text()"===e||""===e||null===e}static getInstanceId(e){if(e.startsWith("instance(")){const t=e.substring(e.indexOf("(")+1);return t.substring(1,t.indexOf(")")-1)}return"default"}static getPath(e){const t=Ro("path()",e),n=e.ownerDocument.firstElementChild.getAttribute("id");return null!==n&&"default"!==n?`#${n}${Vo.shortenPath(t)}`:Vo.shortenPath(t)}static shortenPath(e){const t=e.split("/");let n="";for(let e=2;e<t.length;e+=1){const r=t[e];if(-1!==r.indexOf("{}")){n+="/"+r.split("{}")[1]}else n+="/"+r}return n}}function zo(e,t,n,r){const i={};return function(a){if(i[a])return;const o={},s=[],l=[];for(l.push({node:a,processed:!1});l.length>0;){const a=l[l.length-1],{processed:u}=a,{node:c}=a;if(u)l.pop(),s.pop(),o[c]=!1,i[c]=!0,t&&0!==e[c].length||n.push(c);else{if(i[c]){l.pop();continue}if(o[c]){if(r){l.pop();continue}s.push(c),window.dispatchEvent(new CustomEvent("compute-exception",{composed:!0,bubbles:!0,detail:{path:s,message:"cyclic graph"}}))}o[c]=!0,s.push(c);const t=e[c];for(let e=t.length-1;e>=0;e-=1)l.push({node:t[e],processed:!1});a.processed=!0}}}}function $o(e){this.nodes={},this.outgoingEdges={},this.incomingEdges={},this.circular=e&&!!e.circular}$o.prototype={size(){return Object.keys(this.nodes).length},addNode(e,t){this.hasNode(e)||(this.nodes[e]=2===arguments.length?t:e,this.outgoingEdges[e]=[],this.incomingEdges[e]=[])},removeNode(e){this.hasNode(e)&&(delete this.nodes[e],delete this.outgoingEdges[e],delete this.incomingEdges[e],[this.incomingEdges,this.outgoingEdges].forEach(t=>{Object.keys(t).forEach(n=>{const r=t[n].indexOf(e);r>=0&&t[n].splice(r,1)},this)}))},hasNode(e){return Object.prototype.hasOwnProperty.call(this.nodes,e)},getNodeData(e){if(this.hasNode(e))return this.nodes[e];throw new Error("Node does not exist: "+e)},setNodeData(e,t){if(!this.hasNode(e))throw new Error("Node does not exist: "+e);this.nodes[e]=t},addDependency(e,t){if(!this.hasNode(e))throw new Error("Node does not exist: "+e);if(!this.hasNode(t))throw new Error("Node does not exist: "+t);return-1===this.outgoingEdges[e].indexOf(t)&&this.outgoingEdges[e].push(t),-1===this.incomingEdges[t].indexOf(e)&&this.incomingEdges[t].push(e),!0},removeDependency(e,t){let n;this.hasNode(e)&&(n=this.outgoingEdges[e].indexOf(t),n>=0&&this.outgoingEdges[e].splice(n,1)),this.hasNode(t)&&(n=this.incomingEdges[t].indexOf(e),n>=0&&this.incomingEdges[t].splice(n,1))},clone(){const e=this,t=new $o;return Object.keys(e.nodes).forEach(n=>{t.nodes[n]=e.nodes[n],t.outgoingEdges[n]=e.outgoingEdges[n].slice(0),t.incomingEdges[n]=e.incomingEdges[n].slice(0)}),t},directDependenciesOf(e){if(this.hasNode(e))return this.outgoingEdges[e].slice(0);throw new Error("Node does not exist: "+e)},directDependantsOf(e){if(this.hasNode(e))return this.incomingEdges[e].slice(0);throw new Error("Node does not exist: "+e)},dependenciesOf(e,t){if(this.hasNode(e)){const n=[];zo(this.outgoingEdges,t,n,this.circular)(e);const r=n.indexOf(e);return r>=0&&n.splice(r,1),n}throw new Error("Node does not exist: "+e)},dependantsOf(e,t){if(this.hasNode(e)){const n=[];zo(this.incomingEdges,t,n,this.circular)(e);const r=n.indexOf(e);return r>=0&&n.splice(r,1),n}throw new Error("Node does not exist: "+e)},overallOrder(e){const t=this,n=[],r=Object.keys(this.nodes);if(0===r.length)return n;if(!this.circular){const e=zo(this.outgoingEdges,!1,[],this.circular);r.forEach(t=>{e(t)})}const i=zo(this.outgoingEdges,e,n,this.circular);return r.filter(e=>0===t.incomingEdges[e].length).forEach(e=>{i(e)}),this.circular&&r.filter(e=>-1===n.indexOf(e)).forEach(e=>i(e)),n}},$o.prototype.directDependentsOf=$o.prototype.directDependantsOf,$o.prototype.dependentsOf=$o.prototype.dependantsOf;class Yo{static get ACTION_ELEMENTS(){return["FX-DELETE","FX-DISPATCH","FX-INSERT","FX-LOAD","FX-MESSAGE","FX-REBUILD","FX-RECALCULATE","FX-REFRESH","FX-RENEW","FX-REPLACE","FX-RESET","FX-RETAIN","FX-RETURN","FX-REVALIDATE","FX-SEND","FX-SETFOCUS","FX-SETINDEX","FX-SETVALUE","FX-TOGGLE","FX-UPDATE"]}static get XFORMS_NAMESPACE_URI(){return"http://www.w3.org/2002/xforms"}static isActionElement(e){return Yo.ACTION_ELEMENTS.includes(e)}static get UI_ELEMENTS(){return["FX-ALERT","FX-CONTROL","FX-BUTTON","FX-CONTROL","FX-DIALOG","FX-FILENAME","FX-MEDIATYPE","FX-GROUP","FX-HINT","FX-INPUT","FX-ITEMSET","FX-LABEL","FX-OUTPUT","FX-RANGE","FX-REPEAT","FX-REPEATITEM","FX-SWITCH","FX-SECRET","FX-SELECT","FX-SUBMIT","FX-TEXTAREA","FX-TRIGGER","FX-UPLOAD"]}static isUiElement(e){Yo.UI_ELEMENTS.includes(e);return Yo.UI_ELEMENTS.includes(e)}static async refreshChildren(e){return new Promise(t=>{const{children:n}=e;n&&Array.from(n).forEach(e=>{Yo.isUiElement(e.nodeName)&&"function"==typeof e.refresh?e.refresh():"fx-MODEL"!==e.nodeName&&Yo.refreshChildren(e)}),t("done")})}static isRepeated(e){return null!==e.closest("fx-repeatitem")}static getRepeatTarget(e,t){return e.closest("fx-repeatitem").querySelector("#"+t)}}Yo.READONLY_DEFAULT=!1,Yo.REQUIRED_DEFAULT=!1,Yo.RELEVANT_DEFAULT=!0,Yo.CONSTRAINT_DEFAULT=!0,Yo.TYPE_DEFAULT="xs:string";const Ko="http://www.w3.org/2002/xforms";jo({namespaceURI:Ko,localName:"log"},["xs:string?"],"xs:string?",(e,t)=>{const{formElement:n}=e.currentContext,r=n.querySelector(`fx-instance[id=${t}]`);if(r){return(new XMLSerializer).serializeToString(r.getDefaultContext())}return null}),jo({namespaceURI:Ko,localName:"logtree"},["xs:string?"],"element()?",(e,t)=>{const{formElement:n}=e.currentContext,r=n.querySelector(`fx-instance[id=${t}]`);if(r){const t=document.createElement("div");t.setAttribute("class","logtree");const n=e.currentContext.formElement,i=n.querySelector(".logtree");i&&i.parentNode.removeChild(i),n.appendChild(function e(t,n){if(n&&n.nodeType===Node.ELEMENT_NODE&&n.children){const r=document.createElement("details");r.setAttribute("data-path",n.nodeName);const i=document.createElement("summary");let a,o=" <"+n.nodeName;Array.from(n.attributes).forEach(e=>{o+=` ${e.nodeName}="${e.nodeValue}"`}),n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&""!==n.firstChild.data.trim()?(a=n.firstChild.nodeValue,o+=`>${a}</${n.nodeName}>`):o+=">",i.textContent=o,r.appendChild(i),0!==n.childElementCount?r.setAttribute("open","open"):i.setAttribute("style","list-style:none;"),t.appendChild(r),Array.from(n.children).forEach(t=>{e(r,t)})}}(t,r.getDefaultContext()))}return null});const Jo=(e,t)=>{const{formElement:n}=e.currentContext,r=t?n.querySelector(`fx-instance[id=${t}]`):n.querySelector("fx-instance");if(r){return r.getDefaultContext()}return null};function Qo({prefix:e,localName:t},n){switch(t){case"boolean-from-string":case"depends":case"event":case"index":case"instance":case"log":case"logtree":return{namespaceURI:Ko,localName:t};default:return""===e||"fn"===e?{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:t}:"local"===e?{namespaceURI:"http://www.w3.org/2005/xquery-local-functions",localName:t}:null}}function Zo(e){return{xhtml:"http://www.w3.org/1999/xhtml",tei:"http://www.tei-c.org/ns/1.0"}[e]||null}function Wo(e,t,n,r={}){return Ro(e,t,null,r,"xs:anyType",{currentContext:{formElement:n,variables:r},moduleImports:{xf:Ko},functionNameResolver:Qo,namespaceResolver:Zo})}function es(e,t,n){return Fo(e,t,null,{},{namespaceResolver:Zo,defaultFunctionNamespaceURI:Ko,moduleImports:{xf:Ko},currentContext:{formElement:n}})}function ts(e,t,n){return Uo(e,t,null,{},{currentContext:{formElement:n},functionNameResolver:Qo,moduleImports:{xf:Ko},namespaceResolver:Zo})}function ns(e,t,n){return Mo(e,t,null,{},{currentContext:{formElement:n},functionNameResolver:Qo,moduleImports:{xf:Ko},namespaceResolver:Zo})}function rs(e,t,n,r=null){return Go(e,t,r,{},{currentContext:{formElement:n},functionNameResolver:Qo,moduleImports:{xf:Ko},namespaceResolver:Zo})}function is(e,t,n,r=null){return Ho(e,t,r,{},{currentContext:{formElement:n},functionNameResolver:Qo,moduleImports:{xf:Ko},namespaceResolver:Zo})}jo({namespaceURI:Ko,localName:"index"},["xs:string?"],"xs:integer?",(e,t)=>{const{formElement:n}=e.currentContext,r=t?n.querySelector(`fx-repeat[id=${t}]`):null;return r?r.getAttribute("index"):Number(1)}),jo({namespaceURI:Ko,localName:"instance"},[],"item()?",e=>Jo(e,null)),jo({namespaceURI:Ko,localName:"instance"},["xs:string?"],"item()?",Jo),jo({namespaceURI:Ko,localName:"depends"},["node()*"],"item()?",(e,t)=>t[0]),jo({namespaceURI:Ko,localName:"event"},["xs:string?"],"item()?",(e,t)=>(e.currentContext.variables[t].nodeType&&console.log("got some node as js object"),e.currentContext.variables[t])),Xo(`\n    module namespace xf="${Ko}";\n\n    declare %public function xf:boolean-from-string($str as xs:string) as xs:boolean {\n        lower-case($str) = "true" or $str = "1"\n    };\n`);class as extends HTMLElement{constructor(){super(),this.model=this.parentNode,this.attachShadow({mode:"open"})}connectedCallback(){this.hasAttribute("src")&&(this.src=this.getAttribute("src")),this.hasAttribute("id")?this.id=this.getAttribute("id"):this.id="default",this.hasAttribute("type")?this.type=this.getAttribute("type"):this.type="xml";this.shadowRoot.innerHTML="\n            <style>\n                \n            :host {\n                display: none;\n            }\n            :host * {\n                display:none;\n            }\n            ::slotted(*){\n                display:none;\n            }\n        \n            </style>\n            \n        \n        "}async init(){await this._initInstance().then(()=>(this.dispatchEvent(new CustomEvent("instance-loaded",{composed:!0,bubbles:!0,detail:{instance:this}})),this))}evalXPath(e){const t=this.parentElement.parentElement;return es(e,this.getDefaultContext(),t)}getInstanceData(){return this.instanceData}getDefaultContext(){return"xml"===this.type?this.instanceData.firstElementChild:this.instanceData}async _initInstance(){if("#querystring"===this.src){const e=new URLSearchParams(location.search),t=(new DOMParser).parseFromString("<data></data>","application/xml"),n=t.firstElementChild;for(const r of e){const e=t.createElement(r[0]);e.appendChild(t.createTextNode(r[1])),n.appendChild(e)}this.instanceData=t,this.instanceData.firstElementChild.setAttribute("id",this.id)}else this.src?await this._loadData():0!==this.childNodes.length&&this._useInlineData()}async _loadData(){const e=""+this.src,t=this._getContentType();await fetch(e,{method:"GET",mode:"cors",credentials:"same-origin",headers:{"Content-Type":t}}).then(e=>{const t=e.headers.get("content-type").toLowerCase();return console.log("********** responseContentType *********",t),t.startsWith("text/plain")?e.text():t.startsWith("application/json")?e.json():t.startsWith("application/xml")?e.text().then(e=>(console.log("xml ********",e),(new DOMParser).parseFromString(e,"application/xml"))):"done"}).then(e=>{this.instanceData=e,console.log("instanceData loaded: ",this.instanceData)}).catch(e=>{throw new Error("failed loading data "+e)})}_getContentType(){return"xml"===this.type?"application/xml":"json"===this.type?"application/json":(console.warn("content-type unknown ",this.type),null)}_useInlineData(){if("xml"===this.type){const e=(new DOMParser).parseFromString(this.innerHTML,"application/xml");console.log("fx-instance init id:",this.id),this.instanceData=e,console.log("fx-instance data: ",this.instanceData),this.instanceData.firstElementChild.setAttribute("id",this.id)}else"json"===this.type?this.instanceData=JSON.parse(this.textContent):console.warn("unknow type for data ",this.type)}_handleResponse(){console.log("_handleResponse ");const e=this.shadowRoot.getElementById("loader"),t=(new DOMParser).parseFromString(e.lastResponse,"application/xml");this.instanceData=t,console.log("data: ",this.instanceData)}_handleError(){const e=this.shadowRoot.getElementById("loader");console.log("_handleResponse ",e.lastError)}}customElements.define("fx-instance",as);class os{constructor(e,t,n,r,i,a,o,s,l){this.path=e,this.ref=t,this.constraint=a,this.readonly=n,this.relevant=r,this.required=i,this.type=o,this.node=s,this.bind=l,this.changed=!1,this.alerts=[]}get value(){return this.node.nodeType?this.node.nodeType===Node.ATTRIBUTE_NODE?this.node.nodeValue:this.node.textContent:this.node}set value(e){console.log("modelitem.setvalue oldVal",this.value),console.log("modelitem.setvalue newVal",e),e.nodeType===Node.DOCUMENT_NODE?this.node.appendChild(e.firstElementChild):e.nodeType===Node.ELEMENT_NODE?this.node.appendChild(e):this.node.nodeType===Node.ATTRIBUTE_NODE?this.node.nodeValue=e:this.node.textContent=e}addAlert(e){this.alerts.push(e)}cleanAlerts(){this.alerts=[]}}class ss extends HTMLElement{constructor(){super(),this.instances=[],this.modelItems=[],this.defaultContext={},this.inited=!1,this.modelConstructed=!1,this.attachShadow({mode:"open"})}get formElement(){return this.parentElement}connectedCallback(){this.shadowRoot.innerHTML="\n            <slot></slot>\n        ",this.addEventListener("model-construct-done",e=>{this.modelConstructed=!0,console.log("model-construct-done fired ",e.detail.model.instances)})}static lazyCreateModelItem(e,t,n){let r,i={};if(null==n)return null;i=n.nodeType===n.TEXT_NODE?n.parentNode:n,n.nodeType?r=Vo.getPath(n):(r=null,i=n);const a=new os(r,t,Yo.READONLY_DEFAULT,Yo.RELEVANT_DEFAULT,Yo.REQUIRED_DEFAULT,Yo.CONSTRAINT_DEFAULT,Yo.TYPE_DEFAULT,i,this);return e.registerModelItem(a),a}modelConstruct(){console.log("### <<<<< dispatching model-construct >>>>>"),this.dispatchEvent(new CustomEvent("model-construct",{detail:this}));const e=this.querySelectorAll("fx-instance");if(e.length>0){console.group("init instances");const t=[];e.forEach(e=>{t.push(e.init())}),Promise.all(t).then(()=>{this.instances=Array.from(e),console.log("_modelConstruct this.instances ",this.instances),this.updateModel(),this.inited=!0,console.log("### <<<<< dispatching model-construct-done >>>>>"),this.dispatchEvent(new CustomEvent("model-construct-done",{composed:!0,bubbles:!0,detail:{model:this}}))}),console.groupEnd()}else this.dispatchEvent(new CustomEvent("model-construct-done",{composed:!0,bubbles:!0,detail:{model:this}}));this.inited=!0}registerModelItem(e){this.modelItems.push(e)}updateModel(){this.rebuild(),this.recalculate(),this.revalidate()}rebuild(){console.group("### rebuild"),this.mainGraph=new $o(!1),this.modelItems=[];this.querySelectorAll("fx-model > fx-bind").forEach(e=>{e.init(this)}),console.log("rebuild mainGraph",this.mainGraph),console.log("rebuild mainGraph calc order",this.mainGraph.overallOrder()),console.groupEnd()}recalculate(){console.group("### recalculate"),console.log("recalculate instances ",this.instances);this.mainGraph.overallOrder().forEach(e=>{console.log("recalculating path ",e);const t=this.mainGraph.getNodeData(e),n=this.getModelItem(t);if(n&&e.includes(":")){const t=e.split(":")[1];if(t)if("calculate"===t){const e=Wo(n.bind[t],n.node,this);n.value=e}else if("constraint"!==t&&"type"!==t){console.log("recalculating property ",t);const e=n.bind[t];if(e){console.log("recalc expr: ",e);const r=ns(e,n.node,this);n[t]=r,console.log(`modelItem '${t}'='${e}' computed`,n.required)}}}}),console.log(`recalculate finished with modelItems ${this.modelItems.length} item(s)`,this.modelItems),console.groupEnd()}revalidate(){console.group("### revalidate");let e=!0;return this.modelItems.forEach(t=>{const{bind:n}=t;if(n&&"function"==typeof n.hasAttribute&&n.hasAttribute("constraint")){const r=n.getAttribute("constraint");if(r){const i=ns(r,t.node,this);if(console.log("modelItem validity computed: ",i),t.constraint=i,i||(e=!1),!this.modelConstructed){const e=n.getAlert();e&&t.addAlert(e)}}}}),console.log("modelItems after revalidate: ",this.modelItems),console.groupEnd(),e}getModelItem(e){return this.modelItems.find(t=>t.node===e)}getDefaultContext(){return this.instances[0].getDefaultContext()}getDefaultInstance(){return this.instances[0]}getDefaultInstanceData(){return console.log("default instance data ",this.instances[0].instanceData),this.instances[0].instanceData}getInstance(e){return Array.from(this.instances).find(t=>t.id===e)}evalBinding(e){return this.instances[0].evalXPath(e)}}function ls(e){return e.closest("fx-fore")}function us(e,t){const n=e.closest("[ref]");if(null!==n)return n.nodeset;const r=function(e){return ls(e).getModel()}(e);if(Vo.isAbsolutePath(t)){const e=Vo.getInstanceId(t);return r.getInstance(e).getDefaultContext()}return null!==r.getDefaultInstance()?r.getDefaultInstance().getDefaultContext():[]}function cs(e,t){const n=function(e){return e.nodeType===Node.ATTRIBUTE_NODE?e.ownerElement:e.parentNode}(e),r=n.closest("fx-repeatitem");if(r)return r.nodeset;if(e.nodeType===Node.ELEMENT_NODE&&e.hasAttribute("context")){const r=us(e.parentNode,t);return es(e.getAttribute("context"),r,ls(n))}return us(n,t)}customElements.define("fx-model",ss);const ps=e=>class extends e{static get properties(){return{context:{type:Object},model:{type:Object},ref:{type:String},modelItem:{type:Object}}}constructor(){super(),this.context=null,this.model=null,this.modelItem={},this.ref=this.hasAttribute("ref")?this.getAttribute("ref"):""}getModel(){if(this.model)return this.model;return this.getOwnerForm().querySelector("fx-model")}getOwnerForm(){let e=this;for(;e&&e.parentNode;){if("FX-FORE"===e.nodeName.toUpperCase())return e;e=e.parentNode instanceof DocumentFragment?e.parentNode.host:e.parentNode}return e}evalInContext(){const e=cs(this,this.ref);if(""===this.ref)this.nodeset=e;else if(Array.isArray(e))e.forEach(t=>{if(Vo.isSelfReference(this.ref))this.nodeset=e;else{const e=es(this.ref,t,null);this.nodeset.push(e)}});else{const t=this.getOwnerForm();e.nodeType?this.nodeset=es(this.ref,e,t):this.nodeset=Wo(this.ref,e,t)}}isNotBound(){return!this.hasAttribute("ref")}isBound(){return this.hasAttribute("ref")}getBindingExpr(){if(this.hasAttribute("ref"))return this.getAttribute("ref");const e=this.parentNode.closest("[ref]");return e?e.getAttribute("ref"):"instance()"}_getParentBindingElement(e){if(e.parentNode.host){const{host:t}=e.parentNode;if(t.hasAttribute("ref"))return t}else if(e.parentNode){if(e.parentNode.hasAttribute("ref"))return this.parentNode;this._getParentBindingElement(this.parentNode)}return null}getModelItem(){const e=this.getModel().getModelItem(this.nodeset);e&&(this.modelItem=e);let t;if(this.closest("fx-repeatitem")){const{index:e}=this.closest("fx-repeatitem");t=Array.isArray(this.nodeset)?this.getModel().getModelItem(this.nodeset[e-1]):this.getModel().getModelItem(this.nodeset)}else t=this.getModel().getModelItem(this.nodeset);return t||ss.lazyCreateModelItem(this.getModel(),this.ref,this.nodeset)}getInScopeContext(){return cs(this,this.ref)}};class hs extends(ps(HTMLElement)){constructor(){super(),this.nodeset=[],this.model={},this.contextNode={},this.inited=!1}connectedCallback(){this.ref=this.getAttribute("ref"),this.readonly=this.getAttribute("readonly"),this.required=this.getAttribute("required"),this.relevant=this.getAttribute("relevant"),this.type=this.hasAttribute("type")?this.getAttribute("type"):hs.TYPE_DEFAULT,this.calculate=this.getAttribute("calculate")}init(e){this.model=e,console.log("init binding ",this),this.instanceId=this._getInstanceId(),this.bindType=this.getModel().getInstance(this.instanceId).type,"xml"===this.bindType&&(this._evalInContext(),this._buildBindGraph(),this._createModelItems()),this._processChildren(e)}_buildBindGraph(){"xml"===this.bindType&&this.nodeset.forEach(e=>{const t=Vo.getPath(e);this.calculate&&(this.model.mainGraph.addNode(t+":calculate",e),this.model.mainGraph.addNode(t,e),this.model.mainGraph.addDependency(t,t+":calculate"));const n=this._getReferencesForProperty(this.calculate,e);0!==n.length&&this._addDependencies(n,e,t,"calculate");const r=this._getReferencesForProperty(this.readonly,e);0!==r.length?this._addDependencies(r,e,t,"readonly"):this.readonly&&this.model.mainGraph.addNode(t+":readonly",e);const i=this._getReferencesForProperty(this.required,e);0!==i.length?this._addDependencies(i,e,t,"required"):this.required&&this.model.mainGraph.addNode(t+":required",e);const a=this._getReferencesForProperty(this.relevant,e);0!==a.length?this._addDependencies(a,e,t,"relevant"):this.relevant&&this.model.mainGraph.addNode(t+":relevant",e);const o=this._getReferencesForProperty(this.constraint,e);0!==o.length?this._addDependencies(o,e,t,"constraint"):this.constraint&&this.model.mainGraph.addNode(t+":constraint",e)})}_addNode(e,t){this.model.mainGraph.hasNode(e)||this.model.mainGraph.addNode(e,{node:t})}_addDependencies(e,t,n,r){const i=`${n}:${r}`;0!==e.length?(this.model.mainGraph.hasNode(i)||this.model.mainGraph.addNode(i,t),e.forEach(e=>{const t=Vo.getPath(e);this.model.mainGraph.hasNode(t)||this.model.mainGraph.addNode(t,e),this.model.mainGraph.addDependency(i,t)})):this.model.mainGraph.addNode(i,t)}_processChildren(e){const t=this.querySelectorAll(":scope > fx-bind");Array.from(t).forEach(t=>{t.init(e)})}getAlert(){if(this.hasAttribute("alert"))return this.getAttribute("alert");const e=this.querySelector("fx-alert");return e?e.innerHTML:null}_evalInContext(){const e=this.getInScopeContext();if(this.nodeset=[],""===this.ref||null===this.ref)this.nodeset=e;else if(Array.isArray(e))e.forEach(t=>{if(Vo.isSelfReference(this.ref))this.nodeset=e;else if(this.ref){ts(this.ref,t,this.getOwnerForm()).forEach(e=>{this.nodeset.push(e)})}});else{"xml"===this.getModel().getInstance(this.instanceId).type?this.nodeset=ts(this.ref,e,this.getOwnerForm()):this.nodeset=this.ref}}_createModelItems(){Array.isArray(this.nodeset)?Array.from(this.nodeset).forEach(e=>{this._createModelItem(e)}):this._createModelItem(this.nodeset)}static lazyCreateModelitems(e,t,n){Array.isArray(n)?Array.from(n).forEach(n=>{hs.lazyCreateModelItem(e,t,n)}):hs.lazyCreateModelItem(e,t,n)}_createModelItem(e){if(Vo.isSelfReference(this.ref)){const e=this.parentElement.closest("fx-bind[ref]");return console.log("parent bound element ",e),void(e?e.required=this.required:console.error("no parent bound element"))}let t={};t=e.nodeType===e.TEXT_NODE?e.parentNode:e;const n=Vo.getPath(e),r=new os(n,this.getBindingExpr(),hs.READONLY_DEFAULT,hs.RELEVANT_DEFAULT,hs.REQUIRED_DEFAULT,hs.CONSTRAINT_DEFAULT,this.type,t,this);this.getModel().registerModelItem(r)}_getReferencesForProperty(e){if(e){const t=new Set,n=new qo(e=>t.add(e));return this.nodeset.forEach(t=>{rs(e,t,this.getOwnerForm(),n)}),Array.from(t.values())}return[]}_initBooleanModelItemProperty(e,t){return ns(this[e],t,this)}static shortenPath(e){const t=e.split("/");let n="";for(let e=2;e<t.length;e+=1){const r=t[e];if(-1!==r.indexOf("{}")){n+="/"+r.split("{}")[1]}else n+="/"+r}return n}_getInstanceId(){const e=this.getBindingExpr();return e.startsWith("instance(")?(this.instanceId=Vo.getInstanceId(e),this.instanceId):this.instanceId?this.instanceId:"default"}}hs.READONLY_DEFAULT=!1,hs.REQUIRED_DEFAULT=!1,hs.RELEVANT_DEFAULT=!0,hs.CONSTRAINT_DEFAULT=!0,hs.TYPE_DEFAULT="xs:string",customElements.define("fx-bind",hs);
/*!
 * Toastify js 1.11.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */
class ds{constructor(e){this.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,style:{background:""}},this.version="1.11.0",this.options={},this.toastElement=null,this._rootElement=document.body,this._init(e)}showToast(){if(this.toastElement=this._buildToast(),"string"==typeof this.options.selector?this._rootElement=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||this.options.selector instanceof ShadowRoot?this._rootElement=this.options.selector:this._rootElement=document.body,!this._rootElement)throw"Root element is not defined";return this._rootElement.insertBefore(this.toastElement,this._rootElement.firstChild),this._reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(()=>{this._removeElement(this.toastElement)},this.options.duration)),this}hideToast(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this._removeElement(this.toastElement)}_init(e){this.options=Object.assign(this.defaults,e),this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.toastElement=null,this.options.gravity="bottom"===e.gravity?"toastify-bottom":"toastify-top",this.options.stopOnFocus=void 0===e.stopOnFocus||e.stopOnFocus,this.options.style.background=this.options.style.background||e.backgroundColor}_buildToast(){if(!this.options)throw"Toastify is not initialized";let e=document.createElement("div");e.className="toastify on "+this.options.className,e.className+=" toastify-"+this.options.position,e.className+=" "+this.options.gravity;for(const t in this.options.style)e.style[t]=this.options.style[t];if(this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)e.appendChild(this.options.node);else if(this.options.escapeMarkup?e.innerText=this.options.text:e.innerHTML=this.options.text,""!==this.options.avatar){let t=document.createElement("img");t.src=this.options.avatar,t.className="toastify-avatar","left"==this.options.position?e.appendChild(t):e.insertAdjacentElement("afterbegin",t)}if(!0===this.options.close){let t=document.createElement("span");t.innerHTML="&#10006;",t.className="toast-close",t.addEventListener("click",e=>{e.stopPropagation(),this._removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)});const n=window.innerWidth>0?window.innerWidth:screen.width;"left"==this.options.position&&n>360?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}if(this.options.stopOnFocus&&this.options.duration>0&&(e.addEventListener("mouseover",t=>{window.clearTimeout(e.timeOutValue)}),e.addEventListener("mouseleave",()=>{e.timeOutValue=window.setTimeout(()=>{this._removeElement(e)},this.options.duration)})),void 0!==this.options.destination&&e.addEventListener("click",e=>{e.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}),"function"==typeof this.options.onClick&&void 0===this.options.destination&&e.addEventListener("click",e=>{e.stopPropagation(),this.options.onClick()}),"object"==typeof this.options.offset){const t=this._getAxisOffsetAValue("x",this.options),n=this._getAxisOffsetAValue("y",this.options),r="left"==this.options.position?t:"-"+t,i="toastify-top"==this.options.gravity?n:"-"+n;e.style.transform=`translate(${r},${i})`}return e}_removeElement(e){e.className=e.className.replace(" on",""),window.setTimeout(()=>{this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),e.parentNode&&e.parentNode.removeChild(e),this.options.callback.call(e),this._reposition()},400)}_reposition(){let e,t={top:15,bottom:15},n={top:15,bottom:15},r={top:15,bottom:15},i=this._rootElement.querySelectorAll(".toastify");for(let a=0;a<i.length;a++){e=!0===i[a].classList.contains("toastify-top")?"toastify-top":"toastify-bottom";let o=i[a].offsetHeight;e=e.substr(9,e.length-1);let s=15;(window.innerWidth>0?window.innerWidth:screen.width)<=360?(i[a].style[e]=r[e]+"px",r[e]+=o+s):!0===i[a].classList.contains("toastify-left")?(i[a].style[e]=t[e]+"px",t[e]+=o+s):(i[a].style[e]=n[e]+"px",n[e]+=o+s)}}_getAxisOffsetAValue(e,t){return t.offset[e]?isNaN(t.offset[e])?t.offset[e]:t.offset[e]+"px":"0px"}}function fs(e){return new ds(e)}class ms extends HTMLElement{static get properties(){return{avatar:{type:String},backgroundColor:{type:String},callback:{type:String},classProp:{type:String},close:{type:Boolean},destination:{type:String},duration:{type:Number},escapeMarkup:{type:Boolean},gravity:{type:String},newWindow:{type:Boolean},oldestFirst:{type:Boolean},position:{type:String},selector:{type:String},stopOnFocus:{type:Boolean},text:{type:String}}}constructor(){super(),this.attachShadow({mode:"open"})}_initVar(e,t){return this.hasAttribute(e)?this.getAttribute(e):t}connectedCallback(){this.avatar=this._initVar("avatar",""),this.backgroundColor=this._initVar("backgroundColor",""),this.callback=this._initVar("callback",{}),this.classProp=this._initVar("data-class",""),this.close="true"===this._initVar("close",!1),this.destination=this._initVar("destination",""),this.duration=Number(this._initVar("duration",3e3)),this.escapeMarkup="true"===this._initVar("escapeMarkup",!0),this.gravity=this._initVar("gravity","top"),this.newWindow="true"===this._initVar("newWindow",!1),this.oldestFirst="true"===this._initVar("oldestFirst",!0),this.position=this._initVar("position","right"),this.stopOnFocus=this._initVar("stopOnFocus",!0),this.text=this._initVar("text","");this.shadowRoot.innerHTML=`\n        <style>\n            \n        :host{\n            display:none;\n        }\n    \n        </style>\n        ${this.renderHTML}\n    `,this.addEventListener("jinn-toast",e=>{this.showToast(e.detail.text)})}showToast(e){new fs({avatar:this.avatar,className:this.classProp,close:this.close,destination:this.destination,duration:this.duration,escapeMarkup:this.escapeMarkup,gravity:this.gravity,newWindow:this.newWindow,oldestFirst:this.oldestFirst,position:this.position,node:this.shadowRoot,stopOnFocus:this.stopOnFocus,text:e}).showToast()}renderHTML(){return"\n      <slot></slot>\n    "}}window.customElements.define("jinn-toast",ms);class gs extends HTMLElement{static get properties(){return{model:{type:Object},ready:{type:Boolean}}}constructor(){super(),this.model={},this.addEventListener("model-construct-done",this._handleModelConstructDone),this.addEventListener("message",this._displayMessage),this.addEventListener("error",this._displayError),window.addEventListener("compute-exception",e=>{console.error("circular dependency: ",e)}),this.ready=!1;this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n            <style>\n                \n            :host {\n                display: block;\n                height:auto;\n                padding:var(--model-element-padding);\n                font-family:Roboto, sans-serif;\n                color:var(--paper-grey-900);\n            }\n            :host ::slotted(fx-model){\n                display:none;\n            }\n            #modalMessage .dialogActions{\n                text-align:center;\n            }\n            .overlay {\n              position: fixed;\n              top: 0;\n              bottom: 0;\n              left: 0;\n              right: 0;\n              background: rgba(0, 0, 0, 0.7);\n              transition: all 500ms;\n              visibility: hidden;\n              opacity: 0;\n              z-index:10;\n            }\n            .overlay.show {\n              visibility: visible;\n              opacity: 1;\n            }\n            \n            .popup {\n              margin: 70px auto;\n              background: #fff;\n              border-radius: 5px;\n              width: 30%;\n              position: relative;\n              transition: all 5s ease-in-out;\n                            padding: 20px;\n\n            }\n            .popup h2 {\n              margin-top: 0;\n              width:100%;\n              background:#eee;\n              position:absolute;\n              top:0;\n              right:0;\n              left:0;\n              height:40px;\n             border-radius: 5px;\n\n            }\n            .popup .close {\n                position: absolute;\n                top: 3px;\n                right: 10px;\n                transition: all 200ms;\n                font-size: 30px;\n                font-weight: bold;\n                text-decoration: none;\n                color: #333;\n            }\n            .popup .close:focus{\n                outline:none;\n            }\n            \n            .popup .close:hover {\n                color: #06D85F;\n            }\n            #messageContent{\n                margin-top:40px;\n            }\n\n\n        \n            </style>\n            \n           <jinn-toast id="message" gravity="bottom" position="left"></jinn-toast>\n           <slot></slot>\n           <div id="modalMessage" class="overlay">\n                <div class="popup">\n                   <h2></h2>\n                    <a class="close" href="#"  onclick="event.target.parentNode.parentNode.classList.remove(\'show\')" autofocus>&times;</a>\n                    <div id="messageContent"></div>\n                </div>\n           </div>\n        \n        '}connectedCallback(){this.shadowRoot.querySelector("slot").addEventListener("slotchange",e=>{let t=e.target.assignedElements().find(e=>"FX-MODEL"===e.nodeName.toUpperCase());if(!t){const e=document.createElement("FX-model");this.appendChild(e),t=e}t.inited||(console.log("########## FORE: kick off processing... ##########"),t.modelConstruct()),this.model=t})}evaluateToNodes(e,t){return ts(e,t,this)}disconnectedCallback(){}async refresh(){console.group("### refresh"),Yo.refreshChildren(this),this._updateTemplateExpressions(),console.groupEnd(),console.log("### <<<<< dispatching refresh-done - end of UI update cycle >>>>>"),this.dispatchEvent(new CustomEvent("refresh-done"))}_updateTemplateExpressions(){const e=ts("(descendant-or-self::*/(text(), @*))[matches(.,'\\{.*\\}')] except descendant-or-self::xhtml:fx-model/descendant-or-self::node()/(., @*)",this,null);console.log("template expressions found ",e),this.storedTemplateExpressions||(this.storedTemplateExpressions=[]),Array.from(e).forEach(e=>{const t=this._getTemplateExpression(e);this.storedTemplateExpressions.push({expr:t,node:e})}),this.storedTemplateExpressions.forEach(e=>{this._processTemplateExpression(e)}),console.log("stored template expressions ",this.storedTemplateExpressions)}_processTemplateExpression(e){console.log("processing template expression ",e);const{expr:t}=e,{node:n}=e;this.evaluateTemplateExpression(t,n,this)}evaluateTemplateExpression(e,t){const n=e.match(/{[^}]*}/g);n&&n.forEach(n=>{console.log("match ",n);const r=n.substring(1,n.length-1),i=rs(r,cs(t,r),this),a=e.replaceAll(n,i);if(console.log("result of replacing ",a),t.nodeType===Node.ATTRIBUTE_NODE){t.ownerElement.setAttribute(t.nodeName,a)}else t.nodeType===Node.TEXT_NODE&&(t.textContent=a)})}_getTemplateExpression(e){return e.nodeType===Node.ATTRIBUTE_NODE?e.value:e.nodeType===Node.TEXT_NODE?e.textContent:null}_refreshChildren(){this.querySelectorAll("*").forEach(e=>{Yo.isUiElement(e.nodeName)&&"function"==typeof e.refresh&&e.refresh()})}_handleModelConstructDone(){this._initUI()}async _lazyCreateInstance(){const e=this.querySelector("fx-model");if(0===e.instances.length){console.log("### lazy creation of instance");const t=document.createElement("fx-instance");e.appendChild(t);const n=document.implementation.createDocument(null,"data",null);this._generateInstance(this,n.firstElementChild),t.instanceData=n,e.instances.push(t),console.log("generatedInstance ",this.getModel().getDefaultInstanceData())}}_generateInstance(e,t){if(e.hasAttribute("ref")&&!Yo.isActionElement(e.nodeName)){const n=e.getAttribute("ref");if(n.includes("/")){console.log("complex path to create ",n);n.split("/").forEach(n=>{console.log("step ",n),t=this._generateNode(t,n,e)})}else t=this._generateNode(t,n,e)}if(e.hasChildNodes()){const n=e.children;for(let e=0;e<n.length;e+=1)this._generateInstance(n[e],t)}return t}_generateNode(e,t,n){const r=e.ownerDocument.createElement(t);return 0===n.children.length&&(r.textContent=n.textContent),e.appendChild(r),e=r}async _initUI(){console.log("### _initUI()"),await this._lazyCreateInstance(),await this.refresh(),this.ready=!0,console.log("### <<<<< dispatching ready >>>>>"),console.log("########## modelItems: ",this.getModel().modelItems),console.log("########## FORE: form fully initialized... ##########"),this.dispatchEvent(new CustomEvent("ready",{}))}getModel(){return this.querySelector("fx-model")}_displayMessage(e){const{level:t}=e.detail,n=e.detail.message;this._showMessage(t,n)}_displayError(e){const t=e.detail.message;this._showMessage("modal",t)}_showMessage(e,t){if("modal"===e)this.shadowRoot.getElementById("messageContent").innerText=t,this.shadowRoot.getElementById("modalMessage").classList.add("show");else if("modeless"===e)this.shadowRoot.querySelector("#message").showToast(t);else{this.shadowRoot.querySelector("#message").showToast(t)}}}customElements.define("fx-fore",gs);class ys extends(ps(HTMLElement)){constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){if(this.style.display="none",this.model=this.parentNode,!this.hasAttribute("id"))throw new Error("id is required");if(this.id=this.getAttribute("id"),this.instance=this.hasAttribute("instance")?this.getAttribute("instance"):null,this.method=this.hasAttribute("method")?this.getAttribute("method"):"get",this.nonrelevant=this.hasAttribute("nonrelevant")?this.getAttribute("nonrelevant"):"remove",this.replace=this.hasAttribute("replace")?this.getAttribute("replace"):"all",!this.hasAttribute("url"))throw new Error("url is required for submission: "+this.id);this.url=this.getAttribute("url"),this.targetref=this.hasAttribute("targetref")?this.getAttribute("targetref"):null,this.mediatype=this.hasAttribute("mediatype")?this.getAttribute("mediatype"):"application/xml",this.validate=this.getAttribute("validate")?this.getAttribute("validate"):"true",this.shadowRoot.innerHTML=this.renderHTML(),this.addEventListener("submit",()=>this._submit())}renderHTML(){return"\n      <slot></slot>\n    "}submit(){this.dispatchEvent(new CustomEvent("submit",{composed:!0,bubbles:!0,detail:{}}))}_submit(){console.log("submitting...."),this.evalInContext();const e=this.getModel();if(e.recalculate(),this.validate){if(!e.revalidate())return}this._serializeAndSend()}_evaluateAttributeTemplateExpression(e,t){const n=e.match(/{[^}]*}/g);return n&&n.forEach(n=>{console.log("match ",n);const r=n.substring(1,n.length-1),i=rs(r,cs(t,r),this.getOwnerForm()),a=e.replaceAll(n,i);console.log("result of replacing ",a),e=a}),e}async _serializeAndSend(){const e=this._evaluateAttributeTemplateExpression(this.url,this),t=new XMLSerializer,n=this.selectRelevant();console.log("relevant nodes",n);let r=t.serializeToString(this.nodeset);"get"===this.method.toLowerCase()&&(r=void 0);const i=await fetch(e,{method:this.method,mode:"cors",credentials:"same-origin",headers:{"Content-type":"application/xml; charset=UTF-8"},body:r});i.ok||this.dispatchEvent(new CustomEvent("submit-error",{composed:!0,bubbles:!0,detail:{message:"Error while submitting "+this.id}}));const a=i.headers.get("content-type").toLowerCase();if(a.startsWith("text/plain")||a.startsWith("text/html")){const e=await i.text();this._handleResponse(e)}else if(a.startsWith("application/json")){const e=await i.json();this._handleResponse(e)}else if(a.startsWith("application/xml")){const e=await i.text(),t=(new DOMParser).parseFromString(e,"application/xml");this._handleResponse(t)}else{const e=await i.blob();this._handleResponse(e)}}_getUrlExpr(){return this.storedTemplateExpressions.find(e=>"url"===e.node.nodeName)}_getTargetInstance(){let e;if(e=this.instance?this.model.getInstance(this.instance):this.model.getInstance("default"),!e)throw new Error("target instance not found: "+e);return e}_handleResponse(e){if(console.log("_handleResponse ",e),"instance"===this.replace){const t=this._getTargetInstance();if(!t)throw new Error("target instance not found: "+t);{const n=e;t.instanceData=n,console.log("### replaced instance ",t.instanceData),this.model.updateModel(),this.getOwnerForm().refresh()}}if("all"===this.replace&&(document.getElementsByTagName("html")[0].innerHTML=e),"target"===this.replace){const t=this.getAttribute("target");document.querySelector(t).innerHTML=e}"redirect"===this.replace&&(window.location.href=e),this.dispatchEvent(new CustomEvent("submit-done",{composed:!0,bubbles:!0,detail:{}}))}selectRelevant(){if("keep"===this.nonrelevant)return this.nodeset;const e=this.getModel().getModelItem(this.nodeset);if(e&&!e.relevant)return null;const t=(new DOMParser).parseFromString("<data></data>","application/xml").firstElementChild;return this._filterRelevant(this.nodeset,t)}_filterRelevant(e,t){const{children:n}=e;return Array.from(n).forEach(e=>{const n=this.getModel().getModelItem(e);if(!n||n.relevant){const n=e.cloneNode();return t.appendChild(n),e.innerText&&(n.innerText=e.innerText),this._filterRelevant(e,n)}}),t}_handleError(){console.log("ERRRORRRRR"),this.dispatchEvent(new CustomEvent("submit-error",{composed:!0,bubbles:!0,detail:{}}))}}customElements.define("fx-submission",ys);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const vs="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,bs=`{{lit-${String(Math.random()).slice(2)}}}`,ws=`\x3c!--${bs}--\x3e`,xs=e=>-1!==e.index,As=()=>document.createComment(""),_s=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/,Es=new WeakMap,Cs=e=>"function"==typeof e&&Es.has(e),Ns={},Ts={};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class Bs{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=vs?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],n=this.template.parts,r=document.createTreeWalker(e,133,null,!1);let i,a=0,o=0,s=r.nextNode();for(;a<n.length;)if(i=n[a],xs(i)){for(;o<i.index;)o++,"TEMPLATE"===s.nodeName&&(t.push(s),r.currentNode=s.content),null===(s=r.nextNode())&&(r.currentNode=t.pop(),s=r.nextNode());if("node"===i.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(s.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(s,i.name,i.strings,this.options));a++}else this.__parts.push(void 0),a++;return vs&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Ss=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),Is=` ${bs} `;class ks{constructor(e,t,n,r){this.strings=e,this.values=t,this.type=n,this.processor=r}getHTML(){const e=this.strings.length-1;let t="",n=!1;for(let r=0;r<e;r++){const e=this.strings[r],i=e.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===e.indexOf("--\x3e",i+1);const a=_s.exec(e);t+=null===a?e+(n?Is:ws):e.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+bs}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==Ss&&(t=Ss.createHTML(t)),e.innerHTML=t,e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Os=e=>null===e||!("object"==typeof e||"function"==typeof e),Ps=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class Ds{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new Rs(this)}_getValue(){const e=this.strings,t=e.length-1,n=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=n[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!Ps(e))return e}let r="";for(let i=0;i<t;i++){r+=e[i];const t=n[i];if(void 0!==t){const e=t.value;if(Os(e)||!Ps(e))r+="string"==typeof e?e:String(e);else for(const t of e)r+="string"==typeof t?t:String(t)}}return r+=e[t],r}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Rs{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===Ns||Os(e)&&e===this.value||(this.value=e,Cs(e)||(this.committer.dirty=!0))}commit(){for(;Cs(this.value);){const e=this.value;this.value=Ns,e(this)}this.value!==Ns&&this.committer.commit()}}class Ms{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(As()),this.endNode=e.appendChild(As())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=As()),e.__insert(this.endNode=As())}insertAfterPart(e){e.__insert(this.startNode=As()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;Cs(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=Ns,e(this)}const e=this.__pendingValue;e!==Ns&&(Os(e)?e!==this.value&&this.__commitText(e):e instanceof ks?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):Ps(e)?this.__commitIterable(e):e===Ts?(this.value=Ts,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof Bs&&this.value.template===t)this.value.update(e.values);else{const n=new Bs(t,e.processor,this.options),r=n._clone();n.update(e.values),this.__commitNode(r),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,r=0;for(const i of e)n=t[r],void 0===n&&(n=new Ms(this.options),t.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(t[r-1])),n.setValue(i),n.commit(),r++;r<t.length&&(t.length=r,this.clear(n&&n.endNode))}clear(e=this.startNode){((e,t,n=null)=>{for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}})(this.startNode.parentNode,e.nextSibling,this.endNode)}}class Fs{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;Cs(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=Ns,e(this)}if(this.__pendingValue===Ns)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=Ns}}class Us extends Ds{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new Hs(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class Hs extends Rs{}let Gs=!1;(()=>{try{const e={get capture(){return Gs=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class Ls{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;Cs(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=Ns,e(this)}if(this.__pendingValue===Ns)return;const e=this.__pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),r=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=js(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=Ns}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const js=e=>e&&(Gs?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;const Xs=new class{handleAttributeExpressions(e,t,n,r){const i=t[0];if("."===i){return new Us(e,t.slice(1),n).parts}if("@"===i)return[new Ls(e,t.slice(1),r.eventContext)];if("?"===i)return[new Fs(e,t.slice(1),n)];return new Ds(e,t,n).parts}handleTextExpression(e){return new Ms(e)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const qs=(e,...t)=>new ks(e,t,"html",Xs)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;void 0===window.ShadyCSS||void 0===window.ShadyCSS.prepareTemplateDom&&console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1.")
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */,window.JSCompiler_renameProperty=(e,t)=>e
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/;const Vs=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,zs=Symbol();class $s{constructor(e,t){if(t!==zs)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(Vs?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const Ys=(e,...t)=>{const n=t.reduce((t,n,r)=>t+(e=>{if(e instanceof $s)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(n)+e[r+1],e[0]);return new $s(n,zs)};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");class Ks extends(ps(HTMLElement)){constructor(){super(),this.value="",this.display=this.style.display,this.required=!1,this.readonly=!1,this.widget=null}getWidget(){throw new Error("You have to implement the method updateWidgetValue!")}async refresh(){console.log("### AbstractControl.refresh on : ",this);const e=this.value;if(!this.isNotBound()&&(this.evalInContext(),this.isBound())){if(null===this.nodeset)return void(this.style.display="none");if(this.modelItem=this.getModelItem(),this.modelItem instanceof os){if(this.value=this.modelItem.value,await this.updateWidgetValue(),this.handleModelItemProperties(),!this.getOwnerForm().ready)return;e!==this.value&&this.dispatchEvent(new CustomEvent("value-changed",{composed:!0,bubbles:!0,detail:{path:this.modelItem.path}}))}}}async updateWidgetValue(){throw new Error("You have to implement the method updateWidgetValue!")}handleModelItemProperties(){this.handleRequired(),this.handleReadonly(),this.handleValid(),this.handleRelevant()}_getForm(){return this.getModel().parentNode}_dispatchEvent(e){this.getOwnerForm().ready&&this.dispatchEvent(new CustomEvent(e,{}))}handleRequired(){this.widget=this.getWidget(),this.isRequired()!==this.modelItem.required&&(this.modelItem.required?(this.widget.setAttribute("required","required"),this.classList.add("required"),this._dispatchEvent("required")):(this.widget.removeAttribute("required"),this.required=!1,this.classList.toggle("required"),this.dispatchEvent(new CustomEvent("optional",{}))))}handleReadonly(){this.isReadonly()!==this.modelItem.readonly&&(this.modelItem.readonly&&(this.widget.setAttribute("readonly","readonly"),this.classList.toggle("readonly"),this._dispatchEvent("readonly")),this.modelItem.readonly||(this.widget.removeAttribute("readonly"),this.classList.toggle("readonly"),this.dispatchEvent(new CustomEvent("readwrite",{}))))}handleValid(){const e=this.querySelector("fx-alert");if(this.isValid()!==this.modelItem.constraint)if(this.modelItem.constraint)this.classList.remove("invalid"),e.style.display="none",this.dispatchEvent(new CustomEvent("valid",{}));else{if(this.classList.add("invalid"),e&&(e.style.display="block"),0!==this.modelItem.alerts.length){const{alerts:e}=this.modelItem;console.log("alerts from bind: ",e);this.querySelector("fx-alert")||e.forEach(e=>{const t=document.createElement("fx-alert");t.innerHTML=e,this.appendChild(t),t.style.display="block"})}this._dispatchEvent("invalid")}}handleRelevant(){this.isEnabled()!==this.modelItem.relevant&&(this.modelItem.relevant?(this.dispatchEvent(new CustomEvent("relevant",{})),this._fadeIn(this,this.display)):(this._dispatchEvent("nonrelevant"),this._fadeOut(this)))}isRequired(){return!!this.widget.hasAttribute("required")}isValid(){return!this.classList.contains("invalid")}isReadonly(){return!!this.widget.hasAttribute("readonly")}isEnabled(){return"none"!==this.style.display}_fadeOut(e){e.style.opacity=1,function t(){(e.style.opacity-=.1)<0?e.style.display="none":requestAnimationFrame(t)}()}_fadeIn(e,t){e.style.opacity=0,e.style.display=t||"block",function t(){let n=parseFloat(e.style.opacity);(n+=.1)>1||(e.style.opacity=n,requestAnimationFrame(t))}()}}window.customElements.define("fx-abstract-control",Ks);customElements.define("fx-alert",class extends Ks{static get styles(){return Ys`:host{display:block;height:auto;font-size:.8em;font-weight:400;color:red;display:none}`}constructor(){super(),this.style.display="none"}static get properties(){return{...super.properties}}render(){return qs`<slot></slot>`}});window.customElements.define("fx-control",class extends Ks{constructor(){super(),this.inited=!1,this.attachShadow({mode:"open"})}connectedCallback(){this.updateEvent=this.hasAttribute("update-event")?this.getAttribute("update-event"):"blur",this.valueProp=this.hasAttribute("value-prop")?this.getAttribute("value-prop"):"value",this.label=this.hasAttribute("label")?this.getAttribute("label"):null;this.shadowRoot.innerHTML=`\n            <style>\n                \n            :host{\n                display:inline-block;\n            }\n        \n            </style>\n            ${this.renderHTML(this.ref)}\n        `,this.widget=this.getWidget(),console.log("widget ",this.widget),this.widget.addEventListener(this.updateEvent,()=>{console.log("eventlistener ",this.updateEvent),this.setValue(this.widget[this.valueProp])})}setValue(e){const t=this.getModelItem(),n=this.shadowRoot.getElementById("setvalue");n.setValue(t,e),n.actionPerformed()}renderHTML(e){return`\n            ${this.label?""+this.label:""}\n            <slot></slot>\n            <fx-setvalue id="setvalue" ref="${e}"></fx-setvalue>\n        `}getWidget(){let e=this.querySelector(".widget");if(e||(e=this.querySelector("input")),!e){const e=document.createElement("input");return e.classList.add("widget"),e.setAttribute("type","text"),this.appendChild(e),e}return e}async updateWidgetValue(){if("checked"===this.valueProp)"true"===this.value?this.widget.checked=!0:this.widget.checked=!1;else{let{widget:e}=this;e||(e=this),e.value=this.value}}async refresh(){if(super.refresh(),this.widget.hasAttribute("ref")){const e=this.widget.querySelector("template"),t=this.widget.getAttribute("ref"),n=this.getInScopeContext(),r=this.closest("fx-fore"),i=ts(t,n,r),{children:a}=this.widget;Array.from(a).forEach(e=>{"template"!==e.nodeName.toLowerCase()&&e.parentNode.removeChild(e)}),Array.from(i).forEach(t=>{console.log("#### node",t);const n=e.content.firstElementChild.cloneNode(!0),i=document.importNode(n,!0);this.widget.appendChild(i);const a=this._getValueAttribute(i),o=a.value,s=Wo(o.substring(1,o.length-1),t,r);a.value=s,this.value===s&&i.setAttribute("selected","selected");const l=i.textContent,u=rs(l.substring(1,l.length-1),t,r);i.textContent=u})}}_getValueAttribute(e){let t;return Array.from(e.attributes).forEach(e=>{-1!==e.value.indexOf("{")&&(t=e)}),t}});class Js extends(ps(HTMLElement)){constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot.innerHTML="\n            <style>\n                \n        :host {\n            display: block;\n        }\n    \n            </style>\n            \n      <slot></slot>\n    \n    "}refresh(){console.log("### FxContainer.refresh on : ",this),this.isBound()&&(this.evalInContext(),this.modelItem=this.getModelItem(),this.value=this.modelItem.value),this._getForm().ready&&this.handleModelItemProperties(),Yo.refreshChildren(this)}handleModelItemProperties(){this.handleReadonly(),this.handleRelevant()}_getForm(){return this.getModel().parentNode}handleReadonly(){this.isReadonly()!==this.modelItem.readonly&&(this.modelItem.readonly&&(this.setAttribute("readonly","readonly"),this.dispatchEvent(new CustomEvent("readonly",{}))),this.modelItem.readonly||(this.removeAttribute("readonly"),this.dispatchEvent(new CustomEvent("readwrite",{}))))}handleRelevant(){this.isEnabled()!==this.modelItem.enabled&&(this.modelItem.enabled?this.dispatchEvent(new CustomEvent("enabled",{})):this.dispatchEvent(new CustomEvent("disabled",{})))}isReadonly(){return!!this.hasAttribute("readonly")}isEnabled(){return"none"!==this.style.display}}window.customElements.define("fx-container",Js);window.customElements.define("fx-group",class extends Js{static get properties(){return{...super.properties,collapse:{type:Boolean,reflect:!0}}}constructor(){super(),this.collapse=!1}render(){return qs`<slot></slot>`}handleModelItemProperties(){this.handleRelevant()}initializeChildren(e){const t=Array.from(e.children);console.log("_initializeChildren ",t),t.forEach(e=>{if(console.log("child ",e),Yo.isUiElement(e.nodeName))e.init(this.model);else if(0!==e.children.length){Array.from(e.children).forEach(e=>{this.initializeChildren(e)})}}),console.groupEnd()}});customElements.define("fx-hint",class extends Ks{static get styles(){return Ys`:host{display:block;height:auto;font-size:.8em;font-weight:400;font-style:italic}`}static get properties(){return{...super.properties}}render(){return qs`<slot></slot>`}});customElements.define("fx-items",class extends Ks{static get styles(){return Ys`:host{display:block;height:auto;font-size:.8em;font-weight:400;font-style:italic}`}static get properties(){return{...super.properties}}render(){return qs`<slot></slot>`}});customElements.define("fx-output",class extends Ks{static get properties(){return{...super.properties}}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){console.log("connectedCallback output",this.shadowRoot);this.shadowRoot.innerHTML='\n            <style>\n                \n          :host {\n            display: inline-block;\n          }\n          #widget {\n            display: inline-block;\n          }\n          .label{\n            display: inline-block;\n          }\n        \n            </style>\n            \n            <slot name="label"></slot>\n            <span id="value">\n                <slot></slot>\n            </span>\n        \n        ',this.addEventListener("slotchange",e=>{console.log("slotchange ",e)})}getWidget(){return this.shadowRoot.getElementById("value")}async updateWidgetValue(){this.shadowRoot.getElementById("value").innerHTML=this.value}isReadonly(){return this.readonly=!0,this.readonly}});class Qs extends(ps(HTMLElement)){static get properties(){return{inited:{type:Boolean}}}constructor(){super(),this.inited=!1,this.addEventListener("click",this._dispatchIndexChange),this.attachShadow({mode:"open"})}_dispatchIndexChange(){this.parentNode&&this.parentNode.dispatchEvent(new CustomEvent("item-changed",{composed:!0,bubbles:!0,detail:{item:this}}))}connectedCallback(){this.shadowRoot.innerHTML="\n            \n           <slot></slot>\n        \n        "}disconnectedCallback(){this.removeEventListener("click",this._dispatchIndexChange())}init(){this.inited=!0}getModelItem(){return super.getModelItem(),this.getModelItem()[this.index]}refresh(){Yo.refreshChildren(this)}}window.customElements.define("fx-repeatitem",Qs);class Zs extends(ps(HTMLElement)){static get properties(){return{...super.properties,index:{type:Number},ref:{type:String},template:{type:Object},focusOnCreate:{type:String},initDone:{type:Boolean},repeatIndex:{type:Number},nodeset:{type:Array}}}constructor(){super(),this.ref="",this.dataTemplate=[],this.focusOnCreate="",this.initDone=!1,this.repeatIndex=1,this.nodeset=[],this.inited=!1,this.index=1,this.repeatSize=0,this.attachShadow({mode:"open"})}get repeatSize(){return this.querySelectorAll(":scope > fx-repeatitem").length}set repeatSize(e){this.size=e}setIndex(e){this.index=e;const t=this.querySelectorAll(":scope > fx-repeatitem");this.applyIndex(t[this.index-1])}applyIndex(e){this._removeIndexMarker(),e&&e.setAttribute("repeat-index","")}get index(){return this.getAttribute("index")}set index(e){this.setAttribute("index",e)}connectedCallback(){this.ref=this.getAttribute("ref"),this.addEventListener("item-changed",e=>{console.log("handle index event ",e);const{item:t}=e.detail,n=Array.from(this.children).indexOf(t);this.applyIndex(this.children[n]),this.index=n+1}),this.addEventListener("index-changed",e=>{e.stopPropagation(),console.log("handle index event ",e);const{index:t}=e.detail;this.index=t,this.applyIndex(this.children[t-1])}),document.addEventListener("insert",e=>{const t=e.detail.insertedNodes;this.index=e.detail.position,console.log("insert catched",t,this.index)});this.shadowRoot.innerHTML="\n            <style>\n                \n            :host {\n                // display: none;\n            }\n            ::slotted(*){\n                // display:none;\n            }\n            .fade-out-bottom {\n                -webkit-animation: fade-out-bottom 0.7s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;\n                animation: fade-out-bottom 0.7s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;\n            }\n            .fade-out-bottom {\n                -webkit-animation: fade-out-bottom 0.7s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;\n                animation: fade-out-bottom 0.7s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;\n            }\n        \n            </style>\n            \n          <slot></slot>\n        \n        "}init(){this._evalNodeset(),this._initTemplate(),this._initRepeatItems(),this.setAttribute("index",this.index),this.inited=!0}_evalNodeset(){const e=cs(this,this.ref),t=Wo(this.ref,e,this.getOwnerForm());if(null!==t){if("object"==typeof t){if("nodeType"in t)return void(this.nodeset=[t]);if(Array.isArray(t))return void(this.nodeset=t)}throw new Error("Unexpected result of repeat nodeset: "+t)}this.nodeset=[]}async refresh(){console.group("fx-repeat.refresh on",this.id),this.inited||this.init(),this._evalNodeset();const e=this.querySelectorAll(":scope > fx-repeatitem"),t=e.length;let n=1;Array.isArray(this.nodeset)&&(n=this.nodeset.length);const r=n;if(r<t)for(let n=t;n>r;n-=1){const t=e[n-1];this._fadeOut(t)}if(r>t)for(let e=t+1;e<=r;e+=1){const t=document.createElement("fx-repeatitem"),n=this._clone();t.style.opacity="0",t.appendChild(n),this._fadeIn(t),t.nodeset=this.nodeset[e-1],t.index=e,this.appendChild(t)}for(let n=0;n<t;n+=1){const t=e[n];t.nodeset!==this.nodeset[n]&&(t.nodeset=this.nodeset[n])}Yo.refreshChildren(this),this.setIndex(this.index),console.groupEnd()}_fadeIn(e){e.style.opacity=0,function t(){let n=parseFloat(e.style.opacity);n+=.1,n>1||(e.style.opacity=n,requestAnimationFrame(t))}()}_fadeOut(e){e.classList.add("fade-out-bottom")}_initTemplate(){const e=this.shadowRoot.querySelector("template");console.log("shadowtempl ",e),this.template=this.firstElementChild,console.log("### init template for repeat ",this.id,this.template),null===this.template&&this.dispatchEvent(new CustomEvent("no-template-error",{composed:!0,bubbles:!0,detail:{message:"no template found for repeat:"+this.id}})),this.shadowRoot.appendChild(this.template)}_initRepeatItems(){this.textContent="",this.nodeset.forEach((e,t)=>{const n=document.createElement("fx-repeatitem");n.nodeset=this.nodeset[t],n.index=t+1;const r=this._clone();n.appendChild(r),this.appendChild(n),1===n.index&&this.applyIndex(n)})}_clone(){this.template=this.shadowRoot.querySelector("template");const e=this.template.content.cloneNode(!0);return document.importNode(e,!0)}_removeIndexMarker(){Array.from(this.children).forEach(e=>{e.removeAttribute("repeat-index")})}}window.customElements.define("fx-repeat",Zs);window.customElements.define("fx-switch",class extends Js{connectedCallback(){super.connectedCallback&&super.connectedCallback();this.shadowRoot.innerHTML="\n        <style>\n            \n       :host ::slotted(fx-case.selected-case){\n        display: block !important;\n    }\n    \n        </style>\n        \n       <slot></slot>\n    \n    "}refresh(){super.refresh(),console.log("refresh on switch ");const e=this.querySelectorAll("fx-case");if(this.isBound())Array.from(e).forEach(e=>{e.getAttribute("name")===this.modelItem.value?e.classList.add("selected-case"):e.classList.remove("selected-case")});else{this.querySelector(".selected-case")||e[0].classList.add("selected-case")}Yo.refreshChildren(this)}toggle(e){const t=this.querySelectorAll("fx-case");Array.from(t).forEach(t=>{e===t?t.classList.add("selected-case"):t.classList.remove("selected-case")})}});customElements.define("fx-trigger",class extends Ks{connectedCallback(){this.attachShadow({mode:"open"}),this.ref=this.hasAttribute("ref")?this.getAttribute("ref"):null;this.shadowRoot.innerHTML=`\n                <style>\n                    \n          :host {\n            cursor:pointer;\n          }\n        \n                </style>\n                ${this.renderHTML()}\n        `;const e=this.shadowRoot.querySelector("slot");e.addEventListener("slotchange",()=>{const t=e.assignedElements({flatten:!0});t[0].setAttribute("tabindex","0"),t[0].setAttribute("role","button");const n=t[0];n.addEventListener("click",e=>this.performActions(e)),"BUTTON"!==n.nodeName&&n.addEventListener("keypress",e=>{"Space"!==e.code&&"Enter"!==e.code||this.performActions(e)})})}renderHTML(){return"\n            <slot></slot>\n    "}async performActions(e){const t=this.closest("fx-repeatitem");t&&(console.log("repeated click"),t.click());(async()=>{for(let t=0;t<this.children.length;t+=1){const n=this.children[t];"function"==typeof n.execute&&await n.execute(e)}})()}});class Ws extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.hasAttribute("label")&&(this.label=this.getAttribute("label")),this.hasAttribute("name")&&(this.name=this.getAttribute("name")),this.hasAttribute("selected")&&(this.selected=this.getAttribute("selected"));const e=`\n           ${this.label?`<span>${this.label}</span>`:""}\n           <slot></slot>\n        `;this.shadowRoot.innerHTML=`\n            <style>\n                \n            :host {\n                display: none;\n            }\n        \n            </style>\n            ${e}\n    `,this.style.display="none"}}async function el(e){return new Promise(t=>setTimeout(()=>t(),e))}window.customElements.define("fx-case",Ws);class tl extends(ps(HTMLElement)){static get properties(){return{...super.properties,detail:{type:Object},needsUpdate:{type:Boolean}}}constructor(){super(),this.detail={},this.needsUpdate=!1}connectedCallback(){this.style.display="none",this.repeatContext=void 0,this.hasAttribute("event")?this.event=this.getAttribute("event"):this.event="activate",this.target=this.getAttribute("target"),this.target?"#document"===this.target?document.addEventListener(this.event,e=>this.execute(e)):(this.targetElement=document.getElementById(this.target),this.targetElement.addEventListener(this.event,e=>this.execute(e))):(this.targetElement=this.parentNode,this.targetElement.addEventListener(this.event,e=>this.execute(e))),this.ifExpr=this.hasAttribute("if")?this.getAttribute("if"):null,this.whileExpr=this.hasAttribute("while")?this.getAttribute("while"):null,this.delay=this.hasAttribute("delay")?Number(this.getAttribute("delay")):0}async execute(e){if(console.log("executing",this),e&&e.detail&&(this.detail=e.detail),this.needsUpdate=!1,this.evalInContext(),this.targetElement&&this.targetElement.nodeset&&(this.nodeset=this.targetElement.nodeset),!this.ifExpr||ns(this.ifExpr,this.nodeset,this.getOwnerForm())){if(this.whileExpr){const e=async()=>{await el(this.delay||0),this.ownerDocument.contains(this)&&ns(this.whileExpr,this.nodeset,this.getOwnerForm())&&(this.perform(),await e())};return await e(),void this.actionPerformed()}!this.delay||(await el(this.delay),this.ownerDocument.contains(this))?(this.perform(),this.actionPerformed()):this.actionPerformed()}}perform(){(this.isBound()||"FX-ACTION"===this.nodeName)&&this.evalInContext()}actionPerformed(){if(this.needsUpdate){const e=this.getModel();e.recalculate(),e.revalidate(),e.parentNode.refresh(),this._dispatchActionPerformed()}}_dispatchActionPerformed(){console.log("action-performed ",this),this.dispatchEvent(new CustomEvent("action-performed",{composed:!0,bubbles:!0,detail:{}}))}}window.customElements.define("abstract-action",tl);window.customElements.define("fx-append",class extends tl{constructor(){super(),this.repeat=""}connectedCallback(){super.connectedCallback(),console.log("connectedCallback ",this),this.ref=this.getAttribute("ref"),this.repeat=this.getAttribute("repeat")}perform(){super.perform(),this._dataFromTemplate(),this.needsUpdate=!0}actionPerformed(){super.actionPerformed(),this.dispatch()}_dataFromTemplate(){const e=this.getInScopeContext(),t=this.getOwnerForm().querySelector("#"+this.repeat),n=t.shadowRoot.querySelector("template"),r=e.ownerDocument.createElement(t.ref),i=this._generateInstance(n.content,r);e.appendChild(i)}dispatch(){let e;Yo.isRepeated(this)?(console.log("append repeated ",this.repeatContext),e=Yo.getRepeatTarget(this,this.repeat)):e=document.getElementById(this.repeat),console.log("dispatching index change ",e.nodeset.length),e.dispatchEvent(new CustomEvent("index-changed",{composed:!0,bubbles:!0,detail:{index:e.nodeset.length}}))}_clear(e){let t=e.firstChild;const n=e.attributes;for(let e=0;e<n.length;e+=1)n[e].value="";for(;t;)1===t.nodeType&&t.hasAttributes()&&(t.textContent=""),this._clear(t),t=t.nextSibling}_generateInstance(e,t){if(1===e.nodeType&&e.hasAttribute("ref")){const n=e.getAttribute("ref");let r;"."===n||(n.startsWith("@")?t.setAttribute(n.substring(1),""):(r=document.createElement(n),t.appendChild(r),0===e.children.length&&(r.textContent=e.textContent)))}if(e.hasChildNodes()){const n=e.children;for(let e=0;e<n.length;e+=1)this._generateInstance(n[e],t)}return t}getInstanceId(){return this.ref.startsWith("instance(")?"not implemented":"default"}});window.customElements.define("fx-delete",class extends tl{constructor(){super(),this.repeatId=""}perform(){if(super.perform(),console.log("##### fx-delete executing..."),console.log("delete nodeset ",this.nodeset),""===this.repeatId){const e=this.parentNode.closest("fx-repeatitem"),t=Array.from(e.parentNode.children).indexOf(e)+1;this.model=this.getModel();const n=this.parentNode.closest("fx-repeat");let r;r=Array.isArray(this.nodeset)?this.nodeset[t-1]:this.nodeset;r.parentNode.removeChild(r),e.parentNode.removeChild(e);const{repeatSize:i}=n;1===t||1===i?n.setIndex(1):t>i?n.setIndex(i):n.setIndex(t)}this.needsUpdate=!0}actionPerformed(){this.getModel().rebuild(),super.actionPerformed()}});window.customElements.define("fx-insert",class extends tl{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){super.connectedCallback&&super.connectedCallback();this.shadowRoot.innerHTML="\n        <style>\n            \n        :host{\n            display:none;\n        }\n    \n        </style>\n        <slot></slot>\n    ",this.at=Number(this.hasAttribute("at")?this.getAttribute("at"):0),this.position=this.hasAttribute("position")?this.getAttribute("position"):"after",this.origin=this.hasAttribute("origin")?this.getAttribute("origin"):null,this.keepValues=!!this.hasAttribute("keep-values")}_getOriginSequence(e,t){let n;if(this.origin){const t=es(this.origin,e,this.getOwnerForm());Array.isArray(t)&&0===t.length&&(console.warn("invalid origin for this insert action - ignoring...",this),n=null),n=t.cloneNode(!0)}else t&&(n=this._cloneTargetSequence(t),n&&!this.keepValues&&this._clear(n));return n}_getInsertIndex(e,t){return 0===t.length?null:this.hasAttribute("at")?is(this.getAttribute("at"),e,this.getOwnerForm()):t.length}perform(){super.perform();const e=cs(this,this.ref),t=ts(this.ref,e,this.getOwnerForm());console.log("insert nodeset ",t);const n=this._getOriginSequence(e,t);if(!n)return;let r,i;const a=this._getInsertIndex(e,t);if(console.log("insert index",a),0===t.length)r=e,e.appendChild(n),i=1,console.log("appended",e);else{if(this.hasAttribute("at")?(i=is(this.getAttribute("at"),e,this.getOwnerForm()),r=t[i-1]):(i=t.length,r=t[t.length-1]),!r){i=1,r=t;const e=Wo("count(preceding::*)",t,this.getOwnerForm());console.log("context",e),i=e+1}this.position&&"before"===this.position&&r.parentNode.insertBefore(n.cloneNode(!0),r),this.position&&"after"===this.position&&(i+=1,r.insertAdjacentElement("afterend",n.cloneNode(!0)))}console.log("instance ",this.getModel().getDefaultContext()),console.log("<<<<<<< at",this.at),console.log("<<<<<<< index",i),document.dispatchEvent(new CustomEvent("insert",{composed:!0,bubbles:!0,detail:{insertedNodes:n,position:i}})),this.needsUpdate=!0}_cloneTargetSequence(e){return Array.isArray(e)&&0!==e.length?e[e.length-1].cloneNode(!0):!Array.isArray(e)&&e?e.cloneNode(!0):null}actionPerformed(){this.getModel().rebuild(),super.actionPerformed()}_clear(e){const t=e.attributes;for(let e=0;e<t.length;e+=1)t[e].value="";e.textContent&&(e.textContent="");let n=e.firstChild;for(;n;)1===n.nodeType&&n.hasAttributes()&&(n.textContent=""),this._clear(n),n=n.nextSibling}});window.customElements.define("fx-message",class extends tl{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){super.connectedCallback(),this.event=this.hasAttribute("event")?this.getAttribute("event"):"",this.level=this.hasAttribute("level")?this.getAttribute("level"):"ephemeral";this.shadowRoot.innerHTML=`\n        <style>\n            \n        :host{\n            display:none;\n        }\n    \n        </style>\n        ${this.renderHTML()}\n    `}disconnectedCallback(){this.targetElement.removeEventListener(this.event,e=>this.execute(e))}renderHTML(){return"\n        <slot></slot>\n    "}perform(){super.perform();const e=this.textContent;this.dispatchEvent(new CustomEvent("message",{composed:!0,bubbles:!0,detail:{level:this.level,message:e}}))}});window.customElements.define("fx-setvalue",class extends tl{static get properties(){return{...super.properties,ref:{type:String},valueAttr:{type:String}}}constructor(){super(),this.ref="",this.valueAttr=""}connectedCallback(){if(super.connectedCallback&&super.connectedCallback(),!this.hasAttribute("ref"))throw new Error('fx-setvalue must specify a "ref" attribute');this.ref=this.getAttribute("ref"),this.valueAttr=this.getAttribute("value")}perform(){super.perform();let{value:e}=this;e=null!==this.valueAttr?Wo(this.valueAttr,this.nodeset,this.getOwnerForm(),this.detail):""!==this.textContent?this.textContent:"";const t=this.getModelItem();this.setValue(t,e)}setValue(e,t){console.log("setvalue[1]  ",e,t);const n=e;n&&n.value!==t&&(n.value=t,n.changed=!0,this.needsUpdate=!0,console.log("setvalue[2] ",n,t))}});window.customElements.define("fx-send",class extends tl{constructor(){super(),this.value=""}connectedCallback(){super.connectedCallback(),console.log("connectedCallback ",this),this.submission=this.getAttribute("submission")}perform(){super.perform(),console.log("submitting ",this.submission),console.log("submitting model",this.getModel());const e=this.getModel().querySelector("#"+this.submission);if(null===e)throw this.dispatchEvent(new CustomEvent("error",{composed:!0,bubbles:!0,detail:{message:`fx-submission element with id: '${this.submission}' not found`}})),new Error(`submission with id: ${this.submission} not found`);console.log("submission",e),e.submit()}});class nl extends tl{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this.src=this.hasAttribute("src")?this.getAttribute("src"):null;this.shadowRoot.innerHTML="\n        <style>\n            \n        :host{\n            display:none;\n        }\n    \n        </style>\n        <slot></slot>\n    "}perform(){const{children:e}=this;if(this.src){this.innerHTML="",console.log("### fx-script.perform ");const e=document.createElement("script");e.src=this.src,this.appendChild(e)}else Array.from(e).forEach(e=>{e.detail=this.detail,e.execute()}),this.needsUpdate=!1}}window.customElements.define("fx-action",nl);window.customElements.define("fx-toggle",class extends nl{connectedCallback(){this.hasAttribute("case")&&(this.case=this.getAttribute("case"))}execute(){if(console.log("### fx-toggle.execute "),this.case){const e=this.getOwnerForm().querySelector("#"+this.case);e.parentNode.toggle(e)}}});window.customElements.define("fx-dispatch",class extends tl{constructor(){super(),this.name=null,this.targetid=null,this.details=null,this.attachShadow({mode:"open"})}connectedCallback(){if(super.connectedCallback(),this.name=this.getAttribute("name"),!this.name)throw new Error("no event specified for dispatch",this);this.targetid=this.hasAttribute("targetid")?this.getAttribute("targetid"):null}perform(){console.log("### fx-dispatch.perform ",this);const e=this.querySelectorAll("fx-property"),t={};if(Array.from(e).forEach(e=>{console.log("prop ",e);const n=e.getAttribute("name"),r=e.getAttribute("value"),i=e.getAttribute("expr");if(i){if(r)throw new Error('if "expr" is given there must not be a "value" attribute');const e=Wo(i,this.getInScopeContext(),this.getOwnerForm());let a=null;if(e.nodeName){a=(new XMLSerializer).serializeToString(e)}t[n]=a||e}r&&(t[n]=r)}),console.log("details ",t),this.targetid){const e=document.getElementById(this.targetid);if(!e)throw new Error(`targetid ${this.targetid} does not exist in document`);e.dispatchEvent(new CustomEvent(this.name,{composed:!0,bubbles:!0,detail:t}))}else document.dispatchEvent(new CustomEvent(this.name,{composed:!0,bubbles:!0,detail:t}))}});window.customElements.define("fx-update",class extends tl{perform(){this.getModel().updateModel()}});window.customElements.define("fx-refresh",class extends tl{perform(){this.getOwnerForm().refresh()}});class rl extends(ps(HTMLElement)){constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.style.display="none",this.signature=this.hasAttribute("signature")?this.getAttribute("signature"):null,null===this.signature&&console.error("signature is a required attribute"),this.type=this.hasAttribute("type")?this.getAttribute("type"):null,this.shadowRoot.innerHTML="<slot></slot>",this.override=this.hasAttribute("override")?this.getAttribute("override"):"true",this.functionBody=this.innerText;const e=this.getAttribute("type")||"text/xpath",t=this.signature.match(/(?:(?<prefix>[^:]*):)?(?<localName>[^(]+)\((?<params>[^)]*)\)(?: as (?<returnType>.*))?/);if(!t)throw new Error(`Function signature ${this.signature} could not be parsed`);const{prefix:n,localName:r,params:i,returnType:a}=t.groups,o="local"===n?{namespaceURI:"http://www.w3.org/2005/xquery-local-functions",localName:r}:`${n}:${r}`,s=i?i.split(",").map(e=>{const t=e.match(/(?<variableName>\$[^\s]+)(?:\sas\s(?<varType>.+))/);if(!t)throw new Error(`Param ${e} could not be parsed`);const{variableName:n,varType:r}=t.groups;return{variableName:n,variableType:r||"item()*"}}):[];switch(e){case"text/javascript":{const e=new Function("_domFacade",...s.map(e=>e.variableName),"form",this.functionBody);jo(o,s.map(e=>e.variableType),a||"item()*",(...t)=>e.apply(this.getInScopeContext(),[...t,this.getOwnerForm()]));break}case"text/xpath":{const e=(e,...t)=>Wo(this.functionBody,this.getInScopeContext(),this.getOwnerForm(),s.reduce((e,n,r)=>(e[n.variableName.replace("$","")]=t[r],e),{}));jo(o,s.map(e=>e.variableType),a||"item()*",e);break}default:throw new Error(`Unexpected mimetype ${e} for function`)}}}customElements.define("fx-function",rl);
//# sourceMappingURL=fore-demo.js.map
