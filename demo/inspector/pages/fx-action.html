<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes" name="viewport"/>
    <title>template</title>
    <link href="../../../resources/fore.css" rel="stylesheet">
    <style>
        caption{
            text-align: left;
        }
        fx-control{
            display: grid;
            width: 100%;
            grid-template-columns: 8rem auto;
        }
    </style>
</head>
<body>
<fx-fore id="fx-action">
    <fx-model>
        <fx-instance>
            <data>
                <defaultaction> </defaultaction>
                <delay> </delay>
                <event> </event>
                <handler> </handler>
                <ifexpr> </ifexpr>
                <observer> </observer>
                <phase> </phase>
                <propagate> </propagate>
                <target> </target>
                <whileexpr> </whileexpr>
            </data>
        </fx-instance>

        <fx-function signature="get-targets($list as xs:string?) as xs:boolean" type="text/javascript">
            const datalist = document.getElementById($list);
            const ids = Array.from(document.querySelectorAll('[id]'));
            ids.forEach(idElem => {
                const option = document.createElement('option');
                option.textContent = idElem.id;
                datalist.appendChild(option);
            });

            return true
        </fx-function>
    </fx-model>
    <table>
        <caption>Attributes</caption>
        <tr>
            <td>
                <label for="defaultaction">defaultaction</label>
            </td>
            <td>
                <fx-control ref="defaultaction">
                    <select id="defaultaction" class="widget">
                        <option>perform</option>
                        <option>cancel</option>
                    </select>
                </fx-control>
            </td>
        </tr>
        <tr>
            <td>
                <label for="delay">delay</label>
            </td>
            <td>
                <fx-control ref="delay">
                    <input id="delay" type="number"/>
                </fx-control>
            </td>
        </tr>
        <tr>
            <td>
                <label for="event">event</label>
            </td>
            <td>
                <fx-control id="event" ref="event"/>
            </td>
        </tr>
        <tr>
            <td>
                <label for="handler">handler</label>
            </td>
            <td>
                <fx-control id="handler" ref="handler"/>
            </td>
        </tr>
        <tr>
            <td>
                <label for="ifexpr">ifexpr</label>
            </td>
            <td>
                <fx-control id="ifexpr" ref="ifexpr"/>
            </td>
        </tr>
        <tr>
            <td>
                <label for="observer">observer</label>
            </td>
            <td>
                <fx-control id="observer" ref="observer"/>
            </td>
        </tr>
        <tr>
            <td>
                <label for="phase">phase</label>
            </td>
            <td>
                <fx-control ref="phase">
                    <select id="phase" class="widget">
                        <option>default</option>
                        <option>capture</option>
                    </select>
                </fx-control>
            </td>
        </tr>
        <tr>
            <td>
                <label for="propagate">propagate</label>
            </td>
            <td>
                <fx-control ref="propagate">
                    <select id="propagate" class="widget">
                        <option>continue</option>
                        <option>stop</option>
                    </select>
                </fx-control>
            </td>
        </tr>
        <tr>
            <td>
                <label for="target">target</label>
            </td>
            <td>
                <fx-control ref="target">
                    <input list="targetlist"/>
                </fx-control>
                <datalist id="targetlist" data-ref="get-targets('targetlist')">
                    <!--
                                            <template>
                                                <option>{.}</option>
                                            </template>
                    -->
                </datalist>
            </td>
        </tr>
        <tr>
            <td>
                <label for="whileexpr">whileexpr</label>
            </td>
            <td>
                <fx-control id="whileexpr" ref="whileexpr"/>
            </td>
        </tr>
    </table><!--
                <fx-group>
                <label>Properties</label>
                {
                    for $prop in $props
                        let $prop-name := $prop/name/string()
                        return
                            <fx-control ref="{$prop-name}">
                                <label>{$prop-name}</label>
                            </fx-control>
                }
                </fx-group>
-->
</fx-fore>




<script type="module" src="../../../index.js"></script>
</body>
</html>