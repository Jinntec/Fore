<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes"
      name="viewport"
    />
    <title>template</title>
    <link href="../resources/fore.css" rel="stylesheet" />
  </head>
  <body>
    <demo-snippet>
      <template>
        <fx-fore create-nodes>
          <fx-model>
            <fx-instance>
              <data>
                <root>
                  <foo>FOO</foo>
                  <bar>BAR</bar>
                </root>
              </data>
            </fx-instance>

            <fx-bind ref="root">
              <fx-bind ref="foo"></fx-bind>
              <fx-bind ref="baz"></fx-bind>
              <fx-bind ref="between-baz-and-bar"></fx-bind>
              <fx-bind ref="bar"></fx-bind>
              <fx-bind ref="new-element"></fx-bind>
            </fx-bind>
          </fx-model>

          <fx-group ref="root">
            <fx-control ref="foo">
              <label>I'm here from the get-go</label>
            </fx-control>
            <fx-control ref="baz">
              <label>Not there initially, but will be created!</label>
            </fx-control>
            <fx-control ref="bar">
              <label>I'm here from the get-go</label>
            </fx-control>
            <fx-control ref="new-element[@role='special']">
              <label
                >Not there initially, but will be created! With the attribute set to
                "<code>{@role}</code>"</label
              >
              >
            </fx-control>
            <fx-control ref="newest-element[@role='special']/extra-special[@specialness='extreme']">
              <label
                >Not there initially, but will be created! With the attribute, and a child! The
                attributes are set to
                <code>{ancestor-or-self::*/@*/(name() || "=" || .)}</code></label
              >
            </fx-control>
            <fx-group ref="a/very/deep[@path='here']">
              <fx-control ref="and/now[@i='map']/to/@anAttribute"
                ><label>And this nests ina group, and addresses an attribute!</label></fx-control
              >
            </fx-group>
            <fx-control ref="between-baz-and-bar"
              ><label
                >I should be between baz and bar in the XML. My previous sibling is
                <code>{(preceding-sibling::*[1]/("&lt;" || name() || "/&gt;"), "absent")[1]}</code>
                and my following sibling is
                <code
                  >{(following-sibling::*[1]/("&lt;" || name() || "/&gt;"), "absent")[1]}</code
                ></label
              ></fx-control
            >
          </fx-group>
        </fx-fore>
      </template>
    </demo-snippet>
    <script type="module" src="./demo.js"></script>
  </body>
</html>
