<!DOCTYPE HTML>
<html xmlns:func="generator-functions">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes" name="viewport">
  <title></title>
  <link href="../../resources/fore.css" rel="stylesheet">
  <link href="../../resources/vars.css" rel="stylesheet">
  <link href="../../resources/toastify.css" rel="stylesheet">
  <link href="../demo.css" rel="stylesheet">
  <link href="default.css" rel="stylesheet">
  <script type="module">
    // import '../../dist/fore-dev.js';
    /*
    Alternative to above import:
    to run from local clone of Fore uncomment the next line and run 'npm start' in Fore homedir.
    */
    import '../demo.js';
    import '../../tools/fx-lens.js';
  </script>
</head>
<body>
<header>
  <h1>Auto-create XML structure with create-nodes</h1>
</header>
<main>
  <fx-fore xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2" xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2" create-nodes="create-nodes" id="fx-invoice">
    <fx-var name="invoice" value="instance('default')"></fx-var>
    <fx-model>
      <fx-instance src="test/04.03a-INVOICE_ubl.xml"></fx-instance>
      <fx-instance id="iso-3166-1" src="codelists/xml/Country-Codes-7.xml"></fx-instance>
      <fx-instance id="iso-4217" src="codelists/xml/Currency-Codes-3.xml"></fx-instance>
      <fx-instance id="rec-20" src="codelists/xml/UN_ECE_Recommendation_N_20_3.xml"></fx-instance>
      <fx-instance id="rec-21" src="codelists/xml/UN_ECE_Recommendation_N_21_3.xml"></fx-instance>
      <fx-instance id="untdid-1001" src="codelists/xml/1001.xml"></fx-instance>
      <fx-instance id="untdid-2005" src="codelists/xml/2005.xml"></fx-instance>
      <fx-instance id="untdid-4461" src="codelists/xml/UNTDID-4461-3.xml"></fx-instance>
      <fx-instance id="untdid-5189" src="codelists/xml/UNTDID-5305-3.xml"></fx-instance>
      <fx-instance id="untdid-5305" src="codelists/xml/UNTDID-5305-3.xml"></fx-instance>
      <fx-instance id="untdid-7161" src="codelists/xml/UNTDID-7161-3.xml"></fx-instance>
      <fx-instance id="vatex" src="codelists/xml/VATEX-2019-12-11T08_43Z-yAZ.xml"></fx-instance>
      <fx-instance id="vars"><data></data></fx-instance>
      <fx-submission id="s-save" url="#echo" method="post" replace="download" target="invoice.xml">
        <fx-message event="submit-error">Saving failed</fx-message>
      </fx-submission>
      <fx-bind ref="cbc:ID" required="true()"></fx-bind>
      <fx-bind ref="cbc:IssueDate" required="true()"></fx-bind>
      <fx-bind ref="cbc:InvoiceTypeCode" required="true()"></fx-bind>
      <fx-bind ref="cbc:DocumentCurrencyCode" required="true()"></fx-bind>
      <fx-bind ref="cac:AccountingCustomerParty/cac:Party/cac:PartyLegalEntity/cbc:RegistrationName" required="true()"></fx-bind>
      <fx-bind ref="cac:AccountingSupplierParty/cac:Party/cac:PartyLegalEntity/cbc:RegistrationName" required="true()"></fx-bind>
      <fx-bind ref="cac:AccountingSupplierParty/cac:Party/cac:PostalAddress/cac:Country/cbc:IdentificationCode" required="true()"></fx-bind>
      <fx-bind ref="cac:TaxRepresentativeParty/cac:PartyTaxScheme/cbc:CompanyID" required="true()"></fx-bind>
      <fx-bind ref="cac:InvoiceLine/cbc:LineExtensionAmount" calculate="((: ID: BT-129 :) (let $x := ../cbc:InvoicedQuantity/(if(string()) then . else 0) return if (exists($x)) then $x else 0) * ((: ID: BT-146 :) (let $x := ../cac:Price/cbc:PriceAmount/(if(string()) then . else 0) return if (exists($x)) then $x else 0) div max(((: ID: BT-149 :) (let $x := ../cac:Price/cbc:BaseQuantity/(if(string()) then . else 0) return if (exists($x)) then $x else 0), 1)))) + sum((: ID: BT-141 :) (let $x := ../cac:AllowanceCharge/cbc:Amount/(if(string()) then . else 0) return if (exists($x)) then $x else 0)) - sum((: ID: BT-136 :) (let $x := ../cac:AllowanceCharge/cbc:Amount/(if(string()) then . else 0) return if (exists($x)) then $x else 0))"></fx-bind>
      <fx-bind ref="cac:InvoiceLine/cac:AllowanceCharge/cbc:Amount" calculate="(: ID: BT-143 :) (let $x := ../cac:AllowanceCharge/cbc:MultiplierFactorNumeric/(if(string()) then . else 0) return if (exists($x)) then $x else 0) * (1 + (: ID: BT-142 :) (let $x := ../cac:AllowanceCharge/cbc:BaseAmount/(if(string()) then . else 0) return if (exists($x)) then $x else 0) * 0.01)"></fx-bind>
      <fx-bind ref="cac:TaxTotal/cac:TaxSubtotal/cbc:TaxableAmount" required="true()"></fx-bind>
      <fx-bind ref="cac:TaxTotal/cac:TaxSubtotal/cbc:TaxAmount" required="true()" calculate="(: ID: BT-116 :) (let $x := ../cbc:TaxableAmount/(if(string()) then . else 0) return if (exists($x)) then $x else 0) * ((: ID: BT-119 :) (let $x := ../cac:TaxCategory/cbc:Percent/(if(string()) then . else 0) return if (exists($x)) then $x else 0) * 0.01) "></fx-bind>
      <fx-bind ref="cac:TaxTotal/cac:TaxSubtotal/cac:TaxCategory/cbc:ID" required="true()"></fx-bind>
      <fx-bind ref="cac:TaxTotal/cac:TaxSubtotal/cac:TaxCategory/cbc:Percent" required="true()"></fx-bind>
      <fx-bind ref="cac:LegalMonetaryTotal/cbc:LineExtensionAmount" calculate="sum((: ID: BT-131 :) (let $x := /*/cac:InvoiceLine/cbc:LineExtensionAmount/(if(string()) then . else 0) return if (exists($x)) then $x else 0))"></fx-bind>
      <fx-bind ref="cac:LegalMonetaryTotal/cbc:AllowanceTotalAmount" calculate="sum((: ID: BT-92 :) (let $x := /*/cac:AllowanceCharge/cbc:Amount/(if(string()) then . else 0) return if (exists($x)) then $x else 0))"></fx-bind>
      <fx-bind ref="cac:LegalMonetaryTotal/cbc:ChargeTotalAmount" calculate="sum((: ID: BT-99 :) (let $x := /*/cac:AllowanceCharge/cbc:Amount/(if(string()) then . else 0) return if (exists($x)) then $x else 0))"></fx-bind>
      <fx-bind ref="cac:LegalMonetaryTotal/cbc:TaxExclusiveAmount" calculate="sum((: ID: BT-131 :) (let $x := /*/cac:InvoiceLine/cbc:LineExtensionAmount/(if(string()) then . else 0) return if (exists($x)) then $x else 0)) - (: ID: BT-107 :) (let $x := /*/cac:LegalMonetaryTotal/cbc:AllowanceTotalAmount/(if(string()) then . else 0) return if (exists($x)) then $x else 0) + (: ID: BT-108 :) (let $x := /*/cac:LegalMonetaryTotal/cbc:ChargeTotalAmount/(if(string()) then . else 0) return if (exists($x)) then $x else 0)"></fx-bind>
      <fx-bind ref="cac:LegalMonetaryTotal/cbc:PayableAmount" required="true()" calculate="(: ID: BT-112 :) (let $x := /*/cac:LegalMonetaryTotal/cbc:TaxInclusiveAmount/(if(string()) then . else 0) return if (exists($x)) then $x else 0) - (: ID: BT-113 :) (let $x := /*/cac:LegalMonetaryTotal/cbc:PrepaidAmount/(if(string()) then . else 0) return if (exists($x)) then $x else 0) + (: ID: BT-114 :) (let $x := /*/cac:LegalMonetaryTotal/cbc:PayableRoundingAmount/(if(string()) then . else 0) return if (exists($x)) then $x else 0)"></fx-bind>
      <fx-bind ref="bc:CustomizationID" required="true()"></fx-bind>
    </fx-model>
    <header>
      <nav>
        <ul>
          <li><a href="#mainview">Invoice</a></li>
          <li><a href="#buyer">Buyer</a></li>
          <li><a href="#seller">Seller</a></li>
          <li><a href="#positions">Invoice Lines</a></li>
          <li><a href="#totals">Totals</a></li>
          <li><a href="#payment">Payment</a></li>
          <li><a href="#delivery">Delivery</a></li>
          <li><a href="#precesing-invoices">Preceding Invoices</a></li>
          <li><a href="#attachments">Attachments</a></li>
          <li><a href="#process-control">Process Control</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <fx-group id="outer" ref="." show-icon="true">
        <section id="mainview">
          <header>Invoice</header>
          <div class="view-content">
            <div id="general">
              <fx-control id="BT-1" ref="cbc:ID"><label for="BT-1">Number</label><input type="text"></fx-control>
              <fx-control id="BT-2" ref="cbc:IssueDate"><label for="BT-2">Issue Date</label><input type="date"></fx-control>
              <fx-control id="BT-3" ref="cbc:InvoiceTypeCode"><label for="BT-3">Type</label><select id="BT-3" class="widget" ref="instance('untdid-1001')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              <fx-control id="BT-5" ref="cbc:DocumentCurrencyCode"><label for="BT-5">Currency</label><select id="BT-5" class="widget" ref="instance('iso-4217')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              <fx-control id="BT-6" ref="cbc:TaxCurrencyCode" on-demand="true"><label for="BT-6">VAT accounting currency code</label><select id="BT-6" class="widget" ref="instance('iso-4217')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              <fx-control id="BT-7" ref="cbc:TaxPointDate" on-demand="true"><label for="BT-7">Value added tax point date</label><input type="date"></fx-control>
              <fx-control id="BT-8" ref="cac:InvoicePeriod/cbc:DescriptionCode" on-demand="true"><label for="BT-8">Value added tax point date code</label><select id="BT-8" class="widget" ref="instance('untdid-2005')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              <fx-control id="BT-9" ref="cbc:DueDate"><label for="BT-9">Payment due date</label><input type="date"></fx-control>
              <fx-control id="BT-10" ref="cbc:BuyerReference" on-demand="true"><label for="BT-10">Buyer reference</label><input type="text"></fx-control>
              <fx-control id="BT-11" ref="cac:ProjectReference/cbc:ID" on-demand="true"><label for="BT-11">Project reference</label><input type="text"></fx-control>
              <fx-control id="BT-12" ref="cac:ContractDocumentReference/cbc:ID" on-demand="true"><label for="BT-12">Contract reference</label><input type="text"></fx-control>
              <fx-control id="BT-13" ref="cac:OrderReference/cbc:ID" on-demand="true"><label for="BT-13">Purchase order reference</label><input type="text"></fx-control>
              <fx-control id="BT-14" ref="cac:OrderReference/cbc:SalesOrderID" on-demand="true"><label for="BT-14">Sales order reference</label><input type="text"></fx-control>
              <fx-control id="BT-15" ref="cac:ReceiptDocumentReference/cbc:ID" on-demand="true"><label for="BT-15">Receiving advice reference</label><input type="text"></fx-control>
              <fx-control id="BT-16" ref="cac:DespatchDocumentReference/cbc:ID" on-demand="true"><label for="BT-16">Despatch advice reference</label><input type="text"></fx-control>
              <fx-control id="BT-17" ref="cac:OriginatorDocumentReference/cbc:ID" on-demand="true"><label for="BT-17">Tender or lot reference</label><input type="text"></fx-control>
              <fx-control id="BT-18" ref="cac:AdditionalDocumentReference/cbc:ID/@schemeID" on-demand="true"><label for="BT-18">Invoiced object identifier</label><input type="text"></fx-control>
              <fx-control id="BT-19" ref="cbc:AccountingCost" on-demand="true"><label for="BT-19">Buyer accounting reference</label><input type="text"></fx-control>
              <fx-control id="BT-20" ref="cac:PaymentTerms/cbc:Note"><label for="BT-20">Payment terms</label><input type="text"></fx-control>
            </div>
            <fx-group id="BG-14" ref="." class="BG-14" aria-label="Invoicing Period">
              <fx-control id="BT-73" ref="cbc:StartDate"><label for="BT-73">Invoicing period start date</label><input type="date"></fx-control>
              <fx-control id="BT-74" ref="cbc:EndDate"><label for="BT-74">Invoicing period end date</label><input type="date"></fx-control>
            </fx-group>
            <fx-control-menu select="#general">
              <button>...</button>
            </fx-control-menu>
          </div>
        </section>
        <section id="buyer" class="BG-7">
          <header>Buyer</header>
          <fx-group id="BG-7" ref="cac:AccountingCustomerParty">
            <fx-control id="BT-44" ref="cac:Party/cac:PartyLegalEntity/cbc:RegistrationName"><label for="BT-44">Name</label><input type="text"></fx-control>
            <fx-control id="BT-45" ref="cac:Party/cac:PartyName/cbc:Name" on-demand="true"><label for="BT-45">Trading Name</label><input type="text"></fx-control>
            <fx-control id="BT-46" ref="cac:Party/cac:PartyIdentification/cbc:ID/@schemeID" on-demand="true"><label for="BT-46">Identifier</label><input type="text"></fx-control>
            <fx-control id="BT-47" ref="cac:Party/cac:PartyLegalEntity/cbc:CompanyID/@schemeID" on-demand="true"><label for="BT-47">Legal Registration Identifier</label><input type="text"></fx-control>
            <fx-control id="BT-48" ref="cac:Party/cac:PartyTaxScheme/cbc:CompanyID" on-demand="true"><label for="BT-48">Electronic Address</label><input type="text"></fx-control>
            <fx-control id="BT-49" ref="cac:Party/cbc:EndpointID/@schemeID" on-demand="true"><label for="BT-49">Buyer electronic address</label><input type="text"></fx-control>
          </fx-group>
          <section class="BG-8 address">
            <header>Postal Address</header>
            <address id="BG-8" rel="BG-8">
              <fx-control id="BT-50" class="address-line" ref="cbc:StreetName"><label for="BT-50">Address Line 1</label><input type="text"></fx-control>
              <fx-control id="BT-51" class="address-line" ref="cbc:AdditionalStreetName"><label for="BT-51">Address Line 2</label><input type="text"></fx-control>
              <fx-control id="BT-163" class="address-line" ref="cac:AddressLine/cbc:Line"><label for="BT-163">Address Line 3</label><input type="text"></fx-control>
              <fx-control id="BT-53" class="zip" ref="cbc:PostalZone"><label for="BT-53">Post Code</label><input type="text"></fx-control>
              <fx-control id="BT-52" class="city" ref="cbc:CityName"><label for="BT-52">City</label><input type="text"></fx-control>
              <fx-control id="BT-54" ref="cbc:CountrySubentity" on-demand="true"><label for="BT-54">Buyer country subdivision</label><input type="text"></fx-control>
              <fx-control id="BT-55" ref="cac:Country/cbc:IdentificationCode" on-demand="true"><label for="BT-55">Buyer country code</label><select id="BT-55" class="widget" ref="instance('iso-3166-1')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
            </address>
          </section>
          <fx-group id="BG-9" ref="cac:Party/cac:Contact" class="BG-9" on-demand="true" aria-label="Buyer Contact">
            <fx-control id="BT-56" ref="cbc:Name"><label for="BT-56">Buyer contact point</label><input type="text"></fx-control>
            <fx-control id="BT-57" ref="cbc:Telephone"><label for="BT-57">Buyer contact telephone number</label><input type="text"></fx-control>
            <fx-control id="BT-58" ref="cbc:ElectronicMail"><label for="BT-58">Buyer contact email address</label><input type="text"></fx-control>
          </fx-group>
          <fx-control-menu id="cm-buyer" select="#buyer">
            <button>...</button>
          </fx-control-menu>
        </section>
        <section id="seller" class="BG-4">
          <header>Seller</header>
          <fx-group id="BG-4" ref="cac:AccountingSupplierParty">
            <fx-control id="BT-27" ref="cac:Party/cac:PartyLegalEntity/cbc:RegistrationName"><label for="BT-27">Seller name</label><input type="text"></fx-control>
            <fx-control id="BT-28" ref="cac:Party/cac:PartyName/cbc:Name" on-demand="true"><label for="BT-28">Seller trading name</label><input type="text"></fx-control>
            <fx-control id="BT-29" ref="cac:Party/cac:PartyIdentification/cbc:ID/@schemeID" on-demand="true"><label for="BT-29">Seller identifier</label><input type="text"></fx-control>
            <fx-control id="BT-30" ref="cac:Party/cac:PartyLegalEntity/cbc:CompanyID/@schemeID" on-demand="true"><label for="BT-30">Seller legal registration identifier</label><input type="text"></fx-control>
            <fx-control id="BT-31" ref="cac:Party/cac:PartyTaxScheme/cbc:CompanyID"><label for="BT-31">Seller VAT identifier</label><input type="text"></fx-control>
            <fx-control id="BT-32" ref="cac:Party/cac:PartyTaxScheme/cbc:CompanyID"><label for="BT-32">Seller tax registration identifier</label><input type="text"></fx-control>
            <fx-control id="BT-33" ref="cac:Party/cac:PartyLegalEntity/cbc:CompanyLegalForm" on-demand="true"><label for="BT-33">Seller additional legal information</label><input type="text"></fx-control>
            <fx-control id="BT-34" ref="cac:Party/cbc:EndpointID/@schemeID"><label for="BT-34">Seller electronic address</label><input type="text"></fx-control>
            <section class="BG-5">
              <header>Postal Address</header>
              <address id="BG-5" rel="BG-5">
                <fx-control id="BT-35" class="address-line" ref="cbc:StreetName"><label for="BT-35">Seller address line 1</label><input type="text"></fx-control>
                <fx-control id="BT-36" class="address-line" ref="cbc:AdditionalStreetName"><label for="BT-36">Seller address line 2</label><input type="text"></fx-control>
                <fx-control id="BT-162" class="address-line" ref="cac:AddressLine/cbc:Line"><label for="BT-162">Seller address line 3</label><input type="text"></fx-control>
                <fx-control id="BT-38" class="zip" ref="cbc:PostalZone"><label for="BT-38">Seller post code</label><input type="text"></fx-control>
                <fx-control id="BT-37" class="city" ref="cbc:CityName"><label for="BT-37">Seller city</label><input type="text"></fx-control>
                <fx-control id="BT-39" ref="cbc:CountrySubentity" on-demand="true"><label for="BT-39">Seller country subdivision</label><input type="text"></fx-control>
                <fx-control id="BT-40" ref="cac:Country/cbc:IdentificationCode" on-demand="true"><label for="BT-40">Seller country code</label><select id="BT-40" class="widget" ref="instance('iso-3166-1')//Row" selection="open"><template>
                  <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              </address>
            </section>
            <fx-group id="BG-6" ref="cac:Party/cac:Contact" class="BG-6" on-demand="true" aria-label="Seller Contact">
              <fx-control id="BT-41" ref="cbc:Name"><label for="BT-41">Seller contact point</label><input type="text"></fx-control>
              <fx-control id="BT-42" ref="cbc:Telephone"><label for="BT-42">Seller contact telephone number</label><input type="text"></fx-control>
              <fx-control id="BT-43" ref="cbc:ElectronicMail"><label for="BT-43">Seller contact email address</label><input type="text"></fx-control>
            </fx-group>
          </fx-group>
          <fx-group id="BG-11" ref="cac:TaxRepresentativeParty" on-demand="true" aria-label="Representative Party">
            <fx-control id="BT-62" ref="cac:PartyName/cbc:Name"><label for="BT-62">Name</label><input type="text"></fx-control>
            <fx-control id="BT-63" ref="cac:PartyTaxScheme/cbc:CompanyID"><label for="BT-63">VAT Identifier</label><input type="text"></fx-control>
          </fx-group>
          <fx-group id="" ref="." class="BG-12" on-demand="true" aria-label="Tax Representative Postal Address">
            <address rel="BG-12">
              <fx-control id="BT-64" class="address-line" ref="cbc:StreetName"><label for="BT-64">Address Line 1</label><input type="text"></fx-control>
              <fx-control id="BT-65" class="address-line" ref="cbc:AdditionalStreetName"><label for="BT-65">Address Line 2</label><input type="text"></fx-control>
              <fx-control id="BT-164" class="address-line" ref="cac:AddressLine/cbc:Line"><label for="BT-164">Address Line 3</label><input type="text"></fx-control>
              <fx-control id="BT-67" class="zip" ref="cbc:PostalZone"><label for="BT-67">Tax Representative Postal Code</label><input type="text"></fx-control>
              <fx-control id="BT-66" class="city" ref="cbc:CityName"><label for="BT-66">Tax RepresentativeCity</label><input type="text"></fx-control>
              <fx-control id="BT-68" ref="cbc:CountrySubentity" on-demand="true"><label for="BT-68">Tax Representative Country</label><input type="text"></fx-control>
              <fx-control id="BT-69" ref="cac:Country/cbc:IdentificationCode" on-demand="true"><label for="BT-69">Tax representative country code</label><select id="BT-69" class="widget" ref="instance('iso-3166-1')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
            </address>
          </fx-group>
          <fx-group id="BG-10" ref="cac:PayeeParty" class="BG-10" on-demand="true" aria-label="Payee">
            <fx-control id="BT-59" ref="cac:PartyName/cbc:Name"><label for="BT-59">Payee name</label><input type="text"></fx-control>
            <fx-control id="BT-60" ref="cac:PartyIdentification/cbc:ID/@schemeID"><label for="BT-60">Payee identifier</label><input type="text"></fx-control>
            <fx-control id="BT-61" ref="cac:PartyLegalEntity/cbc:CompanyID/@schemeID"><label for="BT-61">Payee legal registration identifier</label><input type="text"></fx-control>
          </fx-group>
          <fx-control-menu select="#seller">
            <button>...</button>
          </fx-control-menu>
        </section>
        <section id="positions" class="BG-25">
          <header>Invoice Lines</header>
          <fx-repeat id="r-BG-25" ref="cac:InvoiceLine" aria-label="INVOICE LINE"><template>
            <fx-control id="BT-126" ref="cbc:ID"><label for="BT-126">Invoice line identifier</label><input type="text"></fx-control>
            <fx-control id="BT-127" ref="cbc:Note"><label for="BT-127">Invoice line note</label><input type="text"></fx-control>
            <fx-control id="BT-128" ref="cac:DocumentReference/cbc:ID/@schemeID" on-demand="true"><label for="BT-128">Invoice line object identifier</label><input type="text"></fx-control>
            <fx-control id="BT-129" ref="cbc:InvoicedQuantity"><label for="BT-129">Invoiced quantity</label><input type="number"></fx-control>
            <fx-control id="BT-130" ref="cbc:InvoicedQuantity/@unitCode" on-demand="true"><label for="BT-130">Invoiced quantity unit of measure code</label><select id="BT-130" class="widget" ref="instance('rec-20')//Row" selection="open"><template>
              <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
            <fx-output ref="cbc:LineExtensionAmount"><label slot="label">Invoice line net amount</label></fx-output>
            <fx-control id="BT-132" ref="cac:OrderLineReference/cbc:LineID" on-demand="true"><label for="BT-132">Referenced purchase order line reference</label><input type="text"></fx-control>
            <fx-control id="BT-133" ref="cbc:AccountingCost" on-demand="true"><label for="BT-133">Invoice line Buyer accounting reference</label><input type="text"></fx-control>
            <fx-group id="BG-26" ref="cac:InvoicePeriod" on-demand="true" aria-label="Line Period">
              <fx-control id="BT-134" ref="cbc:StartDate"><label for="BT-134">Invoice line period start date</label><input type="date"></fx-control>
              <fx-control id="BT-135" ref="cbc:EndDate"><label for="BT-135">Invoice line period end date</label><input type="date"></fx-control>
            </fx-group>
            <fx-group id="" ref="." class="BG-27" on-demand="true" aria-label="Line Allowances">
              <fx-repeat id="r-BG-27" ref="cac:AllowanceCharge" aria-label="INVOICE LINE ALLOWANCES"><template>
                <fx-control id="BT-136" ref="cbc:Amount"><label for="BT-136">Invoice line allowance amount</label><input type="number"></fx-control>
                <fx-control id="BT-137" ref="cbc:BaseAmount"><label for="BT-137">Invoice line allowance base amount</label><input type="number"></fx-control>
                <fx-control id="BT-138" ref="cbc:MultiplierFactorNumeric"><label for="BT-138">Invoice line allowance percentage</label><input type="number"></fx-control>
                <fx-control id="BT-139" ref="cbc:AllowanceChargeReason"><label for="BT-139">Invoice line allowance reason</label><input type="text"></fx-control>
                <fx-control id="BT-140" ref="cbc:AllowanceChargeReasonCode"><label for="BT-140">Invoice line allowance reason code</label><select id="BT-140" class="widget" ref="instance('untdid-5189')//Row" selection="open"><template>
                  <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
                <fx-trigger class="delete-btn"><button>delete</button><fx-delete ref="."></fx-delete>
                </fx-trigger></template></fx-repeat>
              <fx-trigger class="add-button"><button>add</button><fx-insert ref="cac:AllowanceCharge" origin="#r-BG-27"></fx-insert>
              </fx-trigger>
            </fx-group>
            <fx-group id="" ref="." class="BG-28" aria-label="Line Charges">
              <fx-repeat id="r-BG-28" ref="cac:AllowanceCharge" aria-label="INVOICE LINE CHARGES"><template>
                <fx-group id="" ref="." on-demand="true">
                  <fx-output ref="cbc:Amount"><label slot="label">Invoice line charge amount</label></fx-output>
                  <fx-control id="BT-142" ref="cbc:BaseAmount"><label for="BT-142">Invoice line charge base amount</label><input type="number"></fx-control>
                  <fx-control id="BT-143" ref="cbc:MultiplierFactorNumeric"><label for="BT-143">Invoice line charge percentage</label><input type="number"></fx-control>
                  <fx-control id="BT-144" ref="cbc:AllowanceChargeReason"><label for="BT-144">Invoice line charge reason</label><input type="text"></fx-control>
                  <fx-control id="BT-145" ref="cbc:AllowanceChargeReasonCode"><label for="BT-145">Invoice line charge reason code</label><select id="BT-145" class="widget" ref="instance('untdid-7161')//Row" selection="open"><template>
                    <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
                </fx-group>
                <fx-trigger class="delete-btn"><button>delete</button><fx-delete ref="."></fx-delete>
                </fx-trigger></template></fx-repeat>
              <fx-trigger class="add-button"><button>add</button><fx-insert ref="cac:AllowanceCharge" origin="#r-BG-28"></fx-insert>
              </fx-trigger>
            </fx-group>
            <fx-group id="BG-29" ref="cac:Price" class="BG-29" on-demand="true" aria-label="Price Details">
              <fx-control id="BT-146" ref="cbc:PriceAmount"><label for="BT-146">Item net price</label><input type="number"></fx-control>
              <fx-control id="BT-147" ref="cac:AllowanceCharge/cbc:Amount"><label for="BT-147">Item price discount</label><input type="number"></fx-control>
              <fx-control id="BT-148" ref="cac:AllowanceCharge/cbc:BaseAmount"><label for="BT-148">Item gross price</label><input type="number"></fx-control>
              <fx-control id="BT-149" ref="cbc:BaseQuantity"><label for="BT-149">Item price base quantity</label><input type="number"></fx-control>
              <fx-control id="BT-150" ref="cbc:BaseQuantity/@unitCode"><label for="BT-150">Item price base quantity unit of measure code</label><select id="BT-150" class="widget" ref="instance('rec-20')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
            </fx-group>
            <fx-group id="BG-30" ref="cac:Item/cac:ClassifiedTaxCategory" class="BG-30" on-demand="true" aria-label="Line VAT Information">
              <fx-control id="BT-151" ref="cbc:ID"><label for="BT-151">Invoiced item VAT category code</label><select id="BT-151" class="widget" ref="instance('untdid-5305')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              <fx-control id="BT-152" ref="cbc:Percent"><label for="BT-152">Invoiced item VAT rate</label><input type="number"></fx-control>
            </fx-group>
            <fx-group id="BG-31" ref="cac:Item" class="BG-31" on-demand="true" aria-label="Item Information">
              <fx-control id="BT-153" ref="cbc:Name"><label for="BT-153">Item name</label><input type="text"></fx-control>
              <fx-control id="BT-154" ref="cbc:Description"><label for="BT-154">Item description</label><input type="text"></fx-control>
              <fx-control id="BT-155" ref="cac:SellersItemIdentification/cbc:ID"><label for="BT-155">Item Sellers identifier</label><input type="text"></fx-control>
              <fx-control id="BT-156" ref="cac:BuyersItemIdentification/cbc:ID"><label for="BT-156">Item Buyers identifier</label><input type="text"></fx-control>
              <fx-control id="BT-157" ref="cac:StandardItemIdentification/cbc:ID/@schemeID"><label for="BT-157">Item standard identifier</label><input type="text"></fx-control>
              <fx-control id="BT-158" ref="cac:CommodityClassification/cbc:ItemClassificationCode/@listID"><label for="BT-158">Item classification identifier</label><input type="text"></fx-control>
              <fx-control id="BT-159" ref="cac:OriginCountry/cbc:IdentificationCode"><label for="BT-159">Item country of origin</label><select id="BT-159" class="widget" ref="instance('iso-3166-1')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              <fx-repeat id="r-BG-32" ref="cac:AdditionalItemProperty" aria-label="ITEM ATTRIBUTES"><template>
                <fx-control id="BT-160" ref="cbc:Name"><label for="BT-160">Item attribute name</label><input type="text"></fx-control>
                <fx-control id="BT-161" ref="cbc:Value"><label for="BT-161">Item attribute value</label><input type="text"></fx-control>
                <fx-trigger class="delete-btn"><button>delete</button><fx-delete ref="."></fx-delete>
                </fx-trigger></template></fx-repeat>
              <fx-trigger class="add-button"><button>add</button><fx-insert ref="cac:AdditionalItemProperty" origin="#r-BG-32"></fx-insert>
              </fx-trigger>
            </fx-group>
            <fx-control-menu id="cm-bg-25" select="#BG-28-item">
              <button>...</button>
            </fx-control-menu>
            <fx-trigger class="delete-btn"><button>delete</button><fx-delete ref="."></fx-delete>
            </fx-trigger></template></fx-repeat>
          <fx-trigger class="add-button"><button>add</button><fx-insert ref="cac:InvoiceLine" origin="#r-BG-25"></fx-insert>
          </fx-trigger>
          <fx-group id="" ref="." class="BG-23" on-demand="true" aria-label="VAT Details">
            <fx-repeat id="r-BG-23" ref="cac:TaxTotal/cac:TaxSubtotal" aria-label="VAT BREAKDOWN"><template>
              <fx-control id="BT-116" ref="cbc:TaxableAmount"><label for="BT-116">VAT category taxable amount</label><input type="number"></fx-control>
              <fx-output ref="cbc:TaxAmount"><label slot="label">VAT category tax amount</label></fx-output>
              <fx-control id="BT-118" ref="cac:TaxCategory/cbc:ID"><label for="BT-118">VAT category code</label><select id="BT-118" class="widget" ref="instance('untdid-5305')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              <fx-control id="BT-119" ref="cac:TaxCategory/cbc:Percent"><label for="BT-119">VAT category rate</label><input type="number"></fx-control>
              <fx-control id="BT-120" ref="cac:TaxCategory/cbc:TaxExemptionReason"><label for="BT-120">VAT exemption reason text</label><input type="text"></fx-control>
              <fx-control id="BT-121" ref="cac:TaxCategory/cbc:TaxExemptionReasonCode"><label for="BT-121">VAT exemption reason code</label><select id="BT-121" class="widget" ref="instance('vatex')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              <fx-trigger class="delete-btn"><button>delete</button><fx-delete ref="."></fx-delete>
              </fx-trigger></template></fx-repeat>
            <fx-trigger class="add-button"><button>add</button><fx-insert ref="cac:TaxTotal/cac:TaxSubtotal" origin="#r-BG-23"></fx-insert>
            </fx-trigger>
          </fx-group>
          <fx-group id="" ref="." class="BG-20" on-demand="true" aria-label="Document Level Allowances">
            <fx-repeat id="r-BG-20" ref="cac:AllowanceCharge" aria-label="DOCUMENT LEVEL ALLOWANCES"><template>
              <fx-control id="BT-92" ref="cbc:Amount"><label for="BT-92">Document level allowance amount</label><input type="number"></fx-control>
              <fx-control id="BT-93" ref="cbc:BaseAmount"><label for="BT-93">Document level allowance base amount</label><input type="number"></fx-control>
              <fx-control id="BT-94" ref="cbc:MultiplierFactorNumeric"><label for="BT-94">Document level allowance percentage</label><input type="number"></fx-control>
              <fx-control id="BT-95" ref="cac:TaxCategory/cbc:ID"><label for="BT-95">Document level allowance VAT category code</label><select id="BT-95" class="widget" ref="instance('untdid-5305')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              <fx-control id="BT-96" ref="cac:TaxCategory/cbc:Percent"><label for="BT-96">Document level allowance VAT rate</label><input type="number"></fx-control>
              <fx-control id="BT-97" ref="cbc:AllowanceChargeReason"><label for="BT-97">Document level allowance reason</label><input type="text"></fx-control>
              <fx-control id="BT-98" ref="cbc:AllowanceChargeReasonCode"><label for="BT-98">Document level allowance reason code</label><select id="BT-98" class="widget" ref="instance('untdid-5189')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              <fx-trigger class="delete-btn"><button>delete</button><fx-delete ref="."></fx-delete>
              </fx-trigger></template></fx-repeat>
            <fx-trigger class="add-button"><button>add</button><fx-insert ref="cac:AllowanceCharge" origin="#r-BG-20"></fx-insert>
            </fx-trigger>
          </fx-group>
          <fx-group id="" ref="." class="BG-21" aria-label="Document Level Charges">
            <fx-repeat id="r-BG-21" ref="cac:AllowanceCharge" aria-label="DOCUMENT LEVEL CHARGES"><template>
              <fx-control id="BT-99" ref="cbc:Amount"><label for="BT-99">Document level charge amount</label><input type="number"></fx-control>
              <fx-control id="BT-100" ref="cbc:BaseAmount"><label for="BT-100">Document level charge base amount</label><input type="number"></fx-control>
              <fx-control id="BT-101" ref="cbc:MultiplierFactorNumeric"><label for="BT-101">Document level charge percentage</label><input type="number"></fx-control>
              <fx-control id="BT-102" ref="cac:TaxCategory/cbc:ID"><label for="BT-102">Document level charge VAT category code</label><select id="BT-102" class="widget" ref="instance('untdid-5305')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              <fx-control id="BT-103" ref="cac:TaxCategory/cbc:Percent"><label for="BT-103">Document level charge VAT rate</label><input type="number"></fx-control>
              <fx-control id="BT-104" ref="cbc:AllowanceChargeReason"><label for="BT-104">Document level charge reason</label><input type="text"></fx-control>
              <fx-control id="BT-105" ref="cbc:AllowanceChargeReasonCode"><label for="BT-105">Document level charge reason code</label><select id="BT-105" class="widget" ref="instance('untdid-7161')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              <fx-trigger class="delete-btn"><button>delete</button><fx-delete ref="."></fx-delete>
              </fx-trigger></template></fx-repeat>
            <fx-trigger class="add-button"><button>add</button><fx-insert ref="cac:AllowanceCharge" origin="#r-BG-21"></fx-insert>
            </fx-trigger>
          </fx-group>
        </section>
        <section id="totals" class="BG-22">
          <header>Totals</header>
          <fx-group id="BG-22" ref="cac:LegalMonetaryTotal">
            <fx-output ref="cbc:LineExtensionAmount"><label slot="label">Sum of Invoice line net amount</label></fx-output>
            <fx-output ref="$invoice/cac:TaxTotal/cbc:TaxAmount"><label slot="label">Invoice total VAT amount</label></fx-output>
            <fx-output ref="cbc:PayableAmount"><label slot="label">Amount due for payment</label></fx-output>
          </fx-group>
        </section>
        <section id="payment">
          <header>Payment</header>
          <section class="BG-16">
            <header>PAYMENT INSTRUCTIONS</header>
            <fx-group id="BG-16" ref="cac:PaymentMeans">
              <fx-control id="BT-81" ref="cbc:PaymentMeansCode"><label for="BT-81">Payment means type code</label><select id="BT-81" class="widget" ref="instance('untdid-4461')//Row" selection="open"><template>
                <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
              <fx-control id="BT-82" ref="cbc:PaymentMeansCode/@Name"><label for="BT-82">Payment means text</label><input type="text"></fx-control>
              <fx-control id="BT-83" ref="cbc:PaymentID"><label for="BT-83">Remittance information</label><input type="text"></fx-control>
              <section class="BG-17">
                <header>CREDIT TRANSFER</header>
                <fx-repeat id="r-BG-17" ref="cac:PayeeFinancialAccount" aria-label="CREDIT TRANSFER"><template>
                  <fx-control id="BT-84" ref="cbc:ID"><label for="BT-84">Payment account identifier</label><input type="text"></fx-control>
                  <fx-control id="BT-85" ref="cbc:Name"><label for="BT-85">Payment account name</label><input type="text"></fx-control>
                  <fx-control id="BT-86" ref="cac:FinancialInstitutionBranch/cbc:ID"><label for="BT-86">Payment service provider identifier</label><input type="text"></fx-control>
                  <fx-trigger class="delete-btn"><button>delete</button><fx-delete ref="."></fx-delete>
                  </fx-trigger></template></fx-repeat>
                <fx-trigger class="add-button"><button>add</button><fx-insert ref="cac:PayeeFinancialAccount" origin="#r-BG-17"></fx-insert>
                </fx-trigger>
              </section>
              <section class="BG-18">
                <header>PAYMENT CARD INFORMATION</header>
                <fx-group id="BG-18" ref="cac:CardAccount">
                  <fx-control id="BT-87" ref="cbc:PrimaryAccountNumberID"><label for="BT-87">Payment card primary account number</label><input type="text"></fx-control>
                  <fx-control id="BT-88" ref="cbc:HolderName"><label for="BT-88">Payment card holder name</label><input type="text"></fx-control>
                </fx-group>
              </section>
              <section class="BG-19">
                <header>DIRECT DEBIT</header>
                <fx-group id="BG-19" ref="cac:PaymentMandate">
                  <fx-control id="BT-89" ref="cbc:ID"><label for="BT-89">Mandate reference identifier</label><input type="text"></fx-control>
                  <fx-control id="BT-90"><label for="BT-90">Bank assigned creditor identifier</label><input type="text"></fx-control>
                  <fx-control id="BT-91" ref="cac:PayerFinancialAccount/cbc:ID"><label for="BT-91">Debited account identifier</label><input type="text"></fx-control>
                </fx-group>
              </section>
            </fx-group>
          </section>
        </section>
        <section id="delivery">
          <header>Delivery</header>
          <section class="BG-13">
            <header>Delivery Information</header>
            <fx-group id="BG-13" ref="cac:Delivery">
              <fx-control id="BT-70" ref="cac:DeliveryParty/cac:PartyName/cbc:Name"><label for="BT-70">Deliver to party name</label><input type="text"></fx-control>
              <fx-control id="BT-71" ref="cac:DeliveryLocation/cbc:ID/@schemeID"><label for="BT-71">Deliver to location identifier</label><input type="text"></fx-control>
              <fx-control id="BT-72" ref="cbc:ActualDeliveryDate"><label for="BT-72">Actual delivery date</label><input type="date"></fx-control>
              <section class="BG-15">
                <header>DELIVER TO ADDRESS</header>
                <address rel="BG-15">
                  <fx-control id="BT-75" class="adress-line" ref="cbc:StreetName"><label for="BT-75">Deliver to address line 1</label><input type="text"></fx-control>
                  <fx-control id="BT-76" class="adress-line" ref="cbc:AdditionalStreetName"><label for="BT-76">Deliver to address line 2</label><input type="text"></fx-control>
                  <fx-control id="BT-165" class="adress-line" ref="cac:AddressLine/cbc:Line"><label for="BT-165">Deliver to address line 3</label><input type="text"></fx-control>
                  <fx-control id="BT-78" class="zip" ref="cbc:PostalZone"><label for="BT-78">Deliver to post code</label><input type="text"></fx-control>
                  <fx-control id="BT-77" class="city" ref="cbc:CityName"><label for="BT-77">Deliver to city</label><input type="text"></fx-control>
                  <fx-control id="BT-79" ref="cbc:CountrySubentity" on-demand="true"><label for="BT-79">Deliver to country subdivision</label><input type="text"></fx-control>
                  <fx-control id="BT-80" ref="cac:Country/cbc:IdentificationCode" on-demand="true"><label for="BT-80">Deliver to country code</label><select id="BT-80" class="widget" ref="instance('iso-3166-1')//Row" selection="open"><template>
                    <option value="{Value[1]/SimpleValue}" title="{Value[3]/SimpleValue}">{Value[2]/SimpleValue}</option></template></select></fx-control>
                </address>
              </section>
            </fx-group>
            <fx-control-menu select="#delivery">
              <button>...</button>
            </fx-control-menu>
          </section>
        </section>
        <section id="precesing-invoices" class="BG-3">
          <header>Preceding Invoices</header>
                  <fx-repeat id="r-BG-3" ref="cac:BillingReference/cac:InvoiceDocumentReference" aria-label="PRECEDING INVOICE REFERENCE"><template>
            <fx-control id="BT-25" ref="cbc:ID"><label for="BT-25">Preceding Invoice reference</label><input type="text"></fx-control>
            <fx-control id="BT-26" ref="cbc:IssueDate"><label for="BT-26">Preceding Invoice issue date</label><input type="date"></fx-control>
            <fx-trigger class="delete-btn"><button>delete</button><fx-delete ref="."></fx-delete>
            </fx-trigger></template></fx-repeat>
          <fx-trigger class="add-button"><button>add</button><fx-insert ref="cac:BillingReference/cac:InvoiceDocumentReference" origin="#r-BG-3"></fx-insert>
          </fx-trigger>
        </section>
        <section id="attachments">
          <header>Attachments</header>
          <section class="BG-24">
            <header>ADDITIONAL SUPPORTING DOCUMENTS</header>
            <fx-repeat id="r-BG-24" ref="cac:AdditionalDocumentReference" aria-label="ADDITIONAL SUPPORTING DOCUMENTS"><template>
              <fx-control id="BT-122" ref="cbc:ID"><label for="BT-122">Supporting document reference</label><input type="text"></fx-control>
              <fx-control id="BT-123" ref="cbc:DocumentDescription"><label for="BT-123">Supporting document description</label><input type="text"></fx-control>
              <fx-control id="BT-124" ref="cac:Attachment/cac:ExternalReference/cbc:URI"><label for="BT-124">External document location</label><input type="text"></fx-control>
              <fx-upload id="BT-125" mimetype="@mimecode" filename="@filename" ref="cac:Attachment/cbc:EmbeddedDocumentBinaryObject/@mimeCode"></fx-upload>
              <fx-trigger class="delete-btn"><button>delete</button><fx-delete ref="."></fx-delete>
              </fx-trigger></template></fx-repeat>
            <fx-trigger class="add-button"><button>add</button><fx-insert ref="cac:AdditionalDocumentReference" origin="#r-BG-24"></fx-insert>
            </fx-trigger>
          </section>
        </section>
        <section id="process-control">
          <header>Process Control</header>
          <div class="section-content">
            <fx-group id="BG-2" ref=".">
              <fx-control id="BT-23" ref="bc:ProfileID"><label for="BT-23">Business process type</label><input type="text"></fx-control>
              <fx-control id="BT-24" ref="bc:CustomizationID"><label for="BT-24">Specification identifier</label><input type="text"></fx-control>
            </fx-group>
          </div>
        </section>
      </fx-group>
    </main>
    <footer>
      <fx-trigger class="save-button"><button>save</button><fx-send submission="s-save"></fx-send>
      </fx-trigger>
    </footer>
  </fx-fore>
</main>
</body>
</html>